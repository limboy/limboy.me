<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
      <title>Limboy - programming</title>
        <link>https://limboy.me</link>
        <description></description>
        <generator>Zola</generator>
        <language>zh</language>
        <atom:link href="https://limboy.me/tags/programming/index.xml" rel="self" type="application/rss+xml"/>
        <lastBuildDate>Thu, 07 Apr 2022 00:00:00 +0000</lastBuildDate>
        
        <item>
            <title>åˆšå¥½å¤Ÿç”¨çš„ç®€æ˜“å‰ç«¯å·¥å…·é›†</title>
            <pubDate>Thu, 07 Apr 2022 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/just-enough-toolkits-for-simple-frontend-project/</link>
            <guid>https://limboy.me/posts/just-enough-toolkits-for-simple-frontend-project/</guid>
            <description>&lt;p&gt;å‰ç«¯æ„å»ºå·¥å…·æ€»ç»™äººä¸€ç§å¾ˆ magic å¾ˆå¤æ‚çš„æ„Ÿè§‰ï¼Œç†è§£å®ƒéœ€è¦èŠ±ä¸€ç•ªå·¥å¤«ï¼Œä¸ç†è§£ç›´æ¥ç”¨çš„è¯ï¼Œæ€»è§‰å¾—å¿ƒé‡Œä¸è¸å®ï¼Œå‡ºé—®é¢˜æˆ–è€…åŠ éœ€æ±‚ä¸ä¸€å®šèƒ½æå®šã€‚æˆ‘ä¹ æƒ¯ç”¨ Reactï¼Œå®˜æ–¹æ¨èç”¨ &lt;a href=&quot;https:&#x2F;&#x2F;create-react-app.dev&#x2F;&quot;&gt;Create React App&lt;&#x2F;a&gt; æ¥åˆ›å»ºé¡¹ç›®ï¼Œä½†å®ƒç»™æˆ‘çš„æ„Ÿè§‰å¤ªé»‘ç›’äº†ï¼Œè€Œä¸”æ–°å»ºä¸€ä¸ªé¡¹ç›®å°±ä¼šæ·»åŠ  1000 å¤šä¸ª packageï¼Œä¹Ÿä¸çŸ¥é“è¿™ 1000 å¤šä¸ª package æ˜¯å¹²å•¥ç”¨çš„ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;$ npx create-react-app demo
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Creating a new React app in ...
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Installing packages. This might take a couple of minutes.
&lt;&#x2F;span&gt;&lt;span&gt;Installing react, react-dom, and react-scripts with cra-template...
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;added 1354 packages in 18s
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœç”¨ webpack çš„è¯ï¼ŒæŒ‘æˆ˜ä¹Ÿå¾ˆå¤§ï¼Œé¦–å…ˆè¦æ‹æ¸…å®ƒçš„å·¥ä½œæ¨¡å¼å°±è¦è´¹ä¸€ç•ªå·¥å¤«ï¼Œæ–‡æ¡£éƒ½å•ƒä¸‹æ¥ä¹Ÿä¸ç®€å•ï¼ŒåŒæ—¶å®ƒåˆå¾ˆçµæ´»ï¼Œæä¾›äº†å‡ åä¸ª Hookï¼Œæ¯ä¸ª Hook éƒ½å¯¹åº”ä¸åŒçš„æ—¶æœºï¼Œæœ‰è‡ªå·±çš„å‚æ•°ï¼Œæ–‡æ¡£ä¸Šä¹Ÿæ²¡æœ‰è¯¦ç»†è¯´æ˜è¿™äº› Hook å…·ä½“çš„æ—¶æœºå’Œé€‚åˆçš„ä½¿ç”¨åœºæ™¯ã€‚æ’ä»¶å¾ˆä¸°å¯Œï¼Œä½†æŒ‘èµ·æ¥ä¹Ÿå¾ˆç´¯ï¼Œé…ç½®é¡¹å¾ˆå¤šï¼Œå¤§çº¦æœ‰ 10086 ä¸ªï¼ˆå½“ç„¶ï¼Œæ­¤å¤„ç”¨äº†å¤¸å¼ æ‰‹æ³•ï¼‰ï¼Œæœ‰äº› Plugin å¦‚ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;jantimon&#x2F;html-webpack-plugin&quot;&gt;html-webpack-plugin&lt;&#x2F;a&gt; è¿˜æœ‰è‡ªå·±çš„ Pluginã€‚å¯¹äºå‰ç«¯æ–°äººçœŸçš„å¾ˆåŠé€€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæ˜¯è‡ªå·±çš„å‰ç«¯é¡¹ç›®ï¼Œèƒ½å®ç°ä»¥ä¸‹å‡ ç‚¹å°±å¯ä»¥äº†ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;js è¿™å—èƒ½é€šè¿‡ &lt;code&gt;npm install&lt;&#x2F;code&gt; å®‰è£…ä¾èµ–ï¼Œæ‰“å‡ºä¸€ä¸ª js åŒ…ï¼ˆæœ€å¥½æ”¯æŒ tree-shakingï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;css è¿™å—èƒ½æ”¯æŒç±»ä¼¼ tailwind çš„ä½¿ç”¨å§¿åŠ¿&lt;&#x2F;li&gt;
&lt;li&gt;ç»´æŠ¤æ–¹ä¾¿ï¼Œéƒ¨ç½²æ–¹ä¾¿&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å¯¹äºç¬¬ 1 ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ &lt;a href=&quot;https:&#x2F;&#x2F;esbuild.github.io&#x2F;&quot;&gt;esbuild&lt;&#x2F;a&gt;ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨ go å†™çš„ js bundlerï¼ˆå¯ä»¥æŠŠç›¸å…³çš„ js æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªæµè§ˆå™¨å¯ä»¥è¯†åˆ«å’Œè¿è¡Œçš„ js æ–‡ä»¶ï¼‰ï¼Œè¶³å¤Ÿå¿«ï¼ŒåŠŸèƒ½ä¹Ÿå¤Ÿç”¨ï¼Œè™½ç„¶è¿˜æœªåˆ° 1.0ï¼Œä½†å·²è¢«ä¸€äº›çŸ¥åé¡¹ç›®ä½¿ç”¨ï¼ˆå¦‚ vite &#x2F; snowpackï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºç¬¬ 2 ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ &lt;a href=&quot;https:&#x2F;&#x2F;windicss.org&#x2F;&quot;&gt;windicss&lt;&#x2F;a&gt;ï¼Œç›¸æ¯” &lt;a href=&quot;https:&#x2F;&#x2F;tailwindcss.com&#x2F;&quot;&gt;tailwind&lt;&#x2F;a&gt; æ›´è½»é‡ï¼Œæ€§èƒ½ä¹Ÿæ›´å¥½ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºç¬¬ 3 ç‚¹ï¼Œæˆ‘é¢„æœŸçš„ç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;|- dist&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;|- assets&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;|- styles&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;|- layouts&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;  |- index.html
&lt;&#x2F;span&gt;&lt;span&gt;|- scripts&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;  |- index.jsx
&lt;&#x2F;span&gt;&lt;span&gt;  |- components&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;    |- App.jsx
&lt;&#x2F;span&gt;&lt;span&gt;|- package.json
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dist&lt;&#x2F;code&gt; æ˜¯å¾…å‘å¸ƒçš„ç›®å½•ï¼Œè¿è¡Œ &lt;code&gt;npm build&lt;&#x2F;code&gt; å‘½ä»¤åæ‰€æœ‰çš„æ–‡ä»¶éƒ½ä¼šåœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;assets&lt;&#x2F;code&gt; ç”¨æ¥æ”¾èµ„æºæ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;styles&lt;&#x2F;code&gt; css æ–‡ä»¶&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;layouts&lt;&#x2F;code&gt; html æ–‡ä»¶&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;scripts&lt;&#x2F;code&gt; react ç­‰ js æ–‡ä»¶&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;æ¯ä¸ªç›®å½•çš„èŒèƒ½éƒ½å¾ˆæ¸…æ™°ï¼Œä¹Ÿæ²¡æœ‰å„ç§ config æ–‡ä»¶ï¼Œç»´æŠ¤èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼ˆä¸ºä»€ä¹ˆæ˜¯æŒ‰ function æ¥åˆ†ï¼Œè€Œä¸æ˜¯ featureï¼Œå¯ä»¥çœ‹ä¸‹&lt;a href=&quot;https:&#x2F;&#x2F;www.joshwcomeau.com&#x2F;react&#x2F;file-structure&#x2F;&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ï¼‰ï¼Œéƒ¨ç½²ä¹Ÿå¾ˆç®€å•ã€‚&lt;&#x2F;p&gt;
&lt;aside class=&quot;info&quot; &gt;
  å…³äº HMRï¼ˆHot Module Replacementï¼‰ï¼Œæˆ‘è§‰å¾—æ˜¯ Plusï¼Œä¸æ˜¯ Essentialï¼Œå¦‚æœèƒ½åœ¨ï¼ˆå‡ ä¹ï¼‰ä¸å¢åŠ å¤æ‚åº¦çš„å‰æä¸‹æä¾›è¿™ä¸ªåŠŸèƒ½ï¼Œè‡ªç„¶å¯ä»¥æœ‰ï¼Œä½†å¦‚æœå› æ­¤å¢åŠ äº†å¤æ‚åº¦å’Œç†è§£æˆæœ¬ï¼Œé‚£å°±å…ˆæ”¾ä¸€æ”¾ã€‚
&lt;&#x2F;aside&gt;
&lt;p&gt;&lt;code&gt;index.html&lt;&#x2F;code&gt; æ˜¯å…¥å£é¡µï¼Œè¿™é‡Œä¼šå¼•ç”¨æœ€ç»ˆçš„ css å’Œ js æ–‡ä»¶&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;html&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-html &quot;&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;link rel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;stylesheet&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;href&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&#x2F;assets&#x2F;index.css&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&#x2F;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;link rel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;icon&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;href&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;https:&#x2F;&#x2F;fav.farm&#x2F;ğŸ‘»&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&#x2F;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;div id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;root&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;div&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script src=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&#x2F;assets&#x2F;index.js&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;index.jsx&lt;&#x2F;code&gt; æ˜¯ js çš„å…¥å£æ–‡ä»¶&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;React &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;react&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ReactDOM &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;react-dom&#x2F;client&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;App &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;.&#x2F;components&#x2F;App&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;root &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ReactDOM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.createRoot&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;document.getElementById&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;root&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;));
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;root.render&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;App&lt;&#x2F;span&gt;&lt;span&gt;());
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;package.json&lt;&#x2F;code&gt; çš„æ ¸å¿ƒå†…å®¹å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;json&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-json &quot;&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;scripts&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;dev-js&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;cp -r layouts&#x2F;* dist &amp;amp;&amp;amp; cp -r assets dist &amp;amp;&amp;amp; esbuild scripts&#x2F;index.jsx --servedir=dist --outdir=dist&#x2F;assets --bundle&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;dev-css&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;windicss &amp;#39;.&#x2F;layouts&#x2F;**&#x2F;*.html&amp;#39; &amp;#39;.&#x2F;scripts&#x2F;**&#x2F;*.{js,jsx}&amp;#39; -o dist&#x2F;assets&#x2F;index.css --dev&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;dev&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;concurrently -g &amp;#39;npm:dev-*&amp;#39;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;build-js&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;cp -r layouts&#x2F;* dist &amp;amp;&amp;amp; cp -r assets dist &amp;amp;&amp;amp; esbuild scripts&#x2F;index.jsx --bundle --minify --outfile=dist&#x2F;assets&#x2F;index.js&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;build-css&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;windicss &amp;#39;.&#x2F;layouts&#x2F;**&#x2F;*.html&amp;#39; &amp;#39;.&#x2F;scripts&#x2F;**&#x2F;*.{js,jsx}&amp;#39; -o dist&#x2F;assets&#x2F;index.css --minify&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;build&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;concurrently -g &amp;#39;npm:build-*&amp;#39;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;dependencies&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;esbuild&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;^0.14.32&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;react&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;^18.0.0&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;react-dom&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;^18.0.0&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;windicss&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;^3.5.1&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;devDependencies&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;concurrently&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;^7.1.0&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç®€å•è¯´æ˜ä¸‹ &lt;code&gt;scripts&lt;&#x2F;code&gt; æ ä¸‹çš„å‡ ä¸ªå‘½ä»¤:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dev-js&lt;&#x2F;code&gt;: æŠŠç›¸å…³å†…å®¹å¤åˆ¶åˆ° dist ç›®å½•ä¸‹ï¼Œç„¶åè®© &lt;code&gt;esbuild&lt;&#x2F;code&gt; æ¥ serve è¿™ä¸ªç›®å½•ï¼Œå½“ js æ–‡ä»¶æœ‰å˜åŒ–æ—¶ï¼Œå†æ¬¡è¯·æ±‚é¡µé¢ï¼Œå°±ä¼šå¾—åˆ°æœ€æ–°çš„ js æ–‡ä»¶ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;dev-css&lt;&#x2F;code&gt;: &lt;code&gt;windicss&lt;&#x2F;code&gt; ç›‘æ§ç‰¹å®šç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œæœ‰å˜åŒ–æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆæ–°çš„ css æ–‡ä»¶ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;dev&lt;&#x2F;code&gt;: é€šè¿‡ &lt;a href=&quot;https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;concurrently&quot;&gt;concurrently&lt;&#x2F;a&gt; ä¸€å¹¶æ‰§è¡Œ &lt;code&gt;dev-js&lt;&#x2F;code&gt; å’Œ &lt;code&gt;dev-css&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;build-js&lt;&#x2F;code&gt;: é€šè¿‡ &lt;code&gt;esbuild&lt;&#x2F;code&gt; å‘½ä»¤æŠŠ js æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªï¼ˆminify ä¹‹åï¼‰ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;build-css&lt;&#x2F;code&gt;: é€šè¿‡ &lt;code&gt;windicss&lt;&#x2F;code&gt; å‘½ä»¤æ‰«æé¡¹ç›®ä¸­çš„å…³é”®å­—ï¼Œå¹¶ç”Ÿæˆ minify åçš„ css æ–‡ä»¶ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;build&lt;&#x2F;code&gt;: é€šè¿‡ &lt;a href=&quot;https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;concurrently&quot;&gt;concurrently&lt;&#x2F;a&gt; ä¸€å¹¶æ‰§è¡Œ &lt;code&gt;build-js&lt;&#x2F;code&gt; å’Œ &lt;code&gt;build-css&lt;&#x2F;code&gt; ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ä¹‹åå¦‚æœæƒ³è¦æ–°å¢ä¾èµ–ï¼Œç”¨ &lt;code&gt;npm install&lt;&#x2F;code&gt; æˆ– &lt;code&gt;pnpm add&lt;&#x2F;code&gt; å°±è¡Œäº†ï¼Œç›¸æ¯” &lt;code&gt;create-react-app&lt;&#x2F;code&gt; æˆ–è€… &lt;code&gt;webpack&lt;&#x2F;code&gt;ï¼Œèƒ½åŠ›ä¸Šè‚¯å®šä¼šå¼±ä¸€äº›ï¼Œä½†ä¹Ÿæ›´å®¹æ˜“ç†è§£ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™å°±æ˜¯æˆ‘ç›®å‰çš„ã€Œåˆšå¥½å¤Ÿç”¨çš„ç®€æ˜“å‰ç«¯å·¥å…·é›†ã€çš„å°è¯•ï¼Œç”¨æ¥å†™ç®€å•çš„é¡µé¢åº”è¯¥å¤Ÿç”¨äº†ï¼Œå¦‚æœä½ æœ‰åˆ«çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿äº¤æµï½&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>æˆ‘çš„å‰ç«¯å­¦ä¹ è·¯çº¿</title>
            <pubDate>Mon, 04 Apr 2022 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/frontend-learning/</link>
            <guid>https://limboy.me/posts/frontend-learning/</guid>
            <description>&lt;h2 id=&quot;wei-shi-yao-yao-xue-xi-qian-duan&quot;&gt;ä¸ºä»€ä¹ˆè¦å­¦ä¹ å‰ç«¯&lt;&#x2F;h2&gt;
&lt;p&gt;å‰ç«¯å¼€å‘ï¼Œå¼€å‘çš„åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä¸¥æ ¼æ¥è¯´æ˜¯è¿è¡Œäºæµè§ˆå™¨ï¼ˆæˆ–è€…ä¸ Native ç»“åˆçš„æ··åˆå¼æ¶æ„ï¼‰ä¹‹ä¸Šçš„å›¾å½¢åŒ–äº¤äº’é¡µé¢ï¼ˆGUIï¼‰ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªç½‘ç«™ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå•é¡µé¢åº”ç”¨ï¼ˆå¦‚ &lt;a href=&quot;https:&#x2F;&#x2F;www.nytimes.com&#x2F;games&#x2F;wordle&#x2F;index.html&quot;&gt;Worlde&lt;&#x2F;a&gt;ï¼‰ï¼ŒåŸºäº WegGL è¿˜èƒ½åšå‡ºå¾ˆ&lt;a href=&quot;https:&#x2F;&#x2F;stars.chromeexperiments.com&quot;&gt;ç‚«é…·çš„æ•ˆæœ&lt;&#x2F;a&gt;ï¼Œæˆ–è€…æ¥è¿‘ Native çš„ä½“éªŒï¼ˆå¦‚ &lt;a href=&quot;https:&#x2F;&#x2F;figma.com&quot;&gt;Figma&lt;&#x2F;a&gt;ï¼‰ï¼Œå€ŸåŠ©è·¨å¹³å°æ¡†æ¶ï¼ˆå¦‚ &lt;a href=&quot;https:&#x2F;&#x2F;reactnative.dev&#x2F;&quot;&gt;React Native&lt;&#x2F;a&gt;ï¼Œ&lt;a href=&quot;https:&#x2F;&#x2F;www.electronjs.org&#x2F;&quot;&gt;Electron&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;tauri.studio&#x2F;&quot;&gt;Tarui&lt;&#x2F;a&gt;ï¼‰èƒ½å¤Ÿè®©å‰ç«¯é¡µé¢ä¸ Native æ·±åº¦ç»“åˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥å‰ç«¯å¼€å‘æœ‰è¾ƒå¤šçš„è½åœ°åœºæ™¯ï¼Œç›¸æ¯”å…¶ä»–çš„ç¼–ç¨‹ç±»åˆ«ï¼Œå‰ç«¯å¼€å‘æ›´è´´è¿‘ç”¨æˆ·ï¼Œé—¨æ§›ä¹Ÿç›¸å¯¹ä½ä¸€äº›ï¼ˆä»…ä»…æ˜¯é—¨æ§›ï¼Œè¦åšåˆ°å‡ºç±»æ‹”èƒéš¾åº¦è¿˜æ˜¯æŒºé«˜çš„ï¼‰ï¼Œè¿™è®©é‚£äº›å¯¹åˆ›ä½œæœ‰çƒ­æƒ…ï¼Œä½†è®¡ç®—æœºåŸºç¡€åˆä¸æ˜¯é‚£ä¹ˆç‰¢å›ºçš„äººï¼ˆæ¯”å¦‚æˆ‘ï¼‰å¯ä»¥æœ‰ä¸€ä¸ªä¸é”™çš„åˆ›ä½œç©ºé—´ã€‚é™¤æ­¤ä¹‹å¤–ä»¥ä¸‹å‡ ç‚¹ä¹Ÿæ˜¯é€‰æ‹©å‰ç«¯å¼€å‘çš„é‡è¦åŸå› ï¼š&lt;&#x2F;p&gt;
&lt;h3 id=&quot;kai-fa-ti-yan-jia&quot;&gt;å¼€å‘ä½“éªŒä½³&lt;&#x2F;h3&gt;
&lt;p&gt;å¾—ç›Šäº IDEã€åŒ…ç®¡ç†å·¥å…·ã€æµè§ˆå™¨åŠå…¶ä»–å¼€å‘å·¥å…·çš„æŒç»­è¿­ä»£å’Œä¼˜åŒ–ï¼Œå‰ç«¯çš„å¼€å‘ä½“éªŒå·²è¶Šå‘èˆ’é€‚ã€‚æ¯”å¦‚ &lt;a href=&quot;https:&#x2F;&#x2F;vitejs.dev&#x2F;&quot;&gt;vite&lt;&#x2F;a&gt; è®©ä»£ç æ”¹åŠ¨ï¼ˆå³ä½¿ä»£ç é‡å¾ˆå¤§ï¼‰èƒ½å®æ—¶åæ˜ åœ¨æµè§ˆå™¨ï¼ˆè¿™ä¸ä»…èƒ½æé«˜å¼€å‘æ•ˆç‡ï¼Œå¯¹äºä¿æŒå¿ƒæµçŠ¶æ€ä¹Ÿå¾ˆé‡è¦ï¼‰ï¼ŒVS Code è‰¯å¥½çš„ä»£ç ç¼–å†™ä½“éªŒå’Œä¸°å¯Œçš„æ’ä»¶ï¼Œ&lt;a href=&quot;https:&#x2F;&#x2F;pnpm.io&quot;&gt;pnpm&lt;&#x2F;a&gt; å¯¹ &lt;code&gt;node_modules&lt;&#x2F;code&gt; ï¼ˆå¦‚åŒ…çš„å¹³è¡Œç½—åˆ—ï¼Œæ–‡ä»¶å¤¹ size å¤§ç­‰ï¼‰çš„æ”¹å–„ï¼ŒChrome åœ¨æ€§èƒ½å’Œè°ƒè¯•èƒ½åŠ›ä¸Šçš„ä¸æ–­ä¼˜åŒ–å’Œæ”¹è¿›ï¼ŒTypeScript ä¹Ÿé™ä½äº†ç¼–å†™æ˜“ç»´æŠ¤ä»£ç çš„é—¨æ§›ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tian-ran-kua-ping-tai&quot;&gt;å¤©ç„¶è·¨å¹³å°&lt;&#x2F;h3&gt;
&lt;p&gt;åªè¦ä¸€ä¸ª URLï¼Œå°±èƒ½åœ¨ä¸åŒçš„è®¾å¤‡è®¿é—®ï¼Œè€Œä¸”ä¿æŒç›¸åŒçš„ä½“éªŒï¼Œè¿™ä¸ªæ„Ÿè§‰å¤ªæ£’äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shang-xian-kuai-qie-bu-hui-bei-qia&quot;&gt;ä¸Šçº¿å¿«ä¸”ä¸ä¼šè¢«å¡&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœæ˜¯ç§»åŠ¨ç«¯ Appï¼Œä¸å¯é¿å…åœ°è¦ä¸å®¡æ ¸äººå‘˜æ‰“äº¤é“ï¼Œè¢«æ‰“å›ä¹Ÿæ˜¯å¸¸äº‹ã€‚å¦‚æœçº¿ä¸Šå‡ºäº†é—®é¢˜ï¼ŒiOS å¹³å°åªèƒ½é‡æ–°å‘ç‰ˆèµ°å®¡æ ¸æµç¨‹ï¼Œå‰ç«¯åˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fa-zhan-peng-bo&quot;&gt;å‘å±•è“¬å‹ƒ&lt;&#x2F;h3&gt;
&lt;p&gt;ç»å¸¸ä¼šçœ‹åˆ°æœ‰äººåæ§½å‰ç«¯å¼€å‘å˜åŒ–å¤ªå¿«äº†ï¼Œä¸€ä¸ªå·¥å…·è¿˜æ²¡ç©æ˜ç™½ï¼Œæ–°çš„å·¥å…·åˆå‡ºæ¥äº†ã€‚æˆ‘è§‰å¾—è¿™æ˜¯å¥½äº‹ï¼Œè¯´æ˜æœ‰æ´»åŠ›åˆå°šæœªå®Œå…¨æˆç†Ÿï¼Œè¿™ä¸å°±æ˜¯è¿›å…¥è¿™ä¸ªè¡Œä¸šçš„å¥½æ—¶æœºä¹ˆï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;2021.stateofjs.com&#x2F;en-US&#x2F;opinions&quot;&gt;
&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;frontend-learning&amp;#x2F;frontend-happiness.jpg&quot;
        width=&quot;2020&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;gu-zhang-ying-xiang-xiao&quot;&gt;æ•…éšœå½±å“å°&lt;&#x2F;h3&gt;
&lt;p&gt;å½“ç„¶è¿™æ˜¯ç›¸å¯¹çš„ï¼Œå‰ç«¯ä¹Ÿå¯ä»¥å‡ºç°å¾ˆä¸¥é‡çš„æ•…éšœï¼Œåªæ˜¯ç›¸æ¯”åç«¯ï¼Œè·Ÿç”¨æˆ·çš„æ•°æ®æ‰“äº¤é“ï¼Œå‰ç«¯çŠ¯é”™çš„å¯å®¹å¿æ€§å’Œå¯æ¢å¤æ€§ä¼šé«˜ä¸€äº›ã€‚æˆ‘ç”šè‡³è§‰å¾—åŒæ˜¯ç¼–ç¨‹ï¼Œå‰ç«¯å’Œåç«¯æ˜¯ä¸¤ç§ç±»å‹çš„äººï¼Œå‰è€…æ›´ Creativeï¼Œåè€…åˆ™æ›´éœ€è¦è€ƒè™‘ç»†è‡´å’Œæ²‰ç¨³ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;wo-de-qian-duan-xue-xi-lu-xian&quot;&gt;æˆ‘çš„å‰ç«¯å­¦ä¹ è·¯çº¿&lt;&#x2F;h2&gt;
&lt;p&gt;å‰ç«¯æ¶‰åŠåˆ°çš„å†…å®¹ä¼šå¾ˆå¤šï¼Œå¦‚æœæ²¡æœ‰ Roadmap å¾ˆå®¹æ˜“è¿·å¤±ï¼ˆå°¤å…¶æ˜¯å¯¹åˆšå…¥é—¨çš„æ–°æ‰‹ï¼‰ï¼Œä»¥ä¸‹æ˜¯æˆ‘æ•´ç†çš„ä¸€å¼ è¡¨æ ¼ï¼Œä½œä¸ºè‡ªå·±çš„ Roadmapã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;&#x2F;posts&#x2F;frontend-learning&#x2F;frontend-roadmap.jpg&quot;&gt;
&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;frontend-learning&amp;#x2F;frontend-roadmap.jpg&quot;
        width=&quot;1816&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;åˆ’åˆ†ä¸º 7 å¤§æ¿å—ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Computer Science&lt;&#x2F;strong&gt; (åŸºç¡€ï¼Œæ— è®ºä»äº‹å“ªç±»ç¼–ç¨‹éƒ½è¦äº†è§£)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Software Engineering&lt;&#x2F;strong&gt;ï¼ˆè½¯ä»¶å·¥ç¨‹ï¼Œä¹Ÿå±äºåŸºç¡€ï¼Œä½†æ›´è´´è¿‘å®æˆ˜ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Nice to Have&lt;&#x2F;strong&gt;ï¼ˆOptionalï¼Œå¦‚æœæŒæ¡è¿™äº›æŠ€èƒ½å¯ä»¥åŠ åˆ†ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Frontend Tooling&lt;&#x2F;strong&gt;ï¼ˆå‰ç«¯çš„å·¥å…·é›†ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Framework &amp;amp; Libraries&lt;&#x2F;strong&gt;ï¼ˆå‰ç«¯ç›¸å…³çš„å¼€å‘æ¡†æ¶å’Œç±»åº“ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Web Related&lt;&#x2F;strong&gt;ï¼ˆWeb ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Toolkit&lt;&#x2F;strong&gt;ï¼ˆå¼€å‘ç¯å¢ƒç›¸å…³ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ç„¶åæ ¹æ® &lt;strong&gt;Know in General&lt;&#x2F;strong&gt;ï¼ˆçŸ¥é“å¤§æ¦‚åŸç†ï¼‰ï¼Œ&lt;strong&gt;Familiarity with Usage&lt;&#x2F;strong&gt;ï¼ˆç†Ÿç»ƒä½¿ç”¨ï¼‰å’Œ &lt;strong&gt;Know in Detail&lt;&#x2F;strong&gt;ï¼ˆäº†è§£å®ç°ç»†èŠ‚ï¼‰æ¥è®¾ç½®æ¯ä¸€å—çš„å­¦ä¹ ç›®æ ‡ï¼Œæ¯”å¦‚å¯¹äº Computer Science æ¥è¯´ï¼ŒçŸ¥é“å¤§æ¦‚åŸç†å³å¯ï¼Œä¸éœ€è¦ç‰¢è®°ç»†èŠ‚ã€‚è€Œå¯¹äºæ—¥å¸¸ä¼šä½¿ç”¨çš„ Framework å’Œ Library åˆ™éœ€è¦æ·±å…¥äº†è§£å®ç°ï¼Œç”šè‡³èƒ½æ‰‹åŠ¨å†™ä¸€ä¸ªã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¯ä¸ªæ¿å—é‡Œçš„å†…å®¹ï¼Œä¼šæŒ‰ç…§æˆ‘è‡ªå·±çš„å–œå¥½æ¥å­¦ä¹ ï¼Œæ¯”å¦‚åŒ…ç®¡ç†å·¥å…·æˆ‘æ›´å–œæ¬¢ &lt;code&gt;pnpm&lt;&#x2F;code&gt;ï¼ŒComputer Science é‡Œå­¦ä¹ æ“ä½œç³»ç»Ÿç›¸å…³çš„å†…å®¹ä¼šé€‰æ‹© &lt;a href=&quot;https:&#x2F;&#x2F;pages.cs.wisc.edu&#x2F;%7Eremzi&#x2F;OSTEP&#x2F;&quot;&gt;OSTEP&lt;&#x2F;a&gt; è¿™æœ¬ä¹¦ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰äº†è¿™å¼ å›¾ï¼Œå­¦ä¹ èµ·æ¥ä¼šæ›´æœ‰åº•ï¼šè‡ªå·±ç›®å‰å¤§æ¦‚åˆ°äº†å“ªä¸ªé˜¶æ®µï¼Œå“ªå—éœ€è¦é‡ç‚¹è¡¥å¼ºä¸€ä¸‹ï¼Œä¼˜å…ˆå­¦ä¹ å“ªä¸ªï¼ˆæ„Ÿè§‰è·Ÿã€Œçš‡å®¤æˆ˜äº‰ã€å‡çº§å»ºç­‘ä¸€æ ·ä¸€æ ·çš„ ğŸ˜‚ï¼‰ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ä¸€ä¸ªçœ‹èµ·æ¥ä¸å¯èƒ½èµ¢çš„æ¸¸æˆ</title>
            <pubDate>Mon, 01 Nov 2021 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/impossible-win-game/</link>
            <guid>https://limboy.me/posts/impossible-win-game/</guid>
            <description>&lt;p&gt;æ¸¸æˆä¸€å…±æ¶‰åŠä¸‰ä¸ªäººï¼Œä½ å’Œä¸€ä¸ªå°ä¼™ä¼´ç»„æˆä¸€é˜Ÿç­”é¢˜ï¼Œå¦ä¸€äººæ¥å‡ºé¢˜ã€‚é¢˜ç›®çš„å†…å®¹æ˜¯è¿™æ ·çš„ï¼š&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰ä¸€å—æ–¹å½¢æœ¨æ¿ï¼Œä¸Šé¢å…±æœ‰ 64 ä¸ªæ ¼å­ï¼ˆ8x8)ï¼Œæ—è¾¹æœ‰ 64 æšç¡¬å¸&lt;&#x2F;li&gt;
&lt;li&gt;å‡ºé¢˜äººä¼šå°†æ‰€æœ‰ç¡¬å¸éƒ½æ”¾åˆ°æ ¼å­ä¸Šï¼Œä½†ç¡¬å¸æ˜¯æ­£é¢æœä¸Šè¿˜æ˜¯åé¢æœä¸Šï¼Œå®Œå…¨çœ‹å‡ºé¢˜äººçš„å¿ƒæƒ…&lt;&#x2F;li&gt;
&lt;li&gt;å…¨éƒ¨æ‘†æ”¾å®Œåï¼ˆæ¯ä¸ªæ ¼å­ä¸Šéƒ½æœ‰ä¸€æšç¡¬å¸ï¼‰ï¼Œå‡ºé¢˜äººä¼šå°†å…¶ä¸­ä¸€æšç¡¬å¸æŒ‡å®šä¸ºé­”å¸ï¼Œå½“ç„¶ä¼šæŒ‡å“ªä¸ªä¹Ÿå…¨çœ‹å‡ºé¢˜äººçš„å¿ƒæƒ…&lt;&#x2F;li&gt;
&lt;li&gt;æ•´ä¸ªè¿‡ç¨‹ä½ ä½œä¸ºæ—è§‚è€…åªèƒ½çœ‹ç€ã€‚åœ¨å«é˜Ÿå‹è¿›æ¥ç­”é¢˜ï¼ˆæ‰¾å‡ºè¯¥é­”å¸ï¼‰ä¹‹å‰ï¼Œå¯ä»¥å°†è¿™ 64 ä¸ªç¡¬å¸ä¸­çš„ä»»æ„ä¸€ä¸ªè¿›è¡Œç¿»è½¬&lt;&#x2F;li&gt;
&lt;li&gt;é˜Ÿå‹è¿›æ¥ä¹‹åï¼Œä¸èƒ½ä¸ä»–è¿›è¡Œä»»ä½•é€šä¿¡ï¼Œä»–çš„ç›®æ ‡æ˜¯æ‰¾åˆ°å‡ºé¢˜äººæŒ‡å®šçš„é‚£ä¸ªé­”å¸ï¼ˆäº‹å…ˆå¯ä»¥å’Œé˜Ÿå‹å•†é‡ç­–ç•¥ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;blockquote&gt;
&lt;h3 id=&quot;zhen-de-ke-neng-ma&quot;&gt;çœŸçš„å¯èƒ½å—ï¼Ÿ&lt;&#x2F;h3&gt;
&lt;p&gt;ä¿¡æ¯é‡å¤ªå°‘äº†ï¼Œå°†ä¸€æšç¡¬å¸ç¿»è½¬ï¼Œåªæœ‰ 1 æ¯”ç‰¹çš„ä¿¡æ¯ï¼Œè€Œä¸”é˜Ÿå‹è¿›æ¥ä¹‹åå®Œå…¨ä¸çŸ¥é“å“ªä¸ªè¢«ç¿»è½¬äº†ï¼ˆå°±ç®—çœ‹åˆ° 63 ä¸ªæ­£é¢ï¼Œä¸€ä¸ªåé¢ï¼Œä¹Ÿä¸çŸ¥é“æ˜¯ä¸æ˜¯è¿™ä¸ªåé¢è¢«ç¿»è½¬è¿‡ï¼‰ï¼Œæ›´åˆ«è¯´è¦æ‰¾åˆ°å‡ºé¢˜äººæŒ‡å®šçš„é­”å¸ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ªé­”å¸å¯ä»¥å‡ºç°åœ¨ 64 ä¸ªæ ¼å­çš„ä»»æ„ä½ç½®ï¼Œç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤ºçš„è¯ï¼Œéœ€è¦ 6 ä½ï¼ˆ$2^6$ = 64ï¼‰ï¼ŒåŒæ—¶ç¡¬å¸çš„ç¿»è½¬å¯ä»¥å¸¦æ¥å¥‡å¶çš„æ”¹å˜ï¼Œç»“åˆè¿™ä¸¤ç‚¹èƒ½ä¸èƒ½æ‰¾åˆ°ç‚¹æ€è·¯å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;å‘æ•£ä¸€ä¸‹ï¼Œ10 ä¸ªè€é¼ ä» 1000 ç“¶æ°´ä¸­æ‰¾æ¯’æ°´æ˜¯ä¸æ˜¯è·Ÿè¿™ä¸ªåœºæ™¯æœ‰ç‚¹åƒï¼Ÿéš¾é“æŠŠ 64 ä¸ªæ•°å­—ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºä¼šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;000000 = 0
&lt;&#x2F;span&gt;&lt;span&gt;000001 = 1
&lt;&#x2F;span&gt;&lt;span&gt;000010 = 2
&lt;&#x2F;span&gt;&lt;span&gt;000011 = 3
&lt;&#x2F;span&gt;&lt;span&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;111111 = 63
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é‚£ä¸ªé­”å¸ä¸€å®šæ˜¯è¿™ç»„æ•°ä¸­çš„ä¸€ä¸ªï¼Œå‡è®¾åƒäº†å®ƒä¼šæ­»ï¼Œåªè¦æ‰¾åˆ° 6 åªè€é¼ ï¼ŒemmmÂ·Â·Â·&lt;&#x2F;p&gt;
&lt;p&gt;é‚£æœ‰æ²¡æœ‰å¯èƒ½æ£‹ç›˜æœ¬èº«å°±èƒ½ç»„æˆ 6 åªè€é¼ å‘¢ï¼Ÿå‡å¦‚å¯ä»¥ï¼Œå°±è®©æ¯åªè€é¼ åˆ†åˆ«ä»£è¡¨ä¸€ä¸ªäºŒè¿›åˆ¶ä½&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;è€é¼  A -&amp;gt; $2^0$&lt;br &#x2F;&gt;
è€é¼  B -&amp;gt; $2^1$&lt;br &#x2F;&gt;
è€é¼  C -&amp;gt; $2^2$&lt;br &#x2F;&gt;
è€é¼  D -&amp;gt; $2^3$&lt;br &#x2F;&gt;
è€é¼  E -&amp;gt; $2^4$&lt;br &#x2F;&gt;
è€é¼  F -&amp;gt; $2^5$&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ç„¶åé€šè¿‡ç¡¬å¸æ­£é¢æœä¸Šæ•°é‡çš„å¥‡å¶æ€§æ¥è¡¨ç¤ºè¯¥ä½æ˜¯ 1 æˆ– 0ï¼Œè¿™æ ·é˜Ÿå‹è¿›æ¥æ—¶ï¼Œå…ˆæŒ‰ç…§æŸç§çº¦å®šçš„æ–¹å¼æ‰¾åˆ°ã€Œè€é¼  Aã€ï¼Œç„¶ååˆ¤æ–­å®ƒçš„å¥‡å¶æ€§ï¼Œè¿™æ ·å°±èƒ½çŸ¥é“ç¬¬ä¸€ä½ï¼ˆæœ€å³è¾¹ï¼‰æ˜¯ 0 è¿˜æ˜¯ 1ï¼ŒåŒç†æ‰¾åˆ°ã€Œè€é¼  Bã€ï¼Œåˆ¤æ–­å¥‡å¶ï¼Œç¡®å®šç¬¬äºŒä½ã€‚æœ€åä¼šå½¢æˆä¸€ä¸ªå®Œæ•´çš„äºŒè¿›åˆ¶æ•°ï¼Œæ¯”å¦‚ &lt;code&gt;001100&lt;&#x2F;code&gt;ï¼Œä¹Ÿå°±æ˜¯ 12ï¼Œé‚£ä¹ˆé­”å¸æ‰€åœ¨çš„ä½ç½®å°±æ˜¯ 12ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å› ä¸ºç¿»è½¬ç¡¬å¸å°±èƒ½æ”¹å˜å¥‡å¶æ€§ï¼Œå¦‚æœèƒ½é€šè¿‡ç¿»è½¬ç¡¬å¸è¾¾åˆ°éšæ„æ§åˆ¶æŸä¸€&#x2F;å‡ ä½å˜æˆ 0 æˆ– 1ï¼Œå°±èƒ½æŠŠäºŒè¿›åˆ¶è°ƒæ•´ä¸ºé­”å¸å¯¹åº”çš„æ•°å­—ï¼ŒæŒ‰ç…§è¯¥ç­–ç•¥ï¼Œè®¡ç®—å‡ºäºŒè¿›åˆ¶æ•°åï¼Œå°±èƒ½çŸ¥é“é­”å¸æ‰€åœ¨ä½ç½®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼Œå¦‚ä½•è®©æ£‹ç›˜æœ¬èº«å½¢æˆ 6 ä¸ªæ¯”ç‰¹ä½ï¼Ÿ&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;impossible-win-game&amp;#x2F;impossible-win-0.png&quot;
        width=&quot;2492&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h3 id=&quot;ji-xu-si-suo&quot;&gt;ç»§ç»­æ€ç´¢&lt;&#x2F;h3&gt;
&lt;p&gt;å‡å¦‚ä½ è·Ÿé˜Ÿå‹çº¦å®šï¼Œå·¦è¾¹å››åˆ—ä»£è¡¨ç¬¬ 1 ä½ï¼Œå³è¾¹å››åˆ—ä»£è¡¨ç¬¬ 2 ä½ï¼Œä¸Šè¾¹å››è¡Œä»£è¡¨ç¬¬ 3 ä½ï¼Œä¸‹è¾¹å››è¡Œä»£è¡¨ç¬¬ 4 ä½ï¼Œä¸­é—´å››åˆ—ä»£è¡¨ç¬¬ 5 ä½ï¼Œä¸­é—´å››è¡Œä»£è¡¨ç¬¬ 6 ä½ï¼Œä¹Ÿå°±æ˜¯æ¯ 1 ä½éƒ½æœ‰ç‰¹å®šçš„åŒºåŸŸï¼Œç„¶åæ•°è¯¥åŒºåŸŸé‡Œç¡¬å¸ä¸ºæ­£é¢çš„ä¸ªæ•°ï¼Œå¦‚æœä¸ºå¥‡æ•°åˆ™è¡¨ç¤ºè¯¥ä½ä¸º 1ï¼Œå¶æ•°åˆ™ä¸º 0ã€‚è€Œä½ å¯ä»¥é€šè¿‡ç¿»è½¬ç¡¬å¸æ¥å°†è¿™ä¸ªäºŒè¿›åˆ¶æ•°å˜ä¸ºé­”å¸æ‰€åœ¨ä½ç½®çš„äºŒè¿›åˆ¶æ•°ï¼Œæ˜¯ä¸æ˜¯å°±å¦¥äº†ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;é‚£åº”è¯¥æ€ä¹ˆåˆ†å‘¢ï¼Œå¦‚æœæŒ‰ç…§ä¸Šé¢çš„åˆ†æ³•ï¼Œè¯¥å¦‚ä½•è¾¾åˆ°ç¿»è½¬æŸä¸ªç¡¬å¸æ¥è°ƒæ•´å„ä¸ªç»„çš„å¥‡å¶æ€§å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h3 id=&quot;hua-fen-zu-de-ce-lue&quot;&gt;åˆ’åˆ†ç»„çš„ç­–ç•¥&lt;&#x2F;h3&gt;
&lt;p&gt;å‡è®¾å‡ºé¢˜äººæ‘†æ”¾å®Œç¡¬å¸åï¼ŒæŒ‰ç…§ä¸Šé¢çš„åˆ†ç»„æŸ¥æ‰¾ï¼Œå¾—å‡ºçš„äºŒè¿›åˆ¶æ•°ä¸ºï¼š&lt;code&gt;001100&lt;&#x2F;code&gt;ï¼Œå‡ºé¢˜äººæŒ‡å®šé­”å¸çš„ä½ç½®ä¸º 42ï¼Œä¹Ÿå°±æ˜¯ &lt;code&gt;101010&lt;&#x2F;code&gt;ï¼Œè¿™ä¸ªæ•°çš„ $2^0$ï¼Œ$2^2$ï¼Œ$2^5$ ä¸å¾—å‡ºçš„äºŒè¿›åˆ¶ä¸åŒï¼Œå› æ­¤è¿™ 3 ç»„éœ€è¦ç¿»è½¬ï¼Œå…¶ä»–ç»„ä¸åŠ¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç†æƒ³çŠ¶æ€è‡ªç„¶æ˜¯æ¯ä¸ªç»„ä¹‹é—´æ²¡æœ‰é‡å ï¼Œç„¶åå°†å„è‡ªç»„çš„å…¶ä¸­ä¸€æšç¡¬å¸ç¿»è½¬ï¼Œä½†è¿™æ ·æœ€å¤šéœ€è¦ç¿»è½¬ 6 æ¬¡ï¼ˆåŸå§‹äºŒè¿›åˆ¶æ•°å’Œç›®æ ‡äºŒè¿›åˆ¶æ•°å„ä½éƒ½ä¸ç›¸åŒï¼‰ã€‚æ‰€ä»¥ä¸€å®šä¼šæœ‰äº¤å‰ï¼Œé‚£å¦‚ä½•äº¤å‰æ‰èƒ½ä½¿å¾—æ‰€æœ‰å¯èƒ½çš„ç¿»è½¬ç»„åˆéƒ½è¢«è¦†ç›–åˆ°å‘¢ï¼Ÿå¦‚æœç”¨ 1 è¡¨ç¤ºç¿»è½¬ï¼Œé‚£ä¹ˆäºŒè¿›åˆ¶è¡¨ç¤ºçš„ 64 ä¸ªæ•°å­—ï¼Œä¸å°±æ˜¯æ‰€æœ‰å¯èƒ½çš„ç¿»è½¬ç»„åˆä¹ˆï¼Ÿ&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;impossible-win-game&amp;#x2F;impossible-win-2.png&quot;
        width=&quot;1412&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚ 3ï¼Œä¹Ÿå°±æ˜¯ &lt;code&gt;000011&lt;&#x2F;code&gt; è¡¨ç¤ºç¿»è½¬ $2^0$ å’Œ $2^1$ æ‰€åœ¨çš„ç»„ï¼ŒåŸå…ˆä¸ºå¥‡æ•°ä¸ªæ­£é¢çš„ç¡¬å¸ï¼Œå°±å˜æˆå¶æ•°ä¸ªï¼Œåä¹‹äº¦ç„¶ï¼Œå…¶ä»– 4 ä¸ªç»„ç»´æŒåŸçŠ¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¥½åƒæœ‰æ€è·¯äº†ã€‚å¯¹äº $2^0$ è¿™ä¸€ç»„ï¼ŒåŒ…å«çš„æ•°ä¸ºæœ«å°¾ä¸º 1 çš„äºŒè¿›åˆ¶æ•°ï¼Œ$2^1$ è¿™ä¸€ç»„ï¼Œåˆ™åŒ…å«å€’æ•°ç¬¬äºŒä½ä¸º 1 çš„äºŒè¿›åˆ¶æ•°ï¼Œä»¥æ­¤ç±»æ¨ï¼ˆä¸‹å›¾å¯ç‚¹å‡»æ”¾å¤§ï¼‰ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;impossible-win-game&amp;#x2F;impossible-win-3.png&quot;
        width=&quot;4460&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ · 6 ä¸ªç»„å°±åˆ’åˆ†å®Œäº†ï¼Œå‡è®¾ç»è¿‡è®¡ç®—åå‘ç°è¦è°ƒæ•´ $2^5$, $2^3$, $2^1$ è¿™ 3 ä¸ªç»„ç¡¬å¸çš„å¥‡å¶æ€§ï¼Œä¹Ÿå°±æ˜¯ &lt;code&gt;101010&lt;&#x2F;code&gt;ï¼Œå¯¹åº”åè¿›åˆ¶å°±æ˜¯ 42ï¼Œé‚£ä¹ˆå°† 42 å·ç¡¬å¸ç¿»ä¸€é¢å°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;impossible-win-game&amp;#x2F;impossible-win-4.png&quot;
        width=&quot;4460&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯åªå½±å“äº† $2^5$, $2^3$, $2^1$ è¿™ 3 ä¸ªç»„ï¼Œ$2^0$, $2^2$, $2^4$ è¿™ 3 ç»„å®‰ç„¶æ— æ™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-zhan&quot;&gt;å®æˆ˜&lt;&#x2F;h3&gt;
&lt;p&gt;å‡è®¾å‡ºé¢˜äººæœ€åçš„ç¡¬å¸æ‘†æ”¾å¦‚ä¸‹ï¼ˆç™½è‰²ä¸ºæ­£é¢ï¼Œç°è‰²ä¸ºåé¢ï¼Œï¼‰ï¼ŒæŒ‡å®šé­”å¸åºå·ä¸º 39ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;impossible-win-game&amp;#x2F;impossible-win-5.png&quot;
        width=&quot;2492&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æŒ‰ç…§ä¸Šé¢çš„åˆ†ç»„è§„åˆ™ï¼Œçœ‹çœ‹æ¯ä¸ªç»„åŒ…å«çš„ç¡¬å¸æ­£åé¢æƒ…å†µ&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;impossible-win-game&amp;#x2F;impossible-win-6.png&quot;
        width=&quot;4460&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;åˆ†åˆ«ä¸ºï¼š&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;$2^0$ æ­£é¢æ•°é‡ä¸º 23ï¼Œå¥‡æ•°ï¼Œè¯¥ä½ä¸º 1&lt;br &#x2F;&gt;
$2^1$ æ­£é¢æ•°é‡ä¸º 20ï¼Œå¶æ•°ï¼Œè¯¥ä½ä¸º 0&lt;br &#x2F;&gt;
$2^2$ æ­£é¢æ•°é‡ä¸º 22ï¼Œå¶æ•°ï¼Œè¯¥ä½ä¸º 0&lt;br &#x2F;&gt;
$2^3$ æ­£é¢æ•°é‡ä¸º 22ï¼Œå¶æ•°ï¼Œè¯¥ä½ä¸º 0&lt;br &#x2F;&gt;
$2^4$ æ­£é¢æ•°é‡ä¸º 19ï¼Œå¥‡æ•°ï¼Œè¯¥ä½ä¸º 1&lt;br &#x2F;&gt;
$2^5$ æ­£é¢æ•°é‡ä¸º 22ï¼Œå¶æ•°ï¼Œè¯¥ä½ä¸º 0&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;è¿™ä¸ªäºŒè¿›åˆ¶æ•°å°±æ˜¯ï¼š&lt;code&gt;010001&lt;&#x2F;code&gt;ã€‚ç›®æ ‡æ•°æ˜¯ &lt;code&gt;39&lt;&#x2F;code&gt;ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸ºï¼š&lt;code&gt;100111&lt;&#x2F;code&gt;ï¼Œéœ€è¦è°ƒæ•´çš„æ˜¯ $2^5$, $2^4$, $2^2$, $2^1$ è¿™ 4 ä¸ªç»„ã€‚&lt;code&gt;110110&lt;&#x2F;code&gt; è¿™ä¸ªæ•°å˜æˆ 10 è¿›åˆ¶å°±æ˜¯ &lt;code&gt;54&lt;&#x2F;code&gt;ï¼Œä¹Ÿå°±æ˜¯å°†åºå·ä¸º &lt;code&gt;54&lt;&#x2F;code&gt; çš„ç¡¬å¸ç¿»è½¬ä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç­”é¢˜äººè¿›æ¥åï¼ŒæŒ‰ç…§çº¦å®šçš„åˆ†ç»„è§„åˆ™ï¼Œåˆ†åˆ«è®¡ç®—å„ä¸ªç»„çš„å¥‡å¶æ•°ï¼š&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;$2^0$ æ­£é¢æ•°é‡ä¸º 23ï¼Œå¥‡æ•°ï¼ˆä¸å˜ï¼‰ï¼Œè¯¥ä½ä¸º 1&lt;br &#x2F;&gt;
$2^1$ æ­£é¢æ•°é‡ä¸º 21ï¼Œå¥‡æ•°ï¼Œè¯¥ä½ä¸º 1&lt;br &#x2F;&gt;
$2^2$ æ­£é¢æ•°é‡ä¸º 23ï¼Œå¥‡æ•°ï¼Œè¯¥ä½ä¸º 1&lt;br &#x2F;&gt;
$2^3$ æ­£é¢æ•°é‡ä¸º 22ï¼Œå¶æ•°ï¼ˆä¸å˜ï¼‰ï¼Œè¯¥ä½ä¸º 0&lt;br &#x2F;&gt;
$2^4$ æ­£é¢æ•°é‡ä¸º 20ï¼Œå¶æ•°ï¼Œè¯¥ä½ä¸º 0&lt;br &#x2F;&gt;
$2^5$ æ­£é¢æ•°é‡ä¸º 23ï¼Œå¥‡æ•°ï¼Œè¯¥ä½ä¸º 1&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;æœ€ç»ˆå¾—åˆ°çš„äºŒè¿›åˆ¶ä½ &lt;code&gt;100111&lt;&#x2F;code&gt;ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶çš„ &lt;code&gt;39&lt;&#x2F;code&gt;ï¼Œé­”å¸çš„ä½ç½®æ‰¾åˆ°äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fa-san&quot;&gt;å‘æ•£&lt;&#x2F;h3&gt;
&lt;p&gt;äºŒè¿›åˆ¶æ“ä½œä¸­ï¼Œè®©ä¸€éƒ¨åˆ†ä¿æŒä¸å˜ï¼Œå¦ä¸€éƒ¨åˆ†ç¿»è½¬ï¼Œè¿™ä¸ªè¡Œä¸ºä¸å°±æ˜¯å¼‚æˆ–(ä¸å˜çš„éƒ¨åˆ†ä¸º 0ï¼Œå˜åŒ–çš„éƒ¨åˆ†ä¸º 1)ä¹ˆï¼Œæ¯”å¦‚æƒ³è®© &lt;code&gt;100111&lt;&#x2F;code&gt; çš„æœ€åä¸€ä½å˜æˆ 0ï¼Œé‚£ä¹ˆåªè¦ä¸ &lt;code&gt;000001&lt;&#x2F;code&gt; æ‰§è¡Œå¼‚æˆ–æ“ä½œå°±è¡Œäº†ã€‚å¼‚æˆ–è¿˜æœ‰ä¸€ä¸ªæ€§è´¨æ˜¯ä¸åŒæ ·çš„æ•°å†æ¬¡å¼‚æˆ–å¯ä»¥å¾—åˆ°åŸå…ˆçš„æ•°ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œä¹Ÿå¯ä»¥å°†å¼‚æˆ–ç”¨åœ¨ä¸€äº›åŠ å¯†åœºæ™¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;datagenetics.com&#x2F;blog&#x2F;december12014&#x2F;index.html&quot;&gt;Impossible Escape?&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;æ ¹æ® &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Phuker&quot;&gt;Phuker&lt;&#x2F;a&gt; æä¾›çš„ 3B1B &lt;a href=&quot;https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1UD4y1U7or&quot;&gt;è§†é¢‘é“¾æ¥&lt;&#x2F;a&gt;ï¼Œå†è¿›è¡Œä¸€äº›å»¶å±•ã€‚è§†é¢‘é‡Œæåˆ°å¦‚æœä¸æ˜¯ 64 ä¸ªç¡¬å¸ï¼Œè€Œæ˜¯ 3 ä¸ªç¡¬å¸ï¼Œå°±æ²¡æœ‰å¿…èƒœçš„ç­–ç•¥äº†ã€‚è¿™å°±å¾ˆæœ‰æ„æ€äº†ï¼Œ3 ä¸ªç¡¬å¸ä¸­æ‰¾ä¸€ä¸ªä¸æ˜¯æ¯”ä» 64 ä¸­æ‰¾ä¸€ä¸ªç®€å•ä¹ˆï¼Ÿè¿˜çœŸä¸æ˜¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è§†é¢‘ä¸­æŠŠã€Œæ‰¾ç¡¬å¸ã€æ˜ å°„ä¸ºã€Œé¡¶ç‚¹ç€è‰²ã€é—®é¢˜ï¼Œç¿»è½¬ç¡¬å¸å°±æ˜¯ä»æŸä¸ªé¡¶ç‚¹åˆ°ç›¸é‚»é¡¶ç‚¹ï¼ˆn ä¸ªç¡¬å¸è¡¨ç¤º n ç»´ç©ºé—´ï¼‰ï¼Œ3 ä¸ªç¡¬å¸ï¼ˆå¯¹åº” 3 ä½äºŒè¿›åˆ¶ï¼‰ç¿»è½¬ä»»æ„ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯ä»ä¸€ä¸ªæ­£æ–¹ä½“ï¼ˆæ¯ä¸ªé¡¶ç‚¹æ˜¯ä¸€ä¸ª 3 ç»´åæ ‡ï¼Œå…·ä½“å¯ä»¥å‚è§è§†é¢‘ï¼‰8 ä¸ªé¡¶ç‚¹çš„ä»»æ„ä¸€ç‚¹åˆ°ç›¸é‚»ç‚¹ã€‚å› ä¸ºä¸çŸ¥é“è¿™ä¸‰ä¸ªç¡¬å¸ä¼šè¢«å¦‚ä½•æ‘†æ”¾ï¼Œä¹Ÿå°±æ˜¯ 8 ä¸ªé¡¶ç‚¹éƒ½æœ‰å¯èƒ½ï¼ˆ3 ä½äºŒè¿›åˆ¶ä¸€å…±æœ‰ 8 ç§æ‘†æ”¾å½¢å¼ï¼‰ï¼Œéœ€è¦ä»ä»»æ„ä¸€ä¸ªé¡¶ç‚¹å‡ºå‘ï¼Œåº”ç”¨æŸç§è§„åˆ™ï¼Œè®©ç›¸é‚»çš„ 3 ä¸ªç‚¹å¯¹åº” 3 ç§çŠ¶æ€ï¼Œè€Œè¿™æ˜¯æ— æ³•åšåˆ°çš„ï¼šæŠŠ 3 ç§çŠ¶æ€æ ‡è®°ä¸ºçº¢ç‚¹ã€ç»¿ç‚¹ã€è“ç‚¹ï¼Œæ¯ä¸ªé¡¶ç‚¹å¯¹åº”ä¸€ç§é¢œè‰²ï¼Œå¦‚æœè¦æ»¡è¶³éœ€æ±‚ï¼Œåˆ™åœ¨æ¯ä¸ªé¡¶ç‚¹çœ‹æ¥ï¼Œç›¸é‚»çš„ç‚¹ä¸€å®šæœ‰çº¢è‰²çš„ç‚¹ï¼ˆå…¶ä»–ç‚¹ä¹Ÿä¸€æ ·ï¼Œçº¢è‰²åªæ˜¯å…¶ä¸­ä¸€ç§ï¼‰ï¼Œä¹Ÿå°±æ˜¯ 8 ä¸ªç‚¹ï¼Œåˆå› ä¸º 1 ä¸ªç‚¹å‘¨å›´æœ‰ 3 ä¸ªç‚¹ï¼Œæ‰€ä»¥æ¯ä¸ªç‚¹éƒ½è¢«æ•°äº† 3 æ¬¡ï¼Œè¿™æ ·çš„è¯çº¢è‰²çš„ç‚¹å°±æœ‰ &lt;code&gt;8&#x2F;3&lt;&#x2F;code&gt; ä¸ªï¼Œè‡ªç„¶æ— æ³•å®ç°ã€‚è¦èƒ½è¢«æ•´é™¤ï¼Œä¹Ÿå°±æ˜¯ $2^n$&#x2F;n ä¸ºæ­£æ•´æ•°ï¼Œåˆ™ n æœ¬èº«å¿…é¡»æ˜¯ 2 çš„æ¬¡æ–¹ï¼Œå¦‚ 2ï¼Œ4ï¼Œ8ï¼Œ16... æ‰å¯ä»¥ï¼Œé¢˜ç›®ä¸­çš„ 64 æ˜¯ 2 çš„ 8 æ¬¡æ–¹ï¼Œå› æ­¤å¯ä»¥å®ç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è§†é¢‘ä¸­è¿˜æåˆ°äº†ã€Œæµ·æ˜ç ã€ï¼ŒåŸç†ä¸Šè·Ÿè¿™é“é¢˜çš„è§£æ³•å¾ˆåƒï¼Œä¹Ÿæ˜¯æ ¹æ®äºŒè¿›åˆ¶çš„ä½æ•°æ¥åˆ‡åˆ†åŒºåŸŸï¼Œä¸åŒçš„æ˜¯æ¯ä¸ªåŒºåŸŸæœ‰ä¸€ä½ï¼ˆç¬¬ä¸€ä½ï¼‰æ˜¯æ ¡éªŒä½ï¼Œå¯ä»¥æ˜¯å¥‡æ ¡éªŒï¼ˆè¯¥åŒºåŸŸçš„ 1 çš„ä¸ªæ•°ä¸ºå¥‡æ•°ï¼Œå¯ä»¥é€šè¿‡æ ¡éªŒä½æ¥ç¡®ä¿ï¼‰æˆ–å¶æ ¡éªŒã€‚å¦‚æœå…¶ä¸­æŸä¸€ä½å‡ºé”™ï¼ˆæ¯”å¦‚ 0 -&amp;gt; 1ï¼‰ï¼Œé‚£ä¹ˆä¸ä»…å¯ä»¥çŸ¥é“æœ‰é”™ï¼ˆåªè¦æ˜¯ä¸€ä½å‡ºé”™ï¼Œå¥‡å¶æ€§ä¸€å®šå‘ç”Ÿæ”¹å˜ï¼‰ï¼Œè¿˜èƒ½çŸ¥é“ç¬¬å‡ ä½é”™äº†ï¼ˆå°±åƒè¿™é“é¢˜ä¸­æ‰¾åˆ°é‚£ä¸ªé­”å¸ï¼‰ã€‚å…·ä½“åŸç†å¯ä»¥çœ‹ 3B1B çš„&lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=X8jsijhllIA&quot;&gt;è¿™ä¸ªè§†é¢‘&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ä»ã€Œåˆ›æ–°è€…ã€çœ‹è®¡ç®—æœºå‘å±•å²</title>
            <pubDate>Fri, 02 Jul 2021 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/computer-history/</link>
            <guid>https://limboy.me/posts/computer-history/</guid>
            <description>&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;35974&#x2F;124247497-86309a00-db54-11eb-832e-b1dc310ebcae.jpg&quot; alt=&quot;computer&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è®¡ç®—æœºä¸æ˜¯æŸä¸€ä¸ªäººåˆ›é€ å‡ºæ¥çš„ï¼Œè¿™å…¶ä¸­æœ‰å¾ˆå¤šæ°å‡ºçš„äººç‰©çš„å‚ä¸ï¼Œä»–ä»¬å½“ä¸­æ—¢æœ‰åŒ å¿ƒç‹¬å…·çš„åˆ›æ–°è€…ï¼Œä¹Ÿæœ‰ç»é¡¶èªæ˜çš„å¤©æ‰ã€‚æœ¬æ–‡ä¸»è¦æ ¹æ®ã€Œåˆ›æ–°è€…ã€ä¸€ä¹¦ä¸­æåˆ°çš„äººç‰©å’Œå‘å±•è½¨è¿¹ï¼Œç»“åˆå…¶ä»–ç›¸å…³èµ„æ–™å’Œè‡ªå·±çš„ç†è§£æ¢³ç†äº†å¤§æ¦‚çš„è„‰ç»œã€‚ï¼ˆå¯¹è®¡ç®—æœºå†å²æ„Ÿå…´è¶£çš„æ¨èçœ‹åŸä¹¦ï¼Œä¼šè¯¦ç»†å¾ˆå¤šï¼Œä¹Ÿæœ‰ä¸å°‘ç²¾å½©çš„æ•…äº‹ï¼‰&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼šå·´è´å¥‡å’ŒåŸƒè¾¾åœ¨ 19 ä¸–çºª 40 å¹´ä»£å°±æœ‰äº†å¯¹è®¡ç®—æœºçš„æ„æƒ³ï¼ˆå·´è´å¥‡åˆ†ææœºï¼‰ï¼ŒåŸƒè¾¾ä¹Ÿå› ä¸ºå¯¹å·´è´å¥‡åˆ†ææœºçš„æ³¨è§£ï¼Œæˆä¸ºè®¡ç®—æœºå†å²ä¸Šçš„ä¸€ä½é‡è¦äººç‰©ã€‚ä½†å› ä¸ºè·Ÿç°ä»£è®¡ç®—æœºè·ç¦»è¾ƒè¿œï¼Œå°±ä¸å±•å¼€äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹ä¸‹ã€Œåˆ›æ–°è€…ã€é‡Œçš„ç›¸å…³ç« èŠ‚ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h2 id=&quot;tu-ling-lun-ke-ji-suan-shu-ji-qi-zai-pan-ding-wen-ti-zhong-de-ying-yong&quot;&gt;å›¾çµï¼šè®ºå¯è®¡ç®—æ•°åŠå…¶åœ¨åˆ¤å®šé—®é¢˜ä¸­çš„åº”ç”¨&lt;&#x2F;h2&gt;
&lt;p&gt;1935 å¹´ï¼Œå›¾çµå¯¹æ•°ç†é€»è¾‘å‘ç”Ÿå…´è¶£ã€‚1936 å¹´å‘è¡¨ã€Œè®ºå¯è®¡ç®—æ•°åŠå…¶åœ¨åˆ¤å®šé—®é¢˜ä¸­çš„åº”ç”¨ã€ä¸€æ–‡ã€‚æ–‡ç« çš„ä¸»é¢˜æ˜¯å›ç­”å¸Œå°”ä¼¯ç‰¹ (David Hilbert)åœ¨ 1928 å¹´æå‡ºçš„ 3 ä¸ªæ•°å­¦éš¾é¢˜ä¹‹ä¸€ï¼šç³»ç»Ÿæ˜¯å¯åˆ¤å®šçš„å—ï¼Ÿæœ‰æ²¡æœ‰å¯ä»¥åˆ¤å®šç‰¹å®šå‘½é¢˜æ˜¯å¦å¯è¯æ˜çš„æ–¹æ³•ï¼Œä¼šä¸ä¼šå‡ºç°æŸäº›é™ˆè¿°å­˜åœ¨ä¸å¯åˆ¤å®šçŠ¶æ€çš„å¯èƒ½æ€§ï¼Ÿã€‚å›¾çµæœºå™¨å°±æ˜¯ä¸ºæ­¤æå‡ºçš„ä¸€ä¸ªæ¦‚å¿µã€‚è®ºæ–‡å‘è¡¨åå¼•èµ·ç¾å›½ç§‘å­¦å®¶çš„é‡è§†ï¼Œåº”é‚€åˆ°ç¾å›½æ™®æ—æ–¯é¡¿å¤§å­¦ï¼Œ1938 å–å¾—åšå£«å­¦ä½ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å›¾çµæœºå™¨æ˜¯å›¾çµåœ¨ä»–çš„è®ºæ–‡ä¸­æå‡ºçš„ä¸€ä¸ªæŠ½è±¡çš„è®¡ç®—æœºæ¨¡å‹ï¼Œç”±ä¸‹é¢å‡ éƒ¨åˆ†æ„æˆ&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;n ä¸ªç¬¦å· S={s1,...,sn},å…¶ä¸­æœ‰ç©ºæ ¼ç¬¦å· bâˆˆS ; m ä¸ªçŠ¶æ€ Q={q1,...,qm}, å…¶ä¸­æœ‰åˆå§‹çŠ¶æ€ q1âˆˆ Q&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ä¸€æ¡ä¸¤ä¸ªæ–¹å‘æˆ–ä¸€ä¸ªæ–¹å‘æ˜¯æ½œåœ¨æ— ç©·é•¿çš„ç”±æ ¼å­ç»„æˆçš„å¸¦å­ã€‚æ¯ä¸ªæ ¼å­å¯ä»¥å­˜æ”¾ä¸€ä¸ªç¬¦å·ã€‚å¸¦å­è¾¹é™„æœ‰ä¸€ä¸ªè¯»å†™å¤´ï¼Œè¯»å†™å¤´å¤„äºæŸä¸ªçŠ¶æ€å¹¶æŒ‡å‘æŸä¸ªæ ¼å­ï¼Œå¯ä»¥è¯»å†™æ‰€æŒ‡æ ¼å­ä¸Šçš„ç¬¦å·ï¼Œå¹¶åœ¨å¸¦å­ä¸Šå·¦å³ç§»åŠ¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;35974&#x2F;124247590-9ba5c400-db54-11eb-8d97-9d488827e324.png&quot; alt=&quot;5CDDDC9D-7BA4-49CD-B092-9726048E5E1A&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å›¾çµçš„ä¼Ÿå¤§è´¡çŒ®ä¸ä»…æ˜¯æå‡ºäº†å›¾çµæœºå™¨çš„æ¦‚å¿µï¼Œæ›´é‡è¦çš„æ˜¯è¿˜æå‡ºäº†é€šç”¨å›¾çµæœº (Universal Turing Machine ) çš„æ¦‚å¿µã€‚ ç°ä»£ç”µå­è®¡ç®—æœºçš„è®¡ç®—æ¨¡å‹å…¶å®å°±æ˜¯è¿™æ ·ä¸€ç§é€šç”¨å›¾çµæœºï¼Œå®ƒèƒ½æ¥å—ä¸€æ®µæè¿°å…¶ä»–å›¾çµæœºçš„ç¨‹åºï¼Œå¹¶è¿è¡Œç¨‹åºå®ç°è¯¥ç¨‹åºæ‰€æè¿°çš„ç®—æ³•ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xiang-nong-ji-dian-qi-kai-guan-dian-lu-de-fu-hao-fen-xi&quot;&gt;é¦™å†œï¼šç»§ç”µå™¨å¼€å…³ç”µè·¯çš„ç¬¦å·åˆ†æ&lt;&#x2F;h2&gt;
&lt;p&gt;1938 å¹´é¦™å†œåœ¨ MIT è·å¾—ç”µæ°”å·¥ç¨‹ç¡•å£«å­¦ä½ï¼Œç¡•å£«è®ºæ–‡é¢˜ç›®æ˜¯ã€ŒA Symbolic Analysis of Relay and Switching Circuitsã€ï¼ˆç»§ç”µå™¨ä¸å¼€å…³ç”µè·¯çš„ç¬¦å·åˆ†æï¼‰ï¼Œé¦–æ¬¡å°†ç”µè·¯å’Œæ•°å­¦è”ç³»èµ·æ¥ã€‚ä»–å·²ç»æ³¨æ„åˆ°ç”µè¯äº¤æ¢ç”µè·¯ä¸å¸ƒå°”ä»£æ•°ä¹‹é—´çš„ç±»ä¼¼æ€§ï¼Œå³æŠŠå¸ƒå°”ä»£æ•°çš„â€œçœŸâ€ä¸â€œå‡â€å’Œç”µè·¯ç³»ç»Ÿçš„â€œå¼€â€ä¸â€œå…³â€å¯¹åº”èµ·æ¥ï¼Œå¹¶ç”¨ 1 å’Œ 0 è¡¨ç¤ºã€‚äºæ˜¯ä»–ç”¨å¸ƒå°”ä»£æ•°åˆ†æå¹¶ä¼˜åŒ–å¼€å…³ç”µè·¯ï¼Œè¿™å°±å¥ å®šäº†æ•°å­—ç”µè·¯çš„ç†è®ºåŸºç¡€ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;PSï¼šå›¾çµè¿˜æ›¾ç»åœ¨è´å°”å®éªŒå®¤ä¸é¦™å†œä¸€èµ·è®¨è®ºè¿‡è„‘ç§‘å­¦ç›¸å…³çš„è¯é¢˜ï¼Œä»–ä»¬å‘ç°å„è‡ªåœ¨ 1937 å¹´å‘è¡¨çš„è®ºæ–‡ä¹‹é—´å­˜åœ¨ä¸€ä¸ªå…±åŒç‚¹ï¼šå®ƒä»¬éƒ½è¯æ˜äº†é‡‡ç”¨ç®€å•äºŒè¿›åˆ¶æŒ‡ä»¤æ“ä½œçš„æœºå™¨ä¸ä»…å¯ä»¥ç”¨äºè§£å†³æ•°å­¦é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿé€‚ç”¨äºæ‰€æœ‰çš„é€»è¾‘é—®é¢˜ã€‚ç”±äºé€»è¾‘æ˜¯äººè„‘æ€ç»´çš„åŸºç¡€ï¼Œå› æ­¤æœºå™¨åœ¨ç†è®ºä¸Šå¯ä»¥æ¨¡ä»¿äººç±»çš„æ™ºèƒ½ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h2 id=&quot;huo-hua-de-ai-ken-ma-ke-1-hao&quot;&gt;éœåå¾·Â·è‰¾è‚¯ï¼šé©¬å…‹ 1 å·&lt;&#x2F;h2&gt;
&lt;p&gt;åœ¨ 1937 å¹´ï¼Œä¸€ä½å«ä½œéœåå¾·Â·è‰¾è‚¯ï¼ˆHoward Aikenï¼‰çš„å“ˆä½›åšå£«ç ”ç©¶ç”Ÿæ­£åœ¨å‡†å¤‡è‡ªå·±çš„ç‰©ç†å­¦è®ºæ–‡ã€‚ä»–å‘ç°è®ºæ–‡ä¸­å¤æ‚å†—é•¿çš„è®¡ç®—å¾ˆéš¾ä½¿ç”¨åŠ æ³•æœºæ¥å®Œæˆï¼Œäºæ˜¯ä»–æ¸¸è¯´å­¦æ ¡å»ºé€ ä¸€å°æ›´åŠ å…ˆè¿›çš„è®¡ç®—æœºã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å“ˆä½›çš„é©¬å…‹ä¸€å·å€Ÿé‰´äº†å·´è´å¥‡çš„å¾ˆå¤šæƒ³æ³•ã€‚è¿™æ˜¯ä¸€å°æ•°å­—åŒ–çš„æœºå™¨ï¼Œä¸è¿‡å®ƒæ²¡æœ‰é‡‡ç”¨äºŒè¿›åˆ¶ï¼Œå®ƒçš„é½¿è½®è¡¨ç¤ºçš„æ˜¯åè¿›åˆ¶æ•°å­—ã€‚å®ƒæœ‰ä¸€æ ¹ 50 è‹±å°ºé•¿çš„è½¬è½´ï¼Œä¸Šé¢è£…æœ‰ 72 ä¸ªè®¡æ•°å™¨ï¼Œæ¯ä¸ªè®¡æ•°å™¨å¯ä»¥å‚¨å­˜é•¿è¾¾ 23 ä½çš„æ•°å­—ã€‚å®Œæ•´çš„æœºå™¨é‡é‡ä¸º 5 å¨ï¼Œé•¿ 80 è‹±å°ºï¼Œå®½ 50 è‹±å°ºã€‚æœºå™¨çš„è½¬è½´å’Œå…¶ä»–æ´»åŠ¨éƒ¨ä»¶æ˜¯é€šè¿‡ç”µåŠ›é©±åŠ¨çš„ï¼Œä½†å®ƒçš„è®¡ç®—é€Ÿåº¦å¹¶ä¸å¿«ã€‚è¿™æ˜¯å› ä¸ºå®ƒæ²¡æœ‰é‡‡ç”¨ç”µç£ç»§ç”µå™¨ï¼Œè€Œæ˜¯ä½¿ç”¨äº†æœºæ¢°ç»§ç”µå™¨ï¼Œè¿™ç§ç»§ç”µå™¨çš„æ¯æ¬¡å¼€å…³éƒ½æ˜¯ç”±ç”µåŠ¨é©¬è¾¾å®Œæˆçš„ã€‚å®ƒè®¡ç®—ä¸€æ¬¡ä¹˜æ³•å¤§æ¦‚è¦èŠ±å…­ç§’é’Ÿçš„æ—¶é—´ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæ–¯è’‚æ¯”å…¹çš„æœºå™¨åªéœ€ä¸€ç§’é’Ÿã€‚ä¸è¿‡å®ƒç¡®å®å…·å¤‡äº†ç°ä»£è®¡ç®—æœºçš„ä¸€ä¸ªåŸºæœ¬åŠŸèƒ½ï¼šå®ƒæ˜¯å®Œå…¨è‡ªåŠ¨åŒ–çš„ã€‚ç¨‹åºå’Œæ•°æ®çš„è¾“å…¥éƒ½é€šè¿‡çº¸å¸¦å®Œæˆï¼Œè€Œä¸”å®ƒè¿˜å¯ä»¥åœ¨æ²¡æœ‰äººä¸ºå¹²é¢„çš„æƒ…å†µä¸‹è¿ç»­è¿ä½œå¤šæ—¥ã€‚å› æ­¤è‰¾è‚¯å¯¹é©¬å…‹ä¸€å·çš„è¯„ä»·æ˜¯â€œå·´è´å¥‡çš„æ¢¦æƒ³å®ç°äº†â€ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;mo-qi-li-ai-ke-te-eniac&quot;&gt;è«å¥‡åˆ©&#x2F;åŸƒå…‹ç‰¹ï¼šENIAC&lt;&#x2F;h2&gt;
&lt;p&gt;è«å¥‡åˆ©åœ¨åç››é¡¿éƒŠåŒºçš„åˆ‡ç»´è”¡æ–¯é•‡é•¿å¤§ï¼Œä»å°å°±å—åˆ°äº†åœ¨è¿™ä¸ªåœ°åŒºä¸æ–­å¢è¿›çš„ç§‘å­¦æ°›å›´çš„ç†é™¶ï¼Œå¯Œæœ‰äººæ ¼é­…åŠ›ï¼Œè€Œä¸”ååˆ†æ“…é•¿ï¼ˆå’Œçƒ­è¡·äºï¼‰è§£é‡Šäº‹ç‰©ï¼Œåæ¥æˆä¸ºäº†ä¸€åæ•™æˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è·Ÿå…¶ä»–éœ€è¦åœ¨å·¥ä½œä¸­è¿›è¡Œå¤§é‡å¤æ‚è®¡ç®—çš„äººä¸€æ ·ï¼Œè«å¥‡åˆ©ä¹Ÿå¸Œæœ›å‘æ˜ä¸€å°å¯ä»¥å®Œæˆè¿™äº›è®¡ç®—çš„æœºå™¨ã€‚ä½œä¸ºä¸€ä¸ªå–„äºç¤¾äº¤çš„äººï¼Œä»–å¼€å§‹å››å¤„äº†è§£å…¶ä»–äººæ­£åœ¨åšçš„äº‹æƒ…ï¼Œå¹¶å°†äº†è§£åˆ°çš„æƒ³æ³•èä¼šè´¯é€šâ€”â€”è¿™æ˜¯ä¼Ÿå¤§åˆ›æ–°è€…ä¹‹é—´çš„ä¸€ä¸ªå…±åŒç‚¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ä»–å†³å®šè¦åˆ¶é€ ä¸€å°è‡ªå·±çš„çœŸç©ºç®¡è®¡ç®—æœºä¹‹åï¼Œè«å¥‡åˆ©åšäº†ä¸€ä»¶è¡¨ç°å‡ºä¼˜ç§€åˆ›æ–°è€…ç‰¹ç‚¹çš„äº‹æƒ…ï¼šæ€»ç»“è‡ªå·±åœ¨å››å¤„è€ƒå¯ŸæœŸé—´æ‰€äº†è§£åˆ°çš„å…¨éƒ¨ä¿¡æ¯ã€‚ä»–çš„ä¿¡æ¯æ”¶é›†æ¥æºåŒ…æ‹¬æ–¯æ²ƒæ–¯æ‘©å°”å­¦é™¢ã€è¾¾ç‰¹èŒ…æ–¯å­¦é™¢ã€è´å°”å®éªŒå®¤ã€ç¾å›½æ— çº¿ç”µå…¬å¸ã€ä¸–ç•Œåšè§ˆä¼šå’Œè‰¾å¥¥ç“¦å·å·ç«‹å¤§å­¦ç­‰å„ç§åœ°æ–¹ï¼Œç„¶åä»–ä¼šæŠŠæ”¶é›†åˆ°çš„ä¿¡æ¯èåˆæˆä¸ºè‡ªå·±çš„æƒ³æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»–åœ¨å½“å¹´çš„å¤å­£è¯¾ç¨‹ä¸­è®¤è¯†äº†ä¸€ä½éå¸¸é€‚åˆå‚ä¸è¿™é¡¹å·¥ä½œçš„æ­æ¡£ï¼šåŸƒå…‹ç‰¹ï¼Œä¸€ä½å¯¹ç²¾å¯†å·¥ç¨‹æœ‰ç€å®Œç¾ä¸»ä¹‰æƒ…èŠ‚çš„ç ”ç©¶ç”Ÿã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ˜äº‰ä¼šä¿ƒè¿›ç§‘å­¦çš„å‘å±•ã€‚ç¾å›½åœ¨ 1941 å¹´ 12 æœˆæ­£å¼åŠ å…¥â€œäºŒæˆ˜â€ï¼Œæˆ˜äº‰çš„éœ€è¦ä½¿å¾—ç¾å›½æœ‰å……è¶³çš„åŠ¨åŠ›ä¸ºè«å¥‡åˆ©å’ŒåŸƒå…‹ç‰¹æ­£åœ¨ç ”å‘çš„æœºå™¨æä¾›èµ„åŠ©ã€‚å®¾å¤•æ³•å°¼äºšå¤§å­¦å’Œä½äºé˜¿ä¼¯ä¸è¯•éªŒåœºçš„é™†å†›å†›æ¢°éƒ¨å½“æ—¶å¾—åˆ°äº†ä¸€é¡¹å†›æ–¹æŒ‡æ´¾çš„ä»»åŠ¡â€”â€”ä¸ºç¾å›½è¾“é€åˆ°æ¬§æ´²çš„ç«ç‚®æ­¦å™¨åˆ¶ä½œè®°å½•å‘å°„è§’è®¾ç½®çš„è¯´æ˜ä¹¦ã€‚ä¸ºäº†å®ç°ç²¾ç¡®çš„ç„å‡†ï¼Œè¿™äº›ç«ç‚®çš„å¼¹é“è¡¨éœ€è¦è€ƒè™‘æ•°ç™¾é¡¹å‘å°„æ¡ä»¶ï¼ŒåŒ…æ‹¬æ¸©åº¦ã€æ¹¿åº¦ã€é£é€Ÿã€é«˜åº¦å’Œç«è¯çš„ç§ç±»ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»…ä»…é’ˆå¯¹ä¸€ç§ç«ç‚®å‘å°„çš„ä¸€ç§ç‚®å¼¹ï¼Œå®ƒçš„å¼¹é“è¡¨åˆ¶ä½œå°±éœ€è¦é€šè¿‡å¾®åˆ†æ–¹ç¨‹ç»„è®¡ç®—ä¸‰åƒæ¡å¼¹é“ã€‚è¿™é¡¹å·¥ä½œé€šå¸¸ä¼šä½¿ç”¨ä¸‡å°¼ç“¦å°”Â·å¸ƒä»€åœ¨éº»çœç†å·¥å­¦é™¢å‘æ˜çš„å¾®åˆ†åˆ†ææœºæ¥å®Œæˆã€‚è¿™å°æœºå™¨çš„è®¡ç®—å·¥ä½œéœ€è¦è¶…è¿‡ 170 ä¸ªäººçš„ååŠ©ï¼Œè¿™äº›è¢«ç§°ä¸ºâ€œè®¡ç®—å‘˜â€ï¼ˆcomputerï¼‰çš„å·¥ä½œäººå‘˜å¤§å¤šæ•°éƒ½æ˜¯å¥³æ€§ã€‚ä¸ºäº†æ±‚è§£è¿™äº›æ–¹ç¨‹ï¼Œä»–ä»¬éœ€è¦åœ¨æ¡Œé¢åŠ æ³•æœºä¸Šè¿›è¡Œç¹å¤çš„æ“ä½œã€‚è¿™é¡¹å·¥ä½œå¬é›†äº†å…¨å›½å„åœ°çš„å¥³æ€§æ•°å­¦ä¸“ä¸šå­¦ç”Ÿæ¥å®Œæˆã€‚å°½ç®¡å¦‚æ­¤ï¼Œä»…ä»…ä¸ºäº†è®¡ç®—ä¸€ä¸ªå¼¹é“è¡¨å°±è¦èŠ±è´¹è¶…è¿‡ä¸€ä¸ªæœˆçš„æ—¶é—´ã€‚åˆ°äº† 1942 å¹´å¤å¤©ï¼Œè¿™æ ·çš„è®¡ç®—è¿›åº¦æ˜¾ç„¶å·²ç»è¶Šæ¥è¶Šè·Ÿä¸ä¸Šæˆ˜äº‹çš„éœ€æ±‚ï¼Œå¯¼è‡´ç¾å†›çš„éƒ¨åˆ†ç«ç‚®å‡ºç°äº†æ— æ³•ä½¿ç”¨çš„æƒ…å†µã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è«å¥‡åˆ©åœ¨å½“å¹´ 8 æœˆå†™äº†ä¸€ä»½å¤‡å¿˜å½•ï¼Œä»–åœ¨å…¶ä¸­æå‡ºäº†ä¸€ä¸ªå¯ä»¥å¸®åŠ©å†›æ–¹è§£å†³è¿™ä¸ªéš¾é¢˜çš„æ–¹æ³•ã€‚è¿™ä»½å°†ä¼šæ”¹å˜è®¡ç®—æœºå‘å±•å†å²çš„å¤‡å¿˜å½•çš„é¢˜ç›®æ˜¯â€œé«˜é€ŸçœŸç©ºç®¡è®¾å¤‡çš„è®¡ç®—åº”ç”¨â€ã€‚è«å¥‡åˆ©åœ¨å¤‡å¿˜å½•ä¸­ä¸ºä»–å’ŒåŸƒå…‹ç‰¹å¸Œæœ›å»ºé€ çš„æœºå™¨è¯·æ±‚èµ„åŠ©ï¼šè¿™æ˜¯ä¸€å°ä½¿ç”¨çœŸç©ºç®¡ç”µè·¯çš„æ•°å­—ç”µå­è®¡ç®—æœºï¼Œå®ƒå¯ä»¥æ±‚è§£å¾®åˆ†æ–¹ç¨‹å’Œè¿›è¡Œå…¶ä»–çš„æ•°å­¦è®¡ç®—ã€‚ä»–è¡¨ç¤ºï¼Œâ€œå¦‚æœè¿™ç§æœºå™¨èƒ½å¤Ÿé‡‡ç”¨ç”µå­å…ƒä»¶ï¼Œå®ƒä»¬çš„è®¡ç®—é€Ÿåº¦å°†ä¼šå¾—åˆ°å¤§å¹…æå‡ã€‚â€ ç¾å›½é™†å†›éƒ¨åœ¨ 1943 å¹´ 4 æœˆ 9 æ—¥æ­£å¼å†³å®šèµ„åŠ©å»ºé€ è¿™å°ç”µå­è®¡ç®—æœºã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™å°æœºå™¨åœ¨ä¸ä¹…åå°±è¢«èµ‹äºˆäº†ä¸€ä¸ªæ›´å®¹æ˜“è¢«è®°ä½çš„åå­—ï¼šENIACï¼Œå³ç”µå­æ•°å­—ç§¯åˆ†è®¡ç®—æœºï¼ˆElectronic Numerical Integrator andComputerï¼‰ã€‚å°½ç®¡ ENIAC çš„ä¸»è¦è®¾è®¡ç”¨é€”æ˜¯æ±‚è§£å¾®åˆ†æ–¹ç¨‹ï¼Œè¿™æ˜¯è®¡ç®—ç«ç‚®å¼¹é“çš„å…³é”®æ‰€åœ¨ï¼Œä½†æ˜¯è«å¥‡åˆ©åœ¨æŠ¥å‘Šä¸­è¡¨ç¤ºå®ƒå¯ä»¥é…æœ‰ä¸€ä¸ªâ€œç¼–ç¨‹è®¾å¤‡â€ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥ç”¨äºå®Œæˆå…¶ä»–çš„ä»»åŠ¡ï¼Œæˆä¸ºä¸€å°æ›´ä¸ºé€šç”¨çš„è®¡ç®—æœºã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;è™½ç„¶ ENIAC æ˜¯ä¸€å°æ•°å­—åŒ–çš„è®¡ç®—æœºï¼Œä½†å®ƒæ²¡æœ‰é‡‡ç”¨äºŒè¿›åˆ¶ç³»ç»Ÿï¼ˆåªä½¿ç”¨ 0 å’Œ 1 ä¸¤ä¸ªæ•°å­—ï¼‰ï¼Œè€Œæ˜¯é€‰æ‹©äº†åè¿›åˆ¶ç³»ç»Ÿï¼Œå®ƒé‡‡ç”¨çš„è®¡æ•°å™¨æ˜¯å¸¦æœ‰åä¸ªæ•°å­—çš„ã€‚ENIAC åœ¨ 1945 å¹´ 11 æœˆå¼€å§‹å…¨é¢æŠ•å…¥è¿ä½œã€‚å®ƒå½“æ—¶å¯ä»¥åœ¨ä¸€ç§’é’Ÿä¹‹å†…è¿›è¡Œ 5 000 æ¬¡åŠ å‡æ³•è¿ç®—ï¼Œè¿™ä¸ªè¿ç®—é€Ÿåº¦è¦æ¯”ä¹‹å‰å‘æ˜çš„è®¡ç®—æœºå¿« 100 å€ã€‚å®ƒçš„é•¿åº¦ä¸º 100 è‹±å°ºï¼Œé«˜ä¸º 8 è‹±å°ºï¼Œå åœ°é¢ç§¯ç›¸å½“äºä¸€é—´æ™®é€šçš„ä¸‰å±…å®¤å…¬å¯“ã€‚å®ƒçš„é‡é‡æ¥è¿‘ 30 å¨ï¼Œæœºå™¨å†…éƒ¨å«æœ‰ 17 468 ä¸ªçœŸç©ºç®¡ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h2 id=&quot;feng-nuo-yi-man-guan-yu-edvac-de-bao-gao-chu-gao&quot;&gt;å†¯Â·è¯ºä¼Šæ›¼ï¼šå…³äº EDVAC çš„æŠ¥å‘Šåˆç¨¿&lt;&#x2F;h2&gt;
&lt;p&gt;20 ä¸–çºª 30 å¹´ä»£åæœŸï¼Œèº«å¤„é«˜ç­‰ç ”ç©¶é™¢çš„å†¯Â·è¯ºä¾æ›¼å¼€å§‹å°†ç ”ç©¶å…´è¶£è½¬å‘åˆ©ç”¨æ•°å­¦æ–¹å¼å»ºæ¨¡çˆ†ç‚¸çš„å†²å‡»æ³¢ã€‚å‡­å€Ÿè¿™æ–¹é¢çš„ç ”ç©¶ç»éªŒï¼Œä»–åœ¨ 1943 å¹´åŠ å…¥äº†æ›¼å“ˆé¡¿è®¡åˆ’ã€‚ä½œä¸ºæ›¼å“ˆé¡¿è®¡åˆ’çš„æˆå‘˜ï¼Œä»–éœ€è¦ç»å¸¸å‰å¾€ä½äºæ–°å¢¨è¥¿å“¥å·æ´›æ–¯é˜¿æ‹‰è«æ–¯çš„ç§˜å¯†è®¾æ–½ï¼Œå‚ä¸é‚£é‡Œçš„åŸå­å¼¹ç ”å‘å·¥ä½œã€‚ç”±äºå½“æ—¶å¯ç”¨çš„é“€â€“235 åªè¶³å¤Ÿåˆ¶é€ ä¸€ä¸ªåŸå­å¼¹ï¼Œæ‰€ä»¥æ´›æ–¯é˜¿æ‹‰è«æ–¯çš„ç§‘å­¦å®¶ä»¬ä¹Ÿåœ¨å°è¯•è®¾è®¡ä¸€ç§ä½¿ç”¨é’šâ€“239 çš„åŸå­å¼¹ã€‚å†¯Â·è¯ºä¾æ›¼çš„ä¸»è¦å·¥ä½œæ˜¯ç ”åˆ¶èƒ½å¤Ÿå°†é’šæ ¸è£…æ–™å‹ç¼©è‡³ä¸´ç•Œè´¨é‡çš„ç‚¸è¯é€é•œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§å†…çˆ†å¼è®¾è®¡çš„è¯„ä¼°éœ€è¦æ±‚è§£å¤§é‡çš„æ–¹ç¨‹ï¼Œç”¨äºè®¡ç®—çˆ†ç‚¸äº§ç”Ÿçš„ç©ºæ°”æˆ–å…¶ä»–ç‰©è´¨çš„å‹ç¼©æµé€Ÿã€‚äºæ˜¯å†¯Â·è¯ºä¾æ›¼å¼€å§‹å‰å¾€å„åœ°äº†è§£é«˜é€Ÿè®¡ç®—æœºçš„å‘å±•å‰æ™¯ã€‚åœ¨å½“å¹´çš„å¤å¤©å’Œç§‹å¤©ï¼Œä»–å¤šæ¬¡æ¥å›ç©¿æ¢­äºå“ˆä½›å¤§å­¦ã€æ™®æ—æ–¯é¡¿å¤§å­¦ã€è´å°”å®éªŒå®¤å’Œé˜¿ä¼¯ä¸ä¹‹é—´ï¼Œä»–å°±åƒæ˜¯ä¸€åªèœœèœ‚ä¸€æ ·å°†è‡ªå·±åœ¨å„ä¸ªåœ°æ–¹é‡‡é›†åˆ°çš„æƒ³æ³•ä¼ æ’­ç»™ä¸åŒçš„å›¢é˜Ÿã€‚çº¦ç¿°Â·è«å¥‡åˆ©æ›¾ç»åˆ©ç”¨è‡ªå·±åœ¨å››å¤„è®¿é—®æœŸé—´æ”¶é›†çš„æƒ³æ³•åˆ›é€ äº†ç¬¬ä¸€å°å¯è¡Œçš„ç”µå­è®¡ç®—æœºï¼ŒåŒæ ·ï¼Œå†¯Â·è¯ºä¾æ›¼ä¹Ÿåœ¨ä¸åŒçš„åœ°æ–¹å¸æ”¶åˆ°è®¾è®¡å­˜å‚¨ç¨‹åºçš„è®¡ç®—æœºç»“æ„æ‰€éœ€çš„èµ„æ–™å’Œæ¦‚å¿µã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ENIAC å¯ä»¥åœ¨ä¸€ä¸ªå°æ—¶ä¹‹å†…æ±‚è§£ä¸€é“åå¾®åˆ†æ–¹ç¨‹ï¼Œè€Œå“ˆä½›é©¬å…‹ä¸€å·åˆ™éœ€è¦èŠ±è´¹ 80 ä¸ªå°æ—¶ã€‚è¿™ç‚¹æ·±æ·±åœ°æ‰“åŠ¨äº†å†¯Â·è¯ºä¾æ›¼ã€‚ç„¶è€Œï¼Œä¸ºä¸åŒçš„ä»»åŠ¡é‡æ–°ç¼–ç¨‹ ENIAC å°†éœ€è¦æ•°ä¸ªå°æ—¶çš„æ—¶é—´ï¼Œå†¯Â·è¯ºä¾æ›¼æ„è¯†åˆ°å½“éœ€è¦å¤„ç†å¤§é‡å„ä¸ç›¸åŒçš„ä»»åŠ¡æ—¶ï¼Œè¿™å°†ä¼šæ˜¯ä¸€ä¸ªä¸¥é‡çš„ç¼ºç‚¹ã€‚å†¯Â·è¯ºä¾æ›¼åæ¥æˆä¸º ENIAC å›¢é˜Ÿçš„é¡¾é—®ï¼Œä»–åšæŒè®¡ç®—æœºç¨‹åºåº”è¯¥ä¸æ•°æ®ä¿å­˜åœ¨åŒä¸€ä¸ªå­˜å‚¨å™¨ä¸­çš„æƒ³æ³•ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­è½»æ˜“åœ°å¯¹å…¶è¿›è¡Œè°ƒæ•´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨å®¾å¤•æ³•å°¼äºšå¤§å­¦å¿™ç¢Œå·¥ä½œäº† 10 ä¸ªæœˆä¹‹åï¼Œä»–ä¸»åŠ¨æå‡ºå°†ä»–ä»¬çš„è®¨è®ºå†…å®¹ä»¥ä¹¦é¢å½¢å¼æ±‡æ€»èµ·æ¥ã€‚ä»–åœ¨å¼€å¾€æ´›æ–¯é˜¿æ‹‰è«æ–¯çš„é•¿é€”åˆ—è½¦ä¸Šå¼€å§‹æ’°å†™è¿™ä»½æŠ¥å‘Šã€‚ä¹Ÿå°±æ˜¯è‘—åçš„ã€ŒFirst Draft of a Report on the EDVACã€ï¼Œè‰æ¡ˆä¸ä»…è¯¦è¿°äº† EDVAC çš„è®¾è®¡ï¼Œè¿˜ä¸ºç°ä»£è®¡ç®—æœºçš„å‘å±•æŒ‡æ˜äº†é“è·¯ï¼š 1. æœºå™¨å†…éƒ¨ä½¿ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºæ•°æ®ï¼› 2. åƒå­˜å‚¨æ•°æ®ä¸€æ ·å­˜å‚¨ç¨‹åºï¼› 3. è®¡ç®—æœºç”±è¿ç®—å™¨ã€æ§åˆ¶å™¨ã€å­˜å‚¨å™¨ã€è¾“å…¥æ¨¡å—å’Œè¾“å‡ºæ¨¡å— 5 éƒ¨åˆ†ç»„æˆã€‚è¿™ä»½æŠ¥å‘Šæ˜¯è®¡ç®—æœºå‘å±•å²ä¸Šä¸€ä¸ªåˆ’æ—¶ä»£çš„æ–‡çŒ®ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;PS: åè¿›åˆ¶åœ¨è®¡ç®—æœºä¸­è¡¨ç¤ºæ˜¯å¾ˆéº»çƒ¦çš„ï¼Œè®¡ç®—æœºåšçš„éƒ½æ˜¯ä½è¿ç®—ï¼Œé‚£è¯¥æ€ä¹ˆç”¨ç”µè·¯æ¥æ¨¡æ‹Ÿè¿™åç§çŠ¶æ€å‘¢ï¼Ÿäºæ˜¯äººä»¬ç”¨ç”µå‹æ¥æ§åˆ¶æ•°å­—ï¼Œæ¯éš” 0.5v å°±ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼Œæ¯”æ–¹è¯´ 0.5v ä»£è¡¨ 1,1.0v ä»£è¡¨ 2ï¼Œä½†ç”±äºå½“æ—¶çš„æœºèƒ½æ‰€é™ï¼ŒçœŸç©ºç”µå­ç®¡çš„ç²¾åº¦å ªå¿§ï¼Œè¿™å°±å¯¼è‡´å¾—å‡ºçš„ç»“æœå¾€å¾€ä¸å‡†ç¡®ï¼›æœ€åè®¾è®¡è€…ä»¬ä¹Ÿæ²¡åŠæ³•äº†ï¼Œå¹²è„†ç”¨åæ ¹ç”µå­ç®¡ä»£æ›¿ 0-9ï¼Œè¿™ç§ç®€å•ç²—æš´çš„æ–¹å¼ä½¿è®©æ¥çº¿å˜å¾—å¼‚å¸¸å¤æ‚ï¼Œè¿˜é€ æˆäº†ä¸¥é‡çš„ç¡¬ä»¶æµªè´¹ï¼Œè®¡ç®—æœºçš„ä½“ç§¯ä¹Ÿæ˜¯ç›¸å½“åºå¤§ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h2 id=&quot;xiang-nong-xin-xi-lun&quot;&gt;é¦™å†œï¼šä¿¡æ¯è®º&lt;&#x2F;h2&gt;
&lt;p&gt;æ˜¯çš„ï¼Œè¿˜æ˜¯é‚£ä¸ªç†Ÿæ‚‰çš„é¦™å†œï¼Œ1948 å¹´ï¼Œé¦™å†œå‘è¡¨è®ºæ–‡ã€Šé€šä¿¡çš„æ•°å­¦ç†è®ºã€‹ï¼ˆA Mathematical Theory of Communicationï¼‰ï¼Œä¿¡æ¯è®ºçš„ä¼Ÿå¤§ä¹‹å¤„åœ¨äºç”¨æ•°å­¦æè¿°ä¿¡æ¯ï¼Œè®©ä¿¡æ¯å˜å¾—å¯æµ‹ï¼Œåœ¨ä¿¡å·å¤„ç†ã€æ•°æ®å‹ç¼©ã€è‡ªç„¶è¯­è¨€ç­‰è®¸å¤šé¢†åŸŸï¼Œèµ·ç€å…³é”®ä½œç”¨ã€‚æ–‡ä¸­ä»–æå‡ºäº†ç°åœ¨ç†ŸçŸ¥çš„æ¯”ç‰¹ï¼ˆBitï¼‰æ¦‚å¿µï¼Œä»¥åŠè‘—åçš„ä¿¡æ¯ç†µã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xiao-ke-li-ba-ding-bu-la-dun-jing-ti-guan&quot;&gt;è‚–å…‹åˆ©&#x2F;å·´ä¸&#x2F;å¸ƒæ‹‰é¡¿ï¼šæ™¶ä½“ç®¡&lt;&#x2F;h2&gt;
&lt;p&gt;è®¡ç®—æœºçš„å‘æ˜å¹¶æ²¡æœ‰ç«‹åˆ»å¼•èµ·ä¸€åœºé©å‘½ã€‚è¿™æ˜¯å› ä¸ºå®ƒä»¬éœ€è¦ä¾èµ–ä½¿ç”¨å¤§ä½“ç§¯ã€é«˜æˆæœ¬ã€æ˜“æŸåå’Œé«˜è€—èƒ½çš„çœŸç©ºç®¡æ‰èƒ½è¿ä½œï¼Œæœ€åˆçš„è®¡ç®—æœºéƒ½æ˜¯ä¸€äº›é€ ä»·ä¸è²çš„åºç„¶å¤§ç‰©ï¼Œåªæœ‰ä¼ä¸šã€ç ”ç©¶æ€§å¤§å­¦å’Œå†›äº‹è®¾æ–½æ‰èƒ½æ‹¥æœ‰å®ƒä»¬ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“æ—¶è´å°”å®éªŒå®¤è¶Šæ¥è¶Šé‡è§†ä¸€ä¸ªç ”ç©¶é¢†åŸŸï¼šå›ºä½“ç‰©ç†å­¦ã€‚è¿™æ˜¯ä¸€é—¨ç ”ç©¶ç”µå­å¦‚ä½•åœ¨å›ºä½“ææ–™ä¹‹ä¸­æµåŠ¨çš„å­¦ç§‘ï¼Œå®ƒå°¤å…¶éœ€è¦ç†è®ºå®¶å’Œå·¥ç¨‹å¸ˆä¹‹é—´çš„è”åˆã€‚20 ä¸–çºª 30 å¹´ä»£ï¼Œè´å°”å®éªŒå®¤çš„å·¥ç¨‹å¸ˆä»¬ä¸€ç›´åœ¨æµ‹è¯•åŒ…æ‹¬ç¡…åœ¨å†…çš„å„ç§ææ–™ã€‚ç¡…æ˜¯åœ°å£³ä¸­é™¤äº†æ°§ä¹‹å¤–æœ€å¸¸è§çš„å…ƒç´ ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ²™å­çš„ä¸»è¦æˆåˆ†ã€‚åœ¨è¿™äº›æµ‹è¯•å½“ä¸­ï¼Œä»–ä»¬ä¼šå°†ä¸åŒçš„ææ–™é€šç”µï¼Œå¹¶å°è¯•æ§åˆ¶ææ–™ä¸­çš„ç”µæµã€‚ä¸æ­¤åŒæ—¶ï¼Œè´å°”å®éªŒå®¤çš„ç†è®ºå®¶ä»¬æ­£åœ¨åŒä¸€æ ‹å¤§æ¥¼é‡Œé¢åŸ‹å¤´ç ”ç©¶é‡å­åŠ›å­¦é¢†åŸŸçš„æƒŠäººå‘ç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨é‡å­ç†è®ºä¸æ–­å‘å±•çš„åŒæ—¶ï¼Œè´å°”å®éªŒå®¤çš„å†¶é‡‘å­¦å®¶ä¹Ÿåœ¨ç ”ç©¶åˆ¶ä½œæ–°å‹ææ–™çš„æ–¹å¼ï¼Œä»–ä»¬é‡‡ç”¨äº†å…¨æ–°çš„æçº¯æŠ€æœ¯ã€åŒ–å­¦å¤„ç†æ–¹æ³•ä»¥åŠç¨€æœ‰çŸ¿ç‰©å’Œæ™®é€šçŸ¿ç‰©ä¹‹é—´çš„åˆæˆé…æ–¹ã€‚ä¸ºäº†è§£å†³ä¸€äº›å¸¸è§çš„é—®é¢˜ï¼Œæ¯”å¦‚çœŸç©ºç®¡çš„ç¯ä¸å¤ªå®¹æ˜“çƒ§åï¼Œæˆ–è€…ç”µè¯è¯ç­’è†œç‰‡å‘å‡ºçš„å£°éŸ³å¤ªå°ç­‰ï¼Œä»–ä»¬å°è¯•åˆæˆäº†ä¸€äº›æ–°å‹åˆé‡‘ï¼Œç„¶åé€šè¿‡åŠ çƒ­æˆ–å†·å´çš„æ–¹å¼æ¥æå‡è¿™äº›åˆé‡‘çš„æ€§èƒ½ã€‚ä»–ä»¬å°±åƒæ˜¯å¨æˆ¿é‡Œçš„å¤§å¨ä¸€æ ·ï¼Œåœ¨ä¸æ–­çš„è¯•é”™è¿‡ç¨‹ä¸­æ€èµ·äº†ä¸€åœºææ–™ç§‘å­¦çš„é©å‘½ï¼Œå®ƒä¸é‡å­åŠ›å­¦é¢†åŸŸæ­£åœ¨è¿›è¡Œçš„ç†è®ºé©å‘½é½å¤´å¹¶è¿›ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨æµ‹è¯•ç¡…å’Œé”—çš„ææ–™æ ·æœ¬çš„è¿‡ç¨‹ä¸­ï¼Œè´å°”å®éªŒå®¤çš„åŒ–å­¦å·¥ç¨‹å¸ˆå¶ç„¶è¯å®äº†ç†è®ºå®¶ä»¬æå‡ºçš„å¤§éƒ¨åˆ†çŒœæƒ³ã€‚ä»–ä»¬å‘ç°ç†è®ºå®¶ã€å·¥ç¨‹å¸ˆå’Œå†¶é‡‘å­¦å®¶ä¹‹é—´æœ‰ç€è®¸å¤šå¯ä»¥äº’ç›¸å­¦ä¹ çš„åœ°æ–¹ï¼Œäºæ˜¯è´å°”å®éªŒå®¤åœ¨ 1936 å¹´æˆç«‹äº†ä¸€ä¸ªå›ºä½“ç‰©ç†ç ”ç©¶å°ç»„ï¼Œè¿™æ”¯é˜Ÿä¼èšé›†äº†ä¸€æ‰¹å®ç”¨å’Œç†è®ºé¢†åŸŸçš„é‡é‡çº§äººç‰©ã€‚ä»–ä»¬ä¼šåœ¨æ¯å‘¨ä¸¾è¡Œä¸€æ¬¡çš„åˆåèšä¼šä¸Šåˆ†äº«å„è‡ªçš„å‘ç°ï¼Œå…¶é—´è¿˜ä¼šè¿›è¡Œå­¦é™¢é£æ ¼çš„äº’ç›¸è´¨é—®ç¯èŠ‚ã€‚åœ¨æ­£å¼çš„èšä¼šè¿‡åï¼Œä»–ä»¬ä¼šç»§ç»­å‚ä¸ä¸€äº›æŒç»­åˆ°æ·±å¤œçš„éæ­£å¼è®¨è®ºã€‚ä¸ä»…ä»…é˜…è¯»å„è‡ªçš„è®ºæ–‡ç›¸æ¯”ï¼Œäº²è‡ªä¼šé¢è®¨è®ºæ˜¯ä¸€ç§æ›´æœ‰æˆæ•ˆçš„åšæ³•ï¼šé¢‘ç¹çš„äº’åŠ¨å¯ä»¥å°†äººä»¬çš„æƒ³æ³•è·ƒè¿åˆ°æ›´é«˜çš„è½¨é“ä¸Šï¼Œå°±åƒæ˜¯ç”µå­ä¸€æ ·ï¼Œå¶å°”æŒ£è„±æŸç¼šçš„æƒ³æ³•ä¹Ÿä¼šå¼•èµ·ä¸€äº›è¿é”ååº”ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è‚–å…‹åˆ©åœ¨ 1936 å¹´ä»éº»çœç†å·¥å­¦é™¢æ¯•ä¸šï¼Œè¿™æ—¶è´å°”å®éªŒå®¤çš„é»˜æ–‡Â·å‡¯åˆ©æ¥åˆ°å­¦æ ¡é¢è¯•ä»–ï¼Œå¹¶å½“åœºä¸ºä»–æä¾›äº†ä¸€ä»½å·¥ä½œã€‚ä»–è¿˜å‘è‚–å…‹åˆ©æŒ‡æ´¾äº†ä¸€é¡¹ä»»åŠ¡ï¼šæ‰¾å‡ºä¸€ç§å¯ä»¥æ›¿ä»£çœŸç©ºç®¡çš„è£…ç½®ï¼Œå®ƒéœ€è¦æ¯”çœŸç©ºç®¡æ›´åŠ å¯é ã€ç¨³å®šå’Œå»‰ä»·ã€‚ç»è¿‡äº†ä¸‰å¹´çš„ç ”ç©¶ä¹‹åï¼Œè‚–å…‹åˆ©å¼€å§‹ç¡®ä¿¡è‡ªå·±å¯ä»¥æ‰¾å‡ºè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆâ€”â€”åˆ©ç”¨åŒ…æ‹¬ç¡…åœ¨å†…çš„å›ºä½“ææ–™å–ä»£å¸¦æœ‰å‘å…‰ç¯ä¸çš„çœŸç©ºç®¡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ­£å¦‚è«å¥‡åˆ©éœ€è¦åŸƒå…‹ç‰¹ä¸€æ ·ã€‚åœ¨è´å°”å®éªŒå®¤çš„å¤§æ¥¼ä¸­æœ‰è®¸å¤šç¬¦åˆè‚–å…‹åˆ©è¦æ±‚çš„äººæ‰ï¼Œå…¶ä¸­æœ€çªå‡ºçš„ä¸€ä½æ˜¯æ¥è‡ªè¥¿éƒ¨çš„æ²ƒå°”ç‰¹Â·å¸ƒæ‹‰é¡¿ï¼Œä»–æ˜¯ä¸€ä¸ªå……æ»¡æ´»åŠ›ä¸”äº‰å¼ºå¥½èƒœçš„äººã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ˜äº‰ç»“æŸåï¼Œå‡¯åˆ©ï¼ˆè´å°”å®éªŒå®¤çœŸç©ºç®¡éƒ¨é—¨çš„ä¸»ç®¡ï¼‰æŠŠå¸ƒæ‹‰é¡¿å’Œè‚–å…‹åˆ©åˆ†é…åˆ°ä¸€ä¸ªç ”ç©¶å°ç»„å·¥ä½œï¼Œè¿™ä¸ªå°ç»„çš„ç›®æ ‡æ˜¯â€œå°†å›ºä½“ç‰©ç†å­¦é¢†åŸŸçš„ç†è®ºå’Œå®è·µå·¥ä½œç»Ÿä¸€èµ·æ¥â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬è¦ç»§ç»­å®Œæˆåœ¨æˆ˜äº‰ä¹‹å‰é—ç•™ä¸‹æ¥çš„ä»»åŠ¡ï¼šåˆ©ç”¨åŠå¯¼ä½“åˆ¶ä½œå‡ºçœŸç©ºç®¡çš„æ›¿ä»£å“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è™½ç„¶è‚–å…‹åˆ©æ˜¯è¿™ä¸ªå°ç»„çš„é¦–å¸­ç†è®ºå®¶ï¼Œä½†ç”±äºä»–çš„èŒè´£æ˜¯ç®¡ç†æ•´ä¸ªå°ç»„çš„å·¥ä½œï¼ˆä»–åœ¨å¦å¤–ä¸€ä¸ªæ¥¼å±‚åŠå…¬ï¼‰ï¼Œæ‰€ä»¥ä»–ä»¬å†³å®šé‚€è¯·å¦å¤–ä¸€ä½ç†è®ºå®¶åŠ å…¥è¿™ä¸ªå°ç»„ã€‚ä»–ä»¬çš„äººé€‰æ˜¯çº¦ç¿°Â·å·´ä¸ï¼Œä¸€ä½è¨€è¯­æ¸©å’Œçš„é‡å­ç†è®ºä¸“å®¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é¡¹ç ”ç©¶åœ¨æ¥ä¸‹æ¥çš„ä¸€å¹´é‡Œéƒ½æ²¡æœ‰å¤šå¤§çš„è¿›å±•ï¼Œç„¶è€Œä»–ä»¬å´åœ¨ 1947 å¹´ 11 æœˆå–å¾—äº†ä¸€ç³»åˆ—é‡å¤§çš„çªç ´ï¼Œå› æ­¤è¿™ä¸ªæœˆä¹Ÿè¢«ç§°ä¸ºâ€œå¥‡è¿¹ä¹‹æœˆâ€ã€‚å·´ä¸å®Œå–„äº†â€œå…‰ä¼æ•ˆåº”â€ï¼ˆphotovoltaic effectï¼‰çš„ç†è®ºï¼Œå…‰ä¼æ•ˆåº”æŒ‡çš„æ˜¯å…‰ç…§å¯ä»¥ä½¿ä¸¤ç§äº’ç›¸æ¥è§¦çš„ææ–™ä¹‹é—´äº§ç”Ÿç”µå‹ã€‚ä»–æ¨æµ‹è¿™ä¸ªè¿‡ç¨‹æˆ–è®¸å¯ä»¥ç§»é™¤éƒ¨åˆ†å½¢æˆå±éšœçš„ç”µå­ã€‚ä¸å·´ä¸å¹¶è‚©å·¥ä½œçš„å¸ƒæ‹‰é¡¿è®¾è®¡å‡ºäº†ä¸€äº›ç”¨äºæµ‹è¯•è¿™ä¸ªæƒ³æ³•çš„å®éªŒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¹‹åè‚–å…‹åˆ©åˆå¯¹æ™¶ä½“ç®¡åšäº†æ”¹å–„ï¼Œä½¿ç”¨ PN ç»“å–ä»£é‡‘å±ç‚¹è§¦ã€‚ä½†ç”±äºä»–çš„å¥½èƒœå¿ƒå’Œç‹¬æ–­ä¸“è¡Œï¼ŒæŠŠå°ç»„å˜æˆäº†å®ç°è‡ªå·±æƒ³æ³•çš„å·¥å…·ï¼Œæ— æ³•ç»§ç»­å‡è¿ï¼Œå› æ­¤é€‰æ‹©ç¦»å¼€ï¼Œå»å¼€åˆ›è‡ªå·±çš„äº‹ä¸šã€‚åæ¥åœ¨ä¼ä¸šå®¶é˜¿è¯ºå¾·Â·è´å…‹æ›¼çš„å¸®åŠ©ä¸‹ï¼Œä»–åœ¨ Palo Alto ï¼ˆä¹Ÿå°±æ˜¯åæ¥çš„ç¡…è°·ï¼‰å»ºç«‹äº†è‡ªå·±çš„éƒ¨é—¨ï¼ŒåŒæ—¶é€šè¿‡è‡ªå·±çš„å¨æœ›ï¼Œæ‹›å‹Ÿäº†ä¸€æ‰¹è¡Œä¸šå†…çš„æ°å‡ºäººæ‰ï¼ŒåŒ…æ‹¬è¯ºä¼Šæ–¯ã€æ‘©å°”ï¼Œè¿™ä¸¤äººåæ¥ç”±äºæ— æ³•ä¸è‚–å…‹åˆ©å…±äº‹ï¼Œå‡ºæ¥ååˆ›åŠäº†ä»™ç«¥åŠå¯¼ä½“ï¼Œä»¥åŠåæ¥çš„è‹±ç‰¹å°”ã€‚ä»è¿™ä¸ªè§’åº¦æ¥è¯´ï¼Œè™½ç„¶è‚–å…‹åˆ©ç”±äºä¸€äº›è‡ªèº«çš„ç¼ºé™·æ²¡æœ‰æˆå°±æ›´å¤§çš„äº‹ä¸šï¼Œä½†ä»–ç¡®å®å¯¹ç¡…è°·çš„å‘å±•èµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;PS: è´å°”å®éªŒå®¤æ˜¯ä¸€ä¸ªèåˆåˆ›æ–°çš„å¤§é”…ã€‚é™¤äº†æ™¶ä½“ç®¡ä»¥å¤–ï¼Œå®ƒåœ¨è®¡ç®—æœºç”µè·¯ã€æ¿€å…‰æŠ€æœ¯å’Œèœ‚çªç”µè¯ç­‰é¢†åŸŸéƒ½å¤„äºé¢†å…ˆåœ°ä½ã€‚ä½†æ˜¯å®ƒå´ä¸å¤ªå–„äºåˆ©ç”¨è‡ªå·±çš„å‘æ˜æ¥è·å–åˆ©æ¶¦ã€‚ä½œä¸ºä¸€å®¶å‡ ä¹å„æ–­æ•´ä¸ªç”µè¯æœåŠ¡å¸‚åœºçš„è§„çº¦å…¬å¸ï¼Œå®ƒå¯¹å¼€å‘æ–°äº§å“çš„ç§¯ææ€§å¹¶ä¸é«˜ï¼Œè€Œä¸”æ³•å¾‹ä¹Ÿä¼šé™åˆ¶å®ƒåˆ©ç”¨è‡ªå·±çš„å„æ–­åœ°ä½è¿›å…¥å…¶ä»–å¸‚åœºã€‚ä¸ºäº†é¿å…å…¬ä¼—çš„æ‰¹è¯„å’Œåå„æ–­è¡ŒåŠ¨çš„æ”»å‡»ï¼Œå®ƒå‘æ¥éƒ½ä¼šæ…·æ…¨åœ°å‘å…¶ä»–å…¬å¸æä¾›è‡ªå·±çš„ä¸“åˆ©æˆæƒã€‚å®ƒä¸ºæ™¶ä½“ç®¡è®¾å®šäº†ç›¸å½“ä½çš„æˆæƒè´¹ç”¨ï¼Œä»»ä½•å…¬å¸åªéœ€å‘å…¶æ”¯ä»˜ 25 000 ç¾å…ƒå³å¯è·å¾—ç”Ÿäº§æ™¶ä½“ç®¡çš„è®¸å¯ï¼Œå®ƒç”šè‡³ä¸ºè¿™äº›å…¬å¸å¼€åŠäº†è®²è¿°æ™¶ä½“ç®¡åˆ¶é€ æŠ€æœ¯çš„ç ”ä¹ ç­ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h2 id=&quot;nuo-yi-si-ji-er-bi-ji-cheng-dian-lu&quot;&gt;è¯ºä¼Šæ–¯&#x2F;åŸºå°”æ¯”ï¼šé›†æˆç”µè·¯&lt;&#x2F;h2&gt;
&lt;p&gt;æ°å…‹Â·åŸºå°”æ¯”ï¼ˆJack Kilbyï¼‰ä¹Ÿæ˜¯é‚£ç§æ¥è‡ªä¸­è¥¿éƒ¨å†œæ‘çš„ç”·å­©ï¼Œå°æ—¶å€™ï¼Œä»–åœ¨å·¥ä½œé—´é‡Œå’Œçˆ¶äº²ä¸€èµ·æ£é¼“ç”µå­å…ƒä»¶ï¼Œç»„è£…ä¸šä½™æ— çº¿ç”µã€‚åŸºå°”æ¯”çš„ç¬¬ä¸€ä»½å·¥ä½œæ˜¯åœ¨å¯†å°”æ²ƒåŸºçš„ç”µå­é›¶ä»¶å…¬å¸ä¸­å¿ƒå®éªŒå®¤ï¼ˆCentralabï¼‰ã€‚è¿™å®¶å…¬å¸å½“æ—¶åœ¨å°è¯•å°†åŠ©å¬å™¨å…ƒä»¶å…¨éƒ¨é›†ä¸­åˆ°ä¸€ä¸ªé™¶ç“·è¡¬åº•ä¸Šï¼Œè¿™å¤§è‡´å¯ä»¥ç®—æ˜¯é›†æˆç”µè·¯æ€æƒ³çš„å‰èº«ã€‚åŸºå°”æ¯”æ„è¯†åˆ°ï¼Œè¦æƒ³ç«™åœ¨æ™¶ä½“ç®¡å‘å±•æ½®æµçš„å‰åˆ—ï¼Œå°±å¾—è¿›ä¸€å®¶è¾ƒå¤§çš„å…¬å¸å·¥ä½œã€‚1958 å¹´å¤å¤©ï¼Œåœ¨æƒè¡¡äº†å¤šä»½å·¥ä½œé‚€çº¦ä¹‹åï¼Œä»–å†³å®šåŠ å…¥å¾·å·ä»ªå™¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¾·å·ä»ªå™¨çš„æ”¿ç­–æ˜¯ï¼Œ7 æœˆæ‰€æœ‰äººéƒ½ç»Ÿä¸€ä¼‘å‡ä¸¤å‘¨ã€‚å› æ­¤ï¼Œå½“æ²¡æœ‰ç´¯ç§¯å‡æœŸçš„åŸºå°”æ¯”æ¥åˆ°è¾¾æ‹‰æ–¯æ—¶ï¼ŒåŠå¯¼ä½“å®éªŒå®¤é‡Œå‡ ä¹æ²¡ä»€ä¹ˆäººã€‚è¿™å°±è®©ä»–æœ‰æ—¶é—´æ€è€ƒè¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šç¡…é™¤äº†ç”¨æ¥åŠ å·¥æ™¶ä½“ç®¡ï¼Œè¿˜æœ‰ä»€ä¹ˆå…¶ä»–ç”¨é€”ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;åŸºå°”æ¯”çŸ¥é“ï¼Œä¸å«ä»»ä½•æ‚è´¨çš„ç¡…æ€§è´¨ç±»ä¼¼ä¸€ä¸ªç®€å•çš„ç”µé˜»ã€‚ä»–æ„è¯†åˆ°ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥è®©ç¡…ç‰‡ä¸Šå½¢æˆ PN ç»“ï¼Œå……å½“èƒ½å‚¨å­˜å°‘é‡ç”µè·çš„ç”µå®¹ã€‚äº‹å®ä¸Šï¼Œç¡…åªè¦ç»è¿‡ä¸åŒå¤„ç†ï¼Œå°±å¯ä»¥åˆ¶æˆä»»ä½•ç”µå­å…ƒä»¶ã€‚ç”±æ­¤ï¼Œä»–æå‡ºäº†æ‰€è°“çš„â€œå•ç‰‡æ¦‚å¿µâ€ï¼šå¯ä»¥æŠŠæ‰€æœ‰å…ƒä»¶é›†æˆåˆ°å•ä¸ªç¡…ç‰‡ä¸Šï¼Œè€Œæ— é¡»æŠŠä¸åŒå…ƒä»¶ç„Šæ¥åœ¨ä¸€å—ç”µè·¯æ¿ä¸Šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å·®ä¸å¤šåŒä¸€æ—¶é—´ï¼Œè¯ºä¼Šæ–¯å’Œä»™ç«¥åŠå¯¼ä½“çš„åŒäº‹ä»¬å°±åœ¨ä»å¦ä¸€ä¸ªæ–¹å‘å…¥æ‰‹ï¼Œæ¢ç´¢å¼€å‘é›†æˆç”µè·¯çš„å¯èƒ½æ€§ã€‚ä»–ä»¬ä¹‹æ‰€ä»¥ç€æ‰‹å±•å¼€è¿™é¡¹ç ”ç©¶ï¼Œæ˜¯å› ä¸ºé‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯å…¬å¸åšçš„æ™¶ä½“ç®¡ä¸å¥½ç”¨ã€‚æœ‰å¤ªå¤šæ™¶ä½“ç®¡éƒ½å‘ç”Ÿäº†æ•…éšœã€‚åªè¦é‡åˆ°ä¸€ä¸ç‚¹å„¿ç°å°˜ï¼Œç”šè‡³åªè¦æ¥è§¦ä¸€äº›æ°”ä½“å°±ä¼šè®©æ™¶ä½“ç®¡æ— æ³•æ­£å¸¸å·¥ä½œã€‚çŒ›çƒˆæ•²æ‰“æˆ–ç¢°æ’ä¹Ÿä¼šè®©æ™¶ä½“ç®¡å‡ºæ•…éšœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»™ç«¥åŠå¯¼ä½“çš„ç‰©ç†å­¦å®¶ã€â€œå…«å›é€†â€ä¹‹ä¸€çš„è®©Â·èµ«å°”å°¼æƒ³å‡ºäº†ä¸€ä¸ªæ–°é¢–çš„è§£å†³æ–¹æ¡ˆã€‚ä»–æƒ³åœ¨ç¡…æ™¶ä½“ç®¡è¡¨é¢æ•·ç½®ä¸€å±‚è–„è–„çš„æ°§åŒ–ç¡…å±‚ï¼Œå°±åƒåƒå±‚è›‹ç³•è¡¨é¢çš„ç³–è¡£ä¸€æ ·ï¼Œè¿™æ ·å°±èƒ½å¯¹ä¸‹é¢çš„ç¡…èµ·åˆ°ä¿æŠ¤ä½œç”¨ã€‚ä»–åœ¨ç¬”è®°ä¸­å†™é“ï¼šâ€œåœ¨æ™¶ä½“ç®¡è¡¨é¢ä¸ºé›†æˆç”µè·¯æ•·ç½®æ°§åŒ–å±‚ï¼Œèƒ½ä½¿ç»“ç‚¹ä¸è‡´æš´éœ²åœ¨å¤–ï¼Œè¿™æ ·æ™¶ä½“ç®¡å°±ä¸ä¼šå—åˆ°æ±¡æŸ“ã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•è¢«ç§°ä¸ºâ€œå¹³é¢å·¥è‰ºâ€ï¼Œå› ä¸ºç¡…çš„è¡¨é¢æœ‰ä¸€ä¸ªæ°§åŒ–å±‚ã€‚å½“æ—¶ï¼Œèµ«å°”å°¼åªæ˜¯æƒ³è®¾è®¡å‡ºå¯é çš„æ™¶ä½“ç®¡ã€‚ä»–ä»¬è¿˜æ²¡æœ‰æ„è¯†åˆ°ï¼Œå¯ä»¥å€ŸåŠ©è¿™ç§åœ¨æ°§åŒ–å±‚ä¸Šå¼€å°å£çš„å¹³é¢å·¥è‰ºå°†è®¸å¤šç§æ™¶ä½“ç®¡å’Œå…¶ä»–å…ƒä»¶èš€åˆ»åœ¨å•ç‰‡ç¡…ç‰‡ä¸Šã€‚è¯ºä¼Šæ–¯è®¤è¯†åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæœ‰äº†å¹³é¢å·¥è‰ºï¼Œå°±ä¸éœ€è¦é‚£äº›ä»æ¯ä¸€å±‚æ™¶ä½“ç®¡ä¸Šä¼¸å‡ºçš„ç»†çº¿äº†ï¼Œå¯ä»¥åœ¨æ°§åŒ–å±‚é¡¶éƒ¨å°ä¸Šå°é“œçº¿ï¼Œä»¥ä»£æ›¿è¿™äº›å¸ƒçº¿ã€‚è¿™å°†ä½¿æ™¶ä½“ç®¡ç”Ÿäº§å˜å¾—æ›´å¿«ã€æ›´å¯é ã€‚ä»è¿™ä¸€ç‚¹å‡ºå‘ï¼Œè¯ºä¼Šæ–¯åˆäº§ç”Ÿäº†ä¸‹ä¸€ä¸ªæ´è§ï¼šæ—¢ç„¶èƒ½ç”¨è¿™äº›å°åˆ·é“œçº¿è¿æ¥æ™¶ä½“ç®¡çš„ä¸åŒåŒºåŸŸï¼Œé‚£å°±ä¹Ÿèƒ½ç”¨å®ƒä»¬è¿æ¥åŒä¸€å—ç¡…ç‰‡ä¸Šçš„ä¸¤ä¸ªæˆ–æ›´å¤šæ™¶ä½“ç®¡ã€‚è¿ç”¨å¼€å£æŠ€æœ¯çš„å¹³é¢å·¥è‰ºèƒ½è®©æ‚è´¨åˆ†æ•£å¼€æ¥ï¼Œè¿™æ ·å°±èƒ½æŠŠå¤šä¸ªæ™¶ä½“ç®¡å®‰è£…åœ¨åŒä¸€å—ç¡…èŠ¯ç‰‡ä¸Šï¼Œè€Œå°åˆ·é“œçº¿èƒ½å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªç”µè·¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é›†æˆç”µè·¯æœ€åˆé¢å‘çš„ä¸»è¦å¸‚åœºæ˜¯å†›é˜Ÿã€‚1962 å¹´ï¼Œæˆ˜ç•¥ç©ºå†›å¸ä»¤éƒ¨ï¼ˆthe Strategic Air Commandï¼‰è®¾è®¡äº†åä¸ºâ€œæ°‘å…µäºŒå·â€ï¼ˆMinuteman â…¡ï¼‰çš„æ–°å‹é™†åŸºå¯¼å¼¹ï¼Œåœ¨æ¯ä¸€æšå¯¼å¼¹ä¸­ï¼Œä»…å¼¹è½½å¯¼èˆªç³»ç»Ÿå°±éœ€è¦ 2000 æšé›†æˆç”µè·¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç¾å›½çš„æ°‘ç”¨èˆªç©ºé¡¹ç›®æˆä¸ºæ¨åŠ¨é›†æˆç”µè·¯ç”Ÿäº§çš„ä¸‹ä¸€ä¸ªä¸»è¦åŠ¨åŠ›ã€‚1961 å¹´ 5 æœˆï¼Œç¾å›½æ€»ç»Ÿçº¦ç¿°Â·FÂ·è‚¯å°¼è¿ªå®£å¸ƒï¼šâ€œæˆ‘è®¤ä¸ºç¾å›½åº”è¯¥è‡´åŠ›äºè¿™æ ·ä¸€ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬è¦åœ¨ 60 å¹´ä»£ç»“æŸä¹‹å‰æŠŠäººé€ä¸Šæœˆçƒï¼Œå†è®©ä»–ä»¬å®‰å…¨è¿”å›åœ°çƒã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§æ¥è‡ªæ”¿åºœçš„æµ·é‡ç¨³å®šéœ€æ±‚ä¿ƒä½¿é›†æˆç”µè·¯ä»·æ ¼è¿…é€Ÿä¸‹è·Œã€‚é˜¿æ³¢ç½—å¯¼èˆªè®¡ç®—æœºçš„é¦–æšåŸå‹èŠ¯ç‰‡å”®ä»· 1000 ç¾å…ƒã€‚åˆ°èŠ¯ç‰‡æŠ•å…¥å¸¸è§„ç”Ÿäº§æ—¶ï¼Œæ¯æšèŠ¯ç‰‡çš„ä»·æ ¼é™åˆ°äº† 20 ç¾å…ƒã€‚1962 å¹´ï¼Œæ°‘å…µå¯¼å¼¹ä¸Šæ¯ä¸€æšé›†æˆç”µè·¯çš„å¹³å‡ä»·æ ¼ä¸º 50 ç¾å…ƒï¼Œåˆ° 1968 å¹´å°±é™åˆ°äº† 2 ç¾å…ƒã€‚è¿™æ ·ä¸€æ¥ï¼Œå°†é›†æˆç”µè·¯ç”¨äºæ™®é€šæ¶ˆè´¹è®¾å¤‡çš„å¸‚åœºä¾¿åº”è¿è€Œç”Ÿã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¹‹åä»™ç«¥åŠå¯¼ä½“ï¼ˆè¯ºä¼Šæ–¯å’Œæ‘©å°”å…±åŒåˆ›åŠï¼Œæ¯å…¬å¸ä¸ºä»™ç«¥ï¼Œä¸»è¥æ‘„å½±å™¨æï¼‰ä¹ƒè‡³å¸•æ´›é˜¿å°”æ‰˜çš„åŠå¯¼ä½“éƒ¨é—¨éƒ½å·²ç»å˜å¾—å¤ªå¤§ã€å¤ªå®˜åƒšã€‚è¯ºä¼Šæ–¯æ¸´æœ›ç”©æ‰ä¸€äº›æ— å…³ç´§è¦çš„èŒè´£ï¼Œå›å¤´å»åšå®éªŒå®¤çš„ä¸€çº¿å·¥ä½œã€‚æœ‰ä¸€å¤©ï¼Œè¯ºä¼Šæ–¯é—®æ‘©å°”ï¼šâ€œæˆ‘ä»¬åŠä¸€å®¶æ–°å…¬å¸æ€ä¹ˆæ ·ï¼Ÿâ€ ç„¶åå°±æœ‰äº†åæ¥çš„è‹±ç‰¹å°”ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;te-de-huo-fu-wei-chu-li-qi&quot;&gt;ç‰¹å¾·Â·éœå¤«ï¼šå¾®å¤„ç†å™¨&lt;&#x2F;h2&gt;
&lt;p&gt;éœå¤«æ›¾æ˜¯æ–¯å¦ç¦ä¸€åå¹´è½»æ•™å¸ˆï¼Œä»–æˆä¸ºè‹±ç‰¹å°”çš„ç¬¬åäºŒåå‘˜å·¥ï¼Œä»»åŠ¡æ˜¯è®¾è®¡èŠ¯ç‰‡ã€‚ä»–æ„è¯†åˆ°ï¼Œåƒè‹±ç‰¹å°”è¿™æ ·è®¾è®¡è®¸å¤šç§åŠŸèƒ½å„ä¸ç›¸åŒçš„èŠ¯ç‰‡æ—¢æµªè´¹åˆç¬¨æ‹™ã€‚å½“æ—¶ï¼Œå¸¸å¸¸æœ‰å…¬å¸æ¥è¦æ±‚è‹±ç‰¹å°”åšä¸€ç§ç”¨äºå®Œæˆç‰¹å®šä»»åŠ¡çš„èŠ¯ç‰‡ã€‚éœå¤«ï¼ˆè¿˜æœ‰è¯ºä¼Šæ–¯å’Œå…¶ä»–äººï¼‰è®¾æƒ³äº†ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼šå‘æ˜ä¸€ç§èƒ½æ¥å—æŒ‡ä»¤ï¼Œå³è¿›è¡Œç¼–ç¨‹ï¼Œä»è€ŒæŒ‰è¦æ±‚å®Œæˆä¸åŒä»»åŠ¡çš„é€šç”¨èŠ¯ç‰‡ã€‚æ¢å¥è¯è¯´ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€æšèŠ¯ç‰‡ä¸Šåšå‡ºé€šç”¨è®¡ç®—æœºã€‚è¿™ä¸€è®¾æƒ³æ°å¥½å¯ä»¥æ‹¿æ¥è§£å†³ 1969 å¹´å¤å­£éœå¤«è´Ÿè´£å¤„ç†çš„ä¸€ä¸ªé—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“æ—¶æœ‰ä¸€å®¶åä¸ºâ€œBusicomâ€çš„æ—¥æœ¬å…¬å¸è®¡åˆ’åšä¸€æ¬¾å¼ºå¤§çš„æ–°å‹å°å¼è®¡ç®—å™¨ï¼Œæƒ³è®©è‹±ç‰¹å°”åˆ¶ä½œ 12 æšä¸“ç”¨é›†æˆç”µè·¯ï¼ˆåˆ†åˆ«å¤„ç†æ˜¾ç¤ºã€è¿ç®—å’Œå­˜å‚¨ç­‰ä»»åŠ¡ï¼‰ï¼ŒèŠ¯ç‰‡çš„ç›¸å…³ç»†èŠ‚å·²ç»æ‹Ÿå®šã€‚è‹±ç‰¹å°”åŒæ„äº†ï¼Œä»·æ ¼ä¹Ÿæ•²å®šäº†ã€‚è¯ºä¼Šæ–¯è®©éœå¤«è´Ÿè´£ç®¡ç†è¯¥é¡¹ç›®ã€‚å¾ˆå¿«ï¼Œä»–ä»¬é‡åˆ°äº†ä¸€é¡¹æŒ‘æˆ˜ã€‚éœå¤«å›å¿†é“ï¼šâ€œæˆ‘å¯¹è¿™é¡¹è®¾è®¡äº†è§£å¾—è¶Šå¤šï¼Œå°±è¶Šæ‹…å¿ƒè‹±ç‰¹å°”çš„æŠ•å…¥ä¼šæ¯”åŸè®¡åˆ’è¦å¤§ã€‚èŠ¯ç‰‡çš„æ•°é‡å’Œå¤æ‚ç¨‹åº¦éƒ½è¿œè¿œè¶…å‡ºæˆ‘çš„é¢„æƒ³ã€‚â€è‹±ç‰¹å°”ä¸å¯èƒ½ä»¥åè®®ä»·æ ¼åšå‡ºè¿™äº›èŠ¯ç‰‡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åˆ° 1969 å¹´ 9 æœˆï¼Œéœå¤«å’Œä»–çš„åŒäº‹æ–¯å¦Â·éº¦å“å°”ï¼ˆStan Mazorï¼‰å·²ç»è®¾è®¡å‡ºèƒ½éµå¾ªç¼–ç¨‹æŒ‡ä»¤çš„é€šç”¨é€»è¾‘èŠ¯ç‰‡çš„æ¶æ„ã€‚è¿™ç§èŠ¯ç‰‡èƒ½å¤Ÿå®Œæˆ Busicom æ‰€è¦æ±‚çš„ 12 æšèŠ¯ç‰‡ä¸­çš„ 9 æšæ‰€æ‰¿æ‹…çš„åŠŸèƒ½ã€‚è¯ºä¼Šæ–¯å’Œéœå¤«å‘ Busicom çš„é«˜ç®¡ä»‹ç»äº†è¿™ä¸€æ–¹æ¡ˆï¼Œå¹¶è·å¾—äº†åè€…çš„è®¤å¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åˆ°äº†é‡æ–°è°ˆä»·æ ¼çš„æ—¶å€™ï¼Œéœå¤«å‘è¯ºä¼Šæ–¯æå‡ºä¸€ä¸ªè‡³å…³é‡è¦çš„å»ºè®®ï¼Œæ­£æ˜¯è¿™ä¸€å»ºè®®ä¸ºé€šç”¨èŠ¯ç‰‡åˆ›é€ å‡ºä¸€ä¸ªå·¨å¤§çš„å¸‚åœºï¼Œå¹¶ç»´æŒäº†è‹±ç‰¹å°”åœ¨æ•°å­—æ—¶ä»£çš„é¢†å†›åœ°ä½ã€‚æ¯”å°”Â·ç›–èŒ¨å’Œå¾®è½¯æ•ˆä»¿äº†è¿™ç§åšæ³•ï¼Œ10 å¹´ä¹‹åï¼ŒIBM ä¹Ÿæ•ˆä»¿äº†è¿™ä¸€åšæ³•ã€‚è¯ºä¼Šæ–¯ä¸º Busicom æä¾›äº†ä¼˜æƒ çš„ä»·æ ¼ï¼Œä½†åšæŒè®©è‹±ç‰¹å°”ä¿ç•™æ–°å‹èŠ¯ç‰‡çš„çŸ¥è¯†äº§æƒï¼Œè€Œä¸”è‹±ç‰¹å°”æœ‰æƒå°†å…¶æˆæƒç»™å…¶ä»–å…¬å¸ï¼Œç”¨äºè®¡ç®—å™¨ç”Ÿäº§ä»¥å¤–çš„å…¶ä»–ç”¨é€”ã€‚ä»–æ„è¯†åˆ°ï¼Œèƒ½é€šè¿‡ç¼–ç¨‹å®ç°ä¸€åˆ‡é€»è¾‘åŠŸèƒ½çš„èŠ¯ç‰‡å°†æˆä¸ºç”µå­è®¾å¤‡çš„æ ‡å‡†å…ƒä»¶ï¼Œå°±åƒä¸¤è‹±å¯¸åšã€å››è‹±å¯¸å®½çš„æœ¨æ¿æ˜¯æˆ¿å±‹å»ºç­‘ä¸šçš„æ ‡å‡†å»ºæä¸€æ ·ã€‚è¿™ç§èŠ¯ç‰‡ä¼šå–ä»£ä¸“ç”¨èŠ¯ç‰‡ï¼Œè¿™å°±æ„å‘³ç€å®ƒä»¬å¯ä»¥æ‰¹é‡ç”Ÿäº§ï¼Œä»·æ ¼ä¹Ÿä¼šä¸æ–­ä¸‹é™ã€‚å®ƒä»¬è¿˜ä¼šè®©ç”µå­è¡Œä¸šäº§ç”Ÿä¸€ä¸ªæ¯”è¾ƒå¾®å¦™çš„å˜åŒ–ï¼šåœ¨ç”µè·¯æ¿ä¸Šè®¾è®¡å…ƒä»¶é…ç½®çš„ç¡¬ä»¶å·¥ç¨‹å¸ˆå˜å¾—æ²¡é‚£ä¹ˆé‡è¦äº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯æ–°ç”Ÿçš„è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œä»–ä»¬çš„å·¥ä½œæ˜¯å°†ä¸€æ‰¹æŒ‡ä»¤å†™å…¥ç³»ç»Ÿã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™å°±æ˜¯å‘ç”Ÿåœ¨ 20 ä¸–çºª 70 å¹´ä»£çš„æ•…äº‹ã€‚å¾®å¤„ç†å™¨å‚¬ç”Ÿäº†æ•°ç™¾å®¶ä¸ºä¸ªäººç”µè„‘åšç¡¬ä»¶å’Œè½¯ä»¶çš„æ–°å…¬å¸ã€‚è‹±ç‰¹å°”ä¸ä»…å¼€å‘äº†å°–ç«¯èŠ¯ç‰‡ï¼Œè€Œä¸”åˆ›é€ äº†ä¸€ç§æ–‡åŒ–ï¼Œæ¿€åŠ±åœ¨é£é™©èµ„æœ¬æ”¯æŒä¸‹æˆç«‹çš„åˆåˆ›å…¬å¸å»æ”¹å˜ç»æµã€‚è‹±ç‰¹å°”è¿˜è®©åœ£å…‹æ‹‰æ‹‰è°·ï¼ˆä»æ—§é‡‘å±±å—éƒ¨ç»å¸•æ´›é˜¿å°”æ‰˜åˆ°åœ£ä½•å¡çš„ä¸€ç‰‡ 40 è‹±é‡Œçš„å¹³å¦åœŸåœ°ï¼‰çš„ææ ‘æœå›­å˜èº«ä¸ºé«˜ç§‘æŠ€å…¬å¸äº‘é›†çš„ç¡…è°·ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;dao-ge-la-si-en-ge-er-ba-te-yan-shi-zhi-mu&quot;&gt;é“æ ¼æ‹‰æ–¯Â·æ©æ ¼å°”å·´ç‰¹ï¼šæ¼”ç¤ºä¹‹æ¯&lt;&#x2F;h2&gt;
&lt;p&gt;æ©æ ¼å°”å·´ç‰¹çš„çˆ¶äº²æ˜¯ä¸€ä½ç”µæ°”å·¥ç¨‹å¸ˆï¼Œåœ¨ä¿„å‹’å†ˆå·æ³¢ç‰¹å…°å¼€äº†å®¶å‡ºå”®å’Œä¿®ç†æ”¶éŸ³æœºçš„å•†åº—ã€‚ä»–ä»æµ·å†›é€€å½¹åï¼Œåœ¨ä¿„å‹’å†ˆå¤§å­¦è·å¾—äº†å·¥ç¨‹å­¦ä½ï¼Œéšååœ¨ NASA ä¸‹å±å°–ç«¯æŠ€æœ¯ç ”ç©¶æœºæ„â€”â€”ä½äºç¡…è°·çš„åŸƒå§†æ–¯ç ”ç©¶ä¸­å¿ƒä»»èŒã€‚ä¸ºäº†ç»“è¯†å¯ä»¥ä½œä¸ºç»“å©šå¯¹è±¡çš„å¥³æ€§ï¼Œç¾æ¶©æœ¨è®·çš„æ©æ ¼å°”å·´ç‰¹åŠ å…¥äº†å¸•æ´›é˜¿å°”æ‰˜ç¤¾åŒºæ´»åŠ¨ä¸­å¿ƒçš„ä¸€ä¸ªä¸­çº§å¸Œè…Šæ°‘é—´èˆè¹ˆç­ï¼Œåæ¥ä»–æœç„¶åœ¨è¿™é‡Œæ‰¾åˆ°äº†äººç”Ÿä¼´ä¾£ã€‚è®¢å©šçš„é‚£å¤©ï¼Œæ©æ ¼å°”å·´ç‰¹åœ¨å¼€è½¦ä¸Šç­çš„è·¯ä¸Šçªç„¶äº§ç”Ÿäº†ä¸€ç§å¯æ€•çš„ã€è¶³ä»¥æ”¹å˜ä»–ç”Ÿæ´»æ–¹å‘çš„å¿§è™‘æ„Ÿï¼šâ€œç­‰åˆ°æˆ‘å¼€å§‹å·¥ä½œæ—¶ï¼Œæˆ‘æ„è¯†åˆ°è‡ªå·±å·²ç»å¤±å»äº†ç›®æ ‡ã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨æ¥ä¸‹æ¥çš„ä¸¤ä¸ªæœˆé‡Œï¼Œæ©æ ¼å°”å·´ç‰¹å¼€å§‹åŠªåŠ›ä¸ºè‡ªå·±å¯»æ‰¾æœ‰ä»·å€¼çš„ç”Ÿæ´»ç›®æ ‡ã€‚ä»–è¯´ï¼šâ€œæˆ‘è€ƒè™‘äº†æ‰€æœ‰äººç±»å¯ä»¥ä¸ºä¹‹å¥‹æ–—çš„äº‹ä¸šï¼Œæƒ³æ‰¾åˆ°ä¸€æ¡é€‚åˆè‡ªå·±çš„å†æ•™è‚²ä¹‹è·¯ã€‚â€ä»–æ„è¯†åˆ°ï¼Œä»»ä½•æ”¹é€ ä¸–ç•Œçš„åŠªåŠ›éƒ½æ˜¯å¾ˆå¤æ‚çš„ã€‚ä»–æƒ³åˆ°é‚£äº›åŠªåŠ›é˜²æ²»ç–Ÿç–¾æˆ–å¢åŠ è´«å›°åœ°åŒºç²®é£Ÿäº§é‡çš„äººï¼Œç»“æœå‘ç°ï¼Œå¦‚æœè¿™äº›é—®é¢˜å¾—åˆ°è§£å†³ï¼Œåˆä¼šå¼•å‘å…¶ä»–ä¸€ç³»åˆ—å¤æ‚é—®é¢˜ï¼Œæ¯”å¦‚äººå£è¿‡å‰©å’Œæ°´åœŸæµå¤±ã€‚è¦æƒ³æˆåŠŸåœ°å®Œæˆä¸€ä¸ªå¤§é¡¹ç›®ï¼Œå°±å¿…é¡»å¯¹è¡ŒåŠ¨ä¸­æ‰€æœ‰é”™ç»¼å¤æ‚çš„ç»†èŠ‚è¿›è¡Œè¯„ä¼°ï¼Œæƒè¡¡å„ç§å¯èƒ½æ€§ï¼Œå…±äº«ä¿¡æ¯ï¼Œç»„ç»‡äººåŠ›ï¼Œç­‰ç­‰ã€‚ä»–å›å¿†è¯´ï¼šâ€œç„¶åæœ‰ä¸€å¤©æˆ‘çªç„¶é¢†æ‚Ÿåˆ°ï¼Œå¤æ‚æ€§æ­£æ˜¯æœ€æ ¹æœ¬çš„ä¸œè¥¿ï¼Œæˆ‘æ„Ÿåˆ°è±ç„¶å¼€æœ—ã€‚å¦‚æœèƒ½ä»¥æŸç§æ–¹å¼è®©äººç±»æ›´å¥½åœ°å¤„ç†å¤æ‚å’Œç´§æ€¥çš„é—®é¢˜ï¼Œèƒ½ä¸ºæ­¤åšå‡ºé‡å¤§è´¡çŒ®ï¼Œé‚£ä½ å°±èƒ½å¤Ÿé€ ç¦å…¨äººç±»ã€‚â€[æ’å›¾]è¿™æ ·ä¸€ç§åŠªåŠ›ä¸æ˜¯å•å•è§£å†³ä¸–ç•Œä¸Šçš„æŸä¸€ä¸ªé—®é¢˜ï¼›è€Œæ˜¯èƒ½ä¸ºäººä»¬æä¾›è§£å†³ä»»ä½•é—®é¢˜çš„å·¥å…·ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;1968 å¹´ 12 æœˆ 9 æ—¥ï¼Œæ©æ ¼å°”å·´ç‰¹åœ¨æ—§é‡‘å±±ä¸¾åŠçš„è®¡ç®—æœºè¡Œä¸šå¤§ä¼šä¸Šè¿›è¡Œäº†è¿™åœºæŒç»­ 90 åˆ†é’Ÿçš„æ¼”ç¤ºï¼Œä¼šåœºå†…æœ‰è¿‘åƒåè§‚ä¼—ï¼Œåªæœ‰ç«™çš„åœ°æ–¹ã€‚æ©æ ¼å°”å·´ç‰¹èº«ç©¿ç™½è‰²çŸ­è¢–è¡¬è¡«ï¼Œç³»ç€æ·±è‰²çª„é¢†å¸¦ï¼Œååœ¨è®²å°å³ä¾§ä¸€ä¸ªæ—¶é«¦çš„èµ«æ›¼ç±³å‹’â€œè¡ŒåŠ¨åŠå…¬å®¤â€æ“ä½œå°è¾¹ã€‚ä»–é‚£å°è®¡ç®—æœºç»ˆç«¯çš„æ˜¾ç¤ºå±è¢«æŠ•å°„åˆ°ä»–èƒŒåä¸€ä¸ª 20 è‹±å°ºçš„å±å¹•ä¸Šã€‚ä»–çš„ç¬¬ä¸€å¥è¯æ˜¯ï¼šâ€œæˆ‘å¸Œæœ›å¤§å®¶æœ‰æœä¸€æ—¥èƒ½ä¹ æƒ¯è¿™ç§ç›¸å½“ä¸åŒå¯»å¸¸çš„ç¯å¢ƒã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;æ©æ ¼å°”å·´ç‰¹å±•ç¤ºäº†æˆ‘ä»¬ç°åœ¨å¸ç©ºè§æƒ¯çš„ä¼—å¤šæŠ€æœ¯ï¼šè§†é¢‘ä¼šè®®ã€ç°ä»£æ¡Œé¢å¼ç”¨æˆ·ç•Œé¢ã€æ–‡å­—å¤„ç†ã€è¶…æ–‡æœ¬ã€é¼ æ ‡ã€åä½œç¼–è¾‘ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»–å‘ä¸ä¼šè€…æå‡ºäº†ä¸€ä¸ªå¯¹ 21 ä¸–çºªåˆçš„æˆ‘ä»¬æ¥è¯´å‡ ä¹å¹¶æ— æ„ä¹‰çš„é—®é¢˜ï¼šâ€œå¦‚æœåœ¨ä½ çš„åŠå…¬å®¤æœ‰ä¸€å°å¸¦æ˜¾ç¤ºå™¨çš„è®¡ç®—æœºï¼Œä½ èƒ½å¤Ÿä»¥ä¸€ç§ç›´è§‚çš„æ–¹å¼æ“ä½œå®ƒï¼Œå¾—åˆ°ä½ æƒ³è¦çš„ç»“æœï¼Œå®ƒä¼šç»™ä½ çš„å·¥ä½œå¸¦æ¥å¤šå¤§çš„ä¾¿åˆ©ï¼Ÿâ€&lt;&#x2F;p&gt;
&lt;p&gt;å½“ç„¶ï¼Œåœ¨é‚£ä¸ªæ—¶å€™ï¼Œè®¡ç®—æœºè¿˜æ˜¯å æ®æ•´ä¸ªæˆ¿é—´çš„åºç„¶å¤§ç‰©ã€‚åœ¨æ©æ ¼å°”å·´ç‰¹æ„æƒ³çš„ç”¨æˆ·ç•Œé¢ä¸­ï¼Œäººä»¬å¯ä»¥ä½¿ç”¨é¼ æ ‡æ¥ç§»åŠ¨å…‰æ ‡å¹¶é€‰å–å¯¹è±¡ï¼Œè¿™åœ¨å½“æ—¶å±äºé©å‘½æ€§çš„æƒ³æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;35974&#x2F;124247674-ad876700-db54-11eb-98b8-d3c00af7cb02.jpg&quot; alt=&quot;epub_908185_680&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å½“æ—¶å‚åŠ ã€Œæ¼”ç¤ºä¹‹æ¯ã€çš„å°±æœ‰è‰¾ä¼¦Â·å‡¯ï¼Œå°†åˆ©å…‹è±å¾·å’Œæ©æ ¼å°”å·´ç‰¹çš„æ€æƒ³å¸¦å…¥ä¸ªäººç”µè„‘ä¹‹ä¹åœŸçš„å…ˆé©±è€…å°±æ˜¯å‡¯å’Œä¸€å®¶å¤å°æœºå…¬å¸ç ”ç©¶ä¸­å¿ƒï¼ˆPARCï¼‰ä¸€ç¾¤æ— æ‹˜æ— æŸçš„åŒäº‹ã€‚åæ¥ä¹”å¸ƒæ–¯å°±æ˜¯ä» PARC å¸æ”¶äº†å¾ˆå¤šäº† GUI çš„ç†å¿µã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ken-tang-mu-xun-dan-ni-si-li-qi-unix-cao-zuo-xi-tong&quot;&gt;è‚¯Â·æ±¤å§†é€Š&#x2F;ä¸¹å°¼æ–¯Â·é‡Œå¥‡ï¼šUnix æ“ä½œç³»ç»Ÿ&lt;&#x2F;h2&gt;
&lt;p&gt;åœ¨ Unix åˆ†æ—¶ç³»ç»Ÿå‡ºç°ä¹‹å‰ï¼Œäººå·¥å’Œæœºå™¨çš„äº¤äº’ç®€ç›´å°±åƒã€Œç–¯ç‹‚åŠ¨ç‰©åŸã€é‡Œé¢çš„æ ‘æ‡’ä¸€æ ·ï¼Œæ…¢æ˜¯çœŸæ…¢ï¼Œè€Œä¸”æ¯«æ— äº¤äº’ä½“éªŒï¼Œå’Œç°åœ¨ç›¸åŒçš„æ˜¯ï¼Œæäº¤è€…éƒ½ä¸å¸Œæœ›æœ‰ bug å‡ºç°ï¼Œä¸ç„¶å°±è¦é‡æ–°æ‰“å¡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;35974&#x2F;124247710-b5470b80-db54-11eb-9765-75cc1aef8531.png&quot; alt=&quot;0B120688-617A-4A05-8CDB-4B671678F871&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è´å°”å®éªŒå®¤çš„ Ken Thompson å’Œ Dennis Ritchie å¼€å§‹äº†ä¸€ä¸ªæ–°çš„é¡¹ç›®â€”â€”Multicsã€‚è¿™æ˜¯ä¸ªåˆ†æ—¶æ“ä½œç³»ç»Ÿï¼Œåœ¨äº¤äº’å¼æ–¹é¢æœ‰ç€é‡è¦çš„çªç ´ã€‚å®ƒå…è®¸å¤šäººè¿æ¥åˆ°è®¡ç®—æœºä¸Šï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥è·å¾—ä¸€éƒ¨åˆ†æ—¶é—´ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªç‹¬å æ•´ä¸ªè®¡ç®—æœºçš„æ„Ÿè§‰ï¼Œä¸è¿‡è®¡ç®—æœºå®é™…ä¸Šè¿˜ä¼šåœ¨ä»–ä»¬ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚å¦‚æœä½ å¯ä»¥â€œç‹¬äº«â€çš„è¯ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ç”µä¼ æ‰“å­—æœºè€Œä¸éœ€è¦æ‰“å­”å¡äº†ã€‚ç”µä¼ æ‰“å­—æœºè¿™ä¸ªä¸œè¥¿æ˜¯æ‰“å­—æœºã€æ‰“å°æœºå’Œç”µè¯çº¿çš„ç»“åˆä½“ï¼Œä½ å¯ä»¥è¾“å…¥å‘½ä»¤ï¼Œé€šè¿‡ç”µè¯çº¿ä¼ ç»™è®¡ç®—æœºï¼Œç„¶åè¾“å‡ºã€‚è¿™ç§åŸç†å’Œç°åœ¨çš„ SSH å…¶å®æ¯”è¾ƒç±»ä¼¼ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸è¿‡ï¼ŒMultics å®åœ¨æ˜¯å¤ªè´µäº†ï¼Œå°½ç®¡å®ƒèƒ½æä¾›å¾ˆå¥½çš„è®¡ç®—ç¯å¢ƒï¼Œå¾ˆå¤šé’ˆå¯¹å®ƒçš„æè¿°ç”¨åˆ°äº†â€è¿‡åº¦å·¥ç¨‹â€œè¿™ä¸ªè¯ã€‚ å› æ­¤ï¼Œè´å°”å®éªŒå®¤åœ¨ 1969 å¹´é€€å‡ºäº†é¡¹ç›®ï¼Œåªæœ‰ MIT å’Œ AT&amp;amp;T è¿˜åœ¨æ”¯æŒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è™½ç„¶è´å°”å®éªŒå®¤é€€å‡ºäº† Multics è®¡åˆ’ï¼ŒKen å¯æ²¡é—²ç€ï¼Œå®éªŒå®¤æœ‰ä¸€å° PDP-7ï¼Œè¯´æ˜¯ä¸€å°å¾®å‹æœºï¼Œå®é™…ä¸Šä¹Ÿæ˜¯éœ€è¦ä¸€ä»¶å±‹å­æ‰èƒ½æ”¾å¾—ä¸‹ï¼Œä¸è¿‡è¿˜å¥½å·²ç»æœ‰æ˜¾ç¤ºå™¨äº†ã€‚æœ‰ä¸€æ¬¡ï¼ŒKen çš„çˆ±äººå¸¦ç€ä¸€å²çš„å­©å­å»åŠ å·å‘†äº†ä¸‰å‘¨åº¦å‡ã€‚åˆ©ç”¨è¿™ä¸‰å‘¨çš„æ—¶é—´ï¼ŒKen å®Œæˆäº†å¯ä»¥æ­£å¸¸è¿è¡Œçš„ç³»ç»Ÿï¼Œä»–å‘½åä¸ºâ€œUniplexed Information and Computing Systemâ€ï¼Œç¼©å†™ä¸º UNICS ï¼Œè¿™å¯ä»¥è¯´æ˜¯ Unix çš„åˆä»£æœºäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è‚¯Â·æ±¤æ™®æ£®å¼€å‘å‡ºæ¥çš„åŸå‹ Unix ç³»ç»Ÿï¼Œæ·±å¾—è´å°”å®éªŒå®¤è¿™å¸®å¤§ä½¬ä»¬çš„é’çã€‚Unix çš„å¦ä¸€ä½çƒ­å¿ƒå¼€å‘å‚ä¸è€…ä¸¹å°¼æ–¯Â·é‡Œå¥‡ï¼Œä»–å’Œè‚¯éƒ½å¸Œæœ›èƒ½è´­ç½®ä¸€å°æ¯” PDP-7 æ›´å¥½çš„è®¡ç®—æœºã€‚ä½†è´å°”å®éªŒå®¤çš„ç®¡ç†å±‚è¢«å¤±è´¥çš„ Multics æå¾—å¿ƒæœ‰ä½™æ‚¸ï¼Œè¯´ä»€ä¹ˆä¹Ÿä¸è‚¯æ‰¹è¿™ä¸ªæ¡å­ã€‚ä¸è¿‡å¤§ç¥ä»¬æœ‰çš„æ˜¯æš—æ¸¡é™ˆä»“çš„åŠæ³•ã€‚å› ä¸ºè´å°”å®éªŒå®¤æ¯å¹´è¦ç¼–å†™æäº¤è®¸å¤šä¸“åˆ©æ–‡ä»¶ï¼Œå› æ­¤åœ¨æ–‡å­—å¤„ç†ä¸Šæœ‰ç€è¿«åˆ‡éœ€æ±‚ã€‚æ­£æ˜¯æŠ“ä½äº†è¿™ä¸ªç—›ç‚¹ï¼Œæå‡ºå¯ä»¥é‡‡è´­ PDP-11 ç”¨äºç¼–å†™ä¸“åˆ©ææ–™ï¼ŒUnix å°ç»„å¯ä»¥ä¸ºå…¶æä¾›è½¯ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è‚¯Â·æ±¤æ™®æ£®å’Œä¸¹å°¼æ–¯Â·é‡Œå¥‡å¦‚æ„¿ä»¥å¿åœ°æ‹¿åˆ°äº†æ¯” PDP-7 æ›´å¥½çš„ PDP-11ï¼Œä¸¤ä½å¤§ç¥ç«‹å³åœ¨æ–°æœºå™¨ä¸Šå±•å¼€å·¥ä½œã€‚ç”±æ­¤ï¼Œåœ¨ PDP-11 æœºå™¨ä¸Š Unix å®Œæˆäº†ä»åŸå‹åˆ°åˆç‰ˆçš„å¼€å‘ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨æ­¤ä¹‹åï¼ŒUnix å°±ä¸€ç›´åœ¨å®éªŒå®¤é‡Œè¿­ä»£ã€‚1975 å¹´ 5 æœˆï¼Œç¬¬å…­ç‰ˆ Unix å‘å¸ƒï¼Œä»è¿™ä¸€ç‰ˆæœ¬å¼€å§‹ï¼ŒUnix é€æ¸ä¸ºå¤–ç•Œæ‰€çŸ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¿™ä¸€ç‰ˆå…·æœ‰å¦‚æ­¤é­…åŠ›ï¼Ÿå› ä¸ºç°ä»£æ“ä½œç³»ç»Ÿçš„è®¾è®¡å“²å­¦ï¼ˆå¥—è·¯ï¼‰å°±æ­¤å½¢æˆï¼Œå¹¶ç¨³å®šä¸‹æ¥äº†ã€‚è¿™ä¸€å“²å­¦åŒ…å«ä¸¤ä¸ªæ–¹é¢ï¼Œç¬¬ä¸€æ˜¯ç®€æ´ï¼Œç¬¬äºŒæ˜¯ä¸“æ³¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆè¯´ç®€æ´ï¼ŒUnix çš„æ–‡ä»¶ç³»ç»Ÿå°±æ˜¯æœ€ä½³ç¤ºèŒƒã€‚åœ¨ Unix çš„ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡çš†æ–‡ä»¶ã€‚è¯´åˆ°æ–‡ä»¶ï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„å¯èƒ½æ˜¯æ‰“å¼€ä¸€ä¸ªæ–‡æ¡£ï¼Œå¹¶åœ¨é‡Œé¢è¾“å…¥å†…å®¹ï¼Œæœ€åä¿å­˜å…³é—­ã€‚è¿™æ˜¯ä¸€ä¸ªå…³äºæ™®é€šæ–‡ä»¶çš„å…¸å‹æ“ä½œè¿‡ç¨‹ï¼Œåªéœ€è¦äº”ä¸ªç³»ç»Ÿè°ƒç”¨ï¼ˆcreat, open, read, write, closeï¼‰å°±å¯ä»¥å…¨éƒ¨å®Œæˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œå¯¹äºå…¶ä»–å¤–æ¥çš„è®¾å¤‡ï¼Œä¹Ÿå¯ä»¥å°†å…¶è§†ä¸ºä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶ï¼Œåªéœ€è¦ç”¨äº”ä¸ªç³»ç»Ÿè°ƒç”¨ç»„åˆä½¿ç”¨ï¼Œå°±èƒ½å®Œæˆè¯»å†™æ•°æ®çš„å·¥ä½œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†è¯´ä¸“æ³¨ï¼ŒUnix ç³»ç»Ÿé‡Œæœ‰è®¸å¤šç¨‹åºï¼Œè¿™äº›ç¨‹åºå„å¸å…¶è´£ï¼Œåªå°†ä¸€ä»¶äº‹åšå¥½ã€‚ä¾‹å¦‚ echo å°±æ˜¯å›æ˜¾æ–‡æœ¬ï¼›cat å°±æ˜¯æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼›ls å°±æ˜¯æ˜¾ç¤ºç£ç›˜ç›®å½•å†…å®¹ã€‚é‚£ä¹ˆï¼Œè¦å®ç°å¤æ‚çš„åŠŸèƒ½æ€ä¹ˆåŠï¼Ÿç­”æ¡ˆæ˜¯å€ŸåŠ©äº shellã€ç®¡é“ä¸é‡å®šå‘æœºåˆ¶ï¼Œå°†ç‹¬ç«‹çš„å°ç¨‹åºç»„åˆèµ·æ¥ï¼Œå®ç°æƒ³è¦çš„åŠŸèƒ½ã€‚è¿™å°±æ˜¯ä¸€ç§å…¸å‹çš„åˆ†å·¥åˆä½œæ€æƒ³ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œé¢ shell æ˜¯ä¾›ç¨‹åºæ‰€è¿è¡Œçš„ç¯å¢ƒï¼Œç®¡é“æ˜¯ç¨‹åºé—´æ•°æ®æµé€šçš„é€šé“ã€‚ç®¡é“æœºåˆ¶æ˜¯çœŸæ­£çš„ç¥æ¥ä¹‹ç¬”ã€‚é“æ ¼Â·éº¦åŸºå°”ç½—ä¼Šæœ€åˆæœ‰è¿™ä¸ªæƒ³æ³•ï¼Œä½†æ€»æ˜¯è¢«å®ç°é—®é¢˜æ‰€å›°æ‰°ï¼Œç›´åˆ°æœ‰ä¸€å¤©å¯å‘äº†è‚¯Â·æ±¤æ™®æ£®çš„æ€è€ƒã€‚å¦‚åŒè¢«ä¸Šå¸äº²å»äº†è„‘é—¨ï¼Œè‚¯çŒ›ç„¶çœæ‚Ÿäº†ç®¡é“çš„æœºç†ã€‚ä»–åªç”¨äº†ä¸€ä¸ªå°æ—¶å°±åœ¨ç³»ç»Ÿè°ƒç”¨ä¸­å®ç°äº†ç®¡é“ã€‚è¿™å°±æ˜¯å°†ç¨‹åºçš„å­¤å²›ç»™è¿æ¥èµ·æ¥çš„ç«–çº¿ç¬¦ï¼šâ€œ|â€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;UNIX æˆåŠŸçš„å¦ä¸€ä¸ªé‡è¦å› ç´ æ˜¯å®ƒçš„å¯ç§»æ¤æ€§ã€‚æ­£æ˜¯é‡Œå¥‡ç«­å°½å…¨åŠ›å¼€å‘äº† C è¯­è¨€ï¼Œå¹¶æŠŠ UNIX ç”¨ C é‡å†™äº†ä¸€éï¼Œè¿™æ‰ä½¿å®ƒå…·æœ‰äº†è¿™ä¸€ç‰¹æ€§ã€‚æ±¤æ™®æ£®æ˜¯ç”¨æ±‡ç¼–è¯­è¨€å¼€å‘ UNIX çš„ï¼Œè¿™ç§è¯­è¨€é«˜åº¦ä¾èµ–äºç¡¬ä»¶ï¼Œç”±å®ƒå¼€å‘çš„è½¯ä»¶åªèƒ½åœ¨ç›¸åŒçš„ç¡¬ä»¶å¹³å°ä¸Šè¿è¡Œã€‚é‡Œå¥‡åœ¨ç”±å‰‘æ¡¥å¤§å­¦çš„é‡ŒæŸ¥å¾·ï¼ˆMï¼Richardï¼‰äº 1969 å¹´å¼€å‘çš„ BCPL è¯­è¨€ï¼ˆBasic Combined Programming Languageï¼‰çš„åŸºç¡€ä¸Šï¼Œå·§å¦™åœ°å¯¹å®ƒè¿›è¡Œæ”¹è¿›ã€æ”¹é€ ï¼Œå½¢æˆäº†æ—¢å…·æœ‰æœºå™¨è¯­è¨€èƒ½ç›´æ¥æ“ä½œäºŒè¿›åˆ¶ä½å’Œå­—ç¬¦çš„èƒ½åŠ›ï¼Œåˆå…·æœ‰é«˜çº§è¯­è¨€è®¸å¤šå¤æ‚å¤„ç†åŠŸèƒ½å¦‚å¾ªç¯ã€è½¬ç§»ã€åˆ†æ”¯ç­‰çš„ä¸€ç§ç®€å•æ˜“å­¦è€Œåˆçµæ´»ã€é«˜æ•ˆçš„é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;heng-li-luo-bo-ci-di-yi-tai-ge-ren-dian-nao&quot;&gt;äº¨åˆ©Â·ç½—ä¼¯èŒ¨ï¼šç¬¬ä¸€å°ä¸ªäººç”µè„‘&lt;&#x2F;h2&gt;
&lt;p&gt;ç½—ä¼¯èŒ¨æ˜¯ä¸ªæ— æ‰€ç•æƒ§çš„åˆ›ä¸šè€…ï¼Œä»–ä¸€ç›´éƒ½å¯¹è®¡ç®—æœºå¾ˆæ„Ÿå…´è¶£ï¼Œä»–è®¤ä¸ºå…¶ä»–å‘çƒ§å‹ä¹Ÿä¸€æ ·ã€‚ä»–å…´è‡´å‹ƒå‹ƒåœ°å¯¹ä¸€ä½æœ‹å‹è¯´ï¼Œä»–çš„ç›®æ ‡æ˜¯åšä¸€æ¬¾é¢å‘å¤§ä¼—ï¼Œèƒ½å¤Ÿå½»åº•æ¸…é™¤â€œè®¡ç®—æœºåœ£èŒé˜¶å±‚â€ï¼ˆComputer Priesthoodï¼‰çš„ç”µè„‘ã€‚åœ¨ç ”ç©¶è¿‡è‹±ç‰¹å°” 8080 çš„æŒ‡ä»¤é›†ä¹‹åï¼Œç½—ä¼¯èŒ¨è®¤ä¸º MITS èƒ½å¤Ÿç”Ÿäº§å‡ºä¸€æ¬¾å¯ç»„è£…å‡ºç®€é™‹è®¡ç®—æœºçš„ DIY å¥—ä»¶ï¼Œä»·æ ¼å¯ä»¥å–å¾—éå¸¸ä¾¿å®œï¼Œåœ¨ 400 ç¾å…ƒä»¥ä¸‹ï¼Œè®©æ¯ä¸ªè®¡ç®—æœºçˆ±å¥½è€…éƒ½èƒ½ä¹°å¾—èµ·ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç½—ä¼¯èŒ¨å’Œä»–é‚£æ”¯æ‚ç‰Œå†›åˆ¶ä½œçš„ç”µè„‘ä¸ä¼šç»™æ©æ ¼å°”å·´ç‰¹ã€å‡¯å’Œæ–¯å¦ç¦å‘¨å›´å®éªŒå®¤çš„å…¶ä»–äººç•™ä¸‹ä»€ä¹ˆæ·±åˆ»å°è±¡ã€‚è¿™æ¬¾ç”µè„‘å†…å­˜åªæœ‰ 256 ä¸ªå­—èŠ‚ï¼Œæ²¡æœ‰é”®ç›˜ï¼Œä¹Ÿæ²¡æœ‰å…¶ä»–è¾“å…¥è®¾å¤‡ã€‚è¦æƒ³è¾“å…¥æ•°æ®æˆ–æŒ‡ä»¤ï¼Œåªèƒ½åœ¨ä¸€æ’å¼€å…³ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚å½“æ—¶æ–½ä¹ PARC çš„ä¸“å®¶æ­£åœ¨å¼€å‘å¯ä»¥æ˜¾ç¤ºä¿¡æ¯çš„å›¾å½¢ç•Œé¢ï¼›è€Œè¿™æ¬¾å‡ºè‡ªè€é­”æ³•ä¸‰æ˜æ²»åº—çš„æœºå™¨å´åªèƒ½é€šè¿‡å‰ç½®é¢æ¿ä¸Šå‡ ç›ç¯çš„é—ªç­æ¥æ˜¾ç¤ºäºŒè¿›åˆ¶ç ç­”æ¡ˆã€‚è¿™æ¬¾ç”µè„‘åœ¨æŠ€æœ¯æ–¹é¢è™½ç„¶ç®—ä¸ä¸Šæœ‰å¤šæˆåŠŸï¼Œä½†ä»ç„¶æ˜¯ä¸€æ¬¾å‘çƒ§å‹å‘å¾€çš„äº§å“ã€‚å‘çƒ§å‹ç¾¤ä½“ä¸­å­˜åœ¨ä¸€ç§æœ‰å¾…é‡Šæ”¾çš„éœ€æ±‚ï¼Œä»–ä»¬æ¸´æœ›æœ‰ä¸€æ¬¾åƒä¸šä½™æ— çº¿ç”µè®¾å¤‡é‚£æ ·ï¼Œè®©ä»–ä»¬åŠ¨æ‰‹ç»„è£…å’Œæ‹¥æœ‰çš„ç”µè„‘ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;35974&#x2F;124247740-bf690a00-db54-11eb-8182-cdf3be631417.png&quot; alt=&quot;F231040F-A65E-4712-AE05-2A3BBB2649EF&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸å½“æ—¶å…¶å®ƒçš„è®¡ç®—æœºç›¸æ¯”ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸€å°æ€§èƒ½å¼ºåŠ²çš„è®¡ç®—æœºï¼ˆå°½ç®¡å®ƒçš„æˆæœ¬è¦ä½å¾—å¤šï¼‰ï¼Œå®ƒä¹Ÿä¸æ˜¯é¦–ä¸ªé‡‡ç”¨å¾®å¤„ç†å™¨çš„é€šç”¨è®¡ç®—æœºï¼ˆåœ¨å®ƒä¹‹å‰å·²ç»è‡³å°‘æœ‰ä¸‰ä¸ªåŸºäºå¾®å¤„ç†å™¨çš„è®¡ç®—æœºï¼‰ã€‚ä½†æ˜¯ Altair æ˜¯ä¸€ç§å¯ä¾›æˆ‘ä»¬æ‰€æœ‰äººä½¿ç”¨çš„è®¡ç®—æœºã€‚å®ƒæ˜¯å†å²ä¸Šæˆ‘ä»¬æ‰€æ‹¥æœ‰çš„è®¾å¤‡ä¸­é¦–å°æµè¡Œçš„è®¡ç®—æœºï¼Œè€Œæ—©äº Altair è®¡ç®—æœºéƒ½æ˜¯å®Œå…¨ä¸åŒçš„æœºå™¨ï¼Œé‚£äº›å¤§å‹æœºå’Œç¬¨é‡çš„è¿·ä½ è®¡ç®—æœºç”±ç©¿å­”å¡ç¼–ç¨‹å¹¶ä¸”å¾ˆå°‘ä¸ä¹‹ç›´æ¥äº¤äº’ã€‚ä¸è¿‡ Altair ä¹Ÿæ˜¯å°æå…¶ç®€å•çš„è®¡ç®—æœºï¼Œå®ƒæ²¡æœ‰é™„å¸¦ä»»ä½•æ“ä½œç³»ç»Ÿç”šè‡³æ˜¯å¼•å¯¼ç¨‹åºã€‚é™¤éä½ ä¸ºå®ƒè´­ä¹°å¤–å›´è®¾å¤‡ï¼Œå¦åˆ™ Altair å°±æ˜¯ä¸€å°è£…é…äº† RAMã€å‰é¢æ¿åªæœ‰ä¸€ç»„å¼€å…³å’Œç¯æ³¡çš„æœºå™¨ã€‚ç”±äº Altair æ“ä½œç®€å•ï¼Œä½¿å¾—é‡æ–°ç†è§£åŸºæœ¬çš„è®¡ç®—æ¦‚å¿µéƒ½æˆäº†ååˆ†ç®€å•çš„äº‹æƒ…ï¼Œæ­£å¦‚æ¨¡æ‹Ÿä¿¡å·æ—¶ä»£çš„äººä»¬ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°æ•°å­—è®¾å¤‡ä¸€æ ·ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã€Œå¤§ä¼—ç”µå­å­¦ã€åœ¨ä¸€ç¯‡æŠ¥é“çš„å¯¼è¯­ä¸­å®£å¸ƒï¼šâ€œç”µè„‘èµ°è¿›åƒå®¶ä¸‡æˆ·çš„æ—¶ä»£ï¼ˆç§‘å¹»å°è¯´ä½œå®¶æœ€å–œæ¬¢çš„ä¸»é¢˜ï¼‰æ¥ä¸´äº†ï¼â€ä¸€æ¬¾ä»·æ ¼é€‚ä¸­è€Œä¸”å®ç”¨çš„ç”µè„‘ç¬¬ä¸€æ¬¡è¢«æ¨å‘å¤§ä¼—å¸‚åœºã€‚æ¯”å°”Â·ç›–èŒ¨åæ¥å®£ç§°ï¼šâ€œåœ¨æˆ‘çœ‹æ¥ï¼ŒAltair æ˜¯ç¬¬ä¸€å°åå‰¯å…¶å®çš„ä¸ªäººç”µè„‘ã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;1974 å¹´ 12 æœˆï¼Œå°±åœ¨ç›–èŒ¨å’Œè‰¾ä¼¦ç¬¬ä¸€æ¬¡çœ‹åˆ°ã€Œå¤§ä¼—ç”µå­å­¦ã€å°é¢çš„é‚£ä¸€å¤©ï¼Œä¸¤äººä¾¿å†³å®šä¸ºä¸ªäººç”µè„‘åˆ¶ä½œè½¯ä»¶äº†ã€‚ä¸ä»…å¦‚æ­¤ï¼Œä»–ä»¬è¿˜æƒ³æ”¹å˜è¿™ä¸ªæ–°å…´è¡Œä¸šçš„åˆ©æ¶¦åˆ†é…æ ¼å±€ï¼Œè®©ç¡¬ä»¶æˆä¸ºä¸€ç§å¯ä»¥æ›¿ä»£çš„å•†å“ï¼Œå¹¶è®©é‚£äº›åˆ›é€ å‡ºæ“ä½œç³»ç»Ÿå’Œåº”ç”¨è½¯ä»¶çš„äººè·å¾—å¤§éƒ¨åˆ†åˆ©æ¶¦ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç›–èŒ¨å’Œè‰¾ä¼¦å‡†å¤‡ç¼–å†™ä¸€ä¸ªèƒ½è®©å‘çƒ§å‹ç”¨ Altair ç”µè„‘è‡ªå·±åŠ¨æ‰‹å†™ç¨‹åºçš„è½¯ä»¶ã€‚å…·ä½“æ¥è¯´ï¼Œä»–ä»¬å†³å®šä¸ºç¼–ç¨‹è¯­è¨€ BASIC å†™ä¸€ä¸ªèƒ½åœ¨ Altair çš„è‹±ç‰¹å°” 8080 å¾®å¤„ç†å™¨ä¸Šè¿è¡Œçš„è§£é‡Šå™¨ã€‚è¿™å°†æˆä¸ºé’ˆå¯¹å¾®å¤„ç†å™¨çš„ç¬¬ä¸€æ¬¾å•†ä¸šåŒ–æœ¬åœ°é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶å°†å¼€åˆ›ä¸ªäººç”µè„‘è½¯ä»¶è¡Œä¸šã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shi-di-fu-wo-zi-ni-ya-ke-apple-ii&quot;&gt;å²è’‚å¤«Â·æ²ƒå…¹å°¼äºšå…‹ï¼šApple II&lt;&#x2F;h2&gt;
&lt;p&gt;å®¶é…¿ï¼ˆhomebrewï¼‰è®¡ç®—æœºä¿±ä¹éƒ¨çš„é¦–æ¬¡ä¼šè®®æ˜¯åœ¨æˆˆç™»Â·å¼—ä¼¦å¥‡çš„è½¦åº“é‡Œä¸¾è¡Œçš„ï¼Œå…¶ä¸­æœ‰ä¸€ä½å‚åŠ è€…å«å²è’‚å¤«Â·æ²ƒå…¹å°¼äºšå…‹ï¼Œæ˜¯ä¸€ä½ä¸å–„ä¸äººæ‰“äº¤é“çš„å¹´è½»ç¡¬ä»¶å·¥ç¨‹å¸ˆï¼Œä»–ä»å¤§å­¦é€€å­¦ååœ¨ä½äºç¡…è°·å°é•‡åº“æ¯”è’‚è¯ºçš„æƒ æ™®è®¡ç®—å™¨éƒ¨é—¨å·¥ä½œã€‚ä»ä¸€ä½æœ‹å‹é‚£å„¿çœ‹åˆ°é‚£å¼ å°ç€â€œä½ åœ¨è‡ªå·±ç»„è£…ç”µè„‘å—â€çš„ä¼ å•ä¹‹åï¼Œä»–ä¾¿é¼“è¶³å‹‡æ°”æ¥å‚åŠ èšä¼šã€‚ä»–å®£ç§°ï¼šâ€œé‚£å¤©æ™šä¸Šæˆä¸ºæˆ‘ç”Ÿå‘½ä¸­æœ€é‡è¦çš„å¤œæ™šä¹‹ä¸€ã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;å½“æ—¶æ²ƒå…¹å°¼äºšå…‹åˆšåˆšå®Œæˆã€Šæ‰“ç –å—ã€‹æ¸¸æˆçš„è®¾è®¡ã€‚èšä¼šåˆšå¼€å§‹æ—¶ï¼Œæ²ƒå…¹å°¼äºšå…‹æ„Ÿåˆ°è‡ªå·±ä¸å…¶ä»–äººæ ¼æ ¼ä¸å…¥ã€‚ä»–æ˜¯åšè®¡ç®—å™¨å’Œå®¶ç”¨ç”µè§†æ¸¸æˆæ˜¾ç¤ºå™¨çš„ï¼Œä½†é‚£æ¬¡èšä¼šä¸Šäººä»¬çš„ä¸»è¦å…´å¥‹ç‚¹æ˜¯é‚£å°æ–°æ¬¾ Altair ç”µè„‘ï¼Œè€Œä»–ä¸€å¼€å§‹å¯¹è¿™å°ç”µè„‘å¹¶ä¸å¤ªæ„Ÿå…´è¶£ã€‚äºæ˜¯ï¼Œå¾ˆå®¹æ˜“å®³ç¾çš„æ²ƒå…¹ä¾¿èº²åˆ°äº†è§’è½é‡Œã€‚ä»–åæ¥è¿™æ ·æè¿°å½“æ—¶çš„åœºé¢ï¼šâ€œé‚£å„¿æœ‰äººæ‹¿ç€ã€Šå¤§ä¼—ç”µå­å­¦ã€‹æ‚å¿—ï¼Œå°é¢å›¾ç‰‡æ˜¯ä¸€æ¬¾å« Altair çš„ç”µè„‘ã€‚æˆ‘å‘ç°è¿™äº›äººå…¶å®éƒ½æ˜¯ Altair çš„ç²‰ä¸ï¼Œè€Œä¸æ˜¯åƒæˆ‘æƒ³è±¡çš„é‚£æ ·å¯¹ç”µè§†ç»ˆç«¯æ„Ÿå…´è¶£ã€‚â€ä»–ä»¬ä¸€ä¸ªä¸ªè½®ç•ªåšè‡ªæˆ‘ä»‹ç»ï¼Œè½®åˆ°æ²ƒå…¹å°¼äºšå…‹çš„æ—¶å€™ï¼Œä»–è¯´ï¼šâ€œæˆ‘å«å²è’‚å¤«Â·æ²ƒå…¹å°¼äºšå…‹ï¼Œæˆ‘åœ¨æƒ æ™®åšè®¡ç®—å™¨è®¾è®¡å·¥ä½œï¼Œæˆ‘è¿˜è®¾è®¡è¿‡ä¸€ä¸ªè§†é¢‘ç»ˆç«¯ã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;ä½†æœ‰ä¸€æ ·ä¸œè¥¿æ¿€èµ·äº†æ²ƒå…¹å°¼äºšå…‹çš„å…´è¶£ã€‚èšä¼šä¸Šæœ‰äººç»™å¤§å®¶ä¼ é˜…äº†ä¸€ä»½æ–°æ¬¾è‹±ç‰¹å°”å¾®å¤„ç†å™¨çš„è§„æ ¼è¡¨ã€‚ä»–å›å¿†è¯´ï¼šâ€œå½“æ™šæˆ‘æŸ¥é˜…äº†è¿™ä»½è§„æ ¼è¡¨ï¼Œå‘ç°ä¸Šé¢æœ‰ä¸€æ¡å°†å†…å­˜ä¸­ä¸€ä¸ªä½ç½®çš„æ•°æ®ä¸ A å¯„å­˜å™¨å†…å®¹ç›¸åŠ çš„æŒ‡ä»¤ã€‚å½“æ—¶æˆ‘æƒ³ï¼Œç­‰ç­‰ï¼Œæˆ‘å†çœ‹çœ‹ã€‚ç„¶åæˆ‘åˆçœ‹åˆ°ä¸€æ¡è®©å†…å­˜å’Œ A å¯„å­˜å™¨å†…å®¹ç›¸å‡çš„æŒ‡ä»¤ã€‚å“‡ï¼åœ¨ä½ çœ¼ä¸­è¿™äº›å¯èƒ½æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œä½†æˆ‘å¯æ˜¯æ¸…æ¥šåœ°çŸ¥é“è¿™äº›æŒ‡ä»¤çš„æ„ä¹‰ï¼Œè¿™æ˜¯æˆ‘æœ€å…´å¥‹çš„å‘ç°ã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;æ²ƒå…¹å°¼äºšå…‹å½“æ—¶åœ¨è®¾è®¡ä¸€ä¸ªå¸¦æœ‰è§†é¢‘æ˜¾ç¤ºå™¨å’Œé”®ç›˜çš„ç»ˆç«¯ã€‚ä»–æœ¬æ¥æƒ³æŠŠå®ƒè®¾è®¡æˆä¸€ä¸ªâ€œå“‘â€ç»ˆç«¯ï¼Œå³è‡ªèº«ä¸å…·å¤‡è®¡ç®—èƒ½åŠ›ï¼Œè€Œè¦é€šè¿‡ç”µè¯çº¿ä¸å…¶ä»–åœ°æ–¹çš„åˆ†æ—¶è®¡ç®—æœºç›¸è¿çš„ç»ˆç«¯ã€‚ä½†å½“ä»–çœ‹åˆ°é‚£ä»½å¾®å¤„ç†å™¨è§„æ ¼è¡¨æ—¶ï¼Œä»–çªç„¶äº§ç”Ÿäº†ä¸€ä¸ªçµæ„Ÿï¼šå¯ä»¥åˆ©ç”¨å¾®å¤„ç†å™¨ï¼ˆå¸¦æœ‰ä¸­å¤®å¤„ç†å•å…ƒçš„èŠ¯ç‰‡ï¼‰èµ‹äºˆä»–æ­£åœ¨åˆ¶ä½œçš„ç»ˆç«¯ä¸€äº›è¿ç®—èƒ½åŠ›ã€‚è¿™å°±åœ¨ Altair çš„åŸºç¡€ä¸Šè¿ˆè¿›äº†ä¸€å¤§æ­¥ï¼šè¿™æ˜¯ä¸€å°é›†è®¡ç®—æœºã€é”®ç›˜å’Œå±å¹•äºä¸€ä½“çš„è®¾å¤‡ï¼ä»–è¯´ï¼šâ€œè¿™ä¸€æ•´å¥—æœ‰å…³ä¸ªäººç”µè„‘çš„è®¾æƒ³å°±è¿™æ ·æµ®ç°åœ¨æˆ‘çš„è„‘æµ·ä¸­ã€‚é‚£å¤©æ™šä¸Šï¼Œæˆ‘å¼€å§‹åœ¨çº¸ä¸Šç”»è‰å›¾ï¼Œè¿™å°±æ˜¯è‹¹æœ I å‹ç”µè„‘çš„é›å½¢ã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€ä½æœ‹å‹æŠŠæ²ƒå…¹å°¼äºšå…‹ä»‹ç»ç»™äº†å¦ä¸€ä¸ªä¹Ÿçƒ­è¡·ç”µå­å­¦çš„å­©å­ï¼Œè¿™ä¸ªå­©å­ä½åœ¨ä¸ä»–å®¶ç›¸éš”å‡ ä¸ªè¡—åŒºçš„åœ°æ–¹ï¼Œåå«å²è’‚å¤«Â·ä¹”å¸ƒæ–¯ã€‚ä¹”å¸ƒæ–¯æ¯”æ²ƒå…¹å°¼äºšå…‹å°å°†è¿‘äº”å²ï¼Œå½“æ—¶è¿˜åœ¨æ²ƒå…¹å°¼äºšå…‹çš„æ¯æ ¡å®¶å›­é«˜ä¸­è¯»ä¹¦ã€‚ä¸¤äººååœ¨äººè¡Œé“ä¸Šï¼Œäº¤æµç€ä»–ä»¬è€è¿‡çš„æ¶ä½œå‰§ã€ä»–ä»¬å–œæ¬¢çš„é²å‹ƒÂ·è¿ªä¼¦çš„æ­Œå’Œåšè¿‡çš„ç”µå­è®¾è®¡ã€‚æ²ƒå…¹å°¼äºšå…‹è¯´ï¼šâ€œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘å¾ˆéš¾è·Ÿäººè®²æ¸…æˆ‘è®¾è®¡çš„ä¸œè¥¿ï¼Œä½†å²è’‚å¤«ç«‹é©¬å°±èƒ½æ˜ç™½ã€‚æˆ‘å–œæ¬¢ä»–ã€‚ä»–ç²¾ç˜¦ç»“å®ï¼Œæ´»åŠ›å››å°„ã€‚â€è€Œæ²ƒå…¹å°¼äºšå…‹ä¹Ÿç»™ä¹”å¸ƒæ–¯ç•™ä¸‹äº†å¾ˆæ·±çš„å°è±¡ï¼Œä¹”å¸ƒæ–¯åæ¥è¯´ï¼šâ€œæ²ƒå…¹æ˜¯æˆ‘é‡åˆ°çš„ç¬¬ä¸€ä¸ªç”µå­å­¦æ‡‚å¾—æ¯”æˆ‘å¤šçš„äººã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;ä»–ä»¬æœ€å¤§çš„ä¸€æ¬¡æ¶ä½œå‰§æ˜¯â€œè“ç›’å­â€äº‹ä»¶ï¼Œè¿™ä»¶äº‹ä¸ºä¸¤äººæ—¥åçš„ç”µè„‘ä¸šåŠ¡åˆä½œå…³ç³»å¥ å®šäº†åŸºç¡€ã€‚ä¹”å¸ƒæ–¯åæ¥åæ€é“ï¼šâ€œå¦‚æœæ²¡æœ‰è“ç›’å­ï¼Œå°±æ²¡æœ‰è‹¹æœã€‚é€šè¿‡è“ç›’å­ï¼Œæ²ƒå…¹å’Œæˆ‘å­¦ä¼šäº†å¦‚ä½•åˆä½œã€‚â€æ²ƒå…¹å°¼äºšå…‹èµæˆè¿™ç§è¯´æ³•ï¼šâ€œå®ƒè®©æˆ‘ä»¬ä½“ä¼šåˆ°ï¼Œå¦‚æœæŠŠæˆ‘çš„å·¥ç¨‹èƒ½åŠ›å’Œä»–çš„æƒ³è±¡åŠ›ç»“åˆèµ·æ¥ï¼Œæˆ‘ä»¬å°±èƒ½åšæˆä¸€ç•ªå¤§äº‹ã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;35974&#x2F;124247782-c859db80-db54-11eb-8b5f-09241924bbb2.jpg&quot; alt=&quot;epub_908185_859&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç­‰åˆ°å¼€å‘è‹¹æœ II å‹ç”µè„‘æ—¶ï¼Œä»–å°±æ²¡å†èŠ±å¤ªå¤šæ—¶é—´ç ”ç©¶å¾®å¤„ç†å™¨è§„æ ¼äº†ï¼Œè€Œæ˜¯åˆ°æ–¯å¦ç¦è´­ç‰©åŸçš„æ¢…è¥¿ç™¾è´§å»ç ”ç©¶ Cuisinart ç‰Œç”µåŠ¨å¨å…·ã€‚ä»–è®¤ä¸ºä¸‹ä¸€ä»£ä¸ªäººç”µè„‘åº”è¯¥åƒå®¶ç”¨ç”µå™¨ä¸€æ ·ï¼šæ‰€æœ‰å…ƒä»¶éƒ½è£…é…å¦¥å½“ï¼Œå¸¦æœ‰æ—¶å°šçš„å¤–å£³ï¼Œç”¨æˆ·ä¹°å›å®¶åæ— é¡»å†è‡ªå·±ç»„è£…ã€‚ä»ç”µæºåˆ°è½¯ä»¶ï¼Œå†ä»é”®ç›˜åˆ°æ˜¾ç¤ºå™¨ï¼Œä¸€åˆ‡éƒ½åº”è¯¥ç´§å¯†åœ°é›†æˆä¸ºä¸€ä½“ã€‚ä»–è§£é‡Šè¯´ï¼šâ€œæˆ‘å¸Œæœ›åšå‡ºä¸–ç•Œä¸Šç¬¬ä¸€å°å®Œå…¨ä¸€ä½“åŒ–çš„ç”µè„‘ã€‚æˆ‘ä»¬ä¸å†é¢å‘ä¸€å°æ’®å–œæ¬¢è‡ªå·±ç»„è£…ç”µè„‘ï¼Œæ‡‚å¾—å¦‚ä½•é€‰è´­å˜å‹å™¨å’Œé”®ç›˜çš„å‘çƒ§å‹ã€‚æœ‰æ•°é‡ç›¸å½“äºå‘çƒ§å‹ä¸€åƒå€çš„äººæƒ³è¦ä¹°å›å®¶å°±èƒ½ç”¨çš„ç”µè„‘ã€‚â€&lt;&#x2F;p&gt;
&lt;p&gt;è‹¹æœ II å‹ç”µè„‘æ˜¯ç¬¬ä¸€æ¬¾æ“ä½œç®€å•ä¸”è½¯ç¡¬ä»¶å®Œå…¨ä¸€ä½“åŒ–çš„ä¸ªäººç”µè„‘ã€‚è¿™æ¬¾ç”µè„‘äº 1977 å¹´ 6 æœˆä¸Šå¸‚ï¼Œå”®ä»· 1 298 ç¾å…ƒï¼Œä¸åˆ°ä¸‰å¹´æ—¶é—´å°±å–å‡ºäº† 10 ä¸‡å°ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>è½¯ä»¶è®¾è®¡çš„å“²å­¦</title>
            <pubDate>Wed, 30 Jun 2021 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/software-design-philosophy/</link>
            <guid>https://limboy.me/posts/software-design-philosophy/</guid>
            <description>&lt;p&gt;ä»Šå¤©è¦æ¨èçš„ä¹¦æ˜¯ã€Œ&lt;a href=&quot;https:&#x2F;&#x2F;www.amazon.com&#x2F;Philosophy-Software-Design-John-Ousterhout&#x2F;dp&#x2F;1732102201&quot;&gt;A Philosophy of Software Design&lt;&#x2F;a&gt;ã€ï¼Œä½œè€…æ˜¯ Tcl è¯­è¨€çš„è®¾è®¡è€…ï¼Œä¹Ÿæ˜¯æ–¯å¦ç¦å¤§å­¦çš„æ•™æˆï¼šJohn Ousterhouã€‚ä»–ä¹Ÿåœ¨ Google åšäº†ä¸€ä¸ª&lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=bmSAYlu0NcY&quot;&gt;ç›¸å…³çš„åˆ†äº«&lt;&#x2F;a&gt;ã€‚ä½œä¸ºä¸€ä¸ªè¿˜åœ¨ä»äº‹ç¼–ç¨‹çš„å¤§ä½¬ï¼Œçœ‹çœ‹ä»–æ˜¯æ€ä¹ˆç†è§£è½¯ä»¶å¼€å‘çš„å“²å­¦çš„ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸€åˆ‡éƒ½æ˜¯å…³äºå¤æ‚åº¦&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;åœ¨ä½œè€…çœ‹æ¥ï¼Œã€Œå¤æ‚åº¦ã€æ˜¯æ ¸å¿ƒï¼Œå¦‚æœæ— æ³•å¤„ç†å¥½å¤æ‚åº¦ï¼Œå°±å¾ˆéš¾æ„å»ºå¤§å‹&#x2F;å¤æ‚çš„ç³»ç»Ÿã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fu-za-du-de-ding-yi&quot;&gt;å¤æ‚åº¦çš„å®šä¹‰&lt;&#x2F;h3&gt;
&lt;p&gt;å¤æ‚åº¦æœ‰æ²¡æœ‰ç®€å•çš„å®šä¹‰å‘¢ï¼Œä½œè€…è®¤ä¸ºå¤æ‚åº¦å°±æ˜¯ç†è§£å’Œä¿®æ”¹ç³»ç»Ÿçš„æˆæœ¬ã€‚æ¯”å¦‚æ˜¯å¦å®¹æ˜“ç†è§£æŸä¸€æ®µä»£ç æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Œå¦‚ä½•è·Ÿä¸Šä¸‹æ¸¸è¡”æ¥çš„ï¼Œå¤„äºæ¶æ„ä¸­çš„å“ªä¸ªéƒ¨åˆ†ï¼Œæ”¹åŠ¨å®ƒä¼šå¯¹é‚£äº›æ¨¡å—äº§ç”Ÿå½±å“ã€‚å¦‚æœè¿™äº›éƒ½æ¯”è¾ƒæ¨¡ç³Šï¼Œé‚£å°±æ˜¯å¤æ‚çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç‚¹æ˜¯ã€ŒUnknown unknownsã€ï¼Œæ¯”å¦‚ä¸ºäº†å®ŒæˆæŸä¸ª Featureï¼Œä¸çŸ¥é“å“ªäº›åœ°æ–¹çš„ä»£ç éœ€è¦åšè°ƒæ•´ï¼Œæˆ–è€…éœ€è¦çŸ¥é“å“ªäº›ä¸Šä¸‹æ–‡ï¼Œè¿™ç§æƒ…å†µæ˜¯æœ€ç³Ÿç³•çš„ã€‚æ‰€ä»¥å¥½çš„è®¾è®¡ä¸€å®šæ˜¯ã€Œæ˜¾å¼ã€çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fu-za-du-de-lai-yuan&quot;&gt;å¤æ‚åº¦çš„æ¥æº&lt;&#x2F;h3&gt;
&lt;p&gt;ä¾èµ–å’Œæ¨¡ç³Šã€‚ä¾èµ–æ˜¯æŒ‡ä¸€æ®µä»£ç æ— æ³•è¢«ç‹¬ç«‹ç†è§£å’Œä¿®æ”¹ï¼Œå¿…é¡»å‚ç…§&#x2F;ä¿®æ”¹ç›¸å…³ä»£ç ã€‚æˆ‘ä»¬æ— æ³•æ‘†è„±ä¾èµ–ï¼Œä½†å¯ä»¥è®©ä¾èµ–å°½é‡ç®€å•å’Œæ˜¾å¼ã€‚æ¨¡ç³Šå°±æ˜¯ä¸€äº›é‡è¦çš„ä¿¡æ¯ä¸å¤Ÿçªå‡ºï¼Œæ¯”å¦‚ç”¨äº†ä¸€ä¸ªé€šç”¨çš„å˜é‡åï¼Œæˆ–è€…æ—¶é—´å•ä½æ²¡æœ‰è¯´æ˜ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¤æ‚åº¦ä¹Ÿä¸æ˜¯å­¤ç«‹çš„ï¼Œå¹³æ—¶å¦‚æœä¸æ³¨æ„ï¼Œæ—¥ç§¯æœˆç´¯ä¹‹åæƒ³è¦å†é™ä¸‹å»å°±ä¼šæ¯”è¾ƒéš¾äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;chu-li-fu-za-du-de-xin-tai-zhan-zhu-bian-cheng-yu-zhan-lue-bian-cheng&quot;&gt;å¤„ç†å¤æ‚åº¦çš„å¿ƒæ€ï¼šæˆ˜æœ¯ç¼–ç¨‹ä¸æˆ˜ç•¥ç¼–ç¨‹&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ˜æœ¯ç¼–ç¨‹å°±æ˜¯åªå…³æ³¨çœ¼å‰éœ€æ±‚ï¼Œæ²¡æœ‰å¤ªè€ƒè™‘éœ€æ±‚çš„æœ¬è´¨å’Œå°†æ¥çš„æ¼”è¿›ã€‚è¿™æ ·å¯èƒ½ä¼šè®©éœ€æ±‚å®Œæˆåœ°æ›´å¿«ï¼Œä½†ä¹Ÿä¼šç»™ç³»ç»Ÿå¢åŠ å¤æ‚åº¦ï¼Œè¿›è€Œå¸¦æ¥æ›´å¤§çš„ç»´æŠ¤æˆæœ¬ï¼Œäºæ˜¯å°±äº§ç”Ÿäº†ã€ŒæŠ€æœ¯å€ºã€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ˜ç•¥ç¼–ç¨‹è¦æ„è¯†åˆ°ã€ŒWorking code isn&#x27;t enoughã€ï¼Œã€Œa great design, which happens to workã€æ‰æ˜¯ç›®æ ‡ï¼Œè¿™éœ€è¦æŠ•å…¥æ—¶é—´å»æ€è€ƒå»é›•ç¢ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;chu-li-fu-za-du-de-shou-duan-fen-jie-yu-feng-zhuang&quot;&gt;å¤„ç†å¤æ‚åº¦çš„æ‰‹æ®µï¼šåˆ†è§£ä¸å°è£…&lt;&#x2F;h3&gt;
&lt;p&gt;åˆ†è§£å°±æ˜¯å°†ä¸€ä¸ªå¤æ‚ç³»ç»Ÿæ‹†åˆ†ä¸ºå¤šä¸ªç›¸å¯¹ç‹¬ç«‹çš„å­ç³»ç»Ÿï¼Œå­ç³»ç»Ÿä¹‹é—´ä¹Ÿä¼šäº§ç”Ÿä¾èµ–ï¼Œå¤„ç†ä¾èµ–çš„æ–¹å¼æ˜¯å°†å­ç³»ç»Ÿæ‹†åˆ†ä¸º interface å’Œ implementationã€‚interface é‡Œçš„å†…å®¹æ˜¯ä¾›æ¶ˆè´¹æ–¹ä½¿ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯ whatï¼Œimplementation å¯¹åº”çš„æ˜¯ howã€‚interface å°½é‡ç®€æ´ï¼ŒæŠŠå¤æ‚åº¦åŒ…åœ¨ implementation é‡Œå†…éƒ¨æ¶ˆåŒ–ï¼Œå½¢æˆ Deep Moduleã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;35974&#x2F;123841170-d08dfd00-d941-11eb-9e3f-dc0b110bb040.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ª interface çš„æç‚¼å°±æ¶‰åŠåˆ°æŠ½è±¡èƒ½åŠ›äº†ï¼ŒæŠ½è±¡å°±æ˜¯å»æ‰ä¸é‡è¦çš„ç»†èŠ‚ï¼Œç•™ä¸‹æœ€æ ¸å¿ƒçš„æœ¬è´¨ã€‚æ¯”å¦‚ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä¸éœ€è¦åœ¨ interface é‡ŒæŠŠæ–‡ä»¶å­˜å‚¨çš„ block ç­‰ç»†èŠ‚æš´éœ²å‡ºæ¥ï¼Œè¿™æ ·ä¼šå¢åŠ ä½¿ç”¨è€…çš„è´Ÿæ‹…ï¼Œä¹Ÿä¼šå¢åŠ å¤æ‚åº¦ï¼ˆå°†æ¥å¦‚æœæ¢äº†ä¸€ç§å®ç°ï¼Œå°±è¦ä¿®æ”¹æ¥å£äº†ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½œè€…åœ¨è§†é¢‘ä¸­ä¸¾äº†ä¸€ä¸ª Unix file I&#x2F;O çš„ä¾‹å­&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;35974&#x2F;123841203-da176500-d941-11eb-918f-82edd6bb9463.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å°è£…å°±æ˜¯ä¿¡æ¯éšè—ï¼Œå°†å…·ä½“æ€ä¹ˆå®ç°çš„éƒ½æ”¾åˆ° implementation é‡Œï¼Œä½¿ç”¨æ–¹ä¸éœ€è¦å…³å¿ƒï¼Œç”šè‡³å¯ä»¥éšæ—¶æ›´æ¢å®ç°ï¼Œè¿™æ ·å³ä½¿å†…éƒ¨å¾ˆå¤æ‚ï¼Œå› ä¸ºæ²¡æœ‰ä¸Šæ¸¸ä¾èµ–ï¼Œæ‰€ä»¥ä¸ä¼šå°†å¤æ‚åº¦æ‰©æ•£å‡ºå»ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-ta-jiang-di-fu-za-du-de-fang-shi-you-ya-di-she-ji-cuo-wu&quot;&gt;å…¶ä»–é™ä½å¤æ‚åº¦çš„æ–¹å¼ï¼šä¼˜é›…åœ°è®¾è®¡é”™è¯¯&lt;&#x2F;h3&gt;
&lt;p&gt;åªè¦ä¸ç¬¦åˆé¢„æœŸå°±æŠ›ä¸€ä¸ª Exceptionï¼Œè¿™æ˜¯æœ€ç®€å•çš„å¤„ç†ï¼Œä½†å¯¹ä½¿ç”¨æ–¹å¯èƒ½ä¸å¤ªå‹å¥½ï¼Œæ¯”å¦‚å–æ•°ç»„çš„ Range æ—¶ï¼ŒIndex è¶…è¿‡é•¿åº¦æŠ›ä¸€ä¸ª Exceptionï¼›æ–‡ä»¶åœ¨ä½¿ç”¨æ—¶è¯·æ±‚åˆ é™¤æŠ›ä¸€ä¸ª Exceptionï¼›å‚æ•°æ ¡éªŒä¸é€šè¿‡æŠ›ä¸€ä¸ª Exceptionã€‚å¦‚æœå¤šä¸ºä½¿ç”¨æ–¹æƒ³ä¸€ä¸‹ï¼Œè¿™äº› Exception éƒ½æ˜¯å¿…é¡»è¦æŠ›çš„ä¹ˆï¼Ÿæœ‰æ²¡æœ‰å¯èƒ½é€šè¿‡æ”¹å˜è¯­ä¹‰æˆ–è®¾è®¡æ¥é¿å… Errorï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;ä½œè€…ä¸¾äº†ä¸€ä¸ª &lt;code&gt;unset&lt;&#x2F;code&gt; çš„ä¾‹å­ï¼Œä¸€ä¸ªå¼€å§‹ä»–æŠŠ &lt;code&gt;unset&lt;&#x2F;code&gt; å®šä¹‰ä¸ºï¼šç§»é™¤ä¸€ä¸ªå˜é‡ï¼Œè¿™æ ·å¦‚æœä¼ å…¥çš„å˜é‡ä¸å­˜åœ¨å°±è¦æŠ›å¼‚å¸¸ï¼Œè¿™æ ·å¯¼è‡´å¤–é¢ä½¿ç”¨æ–¹è¦é€šè¿‡ try catch çš„æ–¹å¼å»ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œåæ¥ä»–æŠŠ &lt;code&gt;unset&lt;&#x2F;code&gt; å®šä¹‰ä¸ºï¼šè®©ä¸€ä¸ªå˜é‡ä¸å¯ç”¨ï¼Œå¦‚æœä¼ å…¥çš„å˜é‡å·²ç»ä¸å¯ç”¨äº†ï¼Œé‚£å°±ä¸éœ€è¦åšå¤„ç†ã€‚å¯¹æ¯” Windows å’Œ Unix å¯¹æ–‡ä»¶åˆ é™¤çš„ä¸åŒå¤„ç†æ–¹å¼ï¼ˆåè€…åœ¨è¿è¡Œæ—¶åˆ é™¤ä¸æŠ›å‡º errorï¼‰ï¼Œä¹Ÿå¯ä»¥è¾¾åˆ°å‡å°‘ Error çš„æ•ˆæœã€‚&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;h3 id=&quot;yi-ge-li-zi&quot;&gt;ä¸€ä¸ªä¾‹å­&lt;&#x2F;h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å†™ä¸€ä¸ªç¨‹åºï¼Œè¾“å‡ºä» 1 åˆ° n æ•°å­—çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœ Â nÂ  æ˜¯ 3 çš„å€æ•°ï¼Œè¾“å‡ºâ€œFizzâ€ï¼›&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœ Â nÂ  æ˜¯ 5 çš„å€æ•°ï¼Œè¾“å‡ºâ€œBuzzâ€ï¼›&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœ Â nÂ  åŒæ—¶æ˜¯ 3 å’Œ 5 çš„å€æ•°ï¼Œè¾“å‡º â€œFizzBuzzâ€ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;å¦‚æœé‡‡ç”¨ã€Œæˆ˜æœ¯ç¼–ç¨‹ã€çš„è¯ï¼Œå¾ˆå¿«å°±èƒ½å†™å‡ºä¸€æ®µå¯ä»¥ work çš„ä»£ç &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fizzbuzz &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;FizzBuzz&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Fizz&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Buzz&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fizzbuzz&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å®Œå…¨ç¬¦åˆé¢˜æ„ï¼Œä¹Ÿèƒ½æ­£ç¡®è¿è¡Œï¼Œä½†è°ƒæ•´ç©ºé—´å¤ªå°äº†&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ¡ä»¶å˜äº†ï¼Œä¸æ˜¯ 5 è€Œæ˜¯ 7 æ€ä¹ˆåŠ&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœä¸æ˜¯è¾“å‡º Fizzï¼ŒBuzz æ€ä¹ˆåŠ&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;è€ƒè™‘åˆ°è¿™ä¸¤ç‚¹ï¼Œæˆ‘ä»¬å†æ¥è°ƒæ•´ä¸‹ä»£ç ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fizzbuzz_v2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;triggers&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;triggers&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.forEach&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;trigger&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;trigger&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;divisor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;trigger&lt;&#x2F;span&gt;&lt;span&gt;.text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    });
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fizzbuzz_v2&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;, [
&lt;&#x2F;span&gt;&lt;span&gt;  { text: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Fizz&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, divisor: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span&gt;},
&lt;&#x2F;span&gt;&lt;span&gt;  { text: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Buzz&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, divisor: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5 &lt;&#x2F;span&gt;&lt;span&gt;},
&lt;&#x2F;span&gt;&lt;span&gt;]);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å°†å˜é‡æŠ½äº†å‡ºæ¥ï¼Œè¿™æ ·å°†æ¥è°ƒæ•´æ—¶ï¼Œä¸éœ€è¦åŠ¨å®ç°ï¼Œåªéœ€æ”¹å‚æ•°å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœåˆæ¥äº†ä¸ªæ–°éœ€æ±‚ï¼šå°äº 10 çš„éƒ½è¦åœ¨å‰é¢è¡¥ 0ã€‚å¦‚æœæ±‚å¿«ï¼Œé‡‡ç”¨æˆ˜æœ¯ç¼–ç¨‹çš„è¯ï¼Œç›´æ¥åœ¨æ–¹æ³•å†…éƒ¨åŠ å…¥è¿™ä¸ªåˆ¤æ–­åˆ†æ”¯å³å¯ã€‚ä½†å¯ä»¥æœ‰æ›´å¥½çš„è§£æ³•ï¼Œæ¯”å¦‚å°†è®¡ç®—é€»è¾‘æ”¾åˆ°å¤–é¢ï¼Œæ–¹æ³•å†…éƒ¨åªéœ€è¦åˆ¤æ–­è®¡ç®—ç»“æœå³å¯ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fizzbuzz_v3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;triggers&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;triggers&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.forEach&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;trigger&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;trigger&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.predicate&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;trigger&lt;&#x2F;span&gt;&lt;span&gt;.text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    });
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fizzbuzz_v3&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;, [
&lt;&#x2F;span&gt;&lt;span&gt;  { text: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;0&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;predicate&lt;&#x2F;span&gt;&lt;span&gt;: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10 &lt;&#x2F;span&gt;&lt;span&gt;},
&lt;&#x2F;span&gt;&lt;span&gt;  { text: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Fizz&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;predicate&lt;&#x2F;span&gt;&lt;span&gt;: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;},
&lt;&#x2F;span&gt;&lt;span&gt;  { text: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Buzz&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;predicate&lt;&#x2F;span&gt;&lt;span&gt;: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;},
&lt;&#x2F;span&gt;&lt;span&gt;]);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥è¿˜å¯ä»¥æœ‰æ›´å¤šçš„æ¼”å˜ï¼Œæ¯”å¦‚è¦è¾“å‡ºåˆ°æ–‡ä»¶è€Œä¸æ˜¯ consoleï¼Œè¦å…·å¤‡å¯æµ‹æ€§ç­‰ç­‰ã€‚å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç®€å•çš„éœ€æ±‚ï¼Œæˆ˜æœ¯ç¼–ç¨‹å’Œæˆ˜ç•¥ç¼–ç¨‹ä¼šå¸¦æ¥å¾ˆå¤§çš„å·®å¼‚ã€‚è¿™ç§æ€ç»´å’Œèƒ½åŠ›ä¸Šçš„è½¬å˜å¯¹äºå†™å‡ºä¼˜é›…çš„ä»£ç ä¹Ÿä¼šæœ‰å¸®åŠ©ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>å·¥ç¨‹å¸ˆçš„æˆé•¿</title>
            <pubDate>Tue, 29 Jun 2021 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/eng-growth/</link>
            <guid>https://limboy.me/posts/eng-growth/</guid>
            <description>&lt;p&gt;æˆ‘ä»¬éƒ½éœ€è¦æˆé•¿ï¼Œå·¥ç¨‹å¸ˆä¹Ÿä¸ä¾‹å¤–ã€‚ä»¥ä¸‹æ˜¯æˆ‘æ„Ÿè§‰å¯¹å·¥ç¨‹å¸ˆçš„æˆé•¿æ¯”è¾ƒæœ‰å¸®åŠ©çš„ç‚¹ï¼Œä¾›å‚è€ƒã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yao-dian&quot;&gt;è¦ç‚¹&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;ç§¯ç´¯ä¿¡ç”¨è´§å¸ï¼ˆå…ˆæŠŠæ‰‹å¤´çš„äº‹æƒ…åšå¥½ï¼Œå†èŠä½ æƒ³åšä»€ä¹ˆï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;æå‡å½±å“åŠ›ï¼ˆæ³¨é‡è¾“å‡ºï¼›åšèƒ½å¤Ÿå½±å“æ›´å¤šéƒ¨é—¨&#x2F;ä½¿ç”¨æ–¹çš„äº‹ï¼Œå¹¶æŠŠå®ƒåšå¥½ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;æŠŠå·¥ä½œå½“æˆå†…éƒ¨åˆ›ä¸šï¼ˆå¤šç ”ç©¶æ‰‹å¤´&#x2F;éƒ¨é—¨çš„äº‹æƒ…ï¼Œå¯»æ‰¾é—®é¢˜&#x2F;æœºä¼šï¼ŒæŠŠå…¶ä»–éƒ¨é—¨å½“ä½œæ½œåœ¨åˆä½œä¼™ä¼´ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;æ¸…æ¥šè‡ªå·±çš„å¼ºé¡¹ï¼ˆå°†è‡ªå·±çš„å¼ºé¡¹å’Œæ­£ç¡®çš„äº‹æƒ…ç»“åˆèµ·æ¥ï¼Œæ‰èƒ½å‘æŒ¥æœ€å¤§çš„ä½œç”¨ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;huan-jing&quot;&gt;ç¯å¢ƒ&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ä¼˜ç§€çš„äººå…±äº‹ï¼ˆå­¦ä¹ ä»–ä»¬çš„æŠ€èƒ½å’Œåšäº‹æ–¹å¼ï¼Œä¸è¦æˆä¸ºæœ€èªæ˜çš„é‚£ä¸ªï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;åšç¬¦åˆå¤§è¶‹åŠ¿çš„äº‹ï¼ˆ Focus åœ¨æŸä¸ªé¢†åŸŸå¯èƒ½æ˜¯æŠŠåŒåˆƒå‰‘ï¼Œå¤šç»“åˆä¸€äº›é€šç”¨æŠ€èƒ½ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;åšäº‹æƒ…æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼ˆå¯ä»¥å‘æŒ¥è‡ªå·±çš„åˆ›é€ åŠ›ï¼Œè€Œä¸æ˜¯åæµç¨‹åŒ–ã€å¯¹ç€æ“ä½œæ‰‹å†Œå°±èƒ½åšçš„äº‹ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;ä¸€ä¸ªå¥½çš„ Mentorï¼ˆç”¨æ—è§‚è€…è§†è§’ç»™ä½ åé¦ˆï¼ŒæŒ‡å‡ºé—®é¢˜å’Œæ”¹è¿›æ–¹æ¡ˆï¼Œå¸®åŠ©æˆé•¿ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;zuo-wei-ge-ti-de-ji-ben-su-zhi&quot;&gt;ä½œä¸ºä¸ªä½“çš„åŸºæœ¬ç´ è´¨&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªé©±åŠ›ï¼ˆæƒ³åœ¨å‰å¤´ï¼Œä¸éœ€è¦åˆ«äººæ¥ Pushï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;å¥½å¥‡å¿ƒï¼ˆä¸å±€é™äºè‡ªå·±çš„ Scopeï¼Œå¤šäº†è§£åŒäº‹ã€Leadã€è¡Œä¸šçš„äº‹æƒ…ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;é«˜æ ‡å‡†ï¼ˆä»…ä»…åšå®Œæ˜¯ä¸å¤Ÿçš„ï¼Œä¸€ä¸ªé—®é¢˜å¾€å¾€æœ‰å¾ˆå¤šå¯ä»¥æŒ–æ˜çš„ç‚¹ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;æ—¶é—´ç®¡ç†ï¼ˆä¸ä¼šç–²äºåº”ä»˜å„ç§éœ€æ±‚å’Œé—®é¢˜ï¼Œæœ‰ä¼˜å…ˆçº§å’Œ Planï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;zuo-wei-gong-cheng-shi-de-ji-ben-su-zhi&quot;&gt;ä½œä¸ºå·¥ç¨‹å¸ˆçš„åŸºæœ¬ç´ è´¨&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;è‰¯å¥½çš„ç¼–ç èƒ½åŠ›ï¼ˆ1 ä¸ªæœˆåçš„è‡ªå·±ä¾ç„¶å¯ä»¥ç»´æŠ¤ï¼Œå‡ºé—®é¢˜å¯ä»¥å¿«é€Ÿå®šä½ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;äº«å—è§£å†³é—®é¢˜çš„ä¹è¶£ï¼Œå…·å¤‡åŒ–ç¹ä¸ºç®€çš„èƒ½åŠ›ï¼ˆæŠ½è±¡ï¼Œåˆ†è§£ï¼Œåˆ†å±‚ï¼Œåˆ†æ¨¡å—ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;æŠ—å‹èƒ½åŠ›ï¼ˆå‹åŠ›ä¸‹ï¼Œä¸å˜å½¢ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;æ•°æ®æ„è¯†ï¼ˆå¥½äº†ï¼Œåäº†ï¼Œç”¨æ•°æ®è¯´è¯ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;æ³¨é‡æ•ˆç‡ï¼ˆä¸åå•¬åœ¨å·¥å…·ä¸Šçš„æŠ•å…¥ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;kan-wen-ti-de-jiao-du&quot;&gt;çœ‹é—®é¢˜çš„è§’åº¦&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœç°çŠ¶è®©æˆ‘ä¸èˆ’æœï¼Œæˆ‘å¯ä»¥åšä»€ä¹ˆæ¥æ”¹å˜ï¼Œè€Œä¸æ˜¯é€ƒé¿å’ŒåŸ‹å†¤&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœè§‰å¾—å½“å‰æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¸€å®šæ˜¯äº†è§£å¾—è¿˜ä¸å¤Ÿæ·±å…¥&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœæ˜¯ Taï¼ˆæŸä¸ªä½ æ¬£èµçš„äººï¼‰æ¥åšä½ æ‰‹å¤´çš„äº‹ï¼ŒTa ä¼šæ€ä¹ˆåš&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;zuo-shi-qing-de-fang-fa&quot;&gt;åšäº‹æƒ…çš„æ–¹æ³•&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;è®¾è®¡æ–¹æ¡ˆæ—¶è¦è€ƒè™‘å‘¨åˆ°ï¼šç«å“è°ƒç ”ã€ä¸Šçº¿ç­–ç•¥ã€é™çº§æ–¹æ¡ˆã€å›æ»šæ–¹æ¡ˆã€å‡ºé—®é¢˜æ—¶å¦‚ä½•æ’æŸ¥ç­‰&lt;&#x2F;li&gt;
&lt;li&gt;äº‹æƒ…æ¨ä¸åŠ¨å°±ä¸Šå‡ï¼Œä½†è¦æä¾›å……è¶³çš„ä¸Šä¸‹æ–‡ä»¥ä¾¿ Lead åšå†³ç­–ï¼ŒContext not Control&lt;&#x2F;li&gt;
&lt;li&gt;æ±‡æŠ¥æ—¶è¦åˆ‡æ¢è§†è§’ï¼Œæœ‰æ¡ç†ï¼ŒæŠŠè¦ç‚¹è¯´æ¸…æ¥šï¼ŒåŒæ—¶æä¾›äº†è§£ç»†èŠ‚çš„å…¥å£&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>Contact Tracing æŠ€æœ¯å®ç°è§£æ</title>
            <pubDate>Sat, 18 Apr 2020 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/contact-tracing-tech-analyze/</link>
            <guid>https://limboy.me/posts/contact-tracing-tech-analyze/</guid>
            <description>&lt;p&gt;ä¸ºäº†æ›´å¥½åœ°åº”å¯¹ covid-19ï¼Œ&lt;a href=&quot;https:&#x2F;&#x2F;www.apple.com&#x2F;covid19&#x2F;contacttracing&quot;&gt;Apple&lt;&#x2F;a&gt; å’Œ &lt;a href=&quot;https:&#x2F;&#x2F;www.blog.google&#x2F;inside-google&#x2F;company-announcements&#x2F;apple-and-google-partner-covid-19-contact-tracing-technology&#x2F;&quot;&gt;Google&lt;&#x2F;a&gt; è”åˆå‘å¸ƒäº†ä¸€é¡¹æŠ€æœ¯ï¼šã€Œ Privacy-Preserving Contact Tracingã€ï¼Œåœ¨ä¿æŠ¤ç”¨æˆ·éšç§çš„å‰æä¸‹ï¼Œè¿½è¸ªè”ç³»äººã€‚è¿™é‡Œçš„è”ç³»äººä¸æ˜¯é€šè®¯å½•é‡Œçš„è”ç³»äººï¼Œè€Œæ˜¯çœŸå®ä¸–ç•Œä¸­æœ‰è¿‡è”ç³»çš„äººï¼Œæ›´ç¡®åˆ‡åœ°è¯´æ˜¯åœ¨è“ç‰™èŒƒå›´å†…çš„äººï¼Œè·¯ä¸Šå¹¶è‚©çš„è¡Œäººä¹Ÿå±äºè¿™ä¸ªèŒƒç•´ã€‚ã€Œè¿½è¸ªã€æ˜¯ä¸ºäº†å½“æœ‰äººç¡®è¯Šåï¼Œå¯ä»¥æ‰¾åˆ°æœ‰è¿‡è¿‘è·ç¦»æ¥è§¦çš„äººï¼Œä»¥ä¾¿å‘ŠçŸ¥è¯¥ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Apple å’Œ Google ç»™å‡ºçš„æŠ€æœ¯æ–¹æ¡ˆä»å®è§‚æ¥çœ‹æ˜¯ï¼šæŠŠè®¾å¤‡ä¿¡æ¯é€šè¿‡è“ç‰™ä¼ é€’åˆ°å…¶ä»–æ‰‹æœºä¸Šï¼Œå½“æœ‰äººç¡®è¯Šåï¼Œå°† ta çš„è®¾å¤‡ä¿¡æ¯ä¸Šä¼ åˆ°äº‘ç«¯ï¼Œå†æ¨åˆ°å…¶ä»–æ‰‹æœºä¸Šï¼Œé€šè¿‡æ¯”å¯¹æœ¬åœ°ä¿å­˜çš„å…¶ä»–è®¾å¤‡ä¿¡æ¯å’Œæ¥æ”¶åˆ°çš„è®¾å¤‡ä¿¡æ¯æ˜¯å¦åŒ¹é…ï¼Œæ¥åˆ¤å®šæ‰‹æœº owner æ˜¯å¦å­˜åœ¨è¢«æ„ŸæŸ“é£é™©ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆé€‰æ‹©ä½åŠŸè€—è“ç‰™ï¼Œä¸€ä¸ªæ˜¯ä¸»æµç§»åŠ¨è®¾å¤‡åŸºæœ¬éƒ½é…å¤‡äº†è¯¥èƒ½åŠ›ï¼Œè¿™æ ·å°±æ–¹ä¾¿è·¨è®¾å¤‡ï¼Œç”šè‡³è·¨æ“ä½œç³»ç»Ÿé€šä¿¡ï¼›åŒæ—¶ä½åŠŸè€—å¯ä»¥é¿å…ç»™æ‰‹æœºå¸¦æ¥æ€§èƒ½å½±å“ï¼›è“ç‰™å±äºè¿‘åœºé€šä¿¡ï¼Œä¹Ÿéå¸¸é€‚åˆ covid-19 çš„åœºæ™¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…¶æ¬¡è®¾å¤‡ä¿¡æ¯è¿™ä¹ˆä¼ é€’ï¼Œå¦‚ä½•ä¿éšœéšç§ä¸è¢«æ³„æ¼å‘¢ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªé—®é¢˜&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ru-he-bi-mian-she-bei-xin-xi-chuan-di-dai-lai-de-yin-si-xie-lou-feng-xian&quot;&gt;å¦‚ä½•é¿å…è®¾å¤‡ä¿¡æ¯ä¼ é€’å¸¦æ¥çš„éšç§æ³„æ¼é£é™©&lt;&#x2F;h2&gt;
&lt;p&gt;å¦‚æœè®¾å¤‡ä¿¡æ¯å°±æ˜¯å›ºå®šçš„æ‰‹æœºçš„ udidï¼Œæˆ–è€…å¯¹åº”çš„æ˜ å°„ï¼Œæ”»å‡»è€…å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæŒ‡çº¹åšæ–‡ç« ï¼ˆæ¯”å¦‚æŸ¥çœ‹å¦ä¸€ä¸ªäººçš„æ‰‹æœºï¼Œçœ‹æ˜¯å¦æœ‰æŸå°è®¾å¤‡çš„ udidï¼Œä»¥ç¡®å®šä¸¤ä¸ªäººæ˜¯å¦è¿‘è·ç¦»æ¥è§¦è¿‡ï¼Œæˆ–è€…æŒç»­ç›‘æ§&#x2F;è·Ÿè¸ªæŸå°è®¾å¤‡ï¼‰ã€‚å› æ­¤è¿™é‡Œçš„ Key åº”è¯¥æ˜¯å˜çš„ï¼ŒåŒæ—¶åˆè·Ÿè®¾å¤‡ç´§å¯†ç›¸å…³ï¼Œåˆ«äººæ— æ³•ä»¿é€ å’Œè§£å¯†ã€‚ç™½çš®ä¹¦é‡Œæ¶‰åŠåˆ°äº† 3 ä¸ª Keyï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;contact-tracing-tech-analyze&amp;#x2F;74ae60e45645cb3745de5b164fe647178a993e8e.jpg&quot;
        width=&quot;820&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h3 id=&quot;tracing-key-yi-xia-jian-cheng-tk&quot;&gt;Tracing Key ï¼ˆä»¥ä¸‹ç®€ç§° TKï¼‰&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸€ä¸ªè®¾å¤‡åªç”Ÿæˆä¸€æ¬¡ï¼Œä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸ä¼šè¢«ä¸Šä¼ ã€‚å®ƒçš„ç›®æ ‡æ˜¯è¶³å¤Ÿéšæœºï¼Œä¸ä¼šä¸å…¶ä»–è®¾å¤‡äº§ç”Ÿçš„ TK å†²çªã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;daily-tracing-key-yi-xia-jian-cheng-dtk&quot;&gt;Daily Tracing Keyï¼ˆä»¥ä¸‹ç®€ç§° DTKï¼‰:&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸€å¤©ç”Ÿæˆä¸€æ¬¡ï¼Œä¸€å¤©å†…ä¸å˜ï¼Œä» Tracing Key æ´¾ç”Ÿè€Œæ¥ï¼Œä½¿ç”¨ &lt;a href=&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HKDF&quot;&gt;HKDF&lt;&#x2F;a&gt; å¯†é’¥ç®—æ³•ï¼ˆå°†è¾ƒçŸ­çš„å¯†é’¥ç”Ÿæˆè¾ƒé•¿çš„å¯†é’¥ï¼ŒåŒæ—¶ä¿è¯éšæœºæ€§ï¼‰ï¼Œè¿™ä¸ªç®—æ³•ä½¿ç”¨åŸå§‹çš„å¯†é’¥ï¼ˆTracing Keyï¼‰ä½œä¸ºè¾“å…¥ï¼Œä½¿ç”¨ &lt;code&gt;DayNumber&lt;&#x2F;code&gt; ä½œä¸ºå˜é‡ï¼Œå› ä¸º &lt;code&gt;DayNumber&lt;&#x2F;code&gt; ä¸€å¤©å†…ä¸å˜ï¼Œæ‰€ä»¥ DTK ä¸€å¤©å†…ä¹Ÿä¸ä¼šå˜ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;contact-tracing-tech-analyze&amp;#x2F;faa9b33a2cbe2d8caca14f5d9fe40488b0290982.png&quot;
        width=&quot;832&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ª Key çš„è®¾è®¡ç›®æ ‡æ˜¯éšè— TKï¼ˆå¤–éƒ¨æ— æ³•æ ¹æ®è¿™ä¸ª Key æ¨æµ‹å‡º TKï¼‰ï¼ŒåŒæ—¶ä¸ä¼šä¸å…¶ä»–è®¾å¤‡çš„ DTK å†²çªã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;rolling-proximity-identifier-yi-xia-jian-cheng-rpi&quot;&gt;Rolling Proximity Identifierï¼ˆä»¥ä¸‹ç®€ç§° RPIï¼‰&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸€ä¸ªå¹¿æ’­å‘¨æœŸå†…ï¼ˆæ¯”å¦‚ 10 åˆ†é’Ÿï¼‰ç”ŸæˆåŒä¸€ä¸ª HMACï¼ˆå¯†é’¥æ•£åˆ—æ¶ˆæ¯è®¤è¯ç ï¼‰&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;contact-tracing-tech-analyze&amp;#x2F;5b07e24e0ab6fc016cd36a5926ae1a659ac0fb19.png&quot;
        width=&quot;1124&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;dkt&lt;sub&gt;i&lt;&#x2F;sub&gt; è¡¨ç¤ºå½“å¤©çš„ Daily Tracing Keyï¼Œä¹Ÿå°±æ˜¯ SHA-256 å“ˆå¸Œå‡½æ•°çš„å…¥å‚
TIN&lt;sub&gt;j&lt;&#x2F;sub&gt; è¡¨ç¤º TimeIntervalNumberï¼Œä¹Ÿå°±æ˜¯å½“å¤©ç¬¬ j è½®å¹¿æ’­å‘¨æœŸï¼Œæ¯”å¦‚ 10 åˆ†é’Ÿä¸ºä¸€ä¸ªå‘¨æœŸï¼ˆæ¢ä¸€æ¬¡ RPIï¼‰&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;contact-tracing-tech-analyze&amp;#x2F;64fd3c7f5c0e0c9f4f3a6ff28227e8ddbe39113f.png&quot;
        width=&quot;992&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;j çš„å–å€¼åŒºé—´å°±æ˜¯ &lt;code&gt;[0,143]&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;RPI&lt;&#x2F;code&gt; çš„è®¾è®¡ç›®æ ‡æ˜¯éšè— DKTï¼ŒåŒæ—¶æ”¯æŒ DKT çš„éªŒè¯ï¼ˆå½“æŸä¸ªäººç¡®è¯Šåï¼Œå¯ä»¥é€šè¿‡ ta çš„ DKT è®¡ç®— RPI æ¥éªŒè¯ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ru-he-fa-song-rpi&quot;&gt;å¦‚ä½•å‘é€ RPI&lt;&#x2F;h3&gt;
&lt;p&gt;å‰é¢æåˆ°çš„ 3 ä¸ª Keyï¼Œåªæœ‰æœ€åä¸€ä¸ª RPI ä¼šå‘é€åˆ°å…¶ä»–è®¾å¤‡ä¸Šï¼ˆTK æ°¸è¿œä¸ä¼šç¦»å¼€è®¾å¤‡ï¼ŒDTK åªæœ‰ç¡®è¯Šåæ‰ä¼šæå–å…¶ä¸­çš„ä¸€ä¸ªå­é›†ä½œä¸º Diagnosis Keyï¼‰ï¼ŒRPI é€šè¿‡è“ç‰™å‘é€åˆ°å…¶ä»–è®¾å¤‡ï¼ˆå…³äºä½åŠŸè€—è“ç‰™åè®®çš„è¯´æ˜ï¼Œå¯ä»¥å‚è€ƒ&lt;a href=&quot;https:&#x2F;&#x2F;www.cnblogs.com&#x2F;iini&#x2F;p&#x2F;8969828.html&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‘é€ï¼ˆå¹¿æ’­ï¼‰æµç¨‹å¦‚ä¸‹ï¼š

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;contact-tracing-tech-analyze&amp;#x2F;c978802c2c011295dea09a857ca31ba24c56d004.jpg&quot;
        width=&quot;2208&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œçš„é€šä¿¡åŒæ–¹åˆ†åˆ«æ˜¯ï¼šadvertiserï¼ˆå¹¿æ’­æ•°æ®åŒ…ï¼‰å’Œ scannerï¼ˆæ‰«æå“åº”åŒ…ï¼‰ï¼Œå‰è€…åœ¨å¹¿æ’­æ—¶é—´é—´éš”å†…ä¼šä¸æ–­å¹¿æ’­æ•°æ®ï¼Œè¿™äº›æ•°æ®ä¸­ä¼šåŒ…å« RPIï¼Œscanner æ¥æ”¶åˆ°å¹¿æ’­æ•°æ®åä¼šå°† payload ä¸­çš„ RPI ä¿å­˜åˆ°æœ¬åœ°ã€‚ç­‰åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ—¶é—´çª—å£åï¼Œä¼šç”Ÿæˆå¹¶å¹¿æ’­æ–°çš„ RPIã€‚è·¨å¤©ä¼šä»¥æ–°çš„ DTK ä¸ºåŸºç¡€ï¼Œç”Ÿæˆå¹¶å¹¿æ’­æ–°çš„ RPIã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹ä½¿ç”¨çš„æ˜¯ Beaconing åè®®ï¼Œä¹Ÿå°±æ˜¯æ¥æ”¶æ–¹æ— éœ€åº”ç­”å¹¿æ’­è€…çš„æ•°æ®åŒ…ï¼Œåªè¦é»˜é»˜åœ°æŠŠæ•°æ®è®°ä¸‹æ¥å°±è¡Œã€‚ä¸€ä¸ªè®¾å¤‡åŒæ—¶æ˜¯å¹¿æ’­è€…å’Œæ‰«æè€…ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;guan-yu-kong-jian-zhan-yong&quot;&gt;å…³äºç©ºé—´å ç”¨&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸€ä¸ª RPI çš„é•¿åº¦æ˜¯ 16 å­—èŠ‚ï¼Œæ‰€ä»¥ç©ºé—´æ¶ˆè€—éå¸¸å°‘ï¼Œå³ä½¿æ¥æ”¶åˆ°äº† 10000 ä¸ª RPIï¼Œä¹Ÿåªä¼šå ç”¨ 156 K çš„ç©ºé—´ã€‚ä½†è¿˜æ˜¯è¦æœ‰ä¸€ä¸ª Rotation çš„æœºåˆ¶ï¼Œæ¯•ç«Ÿæ—¶é—´å¤ªé•¿çš„ RPI æ„ä¹‰å·²ç»ä¸å¤§äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ½œåœ¨çš„é£é™©æ˜¯æ”»å‡»è€…å¯ä»¥ä¼ªé€ å¤§é‡çš„ RPI æ•°æ®ç»™ Scannerï¼Œè™½ç„¶æ¯ä¸ª RPI åªæœ‰ 16 å­—èŠ‚ï¼Œä½†ä»æœ‰æ½œåœ¨çš„å­˜å‚¨é£é™©ã€‚æ‰€ä»¥ Scanner çš„ scan è¡Œä¸ºæŒç»­æ—¶é—´ä¸èƒ½è¿‡é•¿&#x2F;è¿‡é¢‘ç¹ï¼Œè¿™åŒæ—¶ä¹Ÿèƒ½èŠ‚çœç”µé‡ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ru-he-jie-shou-rpi&quot;&gt;å¦‚ä½•æ¥æ”¶ RPI&lt;&#x2F;h3&gt;
&lt;p&gt;å¯¹äº Scanner æ¥è¯´ï¼Œæµç¨‹æ›´åŠ ç®€å•ï¼Œåªè¦å­˜å‚¨æ”¶åˆ°çš„ RPI å³å¯ã€‚å¦‚æœäº‘ç«¯æœ‰æ¨é€ Diagnosis Keysï¼ˆç¡®è¯Šè€…ä¸Šä¼ çš„ DTKï¼‰ï¼Œå°±å¯¹å®ƒä½¿ç”¨ SHA_256 ç®—æ³•ï¼ˆç»“åˆ TimeIntervalNumberï¼‰ï¼Œ å°†ç»“æœä¸æœ¬åœ°å­˜å‚¨çš„ RPI æ¯”å¯¹ï¼Œå¦‚æœ matchï¼Œå°±æœ‰è¢«æ„ŸæŸ“çš„é£é™©ï¼Œç³»ç»Ÿä¼šæ¨é€é€šçŸ¥æé†’ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;contact-tracing-tech-analyze&amp;#x2F;9b0d919706658c6c62ab9b9baab4f7adec60427a.jpg&quot;
        width=&quot;2208&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h2 id=&quot;guan-yu-api&quot;&gt;å…³äº API&lt;&#x2F;h2&gt;
&lt;p&gt;è‹¹æœå’Œ Google éƒ½æ”¾å‡ºäº† API Interfaceï¼Œè™½ç„¶æ²¡æœ‰å…·ä½“çš„å®ç°ï¼Œä½†å…‰æ˜¯å¯¹æ¯”ä¸¤å®¶çš„ API æ¥å£å°±èƒ½çœ‹å‡ºç‚¹é—¨é“ï¼Œè¿™ä¸ªç¯èŠ‚ä¸ªäººè®¤ä¸º Google åšå¾—æ›´å¥½ï¼Œè‹¹æœå¾ˆã€Œæ„å¤–ã€åœ°æ²¡æœ‰ä½¿ç”¨ Swift æ¥æä¾› APIï¼ŒOC é‚£å†—é•¿çš„è¯­æ³•å’Œ Blockï¼Œç»™ API çš„å‹å¥½åº¦æ‰“äº†æŠ˜æ‰£&lt;&#x2F;p&gt;
&lt;a href=&quot;https:&#x2F;&#x2F;covid19-static.cdn-apple.com&#x2F;applications&#x2F;covid19&#x2F;current&#x2F;static&#x2F;contact-tracing&#x2F;pdf&#x2F;ContactTracing-FrameworkDocumentation.pdf&quot;&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;contact-tracing-tech-analyze&amp;#x2F;2b1faeb610533f0fb6da0f92d2f907a272f5ebec.jpg&quot;
        width=&quot;709&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;a&gt;
&lt;p&gt;ç›¸æ¯”ä¹‹ä¸‹ Google çš„ API çœ‹ç€å°±èˆ’æœå¤šäº†&lt;&#x2F;p&gt;
&lt;a href=&quot;https:&#x2F;&#x2F;blog.google&#x2F;documents&#x2F;55&#x2F;Android_Contact_Tracing_API.pdf&quot;&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;contact-tracing-tech-analyze&amp;#x2F;9dfa8c4a3c89e00c20b346c8fe6e06bfd02547d8.jpg&quot;
        width=&quot;619&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;a&gt;
&lt;h2 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h2&gt;
&lt;p&gt;è¿™ä¸ªè®¾è®¡éå¸¸å·§å¦™ï¼Œä¸ä»…ä¿æŠ¤äº†ç”¨æˆ·éšç§ï¼Œä¹Ÿå‡å°‘äº†æœåŠ¡ç«¯çš„å‹åŠ›ï¼Œå¯¹äºæœåŠ¡ç«¯åªéœ€å­˜å‚¨å’Œä¸‹å‘ Diagnosis Keysï¼Œä¸éœ€è¦è®¡ç®— Key ä¸ Keyï¼ŒKey ä¸è®¾å¤‡ä¹‹é—´çš„å…³è”ã€‚è®¾å¤‡ä¹Ÿä¸ä¼šæœ‰å¾ˆå¤§çš„å­˜å‚¨å’Œè®¡ç®—å‹åŠ›ã€‚ä»æ‰©å±•æ€§æ¥çœ‹ï¼Œå°†æ¥å¦‚æœæœ‰ç±»ä¼¼çš„è¿‘è·ç¦»ä¼ æ’­æµè¡Œç—…ï¼Œå¯ä»¥å¤ç”¨è¿™å¥—æŠ€æœ¯ã€‚ä½† Android è®¾å¤‡å› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› åœ¨å›½å†…æ¨è¡Œè¿™å¥—åŸºå»ºä¼šæ¯”è¾ƒå›°éš¾ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fa-san-yi-xia&quot;&gt;å‘æ•£ä¸€ä¸‹&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªè®¾è®¡ä¸­ï¼Œä¸»è¦ç”¨åˆ°äº†è“ç‰™å’ŒåŠ å¯†å“ˆå¸Œç®—æ³•ï¼Œè‹¹æœåœ¨ iOS 13 ä¸­çš„ Find My ä¹Ÿæ˜¯åŸºäºè“ç‰™å’ŒåŠ å¯†åè®®æ¥å®ç°çš„ï¼Œä½¿å¾—æ‰‹æœºå³ä½¿å¤„äºç¦»çº¿çŠ¶æ€ï¼ˆä¸è¦å…³æœºå°±è¡Œï¼‰ï¼Œä¾ç„¶å¯ä»¥è¢«å®šä½ã€‚åŸç†æ˜¯è¦æ‹¥æœ‰è‡³å°‘ä¸¤å°è‹¹æœè®¾å¤‡ï¼ˆå…±äº«ç§é’¥ï¼‰ï¼Œç„¶åæ¯å°è®¾å¤‡éƒ½ä»¥ä¸€å®šé—´éš”å‘é€ä¸æ–­å˜åŒ–çš„å…¬é’¥ï¼Œå½“è¢«å‘¨è¾¹çš„è‹¹æœè®¾å¤‡è·å–åˆ°åï¼Œè¯¥è®¾å¤‡ï¼ˆå°±åƒä¸€ä¸ªè·³æ¿ï¼‰ä¼šç”¨è¿™ä¸ªå…¬é’¥æ¥åŠ å¯†å½“å‰çš„åœ°ç†ä½ç½®ä¿¡æ¯ï¼Œä¸Šä¼ åˆ°è‹¹æœæœåŠ¡å™¨ï¼Œå¦ä¸€å°è®¾å¤‡å°±å¯ä»¥ç”¨ç§é’¥æ¥è§£å¼€è¿™ä¸ªåŠ å¯†ä¿¡æ¯ï¼Œå¾—åˆ°åœ°ç†ä½ç½®ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸Šä¼ åœ°ç†ä½ç½®çš„è®¾å¤‡ä¿¡æ¯ä¸ä¼šæš´éœ²ï¼ˆå› ä¸ºå‹æ ¹å°±æ²¡æœ‰ä¸Šä¼ ï¼‰ï¼Œåˆ«äººæ— æ³•è§£å¯†è¿™ä¸ªä¿¡æ¯ï¼Œå› ä¸ºåŸºäºè“ç‰™ä¼ è¾“ï¼Œä¹Ÿä¸éœ€è¦ä¾èµ–ç½‘ç»œï¼Œä¸å¾—ä¸è¯´ä¹Ÿæ˜¯éå¸¸ç²¾å·§çš„è®¾è®¡ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>å¼ºå¤§çš„å¯è§†åŒ–åˆ©å™¨ Chrome Trace Viewer ä½¿ç”¨è¯¦è§£</title>
            <pubDate>Sat, 21 Mar 2020 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/chrome-trace-viewer/</link>
            <guid>https://limboy.me/posts/chrome-trace-viewer/</guid>
            <description>
&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;b580eea70090ee05b7c8885712df2b271395a8b4.png&quot;
        width=&quot;1390&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æœ€è¿‘ç ”ç©¶äº†ä¸‹ Chrome è‡ªå¸¦çš„ Trace Viewerï¼Œå‘ç°åŠŸèƒ½è¿˜æŒºå¼ºå¤§çš„ï¼Œç”¨æ¥åš Performance Profileï¼ŒTimeline Tracing ç­‰å¾ˆæ–¹ä¾¿ï¼Œä½†å®˜æ–¹çš„ä½¿ç”¨æ–‡æ¡£æ¯”è¾ƒæ™¦æ¶©ï¼Œèµ„æ–™ä¹Ÿæ¯”è¾ƒåŒ®ä¹å’Œåˆ†æ•£ï¼Œå°±ä¸“é—¨æ•´ç†äº†ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼šTrace Viewer å…¶å®å¯ä»¥è„±ç¦» &lt;code&gt;chrome:&#x2F;&#x2F;tracing&lt;&#x2F;code&gt; åœ¨çº¿ä½¿ç”¨ï¼Œå…·ä½“æ“ä½œåé¢ä¼šè®²åˆ°&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h2 id=&quot;trace-viewer-jie-shao&quot;&gt;Trace Viewer ä»‹ç»&lt;&#x2F;h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Trace-Viewer is the javascript frontend for Chrome &lt;code&gt;about:tracing&lt;&#x2F;code&gt; and Android &lt;code&gt;systrace&lt;&#x2F;code&gt;. providing rich analysis and visualization capabilities for trace files, supporting both the linux kernel trace format and Chrome&#x27;s base&#x2F;trace_event.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;å®ƒæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¯è§†åŒ–å±•ç¤ºå’Œåˆ†æå·¥å…·ï¼Œä¹‹å‰ google æœ‰ä¸€ä¸ªä¸“é—¨çš„ trace-viewer é¡¹ç›®ï¼Œç°åœ¨è¯¥é¡¹ç›®åˆå¹¶åˆ°äº† &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;catapult-project&#x2F;catapult&#x2F;blob&#x2F;master&#x2F;tracing&#x2F;README.md&quot;&gt;catapult&lt;&#x2F;a&gt; ä¸­, catapult æ˜¯ Chromium å·¥ç¨‹å¸ˆå¼€å‘çš„ä¸€ç³»åˆ—æ€§èƒ½å·¥å…·çš„åˆé›†ï¼Œå¯ä»¥ç”¨æ¥æ”¶é›†ã€å±•ç¤ºã€åˆ†æ Chromeã€Website ç”šè‡³ Android çš„æ€§èƒ½ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;catapult æºç é‡ŒåŒ…å«äº†å¾ˆå¤š test caseï¼Œgit clone ä¸‹æ¥åï¼Œè¿è¡Œ &lt;code&gt;$CATAPULT&#x2F;bin&#x2F;run_dev_server&lt;&#x2F;code&gt;. ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ &lt;code&gt;http:&#x2F;&#x2F;localhost:8003&#x2F;tracing_examples&#x2F;trace_viewer.html&lt;&#x2F;code&gt; èƒ½çœ‹åˆ°å¾ˆå¤š Demo&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;b45847555835cc49338b5d58c50fd5f656b4e681.jpg&quot;
        width=&quot;1377&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸è¿‡ Google ç›®å‰æ­£åœ¨å¼€å‘å¦ä¸€å¥—å·¥å…· &lt;a href=&quot;https:&#x2F;&#x2F;ui.perfetto.dev&#x2F;#!&#x2F;&quot;&gt;perfetto&lt;&#x2F;a&gt; æ‰“ç®—æ›¿æ¢ Trace Viewerï¼Œæˆ‘åˆæ­¥ä½¿ç”¨äº†ä¸‹ï¼Œæ„Ÿè§‰ä¸å¦‚ Trace Viewer ç®€æ´ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zai-kai-yuan-xiang-mu-zhong-de-shi-yong&quot;&gt;åœ¨å¼€æºé¡¹ç›®ä¸­çš„ä½¿ç”¨&lt;&#x2F;h2&gt;
&lt;p&gt;Golang ç”¨å®ƒæ¥å¯è§†åŒ–å±•ç¤ºæ‰§è¡Œè¿‡ç¨‹ https:&#x2F;&#x2F;golang.org&#x2F;cmd&#x2F;trace&#x2F;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;go test -trace trace.out pkg
&lt;&#x2F;span&gt;&lt;span&gt;go tool trace trace.out
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;49df6cdfe957da75a44c5a074e02d5e7b80dedc1.jpg&quot;
        width=&quot;2098&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Facebook çš„ Buck Build ç³»ç»Ÿï¼Œç”¨å®ƒæ¥å±•ç¤º Build æ—¶å‘ç”Ÿäº†ä»€ä¹ˆ&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;a3adb318505c4c13881b90eb2b031f8afb977da7.png&quot;
        width=&quot;900&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä»è¿™ä¸¤ä¸ªé¡¹ç›®å¯ä»¥çœ‹å‡ºæ¥ Trace Viewer å¯¹äºå‘ˆç°ã€ŒæŸæ®µæ—¶é—´å‘ç”Ÿäº†ä»€ä¹ˆã€ è¿˜æ˜¯æœ‰è¿‡äººä¹‹å¤„ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;trace-viewer-format&quot;&gt;Trace Viewer Format&lt;&#x2F;h2&gt;
&lt;p&gt;Trace Viewer æœ‰ä¸€å¥—è‡ªå·±çš„ &lt;a href=&quot;https:&#x2F;&#x2F;docs.google.com&#x2F;document&#x2F;d&#x2F;1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU&#x2F;edit&quot;&gt;Trace Event Format&lt;&#x2F;a&gt;ï¼Œåªè¦æ–‡ä»¶éµå¾ªè¿™ä¸ªæ ¼å¼ï¼Œå°±å¯ä»¥è¢«å±•ç¤ºã€‚æ¯”å¦‚ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;23d3a314c8c47e6ea8bf35f46d0e58ea7c9a62be.png&quot;
        width=&quot;1630&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹åº”çš„ json æ–‡ä»¶å†…å®¹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;[ {&amp;quot;name&amp;quot;: &amp;quot;å‡ºæ–¹æ¡ˆ&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;B&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 0},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;å‡ºæ–¹æ¡ˆ&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;E&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 28800000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;çœ‹ç”µå½±&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;B&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;ä¼‘é—²&amp;quot;, &amp;quot;ts&amp;quot;: 28800000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;çœ‹ç”µå½±&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;E&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;ä¼‘é—²&amp;quot;, &amp;quot;ts&amp;quot;: 32400000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;å†™ä»£ç &amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;B&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 32400000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;å†™ä»£ç &amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;E&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 36000000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;é›ç‹—&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;B&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;ä¼‘é—²&amp;quot;, &amp;quot;ts&amp;quot;: 36000000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;é›ç‹—&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;E&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;ä¼‘é—²&amp;quot;, &amp;quot;ts&amp;quot;: 37800000000}
&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¯ä¸€ä¸ª Event ä¸»è¦ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;name&amp;quot;: &amp;quot;myName&amp;quot;, &#x2F;&#x2F; äº‹ä»¶åï¼Œä¼šå±•ç¤ºåœ¨ timeline ä¸Š
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;cat&amp;quot;: &amp;quot;category,list&amp;quot;, &#x2F;&#x2F; äº‹ä»¶åˆ†ç±»ï¼Œç±»ä¼¼ Tagï¼Œä½† UI ä¸Šä¸æ”¯æŒé€‰æ‹© Tag
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;ph&amp;quot;: &amp;quot;B&amp;quot;, &#x2F;&#x2F; phaseï¼Œåé¢ç€é‡ä¼šè®²åˆ°
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;ts&amp;quot;: 12345, &#x2F;&#x2F; äº‹ä»¶å‘ç”Ÿæ—¶çš„æ—¶é—´æˆ³ï¼Œä»¥å¾®ç§’è¡¨ç¤º
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;pid&amp;quot;: 123, &#x2F;&#x2F; è¿›ç¨‹å
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;tid&amp;quot;: 456, &#x2F;&#x2F; çº¿ç¨‹å
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;args&amp;quot;: { &#x2F;&#x2F; é¢å¤–å‚æ•°ï¼Œå½“é€‰ä¸­æŸä¸ª event åï¼Œä¼šåœ¨åº•éƒ¨çš„é¢æ¿å±•ç¤º
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;someArg&amp;quot;: 1,
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;anotherArg&amp;quot;: {
&lt;&#x2F;span&gt;&lt;span&gt;      &amp;quot;value&amp;quot;: &amp;quot;my value&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­æœ€é‡è¦çš„æ˜¯ &lt;code&gt;ph&lt;&#x2F;code&gt;ï¼Œæœ€å¸¸ç”¨çš„ç»„åˆæ˜¯ &lt;code&gt;B&lt;&#x2F;code&gt; å’Œ &lt;code&gt;E&lt;&#x2F;code&gt;ï¼Œåˆ†åˆ«è¡¨ç¤º &lt;code&gt;Begin&lt;&#x2F;code&gt; å’Œ &lt;code&gt;End&lt;&#x2F;code&gt;ï¼Œæœ‰äº†è¿™ä¸¤ä¸ªä¿¡æ¯ï¼ŒTrace Viewer å°±èƒ½åœ¨ timeline ä¸Šæ‰¾åˆ°èµ·æ­¢ç‚¹ï¼Œå°†å®ƒç»˜åˆ¶å‡ºæ¥ã€‚ä¹Ÿå¯ä»¥ç®€åŒ–ä¸º &lt;code&gt;X&lt;&#x2F;code&gt;ï¼Œç„¶ååŠ ä¸Š &lt;code&gt;dur&lt;&#x2F;code&gt; è¡¨ç¤º duration&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;[ {&amp;quot;name&amp;quot;: &amp;quot;å‡ºæ–¹æ¡ˆ&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 0, &amp;quot;dur&amp;quot;: 28800000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;çœ‹ç”µå½±&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;ä¼‘é—²&amp;quot;, &amp;quot;ts&amp;quot;: 28800000000, &amp;quot;dur&amp;quot;: 360000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;å†™ä»£ç &amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 32400000000, &amp;quot;dur&amp;quot;: 360000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;é›ç‹—&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;ä¼‘é—²&amp;quot;, &amp;quot;ts&amp;quot;: 36000000000, &amp;quot;dur&amp;quot;: 180000000},
&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½†é¢œè‰²çœ‹èµ·æ¥æœ‰ç‚¹éšæœºï¼Œèƒ½ä¸èƒ½è‡ªå®šä¹‰å‘¢ï¼Œå¯ä»¥çš„ï¼Œè¿™æ—¶å°±è¦ç”¨åˆ° &lt;code&gt;cname&lt;&#x2F;code&gt; è¿™ä¸ªå‚æ•°ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt; {&amp;quot;name&amp;quot;: &amp;quot;å‡ºæ–¹æ¡ˆ&amp;quot;, &amp;quot;cname&amp;quot;: &amp;quot;good&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 0, &amp;quot;dur&amp;quot;: 28800000000},
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å°† &lt;code&gt;cname&lt;&#x2F;code&gt; è®¾ç½®ä¸º &lt;code&gt;good&lt;&#x2F;code&gt;ï¼Œè§†è§‰ä¸Šä¼šçœ‹åˆ°ç»¿è‰²ï¼Œåœ¨&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;catapult-project&#x2F;catapult&#x2F;blob&#x2F;master&#x2F;tracing&#x2F;tracing&#x2F;base&#x2F;color_scheme.html&quot;&gt;è¿™é‡Œ&lt;&#x2F;a&gt;æœ‰å¯é€‰çš„ cname åˆ—è¡¨ï¼ˆè—çš„çœŸå¤Ÿæ·±Â·Â·Â·ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;å·¦è¾¹çš„ &lt;code&gt;Process Main&lt;&#x2F;code&gt; èƒ½ä¸èƒ½ä¹Ÿè¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ä»¥æ˜¾å¾—ä¸é‚£ä¹ˆçªå…€å‘¢ï¼Ÿæ¯”å¦‚å°†å®ƒæ”¹æˆã€Œæ—¶é—´çº¿ã€&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;2b199fda93a030e4ceaa09317e67bfd4407a08b1.png&quot;
        width=&quot;1478&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™å°±è¦ä½¿ç”¨ MetaData Phase äº†&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;{&amp;quot;name&amp;quot;: &amp;quot;process_name&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;M&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;args&amp;quot;: {&amp;quot;name&amp;quot;: &amp;quot;æ—¶é—´çº¿&amp;quot;}}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å®ƒçš„è¡¨ç¤ºæ–¹å¼æ˜¯å°† &lt;code&gt;ph&lt;&#x2F;code&gt; è®¾ä¸º &lt;code&gt;M&lt;&#x2F;code&gt;ï¼Œç„¶åå°† &lt;code&gt;name&lt;&#x2F;code&gt; è®¾ä¸º &lt;a href=&quot;https:&#x2F;&#x2F;docs.google.com&#x2F;document&#x2F;d&#x2F;1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU&#x2F;edit#heading=h.xqopa5m0e28f&quot;&gt;5 ç§å¯é€‰å€¼&lt;&#x2F;a&gt;ä¸­çš„ä¸€ç§ï¼Œæ¯”å¦‚ &lt;code&gt;process_name&lt;&#x2F;code&gt; åˆ™è¡¨ç¤ºè¦å¯¹è¿›ç¨‹ååšä¸€äº›å®šåˆ¶ã€‚metadata ä¸»è¦æ˜¯ç”¨æ¥ä¸ºæŸä¸€ç±» event æä¾›æ›´å¤šçš„ä¿¡æ¯ï¼Œæ¯”å¦‚è‡ªå®šä¹‰åå­—æˆ–é‡æ–°è®¾ç½®æ’åºä¼˜å…ˆçº§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰ä¸€äº›äº‹ä»¶ï¼Œå®ƒä¸æ˜¯æ‰§è¡Œè€—æ—¶ï¼Œä½†åŒ…å«äº†å…¶ä»–äº‹ä»¶ï¼Œæ¯”å¦‚ã€Œæˆ‘çš„ä¸€å¤©ã€ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªå¯è¢«æ‰§è¡Œçš„äº‹ä»¶ï¼Œä½†å°†ä¸€å¤©åšçš„äº‹æƒ…åŒ…å«è¿›æ¥ã€‚è¿™äº›è¢«ç§°ä¸ºã€Œå¼‚æ­¥äº‹ä»¶ã€ï¼Œè¡¨ç°ä¸Šå°±åƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;b918640dca619c8e393599f7096a26043fd70f72.png&quot;
        width=&quot;1514&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç‹¬å ä¸€æ ï¼ŒåŒæ—¶ä½¿ç”¨äº†æ–œä½“å­—ï¼Œå¦‚æœä»”ç»†çœ‹ï¼Œè¿˜ä¼šå‘ç°é¡¶éƒ¨å¤šäº†ä¸€æ¡é»‘è‰²çš„çº¿ã€‚å¼‚æ­¥äº‹ä»¶çš„ &lt;code&gt;ph&lt;&#x2F;code&gt; ä¸º &lt;code&gt;b&lt;&#x2F;code&gt; å’Œ &lt;code&gt;e&lt;&#x2F;code&gt; ä¹Ÿæ˜¯ Begin å’Œ Endï¼Œåªä¸è¿‡å˜æˆäº†å°å†™ï¼ŒåŒæ—¶è¿˜è¦æä¾› &lt;code&gt;id&lt;&#x2F;code&gt; å’Œ &lt;code&gt;cat&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;æˆ‘çš„ä¸€å¤©&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;b&amp;quot;, &amp;quot;cat&amp;quot;: &amp;quot;daily&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;my-day&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 0},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;æˆ‘çš„ä¸€å¤©&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;e&amp;quot;, &amp;quot;cat&amp;quot;: &amp;quot;daily&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;my-day&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 37800000000},
&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;id ç”¨æ¥å”¯ä¸€æ ‡è¯†ä¸¤ä¸ªå¼‚æ­¥äº‹ä»¶æ˜¯ä¸æ˜¯åº”è¯¥è¢«ä½œä¸ºåŒä¸€ä¸ªæ¥çœ‹å¾…ï¼ˆæœ‰å¯èƒ½å¤šä¸ªå¼‚æ­¥äº‹ä»¶åå­—éƒ½ä¸€æ ·ï¼‰ï¼Œcat ä¹Ÿæ˜¯å¿…é€‰é¡¹ï¼Œè¿™ä¸ªä¸å¤ªç†è§£ï¼Œå¯èƒ½ç­‰å¾…çš„æ—¶é—´å¤ªå­¤ç‹¬ï¼Œéœ€è¦ä¸€åªçŒ«æ¥é™ªä¼´å§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€ä»¶äº‹å¯èƒ½ä¼šè¢«æ‹†åˆ†ä¸ºæ›´å°çš„å•å…ƒï¼Œç„¶åæ‰§è¡Œè¿‡ç¨‹ä¸­ä¹Ÿä¼šç©¿æ’ç€å…¶ä»–çš„äº‹ä»¶ï¼Œé’ˆå¯¹è¿™æ ·çš„åœºæ™¯ï¼Œå¯ä»¥é€šè¿‡ &lt;code&gt;Flow Event&lt;&#x2F;code&gt; æ¥è¡¨ç¤º&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;7a54bb4d237b14089e5bc83a2f9329b686c941c8.jpg&quot;
        width=&quot;1434&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨æ„ï¼Œåœ¨ã€Œå‡ºæ–¹æ¡ˆã€å’Œã€Œå†™ä»£ç ã€ä¹‹é—´å¤šäº†ä¸€æ¡çº¿&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;å‡ºæ–¹æ¡ˆ&amp;quot;, &amp;quot;cname&amp;quot;: &amp;quot;good&amp;quot;,&amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 0, &amp;quot;dur&amp;quot;: 28800000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;connect&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;s&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;my-work&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 28800000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;connect&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;f&amp;quot;, &amp;quot;bp&amp;quot;: &amp;quot;e&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;my-work&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 32400000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;å†™ä»£ç &amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 32400000000, &amp;quot;dur&amp;quot;: 3600000000},
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;Flow Event&lt;&#x2F;code&gt; ph çš„å¼€å§‹å’Œç»“æŸåˆ†åˆ«ä¸º &lt;code&gt;s(start)&lt;&#x2F;code&gt; å’Œ &lt;code&gt;f(finish)&lt;&#x2F;code&gt;ï¼Œè·Ÿ &lt;code&gt;Async Event&lt;&#x2F;code&gt; æœ‰ç‚¹åƒï¼Œä½†æœ‰å‡ ç‚¹ä¸åŒï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸éœ€è¦å¸¦ä¸Š cat&lt;&#x2F;li&gt;
&lt;li&gt;åŒä¸€ä¸ª Flow Eventï¼Œé™¤äº† id ç›¸åŒå¤–ï¼Œåå­—ä¹Ÿå¿…é¡»ç›¸åŒ&lt;&#x2F;li&gt;
&lt;li&gt;ç»“æŸæ—¶ç”¨ &lt;code&gt;&amp;quot;bp&amp;quot;: &amp;quot;e&amp;quot;&lt;&#x2F;code&gt; æ¥è¡¨ç¤º&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Flow Event éœ€è¦ä¾é™„åœ¨å·²æœ‰çš„ Event ä¸Šï¼Œä¾é™„çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ ts åŒ¹é…ï¼Œç›¸åŒ&#x2F;æœ€è¿‘ ts çš„ Event ä¼šè‡ªåŠ¨è¢«åŒ¹é…åˆ°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‡ºæ–¹æ¡ˆçš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šæœ‰çºªå¿µæ„ä¹‰çš„äº‹ä»¶éœ€è¦è®°å½•ä¸‹ï¼Œæ¯”å¦‚æƒ³åˆ°äº†æŸä¸ªç‚¹å­ï¼Œè¿™æ—¶å¯ä»¥ç”¨ &lt;code&gt;ph: &amp;quot;I&amp;quot;&lt;&#x2F;code&gt; æ¥è¡¨ç¤ºï¼ˆInstantï¼‰&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;{&amp;quot;name&amp;quot;: &amp;quot;æƒ³åˆ°ä¸€ä¸ªç‚¹å­&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;I&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 18800000000}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;9fafe4e26805bce1fde36f7970389735fa66ec5a.jpg&quot;
        width=&quot;1482&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸­é—´é‚£æ ¹çº¢çº¿å°±æ˜¯æˆ‘ä»¬åˆšåŠ çš„äº‹ä»¶ï¼Œé€‰ä¸­ä¹‹åä¼šåœ¨åº•éƒ¨å‡ºç°è¯¥äº‹ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªä¸Šè¿›çš„é’å¹´ï¼Œä¸€å¤©ä¸‹æ¥ä¹‹åï¼Œéœ€è¦ç•™ä¸€æ®µæ—¶é—´åæ€ä»Šå¤©åšçš„å¥½çš„å’Œä¸å¥½çš„ï¼Œè¿™å¯ä»¥é€šè¿‡ Snapshot æ¥ä½“ç°ï¼Œå°±åƒè¿™æ ·&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;chrome-trace-viewer&amp;#x2F;200ba2a883121853011e9e0c22757929ee257a84.png&quot;
        width=&quot;1272&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å³ä¸Šè§’é‚£ä¸ªåœ†ç‚¹å°±æ˜¯ Snapshot åœ¨ Timeline ä¸Šçš„è¡¨ç°ï¼Œç‚¹å‡»ä¹‹åå¯ä»¥åœ¨åº•éƒ¨çœ‹åˆ°è¯¦ç»†å†…å®¹ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;{&amp;quot;name&amp;quot;: &amp;quot;åæ€&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;O&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;Ref&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å…¶ä»–&amp;quot;, &amp;quot;ts&amp;quot;: 37800000000, &amp;quot;args&amp;quot;: {&amp;quot;snapshot&amp;quot;: &amp;quot;å……å®çš„ä¸€å¤©å‘¢&amp;quot;}}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Snapshot çš„ ph ä¸º &lt;code&gt;O&lt;&#x2F;code&gt; ï¼ˆå­—æ¯ Oï¼‰ï¼Œæ²¡æœ‰ä»€ä¹ˆé™åˆ¶ï¼Œè¯¦ç»†çš„å†…å®¹å¾€ &lt;code&gt;args.snapshot&lt;&#x2F;code&gt; é‡Œæ”¾å°±å¯ä»¥äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™äº›å·®ä¸å¤šå°±æ˜¯å¸¸ç”¨çš„ ph äº†ï¼Œéƒ¨åˆ† ph ä¼šæœ‰é™„å¸¦çš„è§„åˆ™ï¼Œå†ç®€å•æ€»ç»“ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;ph B&#x2F;E &#x2F;&#x2F; æ­£å¸¸çš„å¼€å§‹&#x2F;ç»“æŸäº‹ä»¶ï¼Œæœ€å¸¸è§ï¼Œä¹Ÿå¯ä»¥ç”¨ X + dur æ¥è¡¨ç¤º
&lt;&#x2F;span&gt;&lt;span&gt;ph M &#x2F;&#x2F; Metadata ç”¨æ¥å¯¹ä¸€ç±» Event é™„åŠ æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œå¯ä»¥å¸¦æ¥ UI ä¸Šçš„å˜åŒ–
&lt;&#x2F;span&gt;&lt;span&gt;ph I &#x2F;&#x2F; ç¬æ—¶äº‹ä»¶ï¼Œç±»ä¼¼ Mark ä¸€ä¸‹
&lt;&#x2F;span&gt;&lt;span&gt;ph s&#x2F;e &#x2F;&#x2F; å¼‚æ­¥äº‹ä»¶ï¼Œè¡¨ç¤ºè‡ªå®šä¹‰çš„ä¸€ä¸ªäº‹ä»¶ï¼Œè¡¨ç°ä¸Šè·Ÿæ­£å¸¸äº‹ä»¶ä¼šæœ‰åŒºåˆ«
&lt;&#x2F;span&gt;&lt;span&gt;ph s&#x2F;f &#x2F;&#x2F; Flow äº‹ä»¶ï¼Œä¼šå‡ºç°ç®­å¤´ï¼Œè¦é€šè¿‡ ts åŒ¹é…æœ€è¿‘çš„ eventï¼Œç»“æŸè¦ä½¿ç”¨ bp: e
&lt;&#x2F;span&gt;&lt;span&gt;ph O &#x2F;&#x2F; Snapshotï¼Œè¡¨ç°ä¸Šæ˜¯ä¸€ä¸ªé†’ç›®çš„åœ†ç‚¹ï¼Œå¯ä»¥åœ¨ `args.snapshot` é‡Œæ”¾ä»»æ„æ•°æ®
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯ Demo å¯¹åº”çš„ Event å†…å®¹ï¼Œåªè¦èƒ½ç”Ÿæˆè¿™æ ·çš„ JSON æ–‡ä»¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ Trace Viewer å¼ºå¤§çš„å¯è§†åŒ–èƒ½åŠ›ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;æˆ‘çš„ä¸€å¤©&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;b&amp;quot;, &amp;quot;cat&amp;quot;: &amp;quot;daily&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;my-day&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 0},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;æˆ‘çš„ä¸€å¤©1&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;e&amp;quot;, &amp;quot;cat&amp;quot;: &amp;quot;daily&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;my-day&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 37800000000},
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;å‡ºæ–¹æ¡ˆ&amp;quot;, &amp;quot;cname&amp;quot;: &amp;quot;good&amp;quot;,&amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 0, &amp;quot;dur&amp;quot;: 28800000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;æƒ³åˆ°ä¸€ä¸ªç‚¹å­&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;I&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 18800000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;connect&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;s&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;my-work&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 28800000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;connect&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;f&amp;quot;, &amp;quot;bp&amp;quot;: &amp;quot;e&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;my-work&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 32400000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;å†™ä»£ç &amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;ts&amp;quot;: 32400000000, &amp;quot;dur&amp;quot;: 3600000000},
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;åæ€&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;O&amp;quot;, &amp;quot;id&amp;quot;: &amp;quot;Ref&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å…¶ä»–&amp;quot;, &amp;quot;ts&amp;quot;: 37800000000, &amp;quot;args&amp;quot;: {&amp;quot;snapshot&amp;quot;: &amp;quot;å……å®çš„ä¸€å¤©å‘¢&amp;quot;}},
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;çœ‹ç”µå½±&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;B&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;ä¼‘é—²&amp;quot;, &amp;quot;ts&amp;quot;: 28800000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;çœ‹ç”µå½±&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;E&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;ä¼‘é—²&amp;quot;, &amp;quot;ts&amp;quot;: 32400000000},
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;é›ç‹—&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;X&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;ä¼‘é—²&amp;quot;, &amp;quot;ts&amp;quot;: 36000000000, &amp;quot;dur&amp;quot;: 1880000000},
&lt;&#x2F;span&gt;&lt;span&gt;  {&amp;quot;name&amp;quot;: &amp;quot;process_name&amp;quot;, &amp;quot;ph&amp;quot;: &amp;quot;M&amp;quot;, &amp;quot;pid&amp;quot;: &amp;quot;Main&amp;quot;, &amp;quot;tid&amp;quot;: &amp;quot;å·¥ä½œ&amp;quot;, &amp;quot;args&amp;quot;: {&amp;quot;name&amp;quot;: &amp;quot;æ—¶é—´çº¿&amp;quot;}}
&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;zai-xian-shi-yong-trace-viewer&quot;&gt;åœ¨çº¿ä½¿ç”¨ Trace Viewer&lt;&#x2F;h2&gt;
&lt;p&gt;é€šè¿‡ &lt;code&gt;chrome:&#x2F;&#x2F;tracing&lt;&#x2F;code&gt; çš„æ–¹å¼æ¥ä½¿ç”¨ Tracer Viewer è¿˜æ˜¯ä¸å¤ªæ–¹ä¾¿ï¼Œä¹Ÿä¸åˆ©äºä¼ æ’­ï¼ŒGoogle è™½ç„¶åœ¨ catapult é‡Œæä¾›äº† &lt;code&gt;trace2html&lt;&#x2F;code&gt;ï¼Œä½†åŒ…å«çš„æ–‡ä»¶å¾ˆå¤šï¼Œä½¿ç”¨èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ï¼Œäºæ˜¯å‚è€ƒäº† &lt;code&gt;go trace&lt;&#x2F;code&gt; çš„æºç ï¼ŒæŠŠç›¸å…³æ–‡ä»¶ä¸Šä¼ åˆ°äº† CDNï¼Œç„¶ååœ¨ä¸€ä¸ª html æ–‡ä»¶é‡Œå¼•ç”¨ï¼Œè¿™æ ·åªéœ€ä¸€ä¸ªæ–‡ä»¶å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;!DOCTYPE html&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;!--
&lt;&#x2F;span&gt;&lt;span&gt;Copyright (c) 2014 The Chromium Authors. All rights reserved.
&lt;&#x2F;span&gt;&lt;span&gt;Use of this source code is governed by a BSD-style license that can be
&lt;&#x2F;span&gt;&lt;span&gt;found in the LICENSE file.
&lt;&#x2F;span&gt;&lt;span&gt;--&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;head&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text&#x2F;html; charset=UTF-8&amp;quot; &#x2F;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;style&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    body {
&lt;&#x2F;span&gt;&lt;span&gt;      font-family: arial, sans-serif;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;&#x2F;style&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;script
&lt;&#x2F;span&gt;&lt;span&gt;    src=&amp;quot;https:&#x2F;&#x2F;sf1-ttcdn-tos.pstatp.com&#x2F;obj&#x2F;developer-baas&#x2F;baas&#x2F;ttnbrzs5vgcryya2z2&#x2F;7d1b75402231d1cd_1583755520315.js&amp;quot;&amp;gt;&amp;lt;&#x2F;script&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;script&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;use strict&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;    window.__hideTraceViewerPolyfillWarning = true;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    function onTraceViewerImportFail() {
&lt;&#x2F;span&gt;&lt;span&gt;      document.addEventListener(&amp;#39;DOMContentLoaded&amp;#39;, function () {
&lt;&#x2F;span&gt;&lt;span&gt;        document.body.textContent =
&lt;&#x2F;span&gt;&lt;span&gt;          &amp;#39;tracing&#x2F;bin&#x2F;trace_viewer_full.html is missing. &amp;#39; +
&lt;&#x2F;span&gt;&lt;span&gt;          &amp;#39;Run vulcanize_trace_viewer from $TRACE_VIEWER and reload.&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;      });
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;&#x2F;script&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;link rel=&amp;quot;import&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    href=&amp;quot;https:&#x2F;&#x2F;sf1-ttcdn-tos.pstatp.com&#x2F;obj&#x2F;developer-baas&#x2F;baas&#x2F;ttnbrzs5vgcryya2z2&#x2F;4b94a178762f4049_1583756222365.html&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    onerror=&amp;quot;onTraceViewerImportFail(event)&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;style&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    html,
&lt;&#x2F;span&gt;&lt;span&gt;    body {
&lt;&#x2F;span&gt;&lt;span&gt;      box-sizing: border-box;
&lt;&#x2F;span&gt;&lt;span&gt;      overflow: hidden;
&lt;&#x2F;span&gt;&lt;span&gt;      margin: 0px;
&lt;&#x2F;span&gt;&lt;span&gt;      padding: 0;
&lt;&#x2F;span&gt;&lt;span&gt;      width: 100%;
&lt;&#x2F;span&gt;&lt;span&gt;      height: 100%;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    #trace-viewer {
&lt;&#x2F;span&gt;&lt;span&gt;      width: 100%;
&lt;&#x2F;span&gt;&lt;span&gt;      height: 100%;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    #trace-viewer:focus {
&lt;&#x2F;span&gt;&lt;span&gt;      outline: none;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;&#x2F;style&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;script&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;use strict&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    (function () {
&lt;&#x2F;span&gt;&lt;span&gt;      var viewer;
&lt;&#x2F;span&gt;&lt;span&gt;      var url;
&lt;&#x2F;span&gt;&lt;span&gt;      var model;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      function load() {
&lt;&#x2F;span&gt;&lt;span&gt;        var req = new XMLHttpRequest();
&lt;&#x2F;span&gt;&lt;span&gt;        var isBinary = &#x2F;[.]gz$&#x2F;.test(url) || &#x2F;[.]zip$&#x2F;.test(url);
&lt;&#x2F;span&gt;&lt;span&gt;        req.overrideMimeType(&amp;#39;text&#x2F;plain; charset=x-user-defined&amp;#39;);
&lt;&#x2F;span&gt;&lt;span&gt;        req.overrideMimeType(&amp;#39;contentType: &amp;quot;application&#x2F;x-www-form-urlencoded;charset=utf-8&amp;quot;&amp;#39;);
&lt;&#x2F;span&gt;&lt;span&gt;        console.log(url);
&lt;&#x2F;span&gt;&lt;span&gt;        req.open(&amp;#39;GET&amp;#39;, url, true);
&lt;&#x2F;span&gt;&lt;span&gt;        if (isBinary)
&lt;&#x2F;span&gt;&lt;span&gt;          req.responseType = &amp;#39;arraybuffer&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        req.onreadystatechange = function (event) {
&lt;&#x2F;span&gt;&lt;span&gt;          if (req.readyState !== 4)
&lt;&#x2F;span&gt;&lt;span&gt;            return;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;          window.setTimeout(function () {
&lt;&#x2F;span&gt;&lt;span&gt;            if (req.status === 200)
&lt;&#x2F;span&gt;&lt;span&gt;              onResult(isBinary ? req.response : req.responseText);
&lt;&#x2F;span&gt;&lt;span&gt;            else
&lt;&#x2F;span&gt;&lt;span&gt;              onResultFail(req.status);
&lt;&#x2F;span&gt;&lt;span&gt;          }, 0);
&lt;&#x2F;span&gt;&lt;span&gt;        };
&lt;&#x2F;span&gt;&lt;span&gt;        req.send(null);
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      function onResultFail(err) {
&lt;&#x2F;span&gt;&lt;span&gt;        var overlay = new tr.ui.b.Overlay();
&lt;&#x2F;span&gt;&lt;span&gt;        overlay.textContent = err + &amp;#39;: &amp;#39; + url + &amp;#39; could not be loaded&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;        overlay.title = &amp;#39;Failed to fetch data&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;        overlay.visible = true;
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      function onResult(result) {
&lt;&#x2F;span&gt;&lt;span&gt;        model = new tr.Model();
&lt;&#x2F;span&gt;&lt;span&gt;        var i = new tr.importer.Import(model);
&lt;&#x2F;span&gt;&lt;span&gt;        var p = i.importTracesWithProgressDialog([result]);
&lt;&#x2F;span&gt;&lt;span&gt;        p.then(onModelLoaded, onImportFail);
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      function onModelLoaded() {
&lt;&#x2F;span&gt;&lt;span&gt;        viewer.model = model;
&lt;&#x2F;span&gt;&lt;span&gt;        var urlParams = new URLSearchParams(window.location.search);
&lt;&#x2F;span&gt;&lt;span&gt;        var title = urlParams.get(&amp;quot;title&amp;quot;) || &amp;quot;&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;        document.getElementById(&amp;#39;title&amp;#39;).innerHTML = title;
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      function onImportFail(err) {
&lt;&#x2F;span&gt;&lt;span&gt;        var overlay = new tr.ui.b.Overlay();
&lt;&#x2F;span&gt;&lt;span&gt;        overlay.textContent = tr.b.normalizeException(err).message;
&lt;&#x2F;span&gt;&lt;span&gt;        overlay.title = &amp;#39;Import error&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;        overlay.visible = true;
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      document.addEventListener(&amp;#39;WebComponentsReady&amp;#39;, function () {
&lt;&#x2F;span&gt;&lt;span&gt;        var container = document.createElement(&amp;#39;track-view-container&amp;#39;);
&lt;&#x2F;span&gt;&lt;span&gt;        container.id = &amp;#39;track_view_container&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        viewer = document.createElement(&amp;#39;tr-ui-timeline-view&amp;#39;);
&lt;&#x2F;span&gt;&lt;span&gt;        viewer.track_view_container = container;
&lt;&#x2F;span&gt;&lt;span&gt;        Polymer.dom(viewer).appendChild(container);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        viewer.id = &amp;#39;trace-viewer&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;        viewer.globalMode = true;
&lt;&#x2F;span&gt;&lt;span&gt;        Polymer.dom(document.body).appendChild(viewer);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        var urlParams = new URLSearchParams(window.location.search);
&lt;&#x2F;span&gt;&lt;span&gt;        url = urlParams.get(&amp;quot;tracing_url&amp;quot;);
&lt;&#x2F;span&gt;&lt;span&gt;        load();
&lt;&#x2F;span&gt;&lt;span&gt;      });
&lt;&#x2F;span&gt;&lt;span&gt;    }());
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;lt;&#x2F;script&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;head&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;body&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;body&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&#x2F;html&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½¿ç”¨æ–¹å¼ï¼š&lt;code&gt;http:&#x2F;&#x2F;path&#x2F;to&#x2F;this.html?tracing_url=path&#x2F;to&#x2F;tracing.json&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;cai-guo-de-keng&quot;&gt;è¸©è¿‡çš„å‘&lt;&#x2F;h2&gt;
&lt;p&gt;JSON æ–‡ä»¶é‡Œï¼Œå¦‚æœå‡ºç° &lt;code&gt;AStart-BStart-AEnd-BEnd&lt;&#x2F;code&gt; è¿™æ ·çš„äº¤å‰å¼å¤šè¡Œæ•°æ®ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´è§£æå¤±è´¥ã€‚è§£å†³æ–¹æ³•å°±æ˜¯æ‹†è§£ä¸ºæ­£å¸¸çš„é¡ºåº &lt;code&gt;AStart-AEnd-BStart-BEnd&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿˜æœ‰ï¼Œå¦‚æœå‘ç°æŸä¸ª Event çš„ Start å’Œ End æ˜æ˜åœ¨é‚£é‡Œï¼Œä½†å´è¿˜æ˜¯æŠ¥æ‰¾ä¸åˆ° End çš„è¯ï¼Œé€šå¸¸æ˜¯è¿™ä¸ª End è¢«å…¶ä»– Start åŒ¹é…äº†ï¼ˆå³ä½¿åå­—ä¸ä¸€æ ·ï¼‰ï¼Œæ‰€ä»¥ root cause å¾ˆå¯èƒ½æ˜¯å› ä¸ºé‚£ä¸ª solo Startã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h2&gt;
&lt;p&gt;Trace Viewer æ˜¯ä¸€æ¬¾å¼ºå¤§çš„å¯è§†åŒ–åˆ©å™¨ï¼Œè™½ç„¶é€šå¸¸è¢«æ‹¿æ¥åšæ€§èƒ½åˆ†æï¼Œä½†å®ƒçš„ä½¿ç”¨åœºæ™¯å…¶å®å¾ˆå¹¿ï¼Œè‡³äºèƒ½åšå‡ºä»€ä¹ˆæ¥ï¼Œå°±çœ‹ä½ çš„æƒ³è±¡åŠ›å’¯ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>æ¶æ„å¸ˆæ€ç»´</title>
            <pubDate>Sat, 16 Feb 2019 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/architect-mindset/</link>
            <guid>https://limboy.me/posts/architect-mindset/</guid>
            <description>&lt;p&gt;ã€Œæ¶æ„å¸ˆã€æ˜¯ä¸€ä¸ªæŒºé«˜ç«¯çš„ Titleï¼Œå°è±¡ä¸­åº”è¯¥æ˜¯é‚£äº›æŠ€æœ¯ç‰¹åˆ«å‡ºä¼—çš„äººã€‚çœŸæ­£çš„æ¶æ„å¸ˆåº”è¯¥æ˜¯æ€æ ·çš„æˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œä¸åŒå…¬å¸å¯¹ä»–çš„èƒ½åŠ›è¦æ±‚ä¹Ÿä¸ä¼šä¸€æ ·ï¼Œå¾ˆå¤šå…¬å¸éƒ½ä¸ä¸€å®šæœ‰æ¶æ„å¸ˆè¿™ä¸ªèŒä½ï¼Œä½†è¿™å¹¶ä¸å½±å“æ‹¥æœ‰ã€Œæ¶æ„å¸ˆæ€ç»´ã€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯æ¶æ„å¸ˆæ€ç»´ï¼Ÿå°±æ˜¯é™¤äº†å®Œæˆå¼€å‘ä»»åŠ¡å¤–ï¼Œè¿˜æ“å¿ƒç€å…¶ä»–äº‹æƒ…ï¼Œè€Œè¿™äº›äº‹æƒ…éƒ½å›´ç»•ä¸€ä¸ªç›®æ ‡ï¼šæ‰“é€ é«˜æ•ˆçš„å…·æœ‰æŒç»­äº¤ä»˜èƒ½åŠ›çš„å›¢é˜Ÿã€‚å¸¦ç€è¿™ä¸ªæ€ç»´å°±ä¼šå‘ç°å¤©èŠ±æ¿å˜é«˜äº†ï¼Œè‡ªå·±çš„æå‡ç©ºé—´ä¹Ÿæ›´å¤§äº†(å½“ç„¶å‰ææ˜¯å…ˆæŠŠè‡ªå·±æ‰‹å¤´çš„æ´»å¹²å¥½Â·Â·Â·)ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™è·Ÿç®¡ç†è€…çš„èŒèƒ½æ˜¯ä¸æ˜¯æœ‰ç‚¹é‡åˆï¼Ÿæ˜¯æœ‰ç‚¹ï¼Œä½†æˆ‘è§‰å¾—ç®¡ç†è€…åº”è¯¥æŠŠé‡å¿ƒæ”¾åˆ°æ›¿å›¢é˜Ÿæ’é™¤éšœç¢ï¼Œå…³å¿ƒå›¢é˜Ÿæˆå‘˜çš„å·¥ä½œçŠ¶æ€ä¸Šã€‚å½“ç„¶è¿™ä¸¤ä¸ªè§’è‰²ä¹Ÿå®Œå…¨å¯ä»¥ç”±ä¸€ä¸ªäººæ‰¿æ‹…ï¼Œä¹Ÿå°±æ˜¯æŠ€æœ¯ç®¡ç†è€…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å› æ­¤é™¤äº†ä¸“ä¸šæŠ€èƒ½è¿‡ç¡¬ä¹‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šéœ€è¦è€ƒè™‘çš„ç‚¹ã€‚æˆ‘è§‰å¾—ä»å¼€å‘è€…å’Œå¼€å‘è¿™ä¸¤ä¸ªæ–¹å‘åˆ‡å…¥ä¼šæ¯”è¾ƒåˆé€‚ï¼Œå¼€å‘å å¤§éƒ¨åˆ†ã€‚ä¸‹å›¾æ˜¯æˆ‘çš„æ€»ç»“ï¼Œæ¬¢è¿æ¢è®¨ :)&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;architect-mindset&amp;#x2F;architect-mindset.png&quot;
        width=&quot;2087&quot; &#x2F;&gt;&lt;&#x2F;p&gt;</description>
        </item>
        
        
        <item>
            <title>å…³äº Flutter Layout ä½ åº”è¯¥çŸ¥é“çš„</title>
            <pubDate>Fri, 11 Jan 2019 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/flutter-layout/</link>
            <guid>https://limboy.me/posts/flutter-layout/</guid>
            <description>&lt;p&gt;è¿™ç¯‡æ–‡ç« é¦–å‘äº &lt;a href=&quot;https:&#x2F;&#x2F;medium.com&#x2F;@limboy&#x2F;flutter-layout-in-a-nutshell-f2ed3cb66d72&quot;&gt;Medium&lt;&#x2F;a&gt;ï¼Œç•¥æ˜¾ç”Ÿç¡¬çš„è‹±æ–‡çœ‹æ¥å¹¶ä¸å¤ªå¦¨ç¢ç†è§£ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ Flutter çš„å¸ƒå±€ç³»ç»Ÿææ–—ä¸€æ®µæ—¶é—´ä¹‹åï¼Œæ„Ÿè§‰ç»ˆäºæ‰¾åˆ°äº†ç‚¹é—¨é“ï¼Œäºæ˜¯èŠ±äº†ç‚¹æ—¶é—´æ•´ç†äº†ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;he-xin-gai-nian&quot;&gt;æ ¸å¿ƒæ¦‚å¿µ&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;unbounded-constraints&quot;&gt;Unbounded Constraints&lt;&#x2F;h4&gt;
&lt;blockquote&gt;
&lt;p&gt;either the maximum width or the maximum height is set to double.INFINITY&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;flutter-scrollview.png&quot;
        width=&quot;146&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;ScrollView&lt;&#x2F;code&gt; å’Œå®ƒçš„å­ç±»æ¯”å¦‚ &lt;code&gt;ListView&lt;&#x2F;code&gt; æˆ– &lt;code&gt;GridView&lt;&#x2F;code&gt; æ˜¯å¸¸è§çš„ Unbounded Constraints. ä¹Ÿå°±æ˜¯åœ¨æŸä¸€ä¸ªæ–¹å‘æ²¡æœ‰é™åˆ¶å¤§å°ã€‚å…¶ä»–çš„ widget åªè¦èƒ½å¤Ÿè®¾ç½® &lt;code&gt;width&lt;&#x2F;code&gt; æˆ– &lt;code&gt;height&lt;&#x2F;code&gt; ä¸º &lt;code&gt;double.INFINITY&lt;&#x2F;code&gt; çš„ä¹Ÿç®—ã€‚æœ‰æ—¶ä¹Ÿä¼šç”¨ &lt;strong&gt;as big as possible&lt;&#x2F;strong&gt; æ¥æè¿°è¿™äº› widgetsã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;flex&quot;&gt;Flex&lt;&#x2F;h4&gt;
&lt;blockquote&gt;
&lt;p&gt;when in bounded constraints, try to be as big as possible in that direction.&lt;&#x2F;p&gt;
&lt;p&gt;when in unbounded constraints, try to fit their children in that direction.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;å½“åœ¨æœ‰é™çš„ç©ºé—´å†…ï¼Œä¼šæ’‘æ»¡æ•´ä¸ªç©ºé—´ï¼›å¦‚æœåœ¨ä¸€ä¸ª unbounded constraints å®¹å™¨é‡Œï¼Œå°±åŒ¹é…å­ widget çš„å¤§å°ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;flutter-row-column.png&quot;
        width=&quot;374&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æœ€å¸¸è§çš„æ˜¯ &lt;code&gt;Row&lt;&#x2F;code&gt; å’Œ &lt;code&gt;Column&lt;&#x2F;code&gt;ï¼Œå¦‚æœä¸å«Œéº»çƒ¦çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code&gt;Flex&lt;&#x2F;code&gt; widgetã€‚é‡Œé¢å¯ä»¥æ”¾ &lt;code&gt;Flexible&lt;&#x2F;code&gt; widgetï¼Œä¹Ÿå¯ä»¥ä¸æ˜¯ã€‚å¦‚æœæœ‰ &lt;code&gt;Flexible&lt;&#x2F;code&gt; widgets ä¼šæŠŠå‰©ä½™ç©ºé—´è®¡ç®—å‡ºæ¥åˆ†é…ç»™è¿™äº› widgetsã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;flexible&quot;&gt;Flexible&lt;&#x2F;h4&gt;
&lt;p&gt;è·Ÿ &lt;code&gt;Flex&lt;&#x2F;code&gt; æ­é…ä½¿ç”¨ï¼Œ&lt;code&gt;Flexible&lt;&#x2F;code&gt; å¯ä»¥ç”¨æ¥å£°æ˜ä½¿ç”¨ç™¾åˆ†ä¹‹å¤šå°‘çš„ç©ºé—´ã€‚æ¯”å¦‚ &lt;code&gt;flex = 1&lt;&#x2F;code&gt; ä¹Ÿå°±æ˜¯ &lt;code&gt;1&#x2F;all&lt;&#x2F;code&gt;ï¼Œå¦‚æœæœ‰ä¸¤ä¸ª widgetsï¼Œå¦ä¸€ä¸ªä¹Ÿæ˜¯ 1ï¼Œé‚£ä¹ˆ &lt;code&gt;all = 2&lt;&#x2F;code&gt;ï¼Œæ¯ä¸ª widget åˆ†é…åˆ° 50% çš„ç©ºé—´ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;flutter-expanded.png&quot;
        width=&quot;374&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Expanded&lt;&#x2F;code&gt; æ˜¯æœ€å¸¸è§çš„ &lt;code&gt;Flexible&lt;&#x2F;code&gt; widgetï¼Œå®ƒä¼šå¡«æ»¡ä¸»æ–¹å‘ä¸Šå¯ç”¨çš„ç©ºé—´ï¼ˆæ¯”å¦‚ Row çš„æ°´å¹³ç©ºé—´æˆ– Column çš„å‚ç›´ç©ºé—´ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhu-yao-widgets&quot;&gt;ä¸»è¦ Widgets&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;container&quot;&gt;Container&lt;&#x2F;h4&gt;
&lt;blockquote&gt;
&lt;p&gt;Containers with no children try to be as big as possible unless the incoming constraints are unbounded, in which case they try to be as small as possible.&lt;&#x2F;p&gt;
&lt;p&gt;Containers with children size themselves to their children.&lt;&#x2F;p&gt;
&lt;p&gt;The width, height, and constraints arguments to the constructor override this.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;è¿™æ˜¯ Container çš„ä¸‰ä¸ªä¸»è¦è¡¨ç°ï¼šå½“æ²¡æœ‰å­ widgets ä¸”æ²¡æœ‰æŒ‡å®š constraints æ—¶ï¼Œå°½å¯èƒ½åœ°å……æ»¡å¯ç”¨ç©ºé—´ï¼Œå¦‚æœæœ‰ constraints å°±ä»¥ constraints ä¸ºå‡†ï¼ˆé™¤éè·Ÿ parent constraints å†²çªï¼‰ï¼›å¦‚æœæœ‰å­ widgets åˆ™ä»¥ children çš„ size ä¸ºå‡†ï¼›å¯ä»¥è®¾ç½® &lt;code&gt;width&lt;&#x2F;code&gt;, &lt;code&gt;height&lt;&#x2F;code&gt;ï¼Œ &lt;code&gt;constraints&lt;&#x2F;code&gt; æ¥çº¦æŸ sizeã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MaterialApp&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  home&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Scaffold&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Container&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;      color&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Colors&lt;&#x2F;span&gt;&lt;span&gt;.yellow,
&lt;&#x2F;span&gt;&lt;span&gt;    ),
&lt;&#x2F;span&gt;&lt;span&gt;  ),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å­©å­çš„ containerï¼Œå› æ­¤å®ƒä¼šè¡¨ç°åœ°å°½é‡å¤§ï¼Œå°±åƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;Flutter-container.png&quot;
        width=&quot;146&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœè®¾ç½®äº† &lt;code&gt;width&lt;&#x2F;code&gt; æˆ– &lt;code&gt;height&lt;&#x2F;code&gt;ï¼Œåˆ™ä¼šæ ¹æ®è®¾ç½®çš„å€¼æ¥è¡¨ç°ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MaterialApp&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  home&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Scaffold&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Container&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;      color&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Colors&lt;&#x2F;span&gt;&lt;span&gt;.yellow,
&lt;&#x2F;span&gt;&lt;span&gt;      width&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;      height&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    ),
&lt;&#x2F;span&gt;&lt;span&gt;  ),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;Flutter-container-width.png&quot;
        width=&quot;146&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæœ‰ childï¼Œåˆ™ä¼šä»¥ child çš„ size ä¸ºå‡†ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MaterialApp&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  home&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Scaffold&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Container&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;      color&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Colors&lt;&#x2F;span&gt;&lt;span&gt;.yellow,
&lt;&#x2F;span&gt;&lt;span&gt;      child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Text&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;    ),
&lt;&#x2F;span&gt;&lt;span&gt;  ),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;Flutter-container-child.png&quot;
        width=&quot;146&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½® padding, margin, child çš„å¯¹é½æ–¹å¼ï¼Œç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;stack&quot;&gt;Stack&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;Stack&lt;&#x2F;code&gt; æœ‰ç‚¹åƒ css çš„ç»å¯¹å¸ƒå±€ï¼Œå¯ä»¥åœ¨ä¸Šé¢ç›–ä¸€äº› widgetsï¼Œæ¯”å¦‚ profile é¡µçš„èƒŒæ™¯å›¾ä¸Šæ”¾ä¸€äº›ä¸ªäººä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;Each child of a Stack widget is either positioned or non-positioned.&lt;&#x2F;p&gt;
&lt;p&gt;Positioned children are those wrapped in a Positioned widget that has at least one non-null property.&lt;&#x2F;p&gt;
&lt;p&gt;The stack sizes itself to contain all the non-positioned children, which are positioned according to alignment.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Stack çš„ children å¦‚æœæ²¡æœ‰ç”¨ &lt;code&gt;Positioned&lt;&#x2F;code&gt; ä¿®é¥°çš„è¯ï¼Œå°±ä¼šç”¨ Stack çš„ &lt;code&gt;fit&lt;&#x2F;code&gt; å’Œ &lt;code&gt;alighment&lt;&#x2F;code&gt; æ¥å¸®å®ƒä»¬æ‰¾åˆ°åˆé€‚çš„ä½ç½®ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Stack&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  fit&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StackFit&lt;&#x2F;span&gt;&lt;span&gt;.loose,
&lt;&#x2F;span&gt;&lt;span&gt;  alignment&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Alignment&lt;&#x2F;span&gt;&lt;span&gt;.center,
&lt;&#x2F;span&gt;&lt;span&gt;  children&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Widget&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Text&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;world&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Positioned&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;     bottom&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;     child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Text&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;   )
&lt;&#x2F;span&gt;&lt;span&gt; ],
&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;flutter-stack-1.png&quot;
        width=&quot;146&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;StackFit.loose&lt;&#x2F;code&gt; çš„æ„æ€æ˜¯ï¼Œå¦‚æœ child size ä¸æ¯” Stack çš„å¤§ï¼Œå°±ç”¨ child çš„ sizeã€‚è€Œå¦‚æœè®¾ç½®ä¸º &lt;code&gt;StackFit.expand&lt;&#x2F;code&gt; åˆ™ä¼šè®©æ‰€æœ‰é &lt;code&gt;Positioned&lt;&#x2F;code&gt; çš„ widgets ä½¿ç”¨ Stack çš„ sizeã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;flutter-stack-2.png&quot;
        width=&quot;146&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Text(&#x27;world&#x27;)&lt;&#x2F;code&gt; ç°åœ¨å°±è·Ÿ Stack ä¸€æ ·å¤§äº†ï¼Œæ‰€ä»¥çœ‹èµ·æ¥åƒæ˜¯ &lt;code&gt;alignment.center&lt;&#x2F;code&gt; æ²¡æœ‰ç”Ÿæ•ˆã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;row-and-column&quot;&gt;Row and Column&lt;&#x2F;h4&gt;
&lt;p&gt;å®ƒä»¬éƒ½æ˜¯ Flex widgetsï¼ŒRow å¯ä»¥å°† children æ¨ªç€æ”¾ï¼Œcolumn å¯ä»¥å°† children ç«–ç€æ”¾ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;crossAxisAlignment&lt;&#x2F;code&gt; è¡¨ç¤ºè¦å¦‚ä½•å¯¹é½å¦ä¸€ä¾§ï¼Œæ¯”å¦‚æ¨ªç€ä¸€æ’çš„ widgetsï¼Œå‚ç›´æ–¹å‘ä¸Šå®ƒä»¬åº”è¯¥é¡¶éƒ¨å¯¹é½è¿˜æ˜¯å±…ä¸­å¯¹é½å‘¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;mainAxisSize&lt;&#x2F;code&gt; é»˜è®¤æ˜¯ &lt;code&gt;MainAxisSize.max&lt;&#x2F;code&gt;ï¼Œå¦‚æœæƒ³è®©å®ƒå˜æˆ Row æˆ– Column çš„çœŸå®é«˜åº¦ï¼Œå¯ä»¥å°†å®ƒè®¾ç½®ä¸º &lt;code&gt;MainAxisSize.min&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;sizedbox&quot;&gt;SizedBox&lt;&#x2F;h4&gt;
&lt;p&gt;ä½¿ç”¨å®ƒå¯ä»¥å¾—åˆ°ä¸€ä¸ªç¡®å®šå°ºå¯¸çš„ widgetã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;safearea&quot;&gt;SafeArea&lt;&#x2F;h4&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;SafeArea&lt;&#x2F;code&gt; å¯ä»¥è®© child widget åœ¨é¡¶éƒ¨å’Œåº•éƒ¨è…¾å‡ºè¶³å¤Ÿçš„ç©ºé—´æ–¹ä¾¿å¤„ç† iPhoneX è¿™ç±»çš„æ‰‹æœºã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yuan-ze&quot;&gt;åŸåˆ™&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;bu-yao-zai-flex-widget-li-fang-zhi-unbounded-constraints&quot;&gt;ä¸è¦åœ¨ Flex widget é‡Œæ”¾ç½® unbounded constraints&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;Column&lt;&#x2F;code&gt; æ˜¯ Flex widgetï¼Œæ‰€ä»¥åœ¨é‡Œé¢æ”¾ &lt;code&gt;ListView&lt;&#x2F;code&gt; çš„è¯ï¼Œç³»ç»Ÿä¸ä¼šç­”åº”çš„ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MaterialApp&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  home&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Column&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    children&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Widget&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ListView&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;builder&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        itemBuilder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (context, index){
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Text&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;        },
&lt;&#x2F;span&gt;&lt;span&gt;        itemCount&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;      )
&lt;&#x2F;span&gt;&lt;span&gt;    ],
&lt;&#x2F;span&gt;&lt;span&gt;  ),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç³»ç»Ÿä¼šç»™å‡ºè¿™æ ·çš„ error&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;flutter: The following assertion was thrown during performResize():
&lt;&#x2F;span&gt;&lt;span&gt;flutter: Vertical viewport was given unbounded height.
&lt;&#x2F;span&gt;&lt;span&gt;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å› ä¸º Column ä½œä¸º Flex å®ƒä¸çŸ¥é“åº”è¯¥å¦‚ä½•å®‰æ”¾ä¸€ä¸ª &lt;strong&gt;as big as possible&lt;&#x2F;strong&gt; çš„ widgetã€‚è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦è®¾ç½® ListView çš„ &lt;code&gt;shrinkWrap=true&lt;&#x2F;code&gt; å³å¯ã€‚è¿™å°±æ˜¯å‘Šè¯‰ ListView æŠŠè‡ªå·±å°½å¯èƒ½åœ°ç¼©å°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥åœ¨ &lt;code&gt;Column&lt;&#x2F;code&gt; æˆ– &lt;code&gt;Row&lt;&#x2F;code&gt; é‡Œä½¿ç”¨ &lt;code&gt;Expanded&lt;&#x2F;code&gt;ï¼Œå› ä¸ºå®ƒæ˜¯ &lt;code&gt;Flexible&lt;&#x2F;code&gt;ï¼Œå°±åº”è¯¥å¾…åœ¨ Flex é‡Œé¢ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;bu-yao-zai-unbounded-widgets-li-she-zhi-flex-wei-bu-deng-yu-0-de-shu-zhi&quot;&gt;ä¸è¦åœ¨ unbounded widgets é‡Œè®¾ç½® flex ä¸ºä¸ç­‰äº 0 çš„æ•°å€¼&lt;&#x2F;h4&gt;
&lt;p&gt;å› ä¸ºç©ºé—´æ— é™ï¼Œå¦‚æœä¸¤ä¸ª &lt;code&gt;Flexible&lt;&#x2F;code&gt; åˆ†åˆ«ä¸º 1 å’Œ 2ï¼Œé‚£ä¹ˆ &lt;code&gt;Flex&lt;&#x2F;code&gt; æ ¹æœ¬ä¸çŸ¥é“è¯¥å¦‚ä½•å°†ç©ºé—´åˆ’åˆ†æˆ 1:2ã€‚å¦‚æœçœŸè¿™ä¹ˆåšçš„è¯ï¼Œä¼šæ”¶åˆ°è¿™æ ·çš„ error:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;RenderFlex children have non-zero flex but incoming height constraints are unbounded.
&lt;&#x2F;span&gt;&lt;span&gt;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;xiao-ce-yan&quot;&gt;å°æµ‹éªŒ&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸‹é¢è¿™æ®µä»£ç ä¼šè®© &lt;code&gt;Hello World&lt;&#x2F;code&gt; è¢«åŒ…è£¹åœ¨ä¸­é—´çš„å°æ–¹å—é‡Œå—ï¼Ÿ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MaterialApp&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  home&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Container&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    alignment&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Alignment&lt;&#x2F;span&gt;&lt;span&gt;.center,
&lt;&#x2F;span&gt;&lt;span&gt;    constraints&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BoxConstraints&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;tight&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Size&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span&gt;)),
&lt;&#x2F;span&gt;&lt;span&gt;    decoration&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BoxDecoration&lt;&#x2F;span&gt;&lt;span&gt;(color&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Colors&lt;&#x2F;span&gt;&lt;span&gt;.yellow),
&lt;&#x2F;span&gt;&lt;span&gt;    child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Text&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Hello World&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;  ),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;Flutter-squrebox.png&quot;
        width=&quot;146&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯ï¼Œä¸ä¼šï¼Œå®ƒä¼šå˜æˆè¿™æ ·ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-layout&amp;#x2F;Flutter-squarebox-real.png&quot;
        width=&quot;146&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸æ˜¯è®¾ç½®äº† constraints ç³»ç»Ÿå°±è¦æŒ‰ç€è¿™ä¸ª constraints æ¥ï¼Œåœ¨ç»è¿‡è®¡ç®—ä¹‹åï¼Œç³»ç»Ÿä¼šå‘ç°è¿™ä¸ª constraints æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œè€Œè¢«èˆå¼ƒï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Container&lt;&#x2F;code&gt; çš„ &lt;code&gt;build&lt;&#x2F;code&gt; æ–¹æ³•é‡Œï¼Œå‘ç°æœ‰è®¾ç½®è¿‡ constraintsï¼Œæœ€ç»ˆä¼šè¿”å›ä¸€ä¸ª &lt;code&gt;BoxConstraints&lt;&#x2F;code&gt;:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BoxConstraints&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  minWidth&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; minWidth.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;clamp&lt;&#x2F;span&gt;&lt;span&gt;(constraints.minWidth, constraints.maxWidth),
&lt;&#x2F;span&gt;&lt;span&gt;  maxWidth&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; maxWidth.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;clamp&lt;&#x2F;span&gt;&lt;span&gt;(constraints.minWidth, constraints.maxWidth),
&lt;&#x2F;span&gt;&lt;span&gt;  minHeight&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; minHeight.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;clamp&lt;&#x2F;span&gt;&lt;span&gt;(constraints.minHeight, constraints.maxHeight),
&lt;&#x2F;span&gt;&lt;span&gt;  maxHeight&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; maxHeight.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;clamp&lt;&#x2F;span&gt;&lt;span&gt;(constraints.minHeight, constraints.maxHeight)
&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œçš„ &lt;code&gt;clamp&lt;&#x2F;code&gt; æ–¹æ³•æŒ‡çš„æ˜¯å½“ minWidth å€¼æ¯”å·¦è¾¹çš„å€¼å°æ—¶ï¼Œå–å·¦è¾¹å€¼ï¼Œæ¯”å³è¾¹çš„å€¼å¤§æ—¶ï¼Œå–å³è¾¹å€¼ã€‚å› ä¸º parent çš„ constraints ä¹Ÿå°±æ˜¯ screen size æ˜¯å›ºå®šçš„ï¼Œå› æ­¤ï¼Œ&lt;code&gt;minWidth&lt;&#x2F;code&gt; åœ¨è·Ÿå®ƒä»¬æ¯”è¾ƒä¹‹åï¼Œè¿˜æ˜¯ä½¿ç”¨äº†å®ƒä»¬çš„å€¼ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ­£ç¡®çš„åšæ³•æ˜¯åœ¨å¤–é¢å¥—ä¸€å±‚ &lt;code&gt;Center&lt;&#x2F;code&gt; æˆ– &lt;code&gt;Align&lt;&#x2F;code&gt; widgetã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ru-he-de-dao-fu-widget-de-constraints&quot;&gt;å¦‚ä½•å¾—åˆ°çˆ¶ widget çš„ constraintsï¼Ÿ&lt;&#x2F;h4&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;LayoutBuilder&lt;&#x2F;code&gt;ã€‚æœ‰æ—¶ä¼šéœ€è¦è¿™äº›ä¿¡æ¯æ¥åšä¸€äº›æ˜¾ç¤ºä¸Šçš„è°ƒæ•´ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; borrowed from https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;41558369&#x2F;94962
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; container &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Container&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Toggling width from 100 to 300 will change what is rendered
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; in the child container
&lt;&#x2F;span&gt;&lt;span&gt;  width&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100.0&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; width: 300.0
&lt;&#x2F;span&gt;&lt;span&gt;  child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;LayoutBuilder&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    builder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BoxConstraints&lt;&#x2F;span&gt;&lt;span&gt; constraints) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(constraints.maxWidth &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;200.0&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Text&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;BIG&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;      } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Text&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;SMALL&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  ),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;ru-he-huo-qu-ping-mu-chi-cun&quot;&gt;å¦‚ä½•è·å–å±å¹•å°ºå¯¸&lt;&#x2F;h4&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;MediaQuery&lt;&#x2F;code&gt;ï¼Œé™¤äº† &lt;code&gt;size&lt;&#x2F;code&gt; å¤–ï¼Œè¿˜èƒ½æ‹¿åˆ° &lt;code&gt;devicePixelRatio&lt;&#x2F;code&gt; ä¹‹ç±»çš„ device ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;å·®ä¸å¤šå°±è¿™äº›äº†ï¼Œå¯¹äºç†è§£ Flutter çš„å¸ƒå±€åº”è¯¥å¤Ÿç”¨äº†ï¼Œå¸Œæœ›èƒ½å¸¦æ¥äº›å¸®åŠ©ï¼Œå¦‚æœæœ‰ä»€ä¹ˆé”™è¯¯æ¬¢è¿æŒ‡å‡º :)&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>Architecture Flutter App the Bloc_Redux Way</title>
            <pubDate>Sat, 05 Jan 2019 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/bloc-redux/</link>
            <guid>https://limboy.me/posts/bloc-redux/</guid>
            <description>&lt;p&gt;è¿™æ˜¯&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;lzyy&#x2F;bloc_redux&quot;&gt;é¡¹ç›®åœ°å€&lt;&#x2F;a&gt;ï¼Œä¸‹é¢æ¥é˜è¿°ä¸‹äº§ç”ŸèƒŒæ™¯å’Œå®ƒçš„ä¸€äº›ç‰¹ç‚¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥è§¦ Flutter ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œåœ¨å¦‚ä½•ç®¡ç†çŠ¶æ€å’Œå¤„ç†æ•°æ®æµè¿™å—ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªå¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨çš„ç°æˆæ–¹æ¡ˆã€‚å¥½å§ï¼Œå…¶å®æœ‰ï¼Œä¸€ä¸ªæ˜¯ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;brianegan&#x2F;flutter_redux&quot;&gt;flutter_redux&lt;&#x2F;a&gt;ï¼Œä¸€ä¸ªæ˜¯ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;felangel&#x2F;bloc&quot;&gt;flutter_bloc&lt;&#x2F;a&gt;ã€‚å…ˆæ¥è¯´è¯´ flutter_reduxï¼Œè¿™ä¸ªå¯ä»¥ç®—æ˜¯ redux åœ¨ flutter çš„å®˜æ–¹å®ç°äº†ï¼Œä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆ: &lt;code&gt;StoreProvider&lt;&#x2F;code&gt; å’Œ &lt;code&gt;StoreConnector&lt;&#x2F;code&gt;ï¼Œå‰è€…ç”¨æ¥ä¿å­˜ storeï¼Œåè€…ç”¨æ¥å“åº”æ–°çš„ stateï¼Œçœ‹ä¸€ä¸ªä»£ç ç‰‡æ®µï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Every time the button is tapped, an action is dispatched and
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; run through the reducer. After the reducer updates the state,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; the Widget will be automatically rebuilt with the latest
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; count. No need to manually manage subscriptions or Streams!
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StoreConnector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  converter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (store) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; store.state.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;toString&lt;&#x2F;span&gt;&lt;span&gt;(),
&lt;&#x2F;span&gt;&lt;span&gt;  builder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (context, count) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Text&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;      count,
&lt;&#x2F;span&gt;&lt;span&gt;      style&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Theme&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;of&lt;&#x2F;span&gt;&lt;span&gt;(context).textTheme.display1,
&lt;&#x2F;span&gt;&lt;span&gt;    );
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ®µä»£ç çš„é—®é¢˜åœ¨äºåªè¦ reducer æœ‰æ›´æ–° stateï¼Œé‚£ä¹ˆæ‰€æœ‰æ¶ˆè´¹è¯¥ Store çš„ Connector å°±ä¼šè¢« rebuildï¼Œå“ªæ€•è¿™ä¸ª state æœ‰ 10 ä¸ªå±æ€§ï¼Œè€Œ reducer åªæ˜¯æ”¹äº†å…¶ä¸­çš„ä¸€ä¸ª bool å€¼ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Creates the base [NextDispatcher].
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; The base NextDispatcher will be called after all other middleware provided
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; by the user have been run. Its job is simple: Run the current state through
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; the reducer, save the result, and notify any subscribers.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NextDispatcher &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_createReduceAndNotify&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;bool&lt;&#x2F;span&gt;&lt;span&gt; distinct) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;dynamic&lt;&#x2F;span&gt;&lt;span&gt; action) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;reducer&lt;&#x2F;span&gt;&lt;span&gt;(_state, action);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (distinct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt; state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span&gt; _state) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    _state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; state;
&lt;&#x2F;span&gt;&lt;span&gt;    _changeController.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span&gt;(state);
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ˜¯ redux è¿™ä¸ª library é‡Œçš„ Notify æœºåˆ¶ï¼Œé‡‡ç”¨çš„æ˜¯ &lt;code&gt;==&lt;&#x2F;code&gt; åˆ¤æ–­ï¼Œè¿™å°±æ˜¯é—®é¢˜ã€‚åœ¨ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;reduxjs&#x2F;react-redux&quot;&gt;react-redux&lt;&#x2F;a&gt; ä¸­ï¼Œè¿™å—æ˜¯æœ‰ä¼˜åŒ–çš„ï¼Œé€šè¿‡ &lt;code&gt;connect&lt;&#x2F;code&gt; çš„ &lt;code&gt;mapStateToProps&lt;&#x2F;code&gt;ï¼Œå¯ä»¥è®© Component æŒ‡å®šå…³å¿ƒ State çš„å“ªäº›å±æ€§ï¼Œç„¶ååœ¨ react-redux å†…éƒ¨ä¼šå¯¹ &lt;code&gt;mapStateToProps&lt;&#x2F;code&gt; çš„è¿”å›å€¼å’Œä¸Šæ¬¡ä¿å­˜çš„è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸ä¸€æ ·å† rebuildï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯åªæœ‰å½“ Component å…³å¿ƒçš„å“ªäº›å±æ€§çœŸçš„å˜åŒ–æ—¶æ‰è¿›è¡Œ renderã€‚è€Œ flutter_redux æ— æ³•åšåˆ°è¿™ç‚¹(å¯èƒ½è·Ÿ flutter ä¸è®©ç”¨åå°„æœ‰å…³)ï¼Œæ•ˆç‡ä¸Šå°±ä¼šæ‰“æŠ˜æ‰£ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;felangel&#x2F;bloc&quot;&gt;flutter_bloc&lt;&#x2F;a&gt;ï¼Œè¿™ä¹Ÿæ˜¯å…³æ³¨åº¦è›®é«˜çš„ä¸€ä¸ªé¡¹ç›®ï¼Œè¯´è¿™ä¸ªä¹‹å‰å…ˆè¯´è¯´ blocï¼Œè¿™æ˜¯ flutter æçš„ä¸€ä¸ªæ¦‚å¿µï¼Œè¿è¡Œæœºåˆ¶å¤§è‡´å¦‚ä¸‹ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;bloc-redux&amp;#x2F;movie250-bloc.png&quot;
        width=&quot;561&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å®ƒæ›´åƒä¸€ä¸ªææ¡ˆï¼Œç¼ºå°‘æ ‡å‡†å’Œå®ç°ã€‚flutter_bloc å°±æ˜¯å¯¹è¿™ä¸ªææ¡ˆçš„ä¸€ä¸ªå®ç°ã€‚è¿™ä¸ªå®ç°æœ¬è´¨ä¸Šæ²¡è§‰å¾—è·Ÿ flutter_redux æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œè€Œå¤æ‚åº¦å€’æ˜¯å¢åŠ äº†ä¸å°‘ï¼Œè¿˜æå‡ºäº†ä¸€äº›æ–°çš„æ¦‚å¿µ(æ¯”å¦‚ BlocSupervisor, BlocDelegate, Transation)ï¼Œå¢åŠ äº†ç†è§£ä¸Šçš„å›°éš¾ã€‚åœ¨å¤„ç†æ ¸å¿ƒçš„ state é—®é¢˜ä¸Šä¾æ—§è·Ÿ flutter_redux ä¸€æ ·ï¼Œç”šè‡³éƒ½æ²¡æœ‰åš &lt;code&gt;==&lt;&#x2F;code&gt; checkã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_bindStateSubject&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Event&lt;&#x2F;span&gt;&lt;span&gt; currentEvent;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;transform&lt;&#x2F;span&gt;&lt;span&gt;(_eventSubject) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Observable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Event&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;concatMap&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Event&lt;&#x2F;span&gt;&lt;span&gt; event) {
&lt;&#x2F;span&gt;&lt;span&gt;    currentEvent &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; event;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;mapEventToState&lt;&#x2F;span&gt;&lt;span&gt;(_stateSubject.value, event);
&lt;&#x2F;span&gt;&lt;span&gt;  }).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;forEach&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;State&lt;&#x2F;span&gt;&lt;span&gt; nextState) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; transition &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Transition&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        currentState&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; _stateSubject.value,
&lt;&#x2F;span&gt;&lt;span&gt;        event&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; currentEvent,
&lt;&#x2F;span&gt;&lt;span&gt;        nextState&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; nextState,
&lt;&#x2F;span&gt;&lt;span&gt;      );
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BlocSupervisor&lt;&#x2F;span&gt;&lt;span&gt;().delegate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;?&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;onTransition&lt;&#x2F;span&gt;&lt;span&gt;(transition);
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;onTransition&lt;&#x2F;span&gt;&lt;span&gt;(transition);
&lt;&#x2F;span&gt;&lt;span&gt;      _stateSubject.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span&gt;(nextState);
&lt;&#x2F;span&gt;&lt;span&gt;    },
&lt;&#x2F;span&gt;&lt;span&gt;  );
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°åœ¨å¾€ &lt;code&gt;_stateSubject&lt;&#x2F;code&gt; é‡Œå¡ nextState æ—¶ç”šè‡³éƒ½æ²¡æœ‰è·Ÿä¹‹å‰çš„ state è¿›è¡Œåˆ¤æ–­ã€‚åŒæ—¶ä»ä½œè€…çš„æ„å›¾ä¸Šæ˜¯å¸Œæœ›å¤šä¸ª bloc ä¸€èµ·ä½¿ç”¨çš„ï¼Œè¿™ä¹Ÿä¼šé€ æˆä½¿ç”¨ä¸Šçš„ä¸ä¾¿ï¼ˆæ¯”å¦‚æˆ‘è¿™ä¸ª Event åˆ°åº•åº”è¯¥ dispatch ç»™å“ªä¸ª blocï¼Ÿï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BlocBuilder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;LoginEvent&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;LoginState&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  bloc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; widget.loginBloc,
&lt;&#x2F;span&gt;&lt;span&gt;  builder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;LoginState&lt;&#x2F;span&gt;&lt;span&gt; loginState,
&lt;&#x2F;span&gt;&lt;span&gt;  ) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_loginSucceeded&lt;&#x2F;span&gt;&lt;span&gt;(loginState)) {
&lt;&#x2F;span&gt;&lt;span&gt;      widget.authBloc.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dispatch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Login&lt;&#x2F;span&gt;&lt;span&gt;(token&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; loginState.token));
&lt;&#x2F;span&gt;&lt;span&gt;      widget.loginBloc.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dispatch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;LoggedIn&lt;&#x2F;span&gt;&lt;span&gt;());
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç»¼ä¸Šï¼Œè¿™ä¸¤æ ¼ Library éƒ½æ— æ³•æ»¡è¶³æˆ‘ï¼Œåªèƒ½å†é€ ä¸€ä¸ªè½®å­äº†ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;bloc-redux&quot;&gt;Bloc_Redux&lt;&#x2F;h2&gt;
&lt;p&gt;å…¶å®åªè¦è®© flutter_redux èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°æŠŠçŠ¶æ€å˜åŒ–ä¼ é€’ç»™ widgetsï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚é‚£å¦‚ä½•åšå‘¢ï¼Ÿè¿”å›ä¸€ä¸ªæ–°çš„ stateï¼Œä¹Ÿå°±æ˜¯ reducer ä¹‹è·¯ï¼Œåº”è¯¥æ˜¯è¡Œä¸é€šäº†ï¼Œå› ä¸ºæ— æ³•é«˜æ•ˆåœ°æ‰¾åˆ°å˜åŒ–è¿‡çš„å±æ€§ï¼Œå³ä½¿å¯ä»¥ï¼Œè¿˜è¦ç»´æŠ¤ä¸€ä¸ªå±æ€§è·Ÿ widgets çš„ mapï¼Œå¤ªå¤æ‚äº†ã€‚æ¢ä¸€ä¸ªæƒ³æ³•ï¼ŒFlutter ä¸æ˜¯æä¾›äº† &lt;code&gt;StreamBuilder&lt;&#x2F;code&gt; ä¹ˆï¼Œé‚£è®© Widget è‡ªå·±é€‰æ‹© listen å“ªäº› streamï¼Œç„¶åå½“ä¸€ä¸ª action dispatch è¿‡æ¥åï¼Œè¿™äº› stream è·å¾—ç›¸åº”çš„æ”¹å˜ä¸å°±è¡Œäº†ä¹ˆï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;limboy&#x2F;bloc_redux&#x2F;master&#x2F;lib&#x2F;bloc_redux&#x2F;bloc_redux.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä¸­å¤„ç† action çš„ reducer è¢«æ›¿æ¢æˆäº† blocï¼Œæ¥çœ‹ä¸€ä¸‹æ ¸å¿ƒä»£ç ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Action
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; every action should extends this class
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;abstract class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRAction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T&lt;&#x2F;span&gt;&lt;span&gt; payload;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; State
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Input are used to change state.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; usually filled with StreamController &#x2F; BehaviorSubject.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; handled by blocs.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; implements disposable because stream controllers needs to be disposed.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; they will be called within store&amp;#39;s dispose method.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;abstract class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStateInput &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;implements &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Disposable&lt;&#x2F;span&gt;&lt;span&gt; {}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Output are streams.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; followed by input. like someController.stream
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; UI will use it as data source.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;abstract class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStateOutput&lt;&#x2F;span&gt;&lt;span&gt; {}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; State
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Combine these two into one.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;abstract class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRState&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStateInput&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;U &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStateOutput&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T&lt;&#x2F;span&gt;&lt;span&gt; input;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;U&lt;&#x2F;span&gt;&lt;span&gt; output;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Bloc
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; like reducers in redux, but don&amp;#39;t return a new state.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; when they found something needs to change, just update state&amp;#39;s input
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; then state&amp;#39;s output will change accordingly.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;typedef &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bloc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStateInput&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Function&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRAction&lt;&#x2F;span&gt;&lt;span&gt; action, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T&lt;&#x2F;span&gt;&lt;span&gt; input);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Store
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; widget use `store.dispatch` to send action
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; store will iterate all blocs to handle this action
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; if this is an async action, blocs can dispatch another action
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; after data has received from remote.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;abstract class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStore&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStateInput&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;U &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRState&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;implements &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Disposable&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;List&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bloc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; blocs;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;U&lt;&#x2F;span&gt;&lt;span&gt; state;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dispatch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRAction&lt;&#x2F;span&gt;&lt;span&gt; action) {
&lt;&#x2F;span&gt;&lt;span&gt;    blocs.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;forEach&lt;&#x2F;span&gt;&lt;span&gt;((f) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span&gt;(action, state.input));
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dispose&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    state.input.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dispose&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­ State è¢«åˆ†æˆäº† StateInput å’Œ StateOutputï¼Œå…¶ä¸­ Input éƒ¨åˆ†ç»™ Blocï¼Œæ–¹ä¾¿æ›´æ–° Streamï¼›Output éƒ¨åˆ†ç»™ Widgetsï¼Œæ–¹ä¾¿æ¥æ”¶æœ€æ–°æ•°æ®ã€‚åŒæ—¶ Store ä¹Ÿæœ‰ä¸€ä¸ª dispose æ–¹æ³•ï¼Œå› ä¸ºåˆ°æ—¶ store ä¼šè¢«æ”¾åˆ° StoreProvider é‡Œï¼Œå½“å®ƒè¢« dispose æ—¶ï¼Œå¯ä»¥è®© store ä¹Ÿ disposeï¼Œè®©é‚£äº› stream å¯ä»¥è¢« closeã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å°±è¿™ä¹ˆç®€å•ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ª demoï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Actions
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorActionSelect &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRAction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Color&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; {}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; State
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateInput &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStateInput&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BehaviorSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Color&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; selectedColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BehaviorSubject&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BehaviorSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;List&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; colors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BehaviorSubject&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dispose&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    selectedColor.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    colors.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateOutput &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStateOutput&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StreamWithInitialData&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Color&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; selectedColor;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StreamWithInitialData&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;List&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; colors;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateOutput&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateInput&lt;&#x2F;span&gt;&lt;span&gt; input) {
&lt;&#x2F;span&gt;&lt;span&gt;    selectedColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StreamWithInitialData&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        input.selectedColor.stream, input.selectedColor.value);
&lt;&#x2F;span&gt;&lt;span&gt;    colors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StreamWithInitialData&lt;&#x2F;span&gt;&lt;span&gt;(input.colors.stream, input.colors.value);
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorState &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRState&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateInput&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateOutput&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorState&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    input &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateInput&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    output &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateOutput&lt;&#x2F;span&gt;&lt;span&gt;(input);
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Blocs
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bloc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateInput&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; colorSelectHandler &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; (action, input) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (action &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorActionSelect&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    input.selectedColor.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span&gt;(action.payload);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; colors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; input.colors.value
&lt;&#x2F;span&gt;&lt;span&gt;        .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;((colorModel) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; colorModel
&lt;&#x2F;span&gt;&lt;span&gt;          ..isSelected &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; colorModel.color.value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span&gt; action.payload.value)
&lt;&#x2F;span&gt;&lt;span&gt;        .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;toList&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    input.colors.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span&gt;(colors);
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Store
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStore &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BRStore&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStateInput&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorState&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStore&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorState&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    blocs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; [colorSelectHandler];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; init
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; _colors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;List&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;generate&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;, (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; index) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorModel&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;RandomColor&lt;&#x2F;span&gt;&lt;span&gt;(index).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;randomColor&lt;&#x2F;span&gt;&lt;span&gt;()));
&lt;&#x2F;span&gt;&lt;span&gt;    _colors[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;].isSelected &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    state.input.colors.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span&gt;(_colors);
&lt;&#x2F;span&gt;&lt;span&gt;    state.input.selectedColor.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span&gt;(_colors[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;].color);
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Store å°±åƒäººçš„å¤§è„‘ï¼Œè´Ÿè´£æ¥æ”¶ä¿¡æ¯åšå‡ºå†³ç­–ï¼Œè€Œä¿¡æ¯çš„å¤„ç†è€…å°±æ˜¯ä¸€ä¸ªä¸ªçš„ Blocã€‚å†æ¥çœ‹çœ‹ Widget æ˜¯å¦‚ä½•æ¥æ”¶æ•°æ®ï¼Œå‘é€ action çš„ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorsWidget &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StatelessWidget&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@override
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Widget &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;build&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; store &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StoreProvider&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;of&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorStore&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;(context);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; colors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; store.state.output.colors;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StreamBuilder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;List&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;      stream&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; colors.stream,
&lt;&#x2F;span&gt;&lt;span&gt;      initialData&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; colors.initialData,
&lt;&#x2F;span&gt;&lt;span&gt;      builder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (context, snapshot) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; colors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; snapshot.data;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SliverGrid&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;count&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;            crossAxisCount&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            children&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; colors.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;((colorModel) {
&lt;&#x2F;span&gt;&lt;span&gt;              &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;GestureDetector&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                onTap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; () {
&lt;&#x2F;span&gt;&lt;span&gt;                  store.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dispatch&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ColorActionSelect&lt;&#x2F;span&gt;&lt;span&gt;()..payload &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; colorModel.color);
&lt;&#x2F;span&gt;&lt;span&gt;                },
&lt;&#x2F;span&gt;&lt;span&gt;                child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Container&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                  decoration&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BoxDecoration&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                      color&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; colorModel.color,
&lt;&#x2F;span&gt;&lt;span&gt;                      border&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Border&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;all&lt;&#x2F;span&gt;&lt;span&gt;(width&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; colorModel.isSelected &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)),
&lt;&#x2F;span&gt;&lt;span&gt;                ),
&lt;&#x2F;span&gt;&lt;span&gt;              );
&lt;&#x2F;span&gt;&lt;span&gt;            }).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;toList&lt;&#x2F;span&gt;&lt;span&gt;());
&lt;&#x2F;span&gt;&lt;span&gt;      },
&lt;&#x2F;span&gt;&lt;span&gt;    );
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é€šè¿‡ &lt;code&gt;StreamBuilder&lt;&#x2F;code&gt; æ¥æ¶ˆè´¹ state outputï¼Œé€šè¿‡ &lt;code&gt;store.dispatch&lt;&#x2F;code&gt; æ¥å‘é€ actionï¼ŒIt&#x27;s that simple.&lt;&#x2F;p&gt;
&lt;p&gt;æœ€åï¼Œé™„ä¸Šé¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;bloc_redux&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;bloc_redux&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ä¸€ä¸ª Demo å…¥é—¨ Flutter</title>
            <pubDate>Fri, 07 Dec 2018 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/flutter-demo/</link>
            <guid>https://limboy.me/posts/flutter-demo/</guid>
            <description>&lt;p&gt;Flutter æ˜¯ Google ç ”å‘çš„ä¸€å¥—ç§»åŠ¨ç«¯å¼€å‘æ¡†æ¶ï¼Œä¹Ÿæ˜¯ Google æ­£åœ¨ç ”å‘çš„ä¸‹ä¸€ä»£æ“ä½œç³»ç»Ÿ Fuchsia çš„ App å¼€å‘æ¡†æ¶ï¼ˆWeb å’Œ Desktop ä¹Ÿéƒ½åœ¨è¿›è¡Œç§¯æçš„å°è¯•ï¼‰ï¼Œå‰å‡ å¤©åˆšå‘å¸ƒäº† 1.0 æ­£å¼ç‰ˆã€‚å…³äº Flutter çš„åŸç†å’Œä»‹ç»å¯ä»¥å‚è€ƒç¾å›¢çš„&lt;a href=&quot;https:&#x2F;&#x2F;tech.meituan.com&#x2F;waimai_flutter_practice.html&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ¬æ–‡å¸Œæœ›é€šè¿‡ä¸€ä¸ª Demo æ¥æ›´æ·±å…¥åœ°äº†è§£ Flutter çš„å¸ƒå±€ã€çŠ¶æ€ç®¡ç†ç­‰ç»†èŠ‚ã€‚è¿™ä¸ª Demo å¯ä»¥è·å–è±†ç“£çš„ Top 250 ç”µå½±ï¼Œä»¥è‡ªå®šä¹‰åˆ—è¡¨å½¢å¼å‘ˆç°ï¼Œå¯ä»¥æ”¶è—&#x2F;å–æ¶ˆæ”¶è—ï¼Œå¯ä»¥ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…é¡µã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æºç : &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;lzyy&#x2F;flutter-demo-topmovies&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;lzyy&#x2F;flutter-demo-topmovies&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;video.twimg.com&#x2F;ext_tw_video&#x2F;1070286725656662017&#x2F;pu&#x2F;vid&#x2F;360x640&#x2F;uoeUgoq2-EigTzi7.mp4?tag=6&quot;&gt;è¿™é‡Œ&lt;&#x2F;a&gt;å¯ä»¥æŸ¥çœ‹æœ€ç»ˆçš„æ•ˆæœã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-demo&amp;#x2F;movie250-demo.png&quot;
        width=&quot;964&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h3 id=&quot;mu-lu-hua-fen&quot;&gt;ç›®å½•åˆ’åˆ†&lt;&#x2F;h3&gt;
&lt;p&gt;æ¥åˆ°è¿™ä¸ªéœ€æ±‚åé¦–å…ˆè¦è€ƒè™‘çš„æ˜¯ç›®å½•ç»“æ„åº”è¯¥æ€ä¹ˆåˆ’åˆ†ï¼Œè¿™ä¹Ÿæ˜¯æ¶æ„çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘æ˜¯è¿™ä¹ˆåˆ†çš„:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;blocs&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;widgets&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;models&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;pages&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;routes&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;services&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;main.dart
&lt;&#x2F;span&gt;&lt;span&gt;env.dart
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;bloc&quot;&gt;BLoC&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;BLoC&lt;&#x2F;code&gt; æ˜¯ Business Logic of Components çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯è´Ÿè´£æ‰€æœ‰ä¸šåŠ¡é€»è¾‘çš„ï¼Œè·Ÿ &lt;code&gt;ViewModel&lt;&#x2F;code&gt; çš„èŒèƒ½æŒºåƒçš„ã€‚æ˜¯ä¸€ä¸ªçº¯æ´çš„ Dart ç±»ï¼Œè·Ÿ UI å®Œå…¨è§£è€¦ï¼Œæ›´åŠ è¯¦ç»†çš„è¯´æ˜å¯ä»¥å‚è§&lt;a href=&quot;https:&#x2F;&#x2F;juejin.im&#x2F;post&#x2F;5bb6f344f265da0aa664d68a&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;widgets&quot;&gt;Widgets&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•ä¸‹é¢æ”¾çš„æ˜¯æ‰€æœ‰çš„ Widgetï¼ŒWidget ä½äº Flutter Framework çš„æœ€ä¸Šå±‚ï¼Œç”¨æ¥æè¿° UI å…ƒç´ çš„ Layout &#x2F; Animation ç­‰ï¼Œæˆ–è€…é UI å…ƒç´ (å¦‚ DataProvider)ï¼Œæœ€ç»ˆè¿™äº› Widget ä¼šè¢«ç»„è£…èµ·æ¥å½¢æˆ Pageã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;models&quot;&gt;Models&lt;&#x2F;h4&gt;
&lt;p&gt;æœåŠ¡ç«¯çš„ JSON è¿‡æ¥åï¼Œéœ€è¦è½¬æ¢æˆå¯¹åº”çš„ Model æ–¹ä¾¿ä½¿ç”¨ï¼ŒModel ä¸éœ€è¦åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œä½†å¯ä»¥æœ‰ä¸€äº›ç®€å•çš„ Model ç›¸å…³çš„æ“ä½œï¼Œæ¯”å¦‚ CRUDã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;pages&quot;&gt;Pages&lt;&#x2F;h4&gt;
&lt;p&gt;é€šå¸¸ä¸€ä¸ª App ä¼šæœ‰å¤šä¸ªé¡µé¢ç»„æˆï¼Œè¿™äº›é¡µé¢å°±å¯ä»¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;routes&quot;&gt;Routes&lt;&#x2F;h4&gt;
&lt;p&gt;è™½ç„¶ Flutter ä¹Ÿæ”¯æŒç›´æ¥ push ä¸€ä¸ª Widgetï¼Œä½†è¿™æ ·ä¸æ–¹ä¾¿é¡µé¢ç®¡ç†ï¼Œå¯¹äºåƒã€Œå¤–éƒ¨çš„ URL å¯ä»¥ç›´æ¥è·³è½¬åˆ°æŸä¸ªé¡µé¢ã€è¿™æ ·çš„åŠŸèƒ½å¤„ç†èµ·æ¥ä¹Ÿä¼šéº»çƒ¦äº›ã€‚å› æ­¤ï¼Œéœ€è¦æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥å¯¹ URL è¿›è¡Œæ³¨å†Œã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;services&quot;&gt;Services&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯æ”¾ Remote API ç›¸å…³çš„ï¼Œç†è®ºä¸Šæ¥è¯´ï¼ŒåŠ ä¸€å±‚ Repository æŠ½è±¡ä¼šæ›´åŠ åˆé€‚ï¼Œå‡ºäºæ–¹ä¾¿ï¼Œå°±å»æ‰äº†è¿™ä¸€å±‚ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;main-dart&quot;&gt;main.dart&lt;&#x2F;h4&gt;
&lt;p&gt;å…¥å£æ–‡ä»¶ï¼Œç”¨æ¥åˆå§‹åŒ– App&lt;&#x2F;p&gt;
&lt;h4 id=&quot;env-dart&quot;&gt;env.dart&lt;&#x2F;h4&gt;
&lt;p&gt;ç”¨æ¥è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡ï¼Œç±»ä¼¼äº Configã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è®¾ç½®å¥½äº†ç›®å½•åï¼Œæ¥ä¸‹æ¥è¿›è¡Œä»»åŠ¡åˆ†è§£ï¼Œé¦–å…ˆè¦å®Œæˆçš„å°±æ˜¯å¸ƒå±€ï¼Œè¿›è¡Œå¸ƒå±€ä¹‹å‰éœ€è¦æœ‰æ•°æ®æºï¼Œæ–¹ä¾¿æ¨¡æ‹Ÿï¼Œæœ€å¥½è·Ÿæ­£å¼æ¥å£ä¸€è‡´ï¼Œé‚£å°±å…ˆæ¥å®Œæˆè¿™ä¸€é¡¹å·¥ä½œã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;she-zhi-shu-ju-jie-kou&quot;&gt;è®¾ç½®æ•°æ®æ¥å£&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬å¸Œæœ›ä»æ¨¡æ‹Ÿç¯å¢ƒåˆ°çœŸå®ç¯å¢ƒåªéœ€æ”¹ä¸€ä¸ªé…ç½®å³å¯ï¼Œä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬å…ˆæŠŠåè®®å®šå¥½ï¼Œåˆ°æ—¶åªè¦æ¢ä¸€ä¸ªå®ç°å°±è¡Œã€‚è¿™é‡Œä¼šç”¨åˆ°ä¸¤ä¸ªæ¥å£&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;package:topmovies&#x2F;models&#x2F;movie.dart&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;abstract class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;API&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Future&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieEnvelope&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getMovieList&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; start);
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Future&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Movie&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getMovie&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt; movieID);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åæ–°å»ºä¸€ä¸ª Mock API ç±»æ¥å®ç°è¿™ä¸ªæ¥å£&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MockAPI &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;API&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@override
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Future&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Movie&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getMovie&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt; movieID) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createMockMovieWithTitle&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;æˆ‘æ˜¯ç”µå½± $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;movieID&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@override
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Future&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieEnvelope&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getMovieList&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; start) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ç°åœ¨è¿˜ç”¨ä¸ç€
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶ååœ¨ &lt;code&gt;env.dart&lt;&#x2F;code&gt; é‡Œæ–°å»ºä¸€ä¸ª Env ç±»&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;services&#x2F;api.dart&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Env&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;API&lt;&#x2F;span&gt;&lt;span&gt; apiClient;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶å®å°±æ˜¯æä¾›ä¸€ä¸ªå…¨å±€çš„ apiClient æ³¨å…¥æ¥å£ï¼ŒApp åˆå§‹åŒ–æ—¶ï¼Œè®¾ç½®å¥½ apiClientï¼Œä½¿ç”¨æ—¶ä¸éœ€è¦å…³å¿ƒæ˜¯å“ªä¸ª apiClient å®ä¾‹ï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿å•å…ƒæµ‹è¯•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç»è¿‡è¿™ä¸¤æ­¥åï¼Œæ•°æ®æ¥å£å°±å‡†å¤‡å¥½äº†ï¼Œæ¥ä¸‹æ¥éœ€è¦è®¾ç½® BLoCã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;she-zhi-shou-ye-de-bloc&quot;&gt;è®¾ç½®é¦–é¡µçš„ BLoC&lt;&#x2F;h3&gt;
&lt;p&gt;BLoC å…¶å®å°±æ˜¯ ViewModelï¼Œæœ‰äº† API å®ç°ä¹‹åï¼Œæ¥ä¸‹æ¥å°±è¦è®© Widget å¯ä»¥ç”¨ä¸Šè¿™äº›æ•°æ®ï¼Œè¿™å°±æ˜¯ BLoC åšçš„äº‹ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-demo&amp;#x2F;movie250-bloc.png&quot;
        width=&quot;561&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Widget å‘Šè¯‰ BLoC å‘ç”Ÿäº†ä»€ä¹ˆï¼ŒBLoC å‘Šè¯‰ Widget å“ªäº›æ•°æ®æ›´æ–°äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MoviesBloc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BlocBase&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BehaviorSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieEnvelope&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; _movieEnvelope &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BehaviorSubject&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; _currentStart &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Observable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieEnvelope&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;get &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;movieEnvelope&lt;&#x2F;span&gt;&lt;span&gt; =&amp;gt; _movieEnvelope.stream;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MoviesBloc&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_getMovies&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_getMovies&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Env&lt;&#x2F;span&gt;&lt;span&gt;.apiClient.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getMovieList&lt;&#x2F;span&gt;&lt;span&gt;(_currentStart).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;then&lt;&#x2F;span&gt;&lt;span&gt;((movieEnvelope) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; newMovieEnvelope &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; movieEnvelope;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (_movieEnvelope.value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        newMovieEnvelope.movies &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; _movieEnvelope.value.movies
&lt;&#x2F;span&gt;&lt;span&gt;          ..&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addAll&lt;&#x2F;span&gt;&lt;span&gt;(movieEnvelope.movies);
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;      _movieEnvelope.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span&gt;(newMovieEnvelope);
&lt;&#x2F;span&gt;&lt;span&gt;      _currentStart &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; movieEnvelope.movies.length;
&lt;&#x2F;span&gt;&lt;span&gt;    });
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯¹äº Widget æ¥è¯´ï¼Œåªè¦ listen &lt;code&gt;bloc.movieEnvelope&lt;&#x2F;code&gt; å°±èƒ½ç¬¬ä¸€æ—¶é—´æ‹¿åˆ°æœ€æ–°çš„ movie æ•°æ®ï¼Œç„¶åæŠŠå®ƒä»¬å±•ç¤ºå‡ºæ¥å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;streambuilder&quot;&gt;StreamBuilder&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœç›´æ¥ç”¨ &lt;code&gt;setState&lt;&#x2F;code&gt; çš„è¯ï¼Œä½¿ç”¨å§¿åŠ¿æ˜¯åœ¨ state çš„ &lt;code&gt;initState&lt;&#x2F;code&gt; æ—¶ listen &lt;code&gt;bloc.movieEnvelope&lt;&#x2F;code&gt;ï¼Œå½“æ”¶åˆ°æ–°çš„å†…å®¹æ—¶ï¼ŒsetStateï¼Œè¿™æ ·ç³»ç»Ÿå°±ä¼š rebuild widgetï¼Œç„¶åç”¨ä¸Šæœ€æ–°çš„æ•°æ®ã€‚Flutter å¾ˆè´´å¿ƒåœ°æä¾›äº†ä¾¿æ·çš„ç±» &lt;code&gt;StreamBuilder&lt;&#x2F;code&gt;ï¼Œåªè¦å‘Šè¯‰å®ƒ &lt;code&gt;stream&lt;&#x2F;code&gt;ï¼Œé‚£ä¹ˆå½“è¿™ä¸ª stream æœ‰æ–°æ•°æ®æ—¶ï¼Œ&lt;code&gt;itemBuilder&lt;&#x2F;code&gt; å°±ä¼šè‡ªåŠ¨ rebuildã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Movies &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StatefulWidget&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@override
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;State&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StatefulWidget&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createState&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;_MoviesState&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;_MoviesState &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;State&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Movies&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@override
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Widget &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;build&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context) {
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; bloc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BlocProvider&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;of&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MoviesBloc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;(context);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StreamBuilder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieEnvelope&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        stream&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; bloc.movieEnvelope,
&lt;&#x2F;span&gt;&lt;span&gt;        builder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (context, snapshot) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; snapshot.data å°±æ˜¯æœ€æ–°çš„å†…å®¹
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¿”å›ä¸€ä¸ªæ–°çš„ widget å³å¯
&lt;&#x2F;span&gt;&lt;span&gt;        })
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ³¨æ„åˆ°è¿™é‡Œæœ‰ä¸€ä¸ª &lt;code&gt;BlocProvider&lt;&#x2F;code&gt;ï¼Œè¿™æ˜¯ä½•ç‰©ï¼Ÿå®ƒå…¶å®ä¹Ÿæ˜¯ä¸ª Widgetï¼ˆæ˜¯çš„ï¼ŒFlutter çš„ Widget å¹¶ä¸å±€é™äº UIï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆé€šè¿‡&lt;code&gt;of&lt;&#x2F;code&gt;æ–¹æ³•èƒ½æ‹¿åˆ°è¿™ä¸ª blocï¼Ÿå› ä¸ºåœ¨æ„å»º Tree æ—¶ï¼Œ&lt;code&gt;BlocProvider&lt;&#x2F;code&gt; å¥—åœ¨äº†å½“å‰è§†å›¾çš„ä¸Šå±‚(åªè¦ä»å½“å‰èŠ‚ç‚¹å‘ä¸Šè¿½æº¯èƒ½æ‰¾åˆ°å°±è¡Œ)ï¼Œå°±åƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MyApp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;StatelessWidget&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@override
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Widget &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;build&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BlocProvider&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        bloc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MoviesBloc&lt;&#x2F;span&gt;&lt;span&gt;(),
&lt;&#x2F;span&gt;&lt;span&gt;        child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MaterialApp&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;          title&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Douban Movie Top 250&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;          home&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Home&lt;&#x2F;span&gt;&lt;span&gt;(),
&lt;&#x2F;span&gt;&lt;span&gt;        ));
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è€Œè¿™ä¸ª &lt;code&gt;of&lt;&#x2F;code&gt; æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;of&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BlocBase&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; type &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_typeOf&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BlocProvider&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¿™å¥è¯çš„æ„æ€å°±æ˜¯ä»å½“å‰ context å‘ä¸Šæ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªè¯¥ç±»å‹çš„å®ä¾‹ä¸ºæ­¢ï¼Œæ‰¾ä¸åˆ°å°±è¿”å› null
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BlocProvider&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;T&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; provider &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; context.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ancestorWidgetOfExactType&lt;&#x2F;span&gt;&lt;span&gt;(type);
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; provider.bloc;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;BLoC å·®ä¸å¤šæœ‰äº†ä¹‹åï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥è¿›å…¥å¸ƒå±€é˜¶æ®µäº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shou-ye-bu-ju&quot;&gt;é¦–é¡µå¸ƒå±€&lt;&#x2F;h3&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;flutter-demo&amp;#x2F;movie250-home-layout.png&quot;
        width=&quot;255&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Flutter æä¾›äº†ä¸¤ç§åˆ—è¡¨å¸ƒå±€æ–¹å¼: &lt;code&gt;ListView&lt;&#x2F;code&gt; å’Œ &lt;code&gt;GridView&lt;&#x2F;code&gt;ï¼Œå¦‚æœé¡µé¢é‡Œé™¤äº†åˆ—è¡¨è¿˜æœ‰å…¶ä»–å…ƒç´ ï¼ˆæ¯”å¦‚é¡¶éƒ¨çš„ SlideView ç­‰ï¼‰ï¼Œå°±éœ€è¦ç”¨åˆ° &lt;code&gt;CustomScrollView&lt;&#x2F;code&gt; æˆ–è€… &lt;code&gt;NestedScrollView&lt;&#x2F;code&gt;ï¼Œé¦–é¡µé™¤äº†åˆ—è¡¨æ²¡æœ‰å…¶ä»–å…ƒç´ ï¼ŒåŒæ—¶ä¸€è¡Œå¯èƒ½åŒ…å«å¤šä¸ªè§†å›¾ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹© &lt;a href=&quot;https:&#x2F;&#x2F;docs.flutter.io&#x2F;flutter&#x2F;widgets&#x2F;GridView-class.html&quot;&gt;GridView&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;GridView çš„æ„å»ºå¯ä»¥ä½¿ç”¨ &lt;code&gt;GridView.builder&lt;&#x2F;code&gt;, å®ƒéœ€è¦æä¾›å‡ ä¸ªå…³é”®ä¿¡æ¯:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;GridView&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;builder&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;  gridDelegate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æä¾›æœ€ç»ˆçš„å¸ƒå±€ä¿¡æ¯ï¼Œx,y,width.height
&lt;&#x2F;span&gt;&lt;span&gt;  itemCount&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä¸€å…±æœ‰å¤šå°‘å…ƒç´ 
&lt;&#x2F;span&gt;&lt;span&gt;  itemBuilder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (context, index) {} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ¯ä¸ª item å…·ä½“é•¿å•¥æ ·
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœæ˜¯å›ºå®šçš„æ¯è¡Œå‡ åˆ—æˆ–å›ºå®šå®½åº¦ï¼Œä¸”æ¯ä¸ª item çš„å‘ˆç°å½¢å¼å‡ ä¹ä¸€æ ·ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è‡ªå¸¦çš„ &lt;code&gt;SliverGridDelegateWithFixedCrossAxisCount&lt;&#x2F;code&gt; æˆ– &lt;code&gt;SliverGridDelegateWithMaxCrossAxisExtent&lt;&#x2F;code&gt;ï¼Œæˆ‘ä»¬è¿™ä¸ª case ä¸­ï¼Œæ¯ä¸€è¡Œçš„åˆ—è¡¨ä¸éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥æ‹¿æ¥ç”¨ï¼Œè¿™å°±éœ€è¦è¿›å…¥åˆ°é«˜çº§æ¨¡å¼äº†ï¼Œè‡ªå·±å®ç° &lt;code&gt;gridDelegate&lt;&#x2F;code&gt;ã€‚ &lt;code&gt;SliverGridDelegate&lt;&#x2F;code&gt; çš„æ ¸å¿ƒæ–¹æ³•æ˜¯ &lt;code&gt;SliverGridLayout getLayout(SliverConstraints constraints);&lt;&#x2F;code&gt; ä¹Ÿå°±æ˜¯è¿”å›ä¸€ä¸ª &lt;code&gt;SliverGridLayout&lt;&#x2F;code&gt;ï¼Œç³»ç»Ÿæ‹¿åˆ°è¿™ä¸ª layout ä¹‹åï¼Œå°±çŸ¥é“è¯¥æ€ä¹ˆå¸ƒå±€äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;abstract class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SliverGridLayout&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; é’ˆå¯¹æŸä¸ª scroll çš„åç§»é‡ï¼Œæœ€å°çš„ index æ˜¯å¤šå°‘
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getMinChildIndexForScrollOffset&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;double&lt;&#x2F;span&gt;&lt;span&gt; scrollOffset);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; é’ˆå¯¹æŸä¸ª scroll çš„åç§»é‡ï¼Œæœ€å¤§çš„ index æ˜¯å¤šå°‘
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getMaxChildIndexForScrollOffset&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;double&lt;&#x2F;span&gt;&lt;span&gt; scrollOffset);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; ç»™ä¸€ä¸ª indexï¼Œå‘Šè¯‰æˆ‘å®ƒçš„ x,y,width,height
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SliverGridGeometry &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getGeometryForChildIndex&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; index);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; è¿™äº› childcount ä¸€å…±èƒ½äº§ç”Ÿå¤šå¤§çš„åç§»é‡
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; çŸ¥é“äº†è¿™ä¸ªä¿¡æ¯åï¼Œç³»ç»Ÿå°±å¯ä»¥å±•ç¤ºæ»šåŠ¨æ¡çš„é•¿çŸ­äº†
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;double &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;computeMaxScrollOffset&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; childCount);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…·ä½“å®ç°è¿™é‡Œå°±ä¸è´´å‡ºæ¥äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥åœ¨æºç é‡Œçœ‹ã€‚è¿˜æ˜¯æœ‰ç‚¹å°å¤æ‚çš„ï¼Œå°¤å…¶æ˜¯åŠ ä¸Š loadmore çš„é€»è¾‘åï¼Œä¸è¿‡çŸ¥é“äº†ç³»ç»Ÿæƒ³è¦ä»€ä¹ˆï¼Œæƒ³å°½åŠæ³•æ»¡è¶³å®ƒå°±æ˜¯äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zai-ru-geng-duo&quot;&gt;è½½å…¥æ›´å¤š&lt;&#x2F;h3&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡è¯·æ±‚çš„å¸ƒå±€æ˜¯å®Œæˆäº†ï¼Œå¦‚ä½•å®ç°è½½å…¥æ›´å¤šçš„æ•ˆæœå‘¢ï¼Ÿåœ¨ iOS ä¸­ä¼šé€šè¿‡åˆ¤æ–­æ˜¯å¦æ‹‰åˆ°äº†åº•éƒ¨æ¥è§¦å‘åŠ è½½æ›´å¤šçš„é€»è¾‘ï¼Œåœ¨ Flutter ä¸­æˆ‘ä»¬å¯ä»¥æ¢ä¸€ç§æ–¹å¼æ¥è¾¾åˆ°æ•ˆæœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»€ä¹ˆæ—¶å€™éœ€è¦åŠ è½½æ›´å¤šï¼Ÿå½“å‰è§†å›¾çš„ item éƒ½å±•ç¤ºå®Œäº†çš„æ—¶å€™ï¼Œè€Œåœ¨å±•ç¤º item æ—¶ï¼Œbuilder ä¼šä¼ å…¥ä¸€ä¸ª &lt;code&gt;index&lt;&#x2F;code&gt;ï¼Œç”¨æ¥å‘ŠçŸ¥å½“å‰ item å¤„äºå“ªä¸ª &lt;code&gt;index&lt;&#x2F;code&gt;ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªä¿¡æ¯å‘Šè¯‰ BLoCã€‚æ¯”å¦‚ç¬¬ä¸€é¡µä¸€å…±å±•ç¤º 20 éƒ¨ç”µå½±ï¼Œå½“ BLoC æ”¶åˆ° index 19 æ—¶ï¼Œå°±çŸ¥é“è¿™ 20 éƒ¨éƒ½å·²ç»è¢«å±•ç¤ºè¿‡äº†ï¼Œå°±å¯ä»¥é€šè¿‡ API å»æ‹¿æ›´å¤šçš„æ•°æ®ï¼Œç­‰æ‹¿åˆ°åï¼Œè·ŸåŸå…ˆçš„æ•°æ®è¿›è¡Œåˆå¹¶ï¼Œç„¶åä½œä¸ºæ–°çš„å€¼å‘Šè¯‰ widgetï¼Œwidget çš„ StreamBuilder å‘ç°æœ‰æ–°æ•°æ®åï¼Œè‡ªåŠ¨åˆ·æ–° widgetï¼Œè¿™æ ·æ–°çš„ç”µå½±å°±è¢«å±•ç¤ºå‡ºæ¥äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç¨å¾®å¤æ‚çš„ä¸€ç‚¹æ˜¯åŠ è½½æ›´å¤šæ—¶ï¼Œéœ€è¦å±•ç¤ºä¸€ä¸ª indicatorï¼Œå½“æ²¡æœ‰æ›´å¤šæ•°æ®æ—¶ï¼Œåˆæ˜¯å¦ä¸€ä¸ªæ ·å¼ï¼Œè¿™åˆè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿå¯ä»¥æ€è€ƒä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;real-api-jie-ru&quot;&gt;Real API æ¥å…¥&lt;&#x2F;h3&gt;
&lt;p&gt;å‰é¢è¿™å‡ æ­¥éƒ½èµ°å®Œåï¼Œåˆ—è¡¨çš„å¸ƒå±€åº”è¯¥æ²¡é—®é¢˜äº†ï¼Œæ¥ä¸‹æ¥å°±è¦æ¥å…¥çœŸå®çš„æ•°æ®äº†ã€‚è¿™ä¸ªæ¥å…¥è¿‡ç¨‹è¿˜æ˜¯æŒºç®€å•çš„ï¼Œæ–°å»ºä¸€ä¸ªå®ç°äº† &lt;code&gt;API&lt;&#x2F;code&gt; çš„ç±»ï¼Œç„¶ååœ¨ App å…¥å£å¤„ï¼Œç”¨å®ƒæ›¿æ¢æ‰ MockAPI&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;RealAPI &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;API&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@override
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Future&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieEnvelope&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getMovieList&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; start) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;async&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; client &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;HttpClient&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; request &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;await&lt;&#x2F;span&gt;&lt;span&gt; client.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getUrl&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Uri&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parse&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;https:&#x2F;&#x2F;api.douban.com&#x2F;v2&#x2F;movie&#x2F;top250?start=$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;start&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;amp;count=40&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;));
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; response &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;await&lt;&#x2F;span&gt;&lt;span&gt; request.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;close&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; responseBody &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;await&lt;&#x2F;span&gt;&lt;span&gt; response.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;transform&lt;&#x2F;span&gt;&lt;span&gt;(utf8.decoder).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;join&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Map&lt;&#x2F;span&gt;&lt;span&gt; data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; json.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;decode&lt;&#x2F;span&gt;&lt;span&gt;(responseBody);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieEnvelope&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fromJSON&lt;&#x2F;span&gt;&lt;span&gt;(data);
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@override
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Future&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Movie&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getMovie&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt; movieID) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;async&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æš‚æ—¶è¿˜ç”¨ä¸åˆ°ï¼Œå…ˆå¿½ç•¥
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Dart å†…ç½®äº†å¯¹å¼‚æ­¥è¯·æ±‚çš„æ”¯æŒï¼Œåˆ†ä¸ºä¸¤å¤§å—ï¼Œ&lt;code&gt;async + await + Future&lt;&#x2F;code&gt; å’Œ &lt;code&gt;Stream + async* + yield&lt;&#x2F;code&gt;ï¼Œå‰è€…ç”¨æ¥å¤„ç†å•æ¬¡æˆ–å°‘é‡çš„å¼‚æ­¥è¯·æ±‚ï¼Œåè€…ç”¨æ¥å®ç°å¼‚æ­¥çš„ &lt;code&gt;iterator&lt;&#x2F;code&gt;ï¼Œä¹Ÿå°±æ˜¯æ•°æ®å¯èƒ½ä¼šæºæºä¸æ–­åœ°å†’å‡ºæ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé€šè¿‡ await æ¥æ‹¿å¼‚æ­¥æ•°æ®å°±å¯ä»¥äº†ï¼Œæ‹¿åˆ°ä¹‹åæŠŠå®ƒè½¬æ¢ä¸º model(æ–¹ä¾¿èµ·è§ï¼Œé”™è¯¯å¤„ç†å°±å…ˆå¿½ç•¥)ã€‚ ç„¶ååœ¨å…¥å£å¤„è®¾ç½®&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Env&lt;&#x2F;span&gt;&lt;span&gt;.apiClient &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;RealAPI&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;runApp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MyApp&lt;&#x2F;span&gt;&lt;span&gt;());
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;item-de-nei-rong-zhan-shi&quot;&gt;item çš„å†…å®¹å±•ç¤º&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™å—æ˜¯ä¸ªç»†è‡´æ´»ï¼Œå¯¹äº Widget å…ƒç´ çš„ä½¿ç”¨å¯ä»¥å‚è€ƒå®˜æ–¹çš„&lt;a href=&quot;https:&#x2F;&#x2F;flutter.io&#x2F;docs&#x2F;development&#x2F;ui&#x2F;layout&quot;&gt;è¿™ä¸ªæ•™ç¨‹&lt;&#x2F;a&gt;ï¼Œéœ€è¦æä¸€ç‚¹çš„æ˜¯ &lt;code&gt;LayoutBuilder&lt;&#x2F;code&gt; è¿™ä¸ª widgetï¼Œé»˜è®¤ child widget æ˜¯æ‹¿ä¸åˆ° parent çš„å¸ƒå±€ä¿¡æ¯çš„ï¼Œä½†æœ‰æ—¶åˆéœ€è¦æ‹¿å®ƒæ¥è¿›è¡Œä¸€äº›è®¡ç®—ï¼Œè¿™æ—¶å°±å¯ä»¥åœ¨å¤–é¢å¥—ä¸€å±‚ &lt;code&gt;LayoutBuilder&lt;&#x2F;code&gt;ï¼Œå®ƒçš„ &lt;code&gt;builder&lt;&#x2F;code&gt; å±æ€§æ˜¯ä¸€ä¸ª functionï¼Œä¼šä¼ ä¸€ä¸ª &lt;code&gt;BoxConstraints&lt;&#x2F;code&gt; è¿›æ¥ï¼Œé€šè¿‡å®ƒå°±èƒ½æ‹¿åˆ° parent çš„å¸ƒå±€ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shou-cang-ying-pian&quot;&gt;æ”¶è—å½±ç‰‡&lt;&#x2F;h3&gt;
&lt;p&gt;ç‚¹å‡»å½±ç‰‡ title æ—è¾¹çš„ &lt;code&gt;...&lt;&#x2F;code&gt;ï¼Œ å¦‚æœæ˜¯ iOS å¹³å°ï¼Œåˆ™å¼¹å‡ºä¸€ä¸ª &lt;code&gt;ActionSheet&lt;&#x2F;code&gt;ï¼ŒAndroid åˆ™å¼¹å‡º &lt;code&gt;BottomSheet&lt;&#x2F;code&gt;ï¼Œé€‰æ‹©æ”¶è—çš„è¯ï¼Œè¿™ä¸ª &lt;code&gt;...&lt;&#x2F;code&gt; ä¼šå˜æˆçº¢è‰²ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœè¦é’ˆå¯¹ä¸åŒå¹³å°è¿›è¡Œä¸åŒçš„å±•ç¤ºï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;Platform.isIOS&lt;&#x2F;code&gt; æ¥åŒºåˆ†(è¿™ä¸ªç±»åœ¨ &lt;code&gt;dart:io&lt;&#x2F;code&gt; package ä¸‹)ï¼Œå…³äº &lt;code&gt;ActionSheet&lt;&#x2F;code&gt; å’Œ &lt;code&gt;BottomSheet&lt;&#x2F;code&gt; çš„ä½¿ç”¨ï¼ŒæŸ¥çœ‹ç›¸åº”çš„ API å³å¯ã€‚æ¯”è¾ƒéº»çƒ¦çš„æ˜¯ &lt;code&gt;...&lt;&#x2F;code&gt; çš„å˜è‰²å¤„ç†ï¼Œå€’ä¸æ˜¯å˜è‰²éº»çƒ¦ï¼Œè€Œæ˜¯è¦è®©è¿™ä¸ªçŠ¶æ€å¾—åˆ°ä¿æŒï¼Œä¸ç„¶ä¸‹æ¬¡å†æ»‘åˆ°è¯¥ item æ—¶ï¼Œåˆä¼šå›åˆ°åŸå…ˆçš„é¢œè‰²ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¤§å¤šæ•°çš„æ•™ç¨‹é‡Œï¼Œå¯¹è¿™éƒ¨åˆ†çš„å¤„ç†éƒ½æ˜¯æ›´æ–° list ä¸­è¯¥ item å¯¹åº”çš„ modelï¼Œç„¶åè®©æ›´æ–°åçš„ list è§¦å‘ StreamBuilder é‡æ–°æ¸²æŸ“ widgetï¼Œæˆ‘è§‰å¾—è¿™æ ·å®åœ¨æœ‰ç‚¹å°é¢˜å¤§åšäº†ã€‚æˆ‘çš„åšæ³•æ˜¯ç»™æ¯ä¸ª item é…ä¸€ä¸ªå¯¹åº”çš„ blocï¼Œitem çš„ model å’ŒçŠ¶æ€éƒ½ä¿å­˜åœ¨è¿™ä¸ª bloc ä¸­ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“æŸä¸ª movie item widget éœ€è¦æ›´æ–°çŠ¶æ€æ—¶ï¼Œä»å®ƒå¯¹åº”çš„ bloc ä¸­æ‹¿å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœè¿™æ—¶è¦æ–°åŠ ä¸€ä¸ª Featureï¼Œå½“æ”¶è—ç”µå½±æ—¶ï¼Œé¡¶éƒ¨ AppBar çš„å³è¾¹è¦æœ‰å¯¹åº”çš„æ•°å­—æ˜¾ç¤ºã€‚åœ¨ Google å®˜æ–¹çš„ &lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=RS36gBEp8OI&quot;&gt;Demo&lt;&#x2F;a&gt; é‡Œæ˜¯ç›´æ¥åœ¨ widget çš„ &lt;code&gt;onTap&lt;&#x2F;code&gt; callback é‡Œè°ƒç”¨å¦ä¸€ä¸ª bloc çš„æ–¹æ³•(&lt;code&gt;CartBloc.addition&lt;&#x2F;code&gt;)ï¼Œè¿™æ ·å…¶å®æŠŠä¸šåŠ¡é€»è¾‘ä¹Ÿè€¦åˆåˆ°äº† UI é‡Œé¢ï¼ˆå¦‚æœ CartBloc çš„ addition é€»è¾‘å˜äº†ï¼Œæˆ–è€…åœ¨æ·»åŠ åˆ° Cart çš„åŒæ—¶ï¼Œè¿˜è¦æ›´æ–°ç”¨æˆ·çŠ¶æ€ç­‰ï¼Œå°±éœ€è¦åœ¨è¿™ä¸ª callback é‡Œè°ƒæ•´è¿™äº›é€»è¾‘ï¼‰ï¼Œå› æ­¤æ›´å¥½çš„æ–¹æ³•æ˜¯è‡ªå·±çš„ bloc å¤„ç†å®Œåå‘ä¸ŠæŠ› Notificationï¼Œå¤–å±‚æ¥æ”¶åˆ° Notification åå†å»æ›´æ–°å…¶ä»– Blocã€‚å°±å¥½åƒè¦è¿›è¡Œè·¨éƒ¨é—¨æ²Ÿé€šæ—¶ï¼Œæœ€å¥½è®©å…±åŒçš„ä¸Šçº§çŸ¥é“è¿™ä»¶äº‹ï¼Œæˆ–è€…ç”±ä»–æ¥åè°ƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œç®€å•è¯´ä¸‹ Flutter é‡Œçš„ Notification æœºåˆ¶ï¼Œå®ƒä¸åƒ iOS é‡Œçš„ &lt;code&gt;NotificationCenter&lt;&#x2F;code&gt; å¯ä»¥å…¨å±€æ¥æ”¶ï¼Œè€Œæ˜¯åªæœ‰åœ¨ widget ä¸Šå±‚è·¯å¾„ä¸­çš„ &lt;code&gt;NotificationListener&lt;&#x2F;code&gt; æ‰èƒ½æ”¶åˆ°é€šçŸ¥ï¼Œè¿™æ ·å¯ä»¥é¿å…é€šçŸ¥æ³›æ»¥çš„æƒ…å†µã€‚è€Œä¸”ä½¿ç”¨æ—¶ï¼Œå¿…é¡»ç»§æ‰¿ç³»ç»Ÿçš„ &lt;code&gt;Notification&lt;&#x2F;code&gt;ï¼Œè¿™æ ·æ¯ä¸€ä¸ªé€šçŸ¥å°±æ˜¯ä¸€ä¸ªç‰¹å®šç±»ï¼Œé˜…è¯»ä»£ç æˆ–æ’æŸ¥èµ·æ¥ä¹Ÿä¼šå¾ˆæ–¹ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œé¦–é¡µçš„ç”µå½±åˆ—è¡¨é¡µåŸºæœ¬å®Œæˆäº†ï¼Œè¯¥è¿›å…¥è¯¦æƒ…é¡µäº†ï¼Œåœ¨è¿™ä¹‹å‰ï¼Œè¿˜æœ‰ä¸€ä»¶äº‹æƒ…è¦åšï¼Œé‚£å°±æ˜¯ Router çš„æ³¨å†Œã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;router-zhu-ce&quot;&gt;Router æ³¨å†Œ&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;code&gt;MaterialApp&lt;&#x2F;code&gt; è‡ªå¸¦äº† Router æ³¨å†Œï¼Œä¹ä¸€çœ‹è¿˜æŒºæ–¹ä¾¿çš„ï¼Œä¸è¿‡æœ‰ä¸€ä¸ªå‘å°±æ˜¯ä¸æ”¯æŒé€šè¿‡ URL ä¼ é€’åŠ¨æ€å‚æ•°ï¼Œæ¯”å¦‚ &lt;code&gt;&#x2F;movie&#x2F;1024&lt;&#x2F;code&gt;ï¼Œå¿…é¡»å®Œå…¨åŒ¹é…æ‰å¯ä»¥ã€‚å¦‚æœçœŸè¦å®ç° pattern åŒ¹é…å°±è¦è®¾ç½® &lt;code&gt;onGenerateRoute&lt;&#x2F;code&gt; å‚æ•°ï¼Œå½“é€šè¿‡ Navigator è¿›è¡Œ push æ—¶ï¼Œè¿™ä¸ªå‚æ•°å¯¹åº”çš„æ–¹æ³•å°±ä¼šè¢«è§¦å‘ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢è¿›è¡Œ URL çš„è§£æã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘åœ¨è¿™é‡Œå®ç°äº†ä¸ªç®€å•çš„é€šè¿‡ URL æ³¨å†Œ Widget çš„æ–¹æ³•ï¼ŒURL æ”¯æŒ patternï¼Œæ¯”å¦‚ &lt;code&gt;&#x2F;movie&#x2F;{id}&lt;&#x2F;code&gt; å°±èƒ½åŒ¹é… &lt;code&gt;&#x2F;movie&#x2F;1024&lt;&#x2F;code&gt;ï¼Œä½¿ç”¨æ—¶ï¼Œé€šè¿‡ URL æ¥æ‹¿ widgetï¼Œå†æŠŠè¿™ä¸ª widget push å‡ºå»å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Router&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static var&lt;&#x2F;span&gt;&lt;span&gt; _routerEntry &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;_Router&lt;&#x2F;span&gt;&lt;span&gt;(name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; param should wrap with {}, eg: &#x2F;movie&#x2F;{id}
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;register&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt; pattern, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;WidgetBuilder&lt;&#x2F;span&gt;&lt;span&gt; widgetBuilder) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; patternSections &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; pattern.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; routerEntry &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; _routerEntry;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt; patternSections.length; i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; _pattern &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; patternSections[i];
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; _router &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;_Router&lt;&#x2F;span&gt;&lt;span&gt;(name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; _pattern);
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span&gt; patternSections.length &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        _router.widgetBuilder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; widgetBuilder;
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;      routerEntry.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addChild&lt;&#x2F;span&gt;&lt;span&gt;(_router);
&lt;&#x2F;span&gt;&lt;span&gt;      routerEntry &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; _router;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Widget &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getWidget&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt; url, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context, {&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Map&lt;&#x2F;span&gt;&lt;span&gt; params}) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; urlSections &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; url.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; routerEntry &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; _routerEntry;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Widget&lt;&#x2F;span&gt;&lt;span&gt; widget;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Map&lt;&#x2F;span&gt;&lt;span&gt; urlParams &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; {};
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt; urlSections.length; i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; _urlSection &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; urlSections[i];
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; found &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;_Router&lt;&#x2F;span&gt;&lt;span&gt; _router &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in&lt;&#x2F;span&gt;&lt;span&gt; routerEntry.children) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (_router.name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span&gt; _urlSection &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;||&lt;&#x2F;span&gt;&lt;span&gt; _router.name.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;startsWith&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;{&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)) {
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (_router.name.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;startsWith&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;{&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;final&lt;&#x2F;span&gt;&lt;span&gt; param &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; _router.name.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;substring&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, _router.name.length &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;            urlParams[param] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; _urlSection;
&lt;&#x2F;span&gt;&lt;span&gt;          }
&lt;&#x2F;span&gt;&lt;span&gt;          found &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;          routerEntry &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; _router;
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span&gt; urlSections.length &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (_router.widgetBuilder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;              widget &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=
&lt;&#x2F;span&gt;&lt;span&gt;                  _router.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;widgetBuilder&lt;&#x2F;span&gt;&lt;span&gt;(context, urlParams, params&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; params);
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;          }
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span&gt;found) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;break&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; widget;
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è·¯ç”±çš„æ³¨å†Œ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Routes&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt; root &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt; detail &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;movie&#x2F;{id}&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;configureRoutes&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Router&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;register&lt;&#x2F;span&gt;&lt;span&gt;(root, (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Map&lt;&#x2F;span&gt;&lt;span&gt; urlParams, {&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Map&lt;&#x2F;span&gt;&lt;span&gt; params}) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Home&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    });
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Router&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;register&lt;&#x2F;span&gt;&lt;span&gt;(detail, (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Map&lt;&#x2F;span&gt;&lt;span&gt; urlParams,
&lt;&#x2F;span&gt;&lt;span&gt;        {&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Map&lt;&#x2F;span&gt;&lt;span&gt; params}) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MoviePage&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        movieID&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; urlParams[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;id&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;],
&lt;&#x2F;span&gt;&lt;span&gt;        movie&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            params &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt; params[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;movie&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;?&lt;&#x2F;span&gt;&lt;span&gt; params[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;movie&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;      );
&lt;&#x2F;span&gt;&lt;span&gt;    });
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;xiang-qing-ye-bu-ju-xuan-ze&quot;&gt;è¯¦æƒ…é¡µ-å¸ƒå±€é€‰æ‹©&lt;&#x2F;h3&gt;
&lt;p&gt;è¯¦æƒ…é¡µä¸»è¦åˆ†ä¸º 4 ä¸ªéƒ¨åˆ†ï¼Œé¡¶éƒ¨çš„æµ·æŠ¥å›¾ï¼Œä¸­é—´çš„æ¦‚è¦ã€æ¨ªå‘å¯æ»šåŠ¨çš„å½±äººåˆ—è¡¨é¡µå’Œ Tab æ ‡ç­¾ï¼Œä»¥åŠæœ€ä¸‹é¢çš„åˆ—è¡¨é¡µã€‚æœ‰ä¸¤ä¸ªæ–¹æ¡ˆå¯ä»¥é€‰ï¼Œ&lt;code&gt;NestedScrollView&lt;&#x2F;code&gt; å’Œ &lt;code&gt;CustomScrollView&lt;&#x2F;code&gt;ï¼Œå‰è€…åˆ†ä¸º header å’Œ body ä¸¤éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨é‡Œé¢å¥— scrollViewï¼Œæœ€å¼€å§‹é€‰æ‹©äº†è¿™ä¸ªæ–¹æ¡ˆï¼Œåæ¥å‘ç° &lt;code&gt;TabbarView&lt;&#x2F;code&gt; æ€ä¹ˆéƒ½å¤„ç†ä¸å¥½ï¼Œå¦‚æœæŠŠå®ƒå•ç‹¬æ”¾åˆ° body é‡Œï¼Œé‚£ä¹ˆæ‰€æœ‰å‰©ä¸‹çš„éƒ¨åˆ†å°±éƒ½è¦æ”¾åˆ° header é‡Œï¼Œè™½ç„¶å¯è¡Œï¼Œä½†è·‘èµ·æ¥ä¼šå‘ç°ï¼Œ&lt;code&gt;TabbarView&lt;&#x2F;code&gt; é‡Œçš„ scroll offset æ˜¯é”™çš„ï¼Œä¸€éƒ¨åˆ†å†…å®¹ä¼šã€Œé’»ã€è¿› Tabbar é‡Œï¼Œè€Œä¸”åº•éƒ¨ç©ºäº†å¾ˆå¤§ä¸€éƒ¨åˆ†ã€‚å¦‚æœæŠŠé™¤äº†æµ·æŠ¥å›¾ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†éƒ½æ”¾åˆ° body é‡Œï¼Œä¹Ÿä¸è¡Œï¼Œè¢«è¿«åªèƒ½é€‰æ‹© &lt;code&gt;CustomScrollView&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;CustomScrollView&lt;&#x2F;code&gt; æ–¹æ¡ˆçš„ä¸€ä¸ªéš¾ç‚¹æ˜¯å¤„ç† &lt;code&gt;TabbarView&lt;&#x2F;code&gt;ï¼Œå› ä¸ºä¸èƒ½ç›´æ¥æŠŠå®ƒæ”¾åˆ° &lt;code&gt;slivers&lt;&#x2F;code&gt; é‡Œï¼Œäºæ˜¯æ¢äº†ä¸ªæ€è·¯ï¼ŒæŠ›å¼ƒ &lt;code&gt;TabbarView&lt;&#x2F;code&gt; æ‰‹åŠ¨å®ç° tabbar ç‚¹å‡»ä¹‹åï¼Œä¸‹é¢çš„å†…å®¹åˆ‡æ¢æ•ˆæœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¯¦æƒ…é¡µçš„æ ¸å¿ƒä»£ç å¤§æ¦‚åƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;dart&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-dart &quot;&gt;&lt;code class=&quot;language-dart&quot; data-lang=&quot;dart&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Widget &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;build&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BuildContext&lt;&#x2F;span&gt;&lt;span&gt; context) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Scaffold&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;      backgroundColor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Color&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0xfff4f4f4&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;      body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BlocProvider&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        bloc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; bloc,
&lt;&#x2F;span&gt;&lt;span&gt;        child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (() {
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (movie &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Center&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;              child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Text&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;loading&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;            );
&lt;&#x2F;span&gt;&lt;span&gt;          } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NotificationListener&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;TabSwitchNotification&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;              onNotification&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; (notification) {
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setState&lt;&#x2F;span&gt;&lt;span&gt;(() {
&lt;&#x2F;span&gt;&lt;span&gt;                  currentTabType &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; notification.tabContentType;
&lt;&#x2F;span&gt;&lt;span&gt;                });
&lt;&#x2F;span&gt;&lt;span&gt;              },
&lt;&#x2F;span&gt;&lt;span&gt;              child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;DefaultTabController&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                  length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;                  child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SafeArea&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                      top&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;                      child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;CustomScrollView&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                        slivers&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Widget&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;                          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieHero&lt;&#x2F;span&gt;&lt;span&gt;(),
&lt;&#x2F;span&gt;&lt;span&gt;                          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SliverToBoxAdapter&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                            child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieSummary&lt;&#x2F;span&gt;&lt;span&gt;(),
&lt;&#x2F;span&gt;&lt;span&gt;                          ),
&lt;&#x2F;span&gt;&lt;span&gt;                          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SliverToBoxAdapter&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                            child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieActors&lt;&#x2F;span&gt;&lt;span&gt;(),
&lt;&#x2F;span&gt;&lt;span&gt;                          ),
&lt;&#x2F;span&gt;&lt;span&gt;                          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SliverPadding&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                            padding&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;EdgeInsets&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;all&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;7.0&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;                          ),
&lt;&#x2F;span&gt;&lt;span&gt;                          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieReviewTabbar&lt;&#x2F;span&gt;&lt;span&gt;(),
&lt;&#x2F;span&gt;&lt;span&gt;                          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MovieReviewTabbarContent&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;                            tabContentType&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; currentTabType,
&lt;&#x2F;span&gt;&lt;span&gt;                          ),
&lt;&#x2F;span&gt;&lt;span&gt;                        ],
&lt;&#x2F;span&gt;&lt;span&gt;                      ))),
&lt;&#x2F;span&gt;&lt;span&gt;            );
&lt;&#x2F;span&gt;&lt;span&gt;          }
&lt;&#x2F;span&gt;&lt;span&gt;        }()),
&lt;&#x2F;span&gt;&lt;span&gt;      ));
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯¹äº tabbar æ¥è¯´ï¼Œéœ€è¦æä¾›ä¸€ä¸ª controllerï¼Œè¦ä¹ˆé€šè¿‡å±æ€§è®¾ç½®ï¼Œè¦ä¹ˆå¤–é¢åŒ…ä¸€å±‚ï¼Œè¿™é‡Œé€‰æ‹©äº†åè€…ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°æœ€å¤–é¢æ˜¯ &lt;code&gt;DefaultTabController&lt;&#x2F;code&gt;ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨é‡Œé¢é€šè¿‡ &lt;code&gt;DefaultTabController.of(context)&lt;&#x2F;code&gt; æ¥æ‹¿åˆ°è¿™ä¸ª controllerï¼Œè¿›è€Œäº†è§£å½“å‰é€‰ä¸­çš„ tabï¼Œä»¥åŠæ§åˆ¶ tab çš„é€‰ä¸­æƒ…å†µã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ™®é€šçš„ Widget è¦é€šè¿‡ &lt;code&gt;SliverToBoxAdapter&lt;&#x2F;code&gt; è½¬æ¢æ‰èƒ½è¢«æ”¾åˆ° slivers é‡Œé¢ï¼Œslivers å…¶å®å°±æ˜¯ &lt;code&gt;CustomScrollView&lt;&#x2F;code&gt; çš„ç»„æˆéƒ¨åˆ†ã€‚é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“è¿™ä¸ª scrollview æ˜¯ç”±å“ªå‡ éƒ¨åˆ†ç»„æˆçš„ï¼Œéå¸¸æ¸…æ™°ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiang-qing-ye-ding-bu-hai-bao-xiao-guo&quot;&gt;è¯¦æƒ…é¡µ-é¡¶éƒ¨æµ·æŠ¥æ•ˆæœ&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªæ•ˆæœçœ‹ä¸Šå»æ»¡å¤æ‚çš„ï¼Œå®ç°èµ·æ¥å¾ˆç®€å•ï¼Œåªè¦ä½¿ç”¨ &lt;a href=&quot;https:&#x2F;&#x2F;docs.flutter.io&#x2F;flutter&#x2F;material&#x2F;SliverAppBar-class.html&quot;&gt;SliverAppBar&lt;&#x2F;a&gt; è¿™ä¸ª Widget å³å¯ã€‚&lt;a href=&quot;https:&#x2F;&#x2F;medium.com&#x2F;@diegoveloper&#x2F;flutter-collapsing-toolbar-sliver-app-bar-14b858e87abe&quot;&gt;è¿™é‡Œ&lt;&#x2F;a&gt; æœ‰æ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiang-qing-ye-ying-pian-jie-shao&quot;&gt;è¯¦æƒ…é¡µ-å½±ç‰‡ä»‹ç»&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™é‡Œä¸»è¦æ˜¯ä½¿ç”¨ Text Widgetï¼Œä¸€ä¸ªéš¾ç‚¹æ˜¯é»˜è®¤å†…å®¹æ˜¯æˆªæ–­å’Œæ”¶èµ·çš„ï¼Œå½“ç‚¹å‡»æŒ‰é’®åï¼Œå±•å¼€ã€‚å¦‚æœæ˜¯åœ¨ iOS é‡Œï¼Œéœ€è¦åˆ†åˆ«è®¡ç®—ä¸¤è€…çš„é«˜åº¦ï¼Œç„¶åè°ƒç”¨ &lt;code&gt;reloadRowsAtIndexPaths&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œæœ‰ç‚¹éº»çƒ¦ï¼ŒFlutter é‡Œå¾ˆç®€å•ï¼Œwidget è‡ªå·±æ›´æ–°å†…å®¹å³å¯ï¼Œä¸éœ€è¦è€ƒè™‘é«˜åº¦çš„è®¡ç®—ï¼Œä¹Ÿä¸è¦æ˜¾å¼åœ°è°ƒç”¨ reload æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiang-qing-ye-ying-ren-lie-biao&quot;&gt;è¯¦æƒ…é¡µ-å½±äººåˆ—è¡¨&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ¨ªå‘æ»‘åŠ¨åˆ—è¡¨ï¼ŒæŠŠ &lt;code&gt;ListView&lt;&#x2F;code&gt; çš„ &lt;code&gt;scrollDirection&lt;&#x2F;code&gt; è®¾ç½®ä¸º &lt;code&gt;horizontal&lt;&#x2F;code&gt; å³å¯&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiang-qing-ye-tabbar&quot;&gt;è¯¦æƒ…é¡µ-Tabbar&lt;&#x2F;h3&gt;
&lt;p&gt;Tabbar éœ€è¦æœ‰ä¸€ä¸ª controllerï¼Œæˆ‘ä»¬åœ¨å¤–é¢åŒ…äº†ä¸€å±‚ &lt;code&gt;DefaultTabController&lt;&#x2F;code&gt;ï¼Œè¿™é‡Œå°±ä¸éœ€è¦æ“å¿ƒäº†ã€‚æ¯”è¾ƒå‘çš„ä¸€ç‚¹æ˜¯ï¼Œ&lt;code&gt;TabBar&lt;&#x2F;code&gt; è¿™ä¸ª Widget æ²¡æœ‰æä¾› &lt;code&gt;onTap&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œåªèƒ½é€šè¿‡ç›‘å¬ controller æ¥è·å– tab çš„å˜åŒ–ï¼Œä¸è¿‡è¿™æ ·ä¹Ÿå¥½ï¼Œç®¡ç†èµ·æ¥æ›´æ–¹ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;PS: è¿™é‡Œçš„ Tabbar æ˜¯éœ€è¦å¸é¡¶çš„ï¼Œå› æ­¤è¦ç”¨ &lt;code&gt;SliverPersistentHeader&lt;&#x2F;code&gt; åŒ…ä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiang-qing-ye-dian-ping-lie-biao&quot;&gt;è¯¦æƒ…é¡µ-ç‚¹è¯„åˆ—è¡¨&lt;&#x2F;h3&gt;
&lt;p&gt;ç‚¹è¯„åˆ—è¡¨æ˜¯ä¸€ä¸ª &lt;code&gt;SliverList&lt;&#x2F;code&gt;ï¼Œé…ç½®èµ·æ¥è¿˜ç®—ç®€å•ï¼Œé‚£ä¹ˆç‚¹å‡» tab åˆ‡æ¢å†…å®¹è¿™ä¸ªè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿå¯ä»¥æ€è€ƒä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä¸ªäººå¾ˆå–œæ¬¢ Flutterï¼Œ ç”¨å®ƒæ¥å†™ GUI æ„Ÿè§‰éå¸¸è‡ªç„¶å’Œèˆ’æœã€‚ä¸éœ€è¦å€ŸåŠ© JSX æˆ– XMLï¼Œç”¨ç¼–ç¨‹è¯­è¨€å°±èƒ½æå®šï¼Œæ–¹ä¾¿ Local Reasoningï¼Œä¸éœ€è¦åœ¨ JSX &#x2F; XML å’Œ Code ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚åŒæ—¶é€šè¿‡ Widget æ¥é…ç½®è§†å›¾çš„æ–¹å¼ä¹Ÿå¾ˆæ–¹ä¾¿ï¼ŒGUI éå¸¸é€‚åˆè¿™ç§å£°æ˜å¼ç¼–ç¨‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åˆšå¼€å§‹æ¥è§¦ Flutter æ—¶ï¼Œå®¹æ˜“è¢«é‚£ä¸€å¤§å †çš„ç±»ææ™•ï¼Œå…¶å®äº†è§£äº†æ ¸å¿ƒç†å¿µåï¼Œå•ƒé€å‡ ä¸ª Demoï¼Œå°±ä¼šæ…¢æ…¢æ‰¾åˆ°æ„Ÿè§‰ã€‚è‡ªå·±å†å¤šå†™å†™ï¼Œè¸©è¸©å‘ï¼Œå°±ç†Ÿç»ƒäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è‡³äºæ€§èƒ½æ–¹é¢ï¼Œdebug è·Ÿ release æ¨¡å¼è¿˜æ˜¯ä¼šæœ‰äº›å·®è·ï¼Œå› æ­¤å¦‚æœåœ¨ debug æ¨¡å¼ä¸‹å‘ç°ä¸å¤Ÿæµç•…ï¼Œå¯ä»¥åˆ‡æ¢åˆ° release æ¨¡å¼å†è¯•ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä¹Ÿæ˜¯æ¥è§¦ Flutter ä¸ä¹…ï¼Œå¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ï¼Œå¦‚æœèƒ½ç»™ä½ å¸¦æ¥äº›å¸®åŠ©ï¼Œå¤‡æ„Ÿè£å¹¸ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>æ“ä½œç³»ç»Ÿæ˜¯å¦‚ä½•ç®¡ç†å†…å­˜çš„</title>
            <pubDate>Fri, 14 Sep 2018 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/os-memory/</link>
            <guid>https://limboy.me/posts/os-memory/</guid>
            <description>&lt;p&gt;æœ€è¿‘åœ¨çœ‹ &lt;a href=&quot;http:&#x2F;&#x2F;pages.cs.wisc.edu&#x2F;%7Eremzi&#x2F;OSTEP&#x2F;&quot;&gt;Operating Systems: Three Easy Pieces&lt;&#x2F;a&gt; è¿™æœ¬ä¹¦ï¼Œä½œè€…åœ¨è¿™æ–¹é¢æœ‰ 20 å¤šå¹´çš„ç§¯ç´¯ï¼ŒåŒæ—¶æ–‡é£éå¸¸æœ´å®ï¼Œä¸ä¼šè¢«å„ç§æœ¯è¯­ç»•æ™•ã€‚è¯¥ä¹¦è¿›ä»è™šæ‹ŸåŒ–ã€å¹¶å‘ã€æŒä¹…åŒ–è¿™ä¸‰ä¸ªæ–¹é¢æ¥å‰–ææ“ä½œç³»ç»Ÿï¼Œä»è¦è¾¾åˆ°çš„ç›®æ ‡åˆ°é‡åˆ°çš„é—®é¢˜åˆ°è§£å†³æ–¹æ¡ˆåˆ°æ–°çš„é—®é¢˜ï¼Œä¸€å±‚å±‚åœ°å‘Šè¯‰ä½ ä¸ºä»€ä¹ˆä¼šå˜æˆç°åœ¨è¿™ä¸ªæ ·å­ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»Šå¤©è¦è®²çš„å†…å®¹ä¸»è¦æ˜¯å¯¹è¯¥ä¹¦é‡Œé¢å…³äºå†…å­˜ç®¡ç†è¿™å—çš„ä¸€ä¸ªå°ç»“ï¼Œç”±äºçœ‹çš„æ˜¯ 0.8 ç‰ˆï¼Œè·Ÿæœ€æ–°çš„ 1.0 ç‰ˆå¯èƒ½ä¼šæœ‰äº›è®¸å‡ºå…¥ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;qian-yan&quot;&gt;å‰è¨€&lt;&#x2F;h2&gt;
&lt;p&gt;æ¯ä¸ªè¿›ç¨‹åˆ›å»ºçš„å†…å­˜åœ°å€éƒ½æ˜¯è™šæ‹Ÿåœ°å€ï¼Œæ“ä½œç³»ç»Ÿä½¿ç”¨äº†è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œè®©è¿›ç¨‹è§‰å¾—å®ƒæ‹¥æœ‰äº†å¤§å—å¯æ”¯é…çš„å†…å­˜çš„å‡è±¡ï¼Œæ“ä½œç³»ç»Ÿæ‹¿åˆ°è¿™ä¸ªåœ°å€åä¼šå°†å®ƒè½¬å˜ä¸ºçœŸå®çš„å†…å­˜åœ°å€ï¼Œä»è€Œæ‹¿åˆ°å¯¹åº”çš„ä¿¡æ¯ã€‚æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#include &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;stdio.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#include &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;stdlib.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;argc&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;argv&lt;&#x2F;span&gt;&lt;span&gt;[]) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;location of code : &lt;&#x2F;span&gt;&lt;span&gt;%p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) main)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;location of heap : &lt;&#x2F;span&gt;&lt;span&gt;%p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) malloc(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;location of stack : &lt;&#x2F;span&gt;&lt;span&gt;%p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;x)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; x;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¾“å‡ºï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;location of code : 0x10df2aec0
&lt;&#x2F;span&gt;&lt;span&gt;location of heap : 0x7fdeea400350
&lt;&#x2F;span&gt;&lt;span&gt;location of stack : 0x7ffee1cd560c
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™äº›éƒ½æ˜¯è™šæ‹Ÿåœ°å€ã€‚å¯¹äºå†…å­˜çš„è™šæ‹ŸåŒ–ï¼Œæœ‰ä¸‰ä¸ªæœ€é‡è¦çš„è¦ç´ ï¼šé€æ˜ï¼ˆå°±åƒå†…å­˜åªä¸ºå½“å‰çš„è¿›ç¨‹æ‰€ç”¨ï¼‰ã€é«˜æ•ˆï¼ˆå°±åƒç›´æ¥æ“ä½œç‰©ç†å†…å­˜é‚£æ ·ï¼‰ã€ä¿æŠ¤ï¼ˆè¿›ç¨‹ä¹‹é—´ä¸èƒ½éšæ„è¯»å†™å„è‡ªçš„å†…å­˜åŒºåŸŸï¼‰ï¼Œä¼´éšç€è¿™ä¸‰ä¸ªè¦ç´ ï¼Œå°±å¼€å§‹äº†æ¢ç´¢ä¹‹æ—…ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;yuan-gu-shi-dai&quot;&gt;è¿œå¤æ—¶ä»£&lt;&#x2F;h2&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;1.jpg&quot;
        width=&quot;222&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€å¼€å§‹ï¼Œåªæœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€åˆ‡éƒ½å¾ˆç¾å¥½ï¼Œé™¤äº†æ“ä½œç³»ç»Ÿçš„è‡ªç•™åœ°å¤–ï¼Œå‰©ä¸‹çš„éƒ½ç»™é‚£ä¸ªè¿›ç¨‹ï¼Œæƒ³æ€ä¹ˆæŠ˜è…¾éƒ½è¡Œï¼Œåªè¦åˆ«è¶…å‡ºæœ€å¤§çš„å®¹é‡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†æˆ‘ä»¬çŸ¥é“ï¼Œé‚£ä¸ªæ—¶å€™ï¼Œä¸€å°è®¡ç®—æœºæ˜¯å¾ˆè´µçš„ï¼Œæ¯” iPhone XS Max è¿˜è´µï¼Œåœ¨è¿™ä¹ˆæ˜‚è´µçš„æœºå™¨ä¸ŠåŒæ—¶åªèƒ½è¿è¡Œä¸€ä¸ªç¨‹åºå®åœ¨æµªè´¹ï¼Œäºæ˜¯å°±æœ‰äº†æ”¯æŒå¤šè¿›ç¨‹çš„éœ€æ±‚ï¼Œæ‰€è°“å¤šè¿›ç¨‹ï¼Œå¹¶ä¸éœ€è¦åŒæ—¶è¿è¡Œè¿™äº›è¿›ç¨‹ï¼Œåªè¦å®ƒä»¬éƒ½å¤„äº ready çŠ¶æ€ï¼Œæ“ä½œç³»ç»Ÿå¿«é€Ÿåœ°åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢ï¼Œå°±èƒ½è¾¾åˆ°åŒæ—¶è¿è¡Œçš„å‡è±¡ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½éœ€è¦å†…å­˜ï¼ŒContext Switch æ—¶ï¼Œä¹‹å‰å†…å­˜é‡Œçš„å†…å®¹æ€ä¹ˆåŠï¼Ÿç®€å•ç²—æš´çš„æ–¹å¼å°±æ˜¯å…ˆ dump åˆ°ç£ç›˜ä¸Šï¼Œç„¶åå†ä»ç£ç›˜ä¸Š restore ä¹‹å‰ dump çš„å†…å®¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œä½†æ•ˆæœå¹¶ä¸å¥½ï¼Œå¤ªæ…¢äº†ï¼&lt;&#x2F;p&gt;
&lt;p&gt;é‚£æ€ä¹ˆæ‰èƒ½ä¸æ…¢å‘¢ï¼ŸæŠŠè¿›ç¨‹å¯¹åº”çš„å†…å­˜ä¾æ—§ç•™åœ¨ç‰©ç†å†…å­˜ä¸­ï¼Œéœ€è¦çš„æ—¶å€™å°±åˆ‡æ¢åˆ°ç‰¹å®šçš„åŒºåŸŸã€‚è¿™å°±æ¶‰åŠåˆ°äº†å†…å­˜çš„ä¿æŠ¤æœºåˆ¶ï¼Œæ¯•ç«Ÿè¿›ç¨‹ä¹‹é—´å¯ä»¥éšæ„è¯»å–ã€å†™å…¥å†…å®¹å°±ä¹±å¥—äº†ï¼Œéå¸¸ä¸å®‰å…¨ã€‚å› æ­¤æ“ä½œç³»ç»Ÿéœ€è¦å¯¹ç‰©ç†å†…å­˜åšä¸€å±‚æŠ½è±¡ï¼Œä¹Ÿå°±æ˜¯ã€Œåœ°å€ç©ºé—´ã€(Address Space)ï¼Œä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´åŒ…å«äº†è¯¥è¿›ç¨‹æ‰€æœ‰ç›¸å…³å†…å­˜ï¼Œæ¯”å¦‚ code &#x2F; stack &#x2F; heapã€‚ä¸€ä¸ª 16 KB çš„åœ°å€ç©ºé—´å¯èƒ½é•¿è¿™æ ·ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;2.jpg&quot;
        width=&quot;363&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å½“ç¨‹åºè¿è¡Œæ—¶ï¼Œheap å’Œ stack å…±ç”¨ä¸­é—´ free çš„åŒºåŸŸï¼Œå½“ç„¶è¿™åªæ˜¯ OS å±‚é¢çš„æŠ½è±¡ã€‚æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; x;
&lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; this is the line of code we are interested in
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å˜æˆæ±‡ç¼–æŒ‡ä»¤åï¼Œå¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;asm&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-asm &quot;&gt;&lt;code class=&quot;language-asm&quot; data-lang=&quot;asm&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;128&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;: movl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;ebx&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;eax&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;  ;load 0+ebx into eax
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;132&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;: addl $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x03&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;eax&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; ;add 3 to eax register
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;135&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;: movl %&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;eax&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(%&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;ebx&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; ;store eax back to mem
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æœ€å‰é¢çš„æ˜¯ PC (Program Counter)ï¼Œç”¨æ¥è¡¨ç¤ºå½“å‰ code çš„ç´¢å¼•ï¼Œæ¯”å¦‚ CPU æ‰§è¡Œåˆ° 128 æ—¶ï¼Œè¿›è¡Œäº† Context Switchï¼Œé‚£ä¹ˆåœ¨ Switch å›æ¥åï¼Œè¿˜å¯ä»¥æ¥ç€ä» 132 å¼€å§‹æ‰§è¡Œï¼ˆå½“ç„¶éœ€è¦å…ˆæŠŠ PC å­˜èµ·æ¥ï¼‰ã€‚ä¹‹åçš„å°±æ˜¯æ±‡ç¼–ä»£ç ï¼Œå‘Šè¯‰ CPU è¯¥å¦‚ä½•æ“ä½œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»è¿›ç¨‹çš„è§’åº¦çœ‹ï¼Œå†…å­˜å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;3.jpg&quot;
        width=&quot;272&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;çœŸå®çš„ç‰©ç†å†…å­˜å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;4.jpg&quot;
        width=&quot;283&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä» 32KB å¤„ä½œä¸ºå¼€å§‹ï¼Œ48KB ä½œä¸ºç»“æŸã€‚é‚£ 32 &#x2F; 48 å¯ä¸å¯ä»¥åŠ¨æ€è®¾ç½®å‘¢ï¼Œåªè¦åœ¨ CPU ä¸Šæ•´ä¸¤ä¸ªå¯„å­˜å™¨ï¼Œbase å’Œ bounds å°±å¯ä»¥äº†ï¼Œbase æŒ‡æ˜ä»å“ªé‡Œå¼€å§‹ï¼Œbounds æŒ‡å®šå“ªé‡Œæ˜¯è¾¹ç•Œã€‚ å› æ­¤çœŸå®ç‰©ç†åœ°å€å’Œè™šæ‹Ÿåœ°å€ä¹‹é—´çš„å…³ç³»æ˜¯ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;physical address = virtual address + base
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æœ‰æ—¶ï¼ŒCPU ä¸Šç”¨æ¥åšå†…å­˜åœ°å€ç¿»è¯‘çš„ä¹Ÿä¼šè¢«å«åšã€Œå†…å­˜ç®¡ç†å•å…ƒ MMUã€(Memory Management Unit)ï¼Œéšç€åŠŸèƒ½è¶Šæ¥è¶Šå¼ºå¤§ï¼ŒMMU ä¹Ÿä¼šå˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;base and bounds è¿™ç§åšæ³•æœ€å¤§çš„é—®é¢˜åœ¨äºç©ºé—´æµªè´¹ï¼ŒStack å’Œ Heap ä¸­é—´æœ‰ä¸€å— free spaceï¼Œå³ä½¿æ²¡æœ‰ç”¨ï¼Œä¹Ÿè¢«å ç€ï¼Œé‚£å¦‚ä½•æ‰èƒ½è§£æ”¾è¿™å—åŒºåŸŸå‘¢ï¼Œå°±æœ‰äº†ä¸‹é¢çš„åšæ³•ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;fen-duan-segmentation&quot;&gt;åˆ†æ®µï¼ˆSegmentationï¼‰&lt;&#x2F;h2&gt;
&lt;p&gt;åˆ†æ®µçš„æ€æƒ³å¾ˆç®€å•ï¼Œä¹‹å‰ä¸æ˜¯ä¸€å¤§å—éƒ½æ˜¯è¿åœ¨ä¸€èµ·çš„ä¹ˆï¼Œç°åœ¨è¦æŠŠä½ ä»¬éƒ½åˆ†å¼€ï¼Œcode &#x2F; stack &#x2F; heap å„è‡ªæˆä¸ºä¸€æ®µï¼Œæ®µå†…çš„ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œæ®µä¸æ®µä¹‹é—´ä¸å¿…è¿ç»­ï¼Œè¿™æ ·ç©ºé—´åˆ©ç”¨ç‡ä¸Šå°±æ›´é«˜äº†ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;7.jpg&quot;
        width=&quot;505&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;5.jpg&quot;
        width=&quot;484&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ¥ä¸‹æ¥é—®é¢˜å°±æ¥äº†ï¼Œä¸€ä¸ªè¿›ç¨‹ä¼šæœ‰å¤šä¸ªæ®µï¼Œå¦‚ä½•çŸ¥é“ä¸€ä¸ªå†…å­˜åœ°å€å¯¹åº”çš„æ˜¯å“ªä¸ªæ®µå‘¢ï¼Ÿä¸€ä¸ªæ–¹æ³•æ˜¯ç”¨åœ°å€çš„å‰ä¸¤ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;6.jpg&quot;
        width=&quot;333&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚ &lt;code&gt;00&lt;&#x2F;code&gt; è¡¨ç¤º code, &lt;code&gt;01&lt;&#x2F;code&gt; è¡¨ç¤º heapã€‚è·å–ç‰©ç†åœ°å€çš„è¿‡ç¨‹å¤§æ¦‚åƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è·å–å‰ä¸¤ä¸ªæ¯”ç‰¹
&lt;&#x2F;span&gt;&lt;span&gt;Segment &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(VirtualAddress &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt; SEG_MASK) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; SEG_SHIFT
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è·å– Offset
&lt;&#x2F;span&gt;&lt;span&gt;Offset &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; VirtualAddress &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt; OFFSET_MASK
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(Offset &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;=&lt;&#x2F;span&gt;&lt;span&gt; Bounds[Segment])
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RaiseException&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(PROTECTION_FAULT)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;  PhysAddr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; Base[Segment] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt; Offset
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯èƒ½æœ‰äº›åŒå­¦å·²ç»å¿˜äº†ä½æ“ä½œï¼Œè¿™é‡Œç®€å•å¤ä¹ ä¸‹ï¼Œæ‰€è°“æ©ç å°±æ˜¯ç”¨æ¥å±è”½æŒ‡å®šä½çš„ä¸€ä¸²äºŒè¿›åˆ¶ï¼Œç»“åˆ &lt;code&gt;&amp;amp;&lt;&#x2F;code&gt; æ“ä½œå°±å¯ä»¥è®©å…¶ä»–ä½éƒ½å˜ä¸º 0ï¼Œéœ€è¦ä¿ç•™çš„ä½ä¿æŒåŸæ ·ï¼Œæ¯”å¦‚ &lt;code&gt;110110&lt;&#x2F;code&gt; è¿™ä¸²äºŒè¿›åˆ¶ï¼Œæƒ³è¦ä¿ç•™å‰ä¸‰ä½ï¼ŒåŒæ—¶æŠŠåä¸‰ä½æ¸…é›¶ï¼Œåªéœ€è¦ä¸ &lt;code&gt;111000&lt;&#x2F;code&gt; æ‰§è¡Œ &lt;code&gt;&amp;amp;&lt;&#x2F;code&gt; æ“ä½œå³å¯ã€‚å¦‚æœåªæƒ³è¦å‰ 3 ä½ï¼Œé‚£ä¹ˆå‘å³ç§» 3 ä½ï¼Œ&lt;code&gt;&amp;gt;&amp;gt; 3&lt;&#x2F;code&gt;ï¼Œå› æ­¤ä¸Šé¢é‚£æ®µä»£ç  &lt;code&gt;Segment&lt;&#x2F;code&gt; å°±å˜æˆäº†å‰ä¸¤ä¸ªæ¯”ç‰¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‹¿åˆ°äº† &lt;code&gt;Segment&lt;&#x2F;code&gt; å’Œ &lt;code&gt;Offset&lt;&#x2F;code&gt;ï¼Œå…ˆåˆ¤æ–­ä¸‹æ˜¯å¦åœ¨å®‰å…¨åŒºåŸŸå†…ï¼Œå¦‚æœè¶…å‡ºåˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œä¸ç„¶å°±å»æ‰¾åˆ°çœŸå®çš„ç‰©ç†åœ°å€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¯ä¸ªæ®µä¾æ—§ä¼šæœ‰ Base å’Œ Boundsï¼Œä½†æ³¨æ„åˆ°æœ‰äº›æ®µæ˜¯å‘ä¸Šæ‰©å¼ ï¼Œæœ‰äº›æ˜¯å‘ä¸‹æ‰©å¼ ï¼Œè¿™ä¸ªä¿¡æ¯ä¹Ÿéœ€è¦è¢«é¢å¤–è®°å½•ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;8.jpg&quot;
        width=&quot;624&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜ä¼šæœ‰å…¶ä»–çš„ä¿¡æ¯éœ€è¦è®°å½•ï¼Œæ¯”å¦‚æ˜¯å¦å¯è¯»å†™ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£è¿™ä¸ªåšæ³•æœ‰æ²¡æœ‰é—®é¢˜å‘¢ï¼Œæœ‰çš„ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;å½“ Context Switch æ—¶ï¼ŒSegment Registers å¿…é¡»è¢«å­˜å‚¨èµ·æ¥æ–¹ä¾¿ä¸‹æ¬¡ä½¿ç”¨ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ›´å¤§çš„é—®é¢˜æ˜¯ï¼Œæ¯ä¸ªè¿›ç¨‹è‡ªå¸¦äº†å¥½å‡ ä¸ªæ®µï¼Œä¸”å¤§å°ä¸ä¸€ï¼Œå®¹æ˜“å½¢æˆç¢ç‰‡åŒ–(ä¹‹å‰ç”³è¯·çš„å†…å­˜è¢«é‡Šæ”¾äº†)ï¼Œåˆ›å»ºæ–°çš„åœ°å€ç©ºé—´æ—¶ï¼Œå°±ä¸é‚£ä¹ˆæ–¹ä¾¿äº†ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;9.jpg&quot;
        width=&quot;570&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹æƒ³è¦ç”³è¯· 20KB çš„æ®µæ—¶ï¼Œè™½ç„¶æœ‰ 24KB çš„å‰©ä½™ç©ºé—´ï¼Œä½†å¹¶ä¸è¿ç»­ï¼Œå› æ­¤ä¼šç”³è¯·å¤±è´¥ã€‚ä¸€ç§è§£å†³æ–¹æ³•æ˜¯è®©å†…å­˜ç©ºé—´å˜å¾—æ›´ç´§å‡‘ï¼Œæ¯”å¦‚æš‚åœæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼ŒæŠŠå†…å­˜æ‹·è´åˆ°è¿ç»­çš„åœ°å€ç©ºé—´ï¼Œä¿®æ”¹ Segment Registerï¼Œè¿™æ ·å°±å¯ä»¥å˜æˆå³å›¾é‚£æ ·äº†ã€‚ä½†æ˜¯ä»£ä»·æœ‰ç‚¹å¤§ï¼Œæ‹·è´æ®µä¼šèŠ±è´¹æ˜¾è‘—çš„æ—¶é—´ã€‚æ— è®ºä½¿ç”¨ä½•ç§ç®—æ³•ï¼Œç¢ç‰‡åŒ–ä¸€å®šä¼šå­˜åœ¨ï¼Œåªæ˜¯å¥½ç‚¹çš„ç®—æ³•èƒ½é™ä½ç¢ç‰‡åŒ–ç¨‹åº¦ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¡ºä¾¿æä¸€ä¸‹ C é‡Œé¢çš„å†…å­˜ç”³è¯·ï¼Œå½“ &lt;code&gt;malloc(size_t size)&lt;&#x2F;code&gt; æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼Œå½“ &lt;code&gt;free(void *pointer)&lt;&#x2F;code&gt; æ—¶ï¼Œä¼šé‡Šæ”¾æŒ‡é’ˆå¯¹åº”çš„åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯è¯´ &lt;code&gt;free&lt;&#x2F;code&gt; æ—¶ï¼Œä¸éœ€è¦çŸ¥é“ &lt;code&gt;size&lt;&#x2F;code&gt;ï¼Œè¿™æ˜¯å› ä¸ºç”³è¯·å†…å­˜æ—¶ï¼Œæœ‰ä¸€å—é¢å¤–çš„åŒºåŸŸç”¨æ¥å­˜å‚¨è¿™äº›ä¿¡æ¯ï¼Œæ¯”å¦‚å½“ç”¨æˆ·æ‰§è¡Œ &lt;code&gt;ptr = malloc(20)&lt;&#x2F;code&gt; æ—¶&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;10.jpg&quot;
        width=&quot;611&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;é™¤äº†é‚£ 20 ä¸ªå­—èŠ‚ï¼Œå¤´éƒ¨è¿˜ç•™äº†ç‚¹ç©ºé—´ç”¨æ¥æ”¾ &lt;code&gt;size&lt;&#x2F;code&gt; å’Œ &lt;code&gt;magic&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;typedef struct&lt;&#x2F;span&gt;&lt;span&gt; __header_t {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; size;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; magic;
&lt;&#x2F;span&gt;&lt;span&gt;} header_t;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;free&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;ptr&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    header_t &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;hptr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)ptr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- sizeof&lt;&#x2F;span&gt;&lt;span&gt;(header_t);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ‹¿åˆ°æŒ‡é’ˆåï¼Œå¯ä»¥åˆ¤æ–­ magic number æ˜¯å¦ç›¸ç­‰ï¼Œç„¶åè®¡ç®—éœ€è¦ free çš„ size (header + body)ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª&lt;a href=&quot;https:&#x2F;&#x2F;www.cs.usfca.edu&#x2F;%7Ebenson&#x2F;cs326&#x2F;pintos&#x2F;pintos&#x2F;src&#x2F;threads&#x2F;malloc.c&quot;&gt;ç®€æ˜“çš„ malloc å®ç°&lt;&#x2F;a&gt;ä¾›å‚è€ƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ—¢ç„¶æ®µæ¨¡å¼ä¼šæœ‰ç¢ç‰‡åŒ–çš„é—®é¢˜ï¼Œé‚£å¦‚ä½•æ‰èƒ½é¿å…å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h2 id=&quot;fen-ye-paging&quot;&gt;åˆ†é¡µï¼ˆPagingï¼‰&lt;&#x2F;h2&gt;
&lt;p&gt;Paging çš„æ€æƒ³æ˜¯æŠŠåœ°å€ç©ºé—´åˆ‡åˆ†æˆå›ºå®šå¤§å°çš„å•å…ƒã€‚æ¯”å¦‚ä¸‹é¢ä¸€ä¸ªåªæœ‰ 64 å­—èŠ‚çš„åœ°å€ç©ºé—´ï¼Œæ¯ä¸ª Page 16 ä¸ªå­—èŠ‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;11.jpg&quot;
        width=&quot;471&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹åº”åˆ°çœŸå®çš„ç‰©ç†åœ°å€ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;12.jpg&quot;
        width=&quot;441&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶åœ°å€ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œä½†ç‰©ç†åœ°å€å¹¶ä¸æ˜¯ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œä¸ç”¨å»è€ƒè™‘ heap &#x2F; stack ä¼šè¢«ç”³è¯·å¤šå°‘ sizeï¼Œæ¯”å¦‚è¦ç”³è¯· 64 å­—èŠ‚åœ°å€ç©ºé—´ï¼Œåªè¦ç»™ 4 ä¸ª free çš„ page å³å¯ï¼Œè¿™æ · OS ç®¡ç†èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œæ¯”å¦‚åªè¦ç»´æŠ¤ä¸€ä»½ free pages listï¼Œç„¶åç»™å‡ºå‰ 4 ä¸ªã€‚ä¸ºäº†è®°å½•è™šæ‹Ÿé¡µ(Virtual Page)è·Ÿç‰©ç†åœ°å€ä¹‹é—´çš„å…³ç³»ï¼ŒOS éœ€è¦ç»´æŠ¤ç»™æ¯ä¸ªè¿›ç¨‹ç»´æŠ¤ä¸€ä»½ Page Tableï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯åœ°å€ç¿»è¯‘ã€‚æ¯”å¦‚ &lt;code&gt;movl &amp;lt;virtual address&amp;gt;, %eax&lt;&#x2F;code&gt;ï¼Œç”±äºè¿›ç¨‹çš„åœ°å€ç©ºé—´æ˜¯ 64 å­—èŠ‚ï¼Œå› æ­¤éœ€è¦ 6 ä¸ªæ¯”ç‰¹æ¥è¡¨ç¤ºï¼ˆ2^6 = 64ï¼‰&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;13.jpg&quot;
        width=&quot;279&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç”±äº Page Size ä¸º 16 å­—èŠ‚ï¼Œå› æ­¤ offset ä¸º 4ï¼ˆ4 ä¸ªæ¯”ç‰¹å°±èƒ½è¡¨ç¤ºå…¨ä¸€ä¸ª Page é‡Œçš„ä»»æ„ä½ç½®ï¼‰ï¼Œå‰©ä¸‹çš„å‰ä¸¤ä½ä½œä¸º VPN (Virtual Page Number)&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;14.jpg&quot;
        width=&quot;275&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚ &lt;code&gt;movl 21, %eax&lt;&#x2F;code&gt;, 21 è½¬æˆ 2 è¿›åˆ¶å°±æ˜¯ &lt;code&gt;010101&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;15.jpg&quot;
        width=&quot;285&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç»è¿‡åœ°å€ç¿»è¯‘åï¼Œå°±èƒ½æ‰¾åˆ°ç‰©ç†å†…å­˜ä¸­çš„åœ°å€äº†&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;16.jpg&quot;
        width=&quot;345&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼ŒPage Tables (ç”¨æ¥å°†è™šæ‹Ÿåœ°å€ç¿»è¯‘æˆç‰©ç†åœ°å€)å­˜åœ¨å“ªé‡Œå‘¢ï¼Ÿåœ¨æƒ³è¿™ä¸ªé—®é¢˜å‰ï¼Œå…ˆæƒ³ä¸‹ Page Tables å¤§æ¦‚æœ‰å¤šå¤§ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæ¯ä¸ª Page Table Entry (PTE) éœ€è¦ 4 ä¸ªå­—èŠ‚æ¥ä¿å­˜ ç‰©ç†åœ°å€(PFN, Physical Frame Number)å’Œå…¶ä»–çš„çŠ¶æ€ç ï¼Œä¸€ä¸ªè¿›ç¨‹ä¼šæœ‰å¤šå°‘ä¸ª PTE å‘¢ï¼Ÿå‡è®¾åœ°å€ç©ºé—´ä¸º 32 ä½ï¼ŒPage Size ä¸º 4KBï¼Œé‚£ä¹ˆè™šæ‹Ÿåœ°å€å°±å¯ä»¥è¢«æ‹†åˆ†æˆ 20 bits çš„ VPN å’Œ 12 bits çš„ Offsetï¼Œæœ‰ 2^20 ä¸ª VPN å¯èƒ½éœ€è¦ç¿»è¯‘ï¼Œå°±éœ€è¦æœ‰å¯¹åº”æ•°é‡çš„ PTEï¼Œå› æ­¤ä¸€ä¸ªè¿›ç¨‹å¤§æ¦‚éœ€è¦ 4MB çš„å†…å­˜æ¥å­˜å‚¨ Page Tablesï¼Œæƒ³æƒ³å¦‚æœæœ‰ 100 ä¸ªè¿›ç¨‹åœ¨è¿è¡Œï¼Œå°±éœ€è¦ 400MBï¼Œè¿™ä¸ªæ•°é‡å¯ä¸ç®—å°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ—¢ç„¶ Page Tables å¦‚æ­¤ä¹‹å¤§ï¼Œæ”¾ CPU çš„å¯„å­˜å™¨é‡Œæ˜¯ä¸å¯èƒ½äº†ï¼Œé‚£å°±åªèƒ½æ”¾å†…å­˜äº†ï¼Œå› æ­¤åœ¨è·å–è™šæ‹Ÿåœ°å€å¯¹åº”çš„ç‰©ç†å†…å­˜åœ°å€æ—¶ï¼Œéœ€è¦å…ˆè®¿é—®ä¸€æ¬¡å†…å­˜ï¼Œè¿™æ¯”ç›´æ¥è®¿é—® CPU çš„å¯„å­˜å™¨ä¼šæ…¢å¾ˆå¤šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¡ºä¾¿æ¥çœ‹ä¸€ä¸‹ PTE åˆ°åº•é•¿å•¥æ ·ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;17.jpg&quot;
        width=&quot;599&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å‰å‡ ä½éƒ½æ˜¯çŠ¶æ€ä½ï¼Œç”¨æ¥è¡¨ç¤ºè¿™æ®µå†…å­˜ç›®å‰çš„çŠ¶æ€ï¼Œæ¯”å¦‚æ˜¯å¦æœ‰æ•ˆï¼ˆValidï¼‰ï¼Œæ˜¯å¦å¯è¯»ï¼Œæ˜¯å¦åœ¨ Swap ç­‰ã€‚PFN æ˜¯çœŸæ­£çš„ç‰©ç†å†…å­˜åœ°å€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‡‡ç”¨åˆ†é¡µæ¨¡å¼åï¼Œç‰©ç†åœ°å€çš„è·å–è¿‡ç¨‹å°±å˜æˆäº†è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;&#x2F;&#x2F; æŠŠ VPN æ‘˜å‡ºæ¥
&lt;&#x2F;span&gt;&lt;span&gt;VPN = (VirtualAddress &amp;amp; VPN_MASK) &amp;gt;&amp;gt; SHIFT
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&#x2F; æŠŠ PTE çš„åœ°å€ç»„è£…å¥½
&lt;&#x2F;span&gt;&lt;span&gt;PTEAddr = PTBR + (VPN * sizeof(PTE))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&#x2F; è®¿é—®åœ°å€ï¼Œæ‹¿åˆ°å†…å®¹ï¼Œæ³¨æ„ï¼Œè¿™é‡Œè®¿é—®äº†å†…å­˜ï¼Œä¼šå½±å“é€Ÿåº¦
&lt;&#x2F;span&gt;&lt;span&gt;PTE = AccessMemory(PTEAddr)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&#x2F; æ£€æŸ¥æ˜¯å¦æœ‰æ•ˆ
&lt;&#x2F;span&gt;&lt;span&gt;if (PTE.Valid == False)
&lt;&#x2F;span&gt;&lt;span&gt;  RaiseException(SEGMENTATION_FAULT)
&lt;&#x2F;span&gt;&lt;span&gt;else if (CanAccess(PTE.ProtectBits) == False)
&lt;&#x2F;span&gt;&lt;span&gt;  RaiseException(PROTECTION_FAULT)
&lt;&#x2F;span&gt;&lt;span&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;  &#x2F;&#x2F; æœ‰æ•ˆçš„è¯ï¼Œå†å»æ‹¿çœŸå®çš„ç‰©ç†åœ°å€
&lt;&#x2F;span&gt;&lt;span&gt;  Offset = VirtualAddress &amp;amp; OFFSET_MASK
&lt;&#x2F;span&gt;&lt;span&gt;  PhysAddr = (PTE.PFN &amp;lt;&amp;lt; PFN_SHIFT) | offset
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•å¯¹è¿™ä¸ªè¿‡ç¨‹è¿›è¡ŒåŠ é€Ÿå‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h2 id=&quot;tlb-translation-lookaside-buffer&quot;&gt;TLB (Translation-Lookaside Buffer)&lt;&#x2F;h2&gt;
&lt;p&gt;å¦‚æœè¦åŠ é€Ÿï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯åŠ ç¼“å­˜ï¼ŒTLB å°±æ˜¯ CPU èŠ¯ç‰‡ MMU çš„ä¸€éƒ¨åˆ†ï¼Œé¦–å…ˆ check TLB ä¸­æœ‰æ²¡æœ‰è¯¥è™šæ‹Ÿåœ°å€å¯¹åº”çš„ç‰©ç†åœ°å€ï¼Œæœ‰çš„è¯ç›´æ¥è¿”å›ï¼Œè¿™æ ·å°±ä¸ç”¨å†è®¿é—®å†…å­˜äº†ï¼Œè‡ªç„¶ä¹Ÿå°±å¿«äº†ã€‚é‚£è¿™ä¸ª TLB åˆ°åº•é•¿æ€æ ·å‘¢ï¼Ÿå¯ä»¥è®¤ä¸ºæ˜¯å¾ˆç®€å•çš„ Key-Value å¯¹ï¼Œå†åŠ ä¸Šé¢å¤–çš„ä¸€äº›çŠ¶æ€ç  &lt;code&gt;VPN | PFN | other bits&lt;&#x2F;code&gt;ã€‚æ³¨æ„è¿™é‡Œä¹Ÿä¼šæœ‰ valid bitï¼Œåªä¸è¿‡è¿™é‡Œè¡¨ç¤ºçš„æ˜¯å½“å‰è¿™ä¸ªæ˜¯ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç¿»è¯‘ï¼Œè€Œ Page Table é‡Œçš„ valid çŠ¶æ€ç è¡¨ç¤ºçš„æ˜¯è¯¥å†…å­˜æ˜¯å¦è¢«åˆå§‹åŒ–è¿‡ï¼Œå¦‚æœæ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œé‚£ä¹ˆ valid å°±ä¸º 0ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ Context Switchã€‚æ¯ä¸ªè¿›ç¨‹çš„ VPN å’Œ PFN çš„å¯¹åº”å…³ç³»æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤ä¸Šä¸€ä¸ªè¿›ç¨‹çš„å¯¹åº”å…³ç³»å¯¹äºä¸‹ä¸€ä¸ªè¿›ç¨‹æ¥è¯´ï¼Œå®Œå…¨æ— ç”¨ã€‚é‚£æ€ä¹ˆåŠï¼Ÿæœ€ç®€å•ç²—æš´çš„æ–¹å¼å°±æ˜¯è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œç›´æ¥æ¸…ç©ºï¼Œè¿™æ ·è™½ç„¶ä¸ä¼šå‡ºé—®é¢˜ï¼Œä½†ä¹Ÿé™ä½äº†ç¼“å­˜å‘½ä¸­ç‡ï¼Œå°¤å…¶æ˜¯é¢‘ç¹åˆ‡æ¢çš„è¯ã€‚è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯å¤šåŠ ä¸€ä¸ªå­—æ®µæ¥è¡¨ç¤ºè¯¥æ®µç¿»è¯‘å¯¹åº”çš„æ˜¯å“ªä¸ªåœ°å€ç©ºé—´ï¼ˆASIDï¼‰ï¼Œæœ‰ç‚¹åƒ PIDã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;18.jpg&quot;
        width=&quot;362&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä½† CPU è¿™å¯¸åœŸå¯¸é‡‘çš„åœ°æ–¹ï¼Œä¸å¯èƒ½æ”¾å¾ˆå¤§çš„ç¼“å­˜ï¼Œè€Œä¸” size è¶Šå°ï¼Œè®¿é—®é€Ÿåº¦æ‰ä¼šè¶Šå¿«ï¼Œå½“ç¼“å­˜æ»¡äº†ä¹‹åæ€ä¹ˆåŠï¼Ÿå¯ä»¥é‡‡ç”¨å¸¸è§çš„ç­–ç•¥ï¼Œæ¯”å¦‚ LRU æˆ– Randomã€‚æ‰€ä»¥è™½ç„¶å†…å­˜è¢«å«åš Random Access Memoryï¼Œä½†ä¹Ÿåˆ†æ˜¯å¦å‘½ä¸­ç¼“å­˜ï¼Œé‚£äº›å‘½ä¸­ TLB ç¼“å­˜çš„æ‰æ˜¯æœ€å¿«çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;OKï¼Œè®¿é—®é€Ÿåº¦è¿™ä¸ªé—®é¢˜ç®—æ˜¯è§£å†³äº†ï¼Œè¿˜æœ‰ä¸€ä¸ªä½“ç§¯å¤§çš„é—®é¢˜åˆè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h2 id=&quot;smaller-tables&quot;&gt;Smaller Tables&lt;&#x2F;h2&gt;
&lt;blockquote&gt;
&lt;p&gt;When you have two good and seemingly opposing ideas, you should always see if you can combine them into a hybrid that manages to achieve the best of both worlds.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;å›é¡¾ä¹‹å‰ï¼Œæˆ‘ä»¬é‡‡ç”¨æ®µæ¨¡å¼æ—¶ï¼Œå¹¶æ²¡æœ‰ä½“ç§¯å¤§çš„é—®é¢˜ï¼Œå› ä¸ºåªéœ€è¦ base and bounds å°±å¯ä»¥äº†ï¼Œé‚£æœ‰æ²¡æœ‰å¯èƒ½æŠŠæ®µå’Œé¡µç»“åˆèµ·æ¥å‘¢ï¼Ÿæˆ‘ä»¬æ¥è¯•è¯•ï¼Œå¦‚æœæ¯ä¸ª Segment å¯¹åº”ä¸€ä¸ª Tableï¼Œè¿™æ ·å°±åªéœ€è¦ 3 ä¸ª Tableã€‚å¯¹äº Segment æ¥è¯´ï¼Œç°åœ¨ Bounds å˜ä¸ºäº†åˆ¤æ–­ Page Table çš„è¾¹ç•Œï¼ˆæ¯”å¦‚æœ‰å¤šå°‘ä¸ª Pagesï¼‰ã€‚å‡è®¾ 32 ä½çš„åœ°å€ç©ºé—´ï¼Œ4KB Pagesï¼Œå°±ä¼šå˜æˆè¿™æ ·ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;20.jpg&quot;
        width=&quot;648&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœ TLB æ²¡æœ‰å‘½ä¸­çš„è¯ï¼Œè¿‡ç¨‹å¤§æ¦‚å¦‚æ­¤&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;SN = (VirtualAddress &amp;amp; SEG_MASK) &amp;gt;&amp;gt; SN_SHIFT
&lt;&#x2F;span&gt;&lt;span&gt;VPN = (VirtualAddress &amp;amp; VPN_MASK) &amp;gt;&amp;gt; VPN_SHIFT
&lt;&#x2F;span&gt;&lt;span&gt;AddressOfPTE = Base[SN] + (VPN * sizeof(PTE))
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½†è¿™æ · Segment è‡ªå¸¦çš„ç¢ç‰‡åŒ–é—®é¢˜ä¾æ—§å­˜åœ¨ï¼Œåˆ°æ—¶ malloc å¯»æ‰¾å¯ç”¨ç©ºé—´æ—¶ä¾æ—§ä¼šæ¯”è¾ƒå¤æ‚ã€‚å›è¿‡å¤´æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹ï¼Œå ç”¨çš„è¿™ 4MB ç©ºé—´çœŸçš„æ˜¯å¿…é¡»çš„ä¹ˆï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;
&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;21.jpg&quot;
        width=&quot;444&quot; &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;22.jpg&quot;
        width=&quot;511&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œä¸­é—´çš„ä¸€å¤§éƒ¨åˆ†éƒ½æ˜¯ç©ºçš„ï¼Œä½†ä¾æ—§ä¼šè¢«å¡«å……ï¼ˆå› ä¸ºæ˜¯é‡‡ç”¨æ•°ç»„çš„æ–¹å¼æ¥è®¿é—®ï¼‰ï¼Œé‚£æœ‰æ²¡æœ‰åŠæ³•æ—¢èƒ½è¡¨è¾¾ã€Œæ— ã€çš„ä¿¡æ¯ï¼Œåˆä¸å ç”¨ç©ºé—´å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h3 id=&quot;multi-level-page-tables&quot;&gt;Multi-level Page Tables&lt;&#x2F;h3&gt;
&lt;p&gt;å¤šçº§åˆ†é¡µè¡¨ã€‚æ¯”å¦‚è¦å»å®¿èˆæ‰¾åŒå­¦ç©ï¼Œå‘ç°å®¿èˆå¤§æ¥¼é—¨å…³ç€ï¼Œé‚£ä¹ˆå°±ä¸ç”¨å†åˆ°å¯å®¤äº†ï¼Œå¤šçº§åˆ†é¡µè¡¨çš„æ€è·¯ä¹Ÿç±»ä¼¼ï¼Œåœ¨æœ€å‰é¢å…ˆåšä¸€æ¬¡ç²—æ£€ï¼Œå¦‚æœç²—æ£€éƒ½ä¸ç¬¦åˆå°±ç›´æ¥æ‰“å›ï¼Œç²—æ£€é€šè¿‡ä¹‹åå†æ¥ä¸€æ¬¡ç»†æ£€ï¼Œè¿™æ ·å°±èƒ½æŠŠç©ºé—´ç»™çœä¸‹æ¥ï¼Œå…·ä½“æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;æŠŠ PTE(Page Table Entry, åŒ…å«äº†ç‰©ç†åœ°å€å’ŒçŠ¶æ€ç )æ”¾è¿› page-sized unitsï¼ˆæ¯”å¦‚ä¸€ä¸ª Page é‡Œæ”¾ 16 ä¸ª PTEï¼‰ï¼Œå¦‚æœè¯¥ Page çš„ PTE éƒ½æ— æ•ˆï¼Œé‚£ä¹ˆå‹æ ¹å°±ä¸ç”³è¯·å†…å­˜ï¼Œç„¶åå¤–é¢åŒ…ä¸€å±‚ Page Directory ç”¨æ¥è¡¨ç¤ºé‡Œé¢æ˜¯å¦æœ‰æœ‰æ•ˆçš„ PTEã€‚å°±åƒæ–‡ä»¶å¤¹ä¸€æ ·ï¼Œå¦‚æœæ–‡ä»¶å¤¹é‡Œæ²¡æœ‰æ–‡ä»¶ï¼Œè‡ªç„¶å°±ä¸ä¼šå ç”¨ç©ºé—´ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;23.jpg&quot;
        width=&quot;923&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å·¦è¾¹æ˜¯å•å±‚ Page Table çš„å®ç°ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶åªæœ‰æœ€ä¸‹é¢ä¸¤å±‚æ˜¯ valid çš„ï¼Œä½†ä¸­é—´ä¾æ—§ä¼šæœ‰å¾ˆå¤šè¢«å ç”¨çš„ç©ºé—´ï¼ˆå°±åƒè¦è®¿é—®æ•°ç»„çš„ç¬¬ 1000 ä¸ªå…ƒç´ ï¼Œå¿…é¡»å…ˆè¦æŠŠè¿™ 1000 ä¸ªå…ƒç´ å¡«æ»¡ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å³è¾¹æ˜¯ä¸¤å±‚ Page Table çš„å®ç°ï¼Œé€šè¿‡ Valid çŠ¶æ€ç å°±å¯ä»¥çŸ¥é“æ˜¯å¦æœ‰å¿…è¦å»ç‰©ç†åœ°å€æ‹¿å†…å®¹ï¼Œå¦‚æœç¬¬ä¸€å±‚çš„ Valid ä¸º 1ï¼Œé‚£ä¹ˆåœ°å€è½¬æ¢åå°±å¯ä»¥æ‹¿åˆ°ç¬¬äºŒå±‚ PTE çš„å†…å®¹ï¼Œå¦‚æœæ­¤æ—¶ Valid ä¸º 0ï¼ŒæŠ›å‡º Exceptionï¼Œä¸º 1ï¼Œé‚£ä¹ˆç»§ç»­å»æ‹¿çœŸæ­£çš„å­˜æ”¾åœ¨ç‰©ç†å†…å­˜ä¸­çš„å†…å®¹ã€‚ å› æ­¤æœ€å¤–å±‚çš„ Valid ä¸º 1ï¼Œåªæ˜¯è¡¨ç¤ºé‡Œé¢è‡³å°‘æœ‰ä¸€ä¸ª Valid çš„ PTEã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç›¸æ¯”ä¹‹ä¸‹ï¼Œç©ºé—´ä¸Šæ˜¯ä¸æ˜¯èŠ‚çœäº†ä¸å°‘ã€‚ä½†ä¹Ÿæœ‰å¼Šç«¯ï¼Œæ¯”å¦‚éœ€è¦ä¸¤æ¬¡å†…å­˜è®¿é—®æ‰èƒ½æ‹¿åˆ°çœŸæ­£çš„è™šæ‹Ÿåœ°å€å¯¹åº”çš„å†…å®¹ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„æ—¶é—´æ¢ç©ºé—´çš„åšæ³•ã€‚è¿˜æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯å¤æ‚åº¦ï¼Œæ— è®ºæ˜¯ç¡¬ä»¶è¿˜æ˜¯æ“ä½œç³»ç»Ÿï¼Œå¤„ç†èµ·æ¥è‚¯å®šæ¯”ä¸€ä¸ªçº¿æ€§çš„ Page Table æŸ¥æ‰¾å¤æ‚ï¼Œä½†ä¸ºäº†çœå‡ºæ¥çš„å†…å­˜ï¼Œè¿™ä¸ª tradeoff è¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;demo&quot;&gt;Demo&lt;&#x2F;h3&gt;
&lt;p&gt;å‡è®¾ CPU åœ¨è§£ææŒ‡ä»¤æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ª 14 ä½é•¿çš„è™šæ‹Ÿåœ°å€ï¼Œç°åœ¨è¦æŠŠå®ƒè½¬æ¢ä¸ºçœŸå®åœ°å€ï¼Œå¹¶å–å‡ºå…¶ä¸­çš„å†…å®¹ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;os-memory&amp;#x2F;25.jpg&quot;
        width=&quot;448&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Page Directory Index å‘Šè¯‰ CPU å»ç¬¬å‡ å±‚æ‰¾ PDE(Page Directory Entry)&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;PDEAddr = PageDirBase + (PDIndex * sizeof(PDE))
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;PageDirBase å¯¹åº”å…·ä½“çš„ç‰©ç†åœ°å€ã€‚å¦‚æœ PDE çš„ valid ä½ä¸º 0ï¼Œåˆ™ç›´æ¥æŠ›å¼‚å¸¸ï¼Œä¸ç„¶å°±æŠŠ Page Table Index æ‹¿å‡ºæ¥ï¼Œæ‰¾åˆ° PTEï¼Œçœ‹çœ‹å®ƒçš„ valid çŠ¶æ€ç ï¼Œå¦‚æœä¸º 0ï¼ŒæŠ›å¼‚å¸¸ï¼Œä¸º 1 åˆ™å»å–æœ€ç»ˆçš„ç‰©ç†åœ°å€ä¸­çš„å†…å®¹ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h2&gt;
&lt;p&gt;å¦‚æœè¦çœ‹æ›´è¯¦ç»†çš„ï¼Œæœ€å¥½è¿˜æ˜¯é˜…è¯»åŸè‘—ï¼Œä¼šæœ‰æ›´ç»†è‡´çš„æè¿°å’Œä¸€äº›æ²¡æåˆ°çš„å†…å®¹ï¼Œæ¯”å¦‚è·Ÿç£ç›˜çš„å†…å­˜äº¤æ¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;äº†è§£è¿™äº›åº•å±‚çš„è¿è¡Œæœºåˆ¶é™¤äº†æ»¡è¶³å¥½å¥‡å¤–ï¼Œè¿˜å¯ä»¥å­¦åˆ°ä¸å°‘å¤æ‚ç³»ç»Ÿçš„åº”å¯¹ç­–ç•¥ï¼Œå¯¹äºå…¶ä»–çš„é¡¹ç›®ä¹Ÿä¼šæœ‰æ‰€å¯å‘ã€‚æ¯”å¦‚å…¶ä¸­æåˆ°çš„ Mechanism å’Œ Policyï¼Œå‰è€…æŒ‡å®šå¤§æ–¹å‘ï¼Œåè€…å¤„ç†å®ç°ï¼›æ—¶é—´&#x2F;ç©ºé—´ä¸Šçš„å–èˆï¼›å½“æœ‰ä¸¤ç§çœ‹èµ·æ¥ç›¸åçš„æ€è·¯æ—¶ï¼Œå¦‚ä½•æœ‰æ•ˆåœ°æ··åˆï¼›å¤æ‚åº¦å’Œæ€§èƒ½ä¹‹é—´çš„å–èˆç­‰ç­‰ã€‚è¿™äº›å¯¹äºè®¾è®¡ã€ç¼–å†™é«˜è´¨é‡çš„ç¨‹åºéƒ½å¤§æœ‰è£¨ç›Šã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>å¦‚ä½•è®¾è®¡ä¸€ä¸ªé…ç½®ä¸­å¿ƒçš„åç«¯æ¶æ„</title>
            <pubDate>Tue, 06 Mar 2018 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/how-to-architecture-config/</link>
            <guid>https://limboy.me/posts/how-to-architecture-config/</guid>
            <description>&lt;p&gt;é…ç½®ä¸­å¿ƒèƒ½å¤Ÿè®© App å…·æœ‰æ›´å¥½çš„åŠ¨æ€æ€§ï¼Œé€šè¿‡åœ¨è¿œç¨‹ä¸‹å‘é…ç½®æ¥åŠ¨æ€æ”¹å˜ App çš„è¡Œä¸ºã€‚å‡å¦‚ç°åœ¨éœ€è¦è®¾è®¡è¿™ä¹ˆä¸€å¥—ç³»ç»Ÿï¼Œè¯¥å¦‚ä½•å»è€ƒè™‘å‘¢ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„ä¸€äº›åˆ†æè¿‡ç¨‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹ã€Œé…ç½®ä¸­å¿ƒã€è¿™ä¸ªéœ€æ±‚è¿›è¡Œåˆ†è§£å°±æ˜¯ï¼šç¬¬ä¸€æ—¶é—´æŠŠé…ç½®å‘é€ç»™å®¢æˆ·ç«¯ã€‚å› æ­¤æˆ‘ä»¬å…ˆæ¥æ„æƒ³ä¸€ä¸ªæœ€ç®€å•çš„åœºæ™¯ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;how-to-architecture-config&amp;#x2F;design_config_01.jpg&quot;
        width=&quot;1200&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¿æŒä¸€ä¸ªé•¿é“¾ï¼Œå½“åœ¨åå°æ“ä½œé…ç½®æ—¶ï¼Œä¼šæŠŠè¿™ä¸ªé…ç½®ä»¥ K&#x2F;V å½¢å¼å­˜å‚¨ï¼Œç„¶åé€šçŸ¥ Procesorï¼Œåè€…æ‹¿åˆ° K&#x2F;V ä¹‹åæŠŠå®ƒæ¨ç»™å®¢æˆ·ç«¯ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±å®Œæˆäº†ã€‚è¿™æ˜¯æœ€åŸå§‹çš„å½¢æ€ï¼Œæ¥ä¸‹æ¥ä¼šåœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œæ¼”åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;pei-zhi-geng-xin-shi-ke-hu-duan-chu-yu-chi-xian-zhuang-tai-zen-yao-ban&quot;&gt;é…ç½®æ›´æ–°æ—¶ï¼Œå®¢æˆ·ç«¯å¤„äºç¦»çº¿çŠ¶æ€æ€ä¹ˆåŠ&lt;&#x2F;h3&gt;
&lt;p&gt;é•¿é“¾åªèƒ½ä¿è¯(å°½é‡)å®¢æˆ·ç«¯åœ¨çº¿æ—¶èƒ½ç¬¬ä¸€æ—¶é—´æ‹¿åˆ°é…ç½®ä¸­å¿ƒçš„å€¼ï¼Œå¤„äºç¦»çº¿çŠ¶æ€ï¼ˆæ¯”å¦‚æ²¡æœ‰æ‰“å¼€ Appï¼‰æ—¶å°±æ— èƒ½ä¸ºåŠ›äº†ï¼Œå› æ­¤éœ€è¦æƒ³åŠæ³•åˆ°ç”¨æˆ·ä¸‹ä¸€æ¬¡æ‰“å¼€ App æ—¶å¯ä»¥æ‹¿åˆ°æœ€æ–°çš„å€¼ï¼Œè¿™ä¸ªç®€å•å¤„ç†å°±æ˜¯åœ¨ä¿å­˜ K&#x2F;V æ—¶ï¼Œé¢å¤–å­˜ä¸€ä¸ª flag å­—æ®µï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ª K&#x2F;V æ˜¯å¦å·²ç»æˆåŠŸå‘é€ç»™å®¢æˆ·ç«¯ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;how-to-architecture-config&amp;#x2F;design_config_02.jpg&quot;
        width=&quot;1200&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h3 id=&quot;duo-fen-pei-zhi-de-chu-li&quot;&gt;å¤šä»½é…ç½®çš„å¤„ç†&lt;&#x2F;h3&gt;
&lt;p&gt;é€šå¸¸ K&#x2F;V å¯¹ä¸æ­¢ä¸€ä»½ï¼Œé‚£ä¹ˆå¤šä»½é…ç½®ï¼Œä¹Ÿå°±æ˜¯å¤šä¸ª K&#x2F;V å¯¹ï¼Œåˆä¼šå¸¦æ¥å“ªäº›å˜åŒ–å‘¢ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;how-to-architecture-config&amp;#x2F;design_config_03.jpg&quot;
        width=&quot;1200&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ—¶å°±æœ‰ä¸‰ä¸ªé—®é¢˜éœ€è¦æˆ‘ä»¬è€ƒè™‘ï¼šå­˜å‚¨ã€æµé‡å’ŒåŒæ­¥ç­–ç•¥ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;cun-chu&quot;&gt;å­˜å‚¨&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸€ä¸ªè®¾å¤‡çš„ K&#x2F;V å¯¹é€šå¸¸ä¸ä¼šè¶…è¿‡ 100 é¡¹ï¼Œæ¯å¯¹ Size ä¸è¶…è¿‡ 1Kï¼Œä¹Ÿå°±æ˜¯ä¸€å°è®¾å¤‡å¯¹åº”çš„å¤§å°ä¸Šé™ä¸º 100K å·¦å³ï¼Œå‡å¦‚è®¾å¤‡æ•°ä¸º 100 ä¸‡ï¼Œå°±éœ€è¦ 100G çš„ç£ç›˜ç©ºé—´ã€‚è¿™ä¸ªé‡è¿˜æ˜¯æœ‰ç‚¹å¤§çš„ï¼Œå¯ä»¥ä¼˜åŒ–ä¸‹ã€‚è€ƒè™‘åˆ°ä¸€äº›é…ç½®é¡¹ä¼šåœ¨å¤šä¸ªè®¾å¤‡å…±å­˜ï¼Œå¯ä»¥æŠŠè¿™äº›é…ç½®å•ç‹¬å­˜å‚¨ï¼Œç„¶åæŠŠ hash å€¼ä½œä¸º Valueã€‚å‡è®¾ Key çš„ size ä¸º 30 å­—èŠ‚ï¼ŒValue ä¸º 10 å­—èŠ‚ï¼Œè¿™æ ·å°±åªéœ€ 40M çš„ K&#x2F;V å­˜å‚¨ç©ºé—´ã€‚å› æ­¤ç”±äºå­˜å‚¨ä¸Šçš„é™åˆ¶ï¼Œæˆ‘ä»¬çš„è®¾è®¡ä¹Ÿè¦åšä¸€ä¸‹è°ƒæ•´:&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;how-to-architecture-config&amp;#x2F;design_config_04.jpg&quot;
        width=&quot;1200&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä½†è¿™æ ·è¿˜æ˜¯æœ‰é—®é¢˜ï¼ŒValue çš„ç»„åˆä¼šå¾ˆå¤šï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;how-to-architecture-config&amp;#x2F;design_config_05.jpg&quot;
        width=&quot;1200&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚åŸæ¥ K1 çš„ Value ä¸º V1ï¼Œæ›´æ–°ä¹‹åå˜æˆäº† V2ï¼Œé‚£ä¹ˆéœ€è¦æ–°å»ºä¸€ç»„ Valueï¼Œç„¶åå°†å…¶ä¸­çš„ V1 å˜ä¸º V2ï¼Œå› ä¸ºä¸çŸ¥é“ä¹‹å‰çš„é‚£ä¸€ç»„ Value æ˜¯å¦è¿˜æœ‰å…¶ä»–è®¾å¤‡åœ¨å¼•ç”¨ï¼Œè¿™æ ·å°±ä¼šé€æ¸ç´¯ç§¯ä¸‹å»ï¼Œè¦é™ä½è¿™ç§ç´¯ç§¯çš„è¯ï¼Œè¿˜è¦è®¾è®¡æ¸…é™¤ç®—æ³•ï¼Œå¤æ‚åº¦å°±ä¸Šæ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸å¦¨å‚è€ƒä¸€ä¸‹ Go è¯­è¨€é‡Œ Slice çš„è®¾è®¡ï¼ŒSlice å†…éƒ¨ä½¿ç”¨äº†ä¸€ä¸ªæ•°ç»„ï¼Œä½†å¯ä»¥æŒ‡å®šä½¿ç”¨è¯¥æ•°ç»„çš„å“ªä¸€éƒ¨åˆ†ï¼Œå…¶å®å°±æ˜¯ç´¢å¼•ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;how-to-architecture-config&amp;#x2F;design_config_06.jpg&quot;
        width=&quot;1200&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ ·æŸä¸ª Key å¦‚æœæœ‰æ–°çš„ Value äº†ï¼Œåªéœ€åœ¨å¯¹åº”çš„ Key åé¢ append å³å¯ã€‚æ­¤æ—¶éœ€è¦åŒæ­¥æ›´æ–°è®¾å¤‡çš„ç´¢å¼•ï¼Œè¿™å—å¯èƒ½èŠ±ä¸€ç‚¹æ—¶é—´ï¼Œå¦‚æœæ•°æ®éƒ½åœ¨å†…å­˜çš„è¯å…¶å®ä¹Ÿè¿˜å¥½ï¼ˆç”±äºåªæ˜¯å­˜ç´¢å¼•ï¼Œå› æ­¤è¿™äº›æ•°æ®é‡å†…å­˜ hold å¾—ä½ï¼‰ï¼ŒæŒä¹…åŒ–å¯ä»¥å¼‚æ­¥è¿›è¡Œã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;liu-liang&quot;&gt;æµé‡&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸Šé¢å·²ç»è¯´è¿‡ï¼Œå•ä¸ªè®¾å¤‡çš„é‡å¯ä»¥è¾¾åˆ° 100Kï¼Œå¦‚æœæ¯æ¬¡é…ç½®æœ‰æ›´æ–°å°±å‘é€ 100K çš„æ•°æ®å¯¹åˆ°è¾¾ç‡ä¼šæœ‰ä¸€å®šå½±å“ï¼Œå°¤å…¶åœ¨è®¾å¤‡ç½‘ç»œæƒ…å†µä¸ä½³çš„æƒ…å†µä¸‹ã€‚å› æ­¤è¿™é‡Œçš„ç›®æ ‡æ˜¯å¦‚ä½•å‡å°‘æ•°æ®ä¼ è¾“é‡ï¼ŒåŒæ—¶å°½é‡é¿å…æå‡å¤æ‚åº¦ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;dui-shu-ju-jin-xing-ya-suo&quot;&gt;å¯¹æ•°æ®è¿›è¡Œå‹ç¼©&lt;&#x2F;h5&gt;
&lt;p&gt;è¿™æ˜¯æ¯”è¾ƒç®€å•åŒæ—¶æ•ˆæœä¹Ÿä¸é”™çš„æ–¹æ³•ï¼Œè¿™é‡Œéœ€è¦è€ƒè™‘çš„å‡ ä¸ªç‚¹æ˜¯å‹ç¼©æ¯”å’Œå‹ç¼©&#x2F;è§£å‹ç¼©é€Ÿç‡ä»¥åŠèµ„æºæ¶ˆè€—ã€‚å‚è€ƒ&lt;a href=&quot;https:&#x2F;&#x2F;catchchallenger.first-world.info&#x2F;wiki&#x2F;Quick_Benchmark:_Gzip_vs_Bzip2_vs_LZMA_vs_XZ_vs_LZ4_vs_LZO&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ï¼Œå¯ä»¥å‘ç° &lt;code&gt;lz4&lt;&#x2F;code&gt; åœ¨å‹ç¼©&#x2F;è§£å‹ç¼©æ—¶é—´ä¸Šéå¸¸æœ‰ä¼˜åŠ¿ï¼ŒåŒæ—¶èµ„æºå ç”¨ä¹Ÿå¾ˆå°‘ï¼Œå°±æ˜¯å‹ç¼©æ¯”ä¸å¤ªé«˜ã€‚è€Œ &lt;code&gt;lzma&lt;&#x2F;code&gt; åˆ™æœ‰æ›´é«˜çš„å‹ç¼©æ¯”ï¼Œå› æ­¤å¯ä»¥å‚è€ƒä¸åŒçš„åœºæ™¯æ¥é€‰æ‹©åˆé€‚çš„å‹ç¼©æ–¹æ¡ˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™è¿˜ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ¯æ¬¡è¯·æ±‚éƒ½è¿›è¡Œå‹ç¼©ï¼Œæ•ˆç‡å°±å¤ªä½äº†ï¼Œå› æ­¤éœ€è¦ç¼“å­˜ï¼Œç¼“å­˜çš„ Key å…¶å®å°±æ˜¯ Config Indexes çš„å“ˆå¸Œ(&lt;code&gt;hash(&#x27;1,2;2,0&#x27;)&lt;&#x2F;code&gt;)ã€‚è¿™æ ·å°±éœ€è¦å¯¹æ‰€æœ‰çš„ Config Index å­˜ä¸€ä»½å“ˆå¸Œå€¼ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå“ˆå¸Œå€¼å»æ‰¾å¯¹åº”çš„å‹ç¼©åçš„æ–‡ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;éœ€è¦è€ƒè™‘ä¸‹ç¼“å­˜å‘½ä¸­ç‡ï¼Œå¦‚æœè®¾å¤‡ä¹‹é—´å¾ˆéš¾åˆ©ç”¨ç¼“å­˜ï¼Œæ„ä¹‰å°±ä¸å¤§ã€‚åˆæ­¥ä¼°è®¡ä¸€ä¸‹ï¼Œè¿™å—é—®é¢˜åº”è¯¥ä¸å¤§ï¼Œé™¤éæ¯ä¸ªè®¾å¤‡éƒ½æœ‰ä¸€ä»½ç‹¬ç‰¹çš„é…ç½®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§å¸¸è§çš„å‡å°‘æµé‡æ–¹æ¡ˆï¼Œå°±æ˜¯ä½¿ç”¨ Diffã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;shi-yong-diff&quot;&gt;ä½¿ç”¨ Diff&lt;&#x2F;h5&gt;
&lt;p&gt;Diff çš„è¯ä¸€ç§å¤„ç†æ–¹å¼æ˜¯æŠŠ K&#x2F;V çš„ç´¢å¼•æ”¾åˆ°å®¢æˆ·ç«¯ï¼Œç„¶åæ¯”å¯¹ä¸¤ä¸ªç´¢å¼•çš„ Diffï¼Œå†æŠŠçœŸæ­£çš„ Value Diff ä¸‹å‘åˆ°å®¢æˆ·ç«¯è¿›è¡Œåˆå¹¶ã€‚è¿™æ ·å°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå®¢æˆ·ç«¯éœ€è¦ä¸ŠæŠ¥å®ƒå½“å‰çš„é…ç½®ä¸­å¿ƒçš„ç´¢å¼•å€¼ï¼Œè¿™å°±æ¶‰åŠåˆ°ä¸ŠæŠ¥æ—¶æœºï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯è½®è¯¢ã€‚æ¯”è¾ƒä½æ•ˆï¼Œä¹Ÿæ— æ³•ä¿è¯å®æ—¶ï¼Œä½†ä¸éœ€è¦ç»´æŠ¤é•¿é“¾ï¼Œå®ç°èµ·æ¥ç›¸å¯¹ç®€å•ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æœåŠ¡ç«¯åœ¨å¾—çŸ¥æ›´æ–°åï¼Œä¸»åŠ¨å‘å®¢æˆ·ç«¯è¦å½“å‰ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ Config Indexesï¼Œå¯¹æ¯”ä¹‹åå†å‘é€ Diffã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å¯¹äºç¬¬ 2) ç§æƒ…å†µï¼Œç›¸æ¯”ç›´æ¥æ¨é€ä¼šå¤šäº†ä¸€è½®é€šä¿¡ï¼ŒåŒæ—¶å¯¹äºä¸¤ç«¯éƒ½ä¼šå¢åŠ ä¸€äº›å¤æ‚åº¦(å¤„ç† Diff)ï¼Œä½†å¥½å¤„æ˜¯å¯ä»¥æœ€å¤§æˆéƒ½èŠ‚çœæ•°æ®ä¼ è¾“ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;duo-she-bei&quot;&gt;å¤šè®¾å¤‡&lt;&#x2F;h3&gt;
&lt;p&gt;å¤šè®¾å¤‡å¯¹æœåŠ¡ç«¯çš„æŒ‘æˆ˜æ¯”è¾ƒå¤§ï¼Œå¦‚æœè®¾å¤‡æ•°æ¯”è¾ƒå¤šï¼Œè€ŒæœåŠ¡å™¨èµ„æºæ¯”è¾ƒæœ‰é™ï¼Œå¯ä»¥è€ƒè™‘å®¢æˆ·ç«¯è½®è¯¢çš„æ–¹æ¡ˆï¼Œä¸è¿‡åŒæ ·è¦å¤„ç†å³°å€¼çš„æƒ…å†µï¼Œæ¯”å¦‚æŸæ¬¡ä¿ƒé”€å¯èƒ½ä¼šå¸¦æ¥å¤§é‡çš„ç¬æ—¶å¹¶å‘è¯·æ±‚ã€‚ç®€å•çš„å¤„ç†å¯ä»¥ç”¨ä»¤ç‰Œæ¡¶ç®—æ³•ï¼šæ¡¶é‡Œçš„ä»¤ç‰Œæ•°ä»£è¡¨æœåŠ¡å™¨å½“å‰çš„æ‰¿è½½èƒ½åŠ›ï¼Œæ¯æ¬¡è¯·æ±‚è¿›æ¥æ¶ˆè€—ä¸€ä¸ªä»¤ç‰Œï¼Œå¦‚æœä»¤ç‰Œæ¶ˆè€—å®Œäº†ï¼Œè¯·æ±‚ç›´æ¥æ‹’ç»ï¼Œç­‰æœåŠ¡å™¨ç¼“è¿‡æ¥äº†ï¼Œå†å¾€æ¡¶é‡ŒåŠ ä»¤ç‰Œã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;duo-wei-du&quot;&gt;å¤šç»´åº¦&lt;&#x2F;h3&gt;
&lt;p&gt;ç»´åº¦ä¹Ÿå°±æ˜¯è®¾å¤‡çš„ç‰¹å¾ï¼Œä¸€ä¸ªè®¾å¤‡ä¼šæœ‰å¤šä¸ªç‰¹å¾ï¼Œæ¯”å¦‚ &lt;code&gt;iOS 11&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;v9.3.6&lt;&#x2F;code&gt; ç­‰ï¼ŒåŒæ ·ä¸€ä¸ªç»´åº¦ä¹Ÿä¼šåŒ…å«å¤šå°è®¾å¤‡ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;how-to-architecture-config&amp;#x2F;design_config_07.jpg&quot;
        width=&quot;1200&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç»´åº¦çš„è®¾è®¡ä½¿ç”¨ Set ä¼šæ¯”è¾ƒåˆé€‚ï¼Œå› ä¸ºé¡ºåºæ— å…³ï¼Œä¸”å°†æ¥è®¾å¤‡çš„ç»´åº¦æ”¹å˜åï¼ŒæŸ¥æ‰¾èµ·æ¥ä¹Ÿä¼šå¾ˆå¿«(æ¯”å¦‚å½“è®¾å¤‡å‡çº§äº†ç‰ˆæœ¬ï¼Œå°±è¦æŠŠè®¾å¤‡ä»æ—§ç‰ˆæœ¬çš„ç»´åº¦å˜ä¸ºæ–°ç‰ˆæœ¬çš„ç»´åº¦)ã€‚æ‰€ä»¥éœ€è¦åœ¨ä¸€ä¸ªåˆé€‚çš„æ—¶æœºå»æ£€æŸ¥è®¾å¤‡çš„ç»´åº¦æ˜¯å¦éœ€è¦æ›´æ–°ï¼ŒåŒæ—¶æ£€æŸ¥æ˜¯å¦éœ€è¦å‘é€é…ç½®ï¼Œè¿™ä¸ªæ—¶æœºé€‰æ‹©åœ¨è¿æ¥å»ºç«‹å®Œæˆåå¼‚æ­¥æ‰§è¡Œæ¯”è¾ƒåˆé€‚ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;wei-du-geng-xin&quot;&gt;ç»´åº¦æ›´æ–°&lt;&#x2F;h4&gt;
&lt;p&gt;å‡å¦‚è®¾å¤‡ä»ã€Œç»´åº¦ 1ã€æ›´æ–°åˆ°äº†ã€Œç»´åº¦ 2ã€ï¼Œæ€ä¹ˆçŸ¥é“éœ€è¦æ›´æ–°å“ªäº› K&#x2F;V ï¼Ÿè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç»™ç»´åº¦ä¹Ÿå»ºä¸€å¼ è¡¨ï¼Œæ¥ä¿å­˜ Config ä¿¡æ¯ï¼ŒKey ä¸ºç»´åº¦åï¼ŒValue ä¸º Config Indexã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;æœ€ç»ˆçš„æµç¨‹å’Œè®¾è®¡å¦‚ä¸‹ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;how-to-architecture-config&amp;#x2F;design_config_08.jpg&quot;
        width=&quot;1200&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦æä¾›äº†ä¸€ç§æ¶æ„è®¾è®¡çš„æ€è·¯ï¼Œä»æœ€æ ¸å¿ƒçš„éœ€æ±‚å¼€å§‹ï¼Œéšç€åœºæ™¯çš„å˜åŒ–ï¼Œæ¥ä¸æ–­å®Œå–„ã€è°ƒæ•´è®¾è®¡ã€‚ç»“åˆå¸¸è§çš„è€ƒè™‘ç‚¹å’Œé€‚å½“çš„æ•°æ®è¯„ä¼°ï¼Œé€‰æ‹©ç›¸å¯¹ç®€å•çš„æ–¹æ¡ˆã€‚åœ¨ç»†åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œä¸€äº›é—®é¢˜å°±ä¼šæµ®ç°å‡ºæ¥ï¼Œå°½æ—©å‘ç°ï¼Œå°½æ—©è§£å†³ï¼Œç­‰åˆ°å¼€å‘ç”šè‡³ä¸Šçº¿æ‰å‘ç°å°±éº»çƒ¦äº†ï¼Œè¿™ä¹Ÿæ˜¯æ¶æ„è®¾è®¡çš„é‡è¦æ€§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€åï¼Œè¯·æœ‰é™åº¦åæ§½å›¾ç‰‡è´¨é‡ï¼Œåšä¸»å·²ç»å¾ˆåŠªåŠ›äº†Â·Â·Â·&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>è½»é‡çº§ä½é£é™© iOS Hotfix æ–¹æ¡ˆ</title>
            <pubDate>Sun, 04 Mar 2018 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/ios-lightweight-hotfix/</link>
            <guid>https://limboy.me/posts/ios-lightweight-hotfix/</guid>
            <description>&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“è‹¹æœå¯¹ Hotfix æŠ“å¾—æ¯”è¾ƒä¸¥ï¼Œå¼ºå¤§å¥½ç”¨çš„ JSPatch ä¹Ÿæˆä¸ºäº†è¿‡å»å¼ã€‚ä½†å³ä½¿æµ‹è¯•åœ°å†ç»†è‡´ï¼Œä¹Ÿéš¾ä¿çº¿ä¸Š App ä¸å‡ºé—®é¢˜ï¼Œå°é—®é¢˜è¿˜èƒ½å¿å¿ï¼Œå¤§é—®é¢˜å°±å¾—é‡æ–°èµ°å‘å¸ƒæµç¨‹ï¼Œç„¶åç­‰å¾…å®¡æ ¸é€šè¿‡ï¼Œç­‰å¾…ç”¨æˆ·å‡çº§ï¼Œå‘¨æœŸé•¿ä¸”éº»çƒ¦ã€‚å¦‚æœæœ‰ä¸€ç§æ–¹å¼ç›¸å¯¹æ¯”è¾ƒå®‰å…¨ï¼Œä¸éœ€è¦ JSPatch é‚£ä¹ˆå®Œå–„ï¼Œä½†ä¹Ÿè¶³å¤Ÿåº”ä»˜ä¸€èˆ¬åœºæ™¯ï¼Œä½¿ç”¨èµ·æ¥è¿˜æ¯”è¾ƒè½»é‡å°±å¥½äº†ï¼Œè¿™ä¹Ÿæ˜¯æœ¬æ–‡è¦æ¢è®¨çš„ä¸»é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¦è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼ŒNative å±‚åªè¦é€å‡ºä¸¤ç§èƒ½åŠ›å°±åŸºæœ¬å¯ä»¥äº†ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ä»»æ„æ–¹æ³•å‰åæ³¨å…¥ä»£ç çš„èƒ½åŠ›ï¼Œå¯èƒ½çš„è¯æœ€å¥½è¿˜èƒ½æ›¿æ¢æ‰ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è°ƒç”¨ä»»æ„ç±»&#x2F;å®ä¾‹æ–¹æ³•çš„èƒ½åŠ›ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ç¬¬ 2 ç‚¹ä¸éš¾ï¼Œåªè¦æŠŠ &lt;code&gt;[NSObject performSelector:...]&lt;&#x2F;code&gt; é‚£ä¸€å¥—é€šè¿‡ &lt;code&gt;JSContext&lt;&#x2F;code&gt; æš´éœ²å‡ºæ¥å³å¯ã€‚éš¾çš„æ˜¯ç¬¬ 1 ç‚¹ã€‚å…¶å®ç»†æƒ³ä¸€ä¸‹ï¼Œè¿™ä¸å°±æ˜¯ AOP ä¹ˆï¼Œè€Œ iOS æœ‰ä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„ AOP Library: &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;steipete&#x2F;Aspects&quot;&gt;Aspects&lt;&#x2F;a&gt;ï¼Œåªè¦æŠŠå®ƒçš„å‡ ä¸ªæ–¹æ³•é€šè¿‡ JSContext æš´éœ²ç»™ JS ä¸å°±å¯ä»¥äº†ä¹ˆï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;é€‰æ‹© Aspects çš„åŸå› æ˜¯å®ƒå·²ç»ç»è¿‡äº†éªŒè¯ï¼Œä¸å…‰æ˜¯åŠŸèƒ½ä¸Šçš„ï¼Œæ›´é‡è¦çš„æ˜¯å¯ä»¥é€šè¿‡ AppStore çš„å®¡æ ¸ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;This is stable and used in hundreds of apps since it&#x27;s part of PSPDFKit, an iOS PDF framework that ships with apps like Dropbox or Evernote.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Aspects ä½¿ç”¨å§¿åŠ¿ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[UIViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspect_hookSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(viewWillAppear:) withOptions:AspectPositionAfter usingBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;AspectInfo&amp;gt; aspectInfo, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; animated) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;View Controller &lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; will appear animated: &lt;&#x2F;span&gt;&lt;span&gt;%tu&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, aspectInfo.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, animated);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;} error:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å‰æ’ã€åæ’ã€æ›¿æ¢æŸä¸ªæ–¹æ³•éƒ½å¯ä»¥ã€‚ä½¿ç”¨ç±»çš„æ–¹å¼å¾ˆç®€å•ï¼Œ&lt;code&gt;NSClassFromString&lt;&#x2F;code&gt; å³å¯ï¼ŒSelector ä¹Ÿä¸€æ · &lt;code&gt;NSSelectorFromString&lt;&#x2F;code&gt;ï¼Œè¿™æ ·å°±èƒ½é€šè¿‡å¤–éƒ¨ä¼ å…¥ Stringï¼Œå†…éƒ¨åŠ¨æ€æ„é€  Class å’Œ Selector æ¥è¾¾åˆ° Fix çš„æ•ˆæœäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§æ–¹å¼çš„å®‰å…¨æ€§åœ¨äºï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸éœ€è¦ä¸­é—´ JS æ–‡ä»¶ï¼Œå‡†å¤‡å·¥ä½œå…¨éƒ¨åœ¨ Native ç«¯å®Œæˆã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ²¡æœ‰ä½¿ç”¨ App Store ä¸å‹å¥½çš„ç±»&#x2F;æ–¹æ³•ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;demo&quot;&gt;Demo&lt;&#x2F;h3&gt;
&lt;p&gt;å‡è®¾çº¿ä¸Šè¿è¡Œè¿™è¿™æ ·ä¸€ä¸ª Classï¼Œç”±äºç–å¿½ï¼Œæ²¡æœ‰å¯¹å‚æ•°åšæ£€æŸ¥ï¼Œå¯¼è‡´ç‰¹å®šæƒ…å†µä¸‹ä¼š Crashã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;MightyCrash: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;divideUsingDenominator:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSInteger&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;denominator&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;MightyCrash
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä¼ ä¸€ä¸ª 0 å°± gg äº†
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;divideUsingDenominator:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSInteger&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;denominator
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;denominator;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬è¦é¿å… Crashï¼Œå°±å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥ä¿®å¤&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[Felix &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fixIt&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;fixScriptString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot; \
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;fixInstanceMethodReplace(&amp;#39;MightyCrash&amp;#39;, &amp;#39;divideUsingDenominator:&amp;#39;, function(instance, originInvocation, originArguments){ \
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;    if (originArguments[0] == 0) { \
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;        console.log(&amp;#39;zero goes here&amp;#39;); \
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;    } else { \
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;        runInvocation(originInvocation); \
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;    } \
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;}); \
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[Felix &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;evalString:fixScriptString&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿è¡Œä¸€ä¸‹çœ‹çœ‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;MightyCrash &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;mc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[MightyCrash &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[mc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;divideUsingDenominator:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;result: &lt;&#x2F;span&gt;&lt;span&gt;%.3f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, result);
&lt;&#x2F;span&gt;&lt;span&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[mc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;divideUsingDenominator:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;won&amp;#39;t crash&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; output
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; result: 0.333
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Javascript log: zero goes here
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; won&amp;#39;t crash
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;It Works, æ˜¯ä¸æ˜¯æœ‰é‚£ä¹ˆç‚¹æ„æ€äº†ã€‚ä»¥ä¸‹æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ä»£ç ï¼Œä»…ä¾›å‚è€ƒã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;Aspects.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;objc&#x2F;runtime.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;JavaScriptCore&#x2F;JavaScriptCore.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;Felix: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fixIt&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;evalString:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;javascriptString&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;Felix
&lt;&#x2F;span&gt;&lt;span&gt;+ (Felix &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sharedInstance
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static&lt;&#x2F;span&gt;&lt;span&gt; Felix &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;sharedInstance &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static&lt;&#x2F;span&gt;&lt;span&gt; dispatch_once_t onceToken;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_once&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;onceToken, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        sharedInstance &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc] init];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    })&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; sharedInstance;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;evalString:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;javascriptString
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;] evaluateScript&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;javascriptString];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (JSContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static&lt;&#x2F;span&gt;&lt;span&gt; JSContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;_context;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static&lt;&#x2F;span&gt;&lt;span&gt; dispatch_once_t onceToken;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_once&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;onceToken, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        _context &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[[JSContext alloc] init];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [_context setExceptionHandler:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(JSContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context, JSValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;value) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Oops: &lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, value);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        }];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    })&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; _context;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_fixWithMethod:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;isClassMethod &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspectionOptions:&lt;&#x2F;span&gt;&lt;span&gt;(AspectOptions)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;option &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;instanceName:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;instanceName &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;selectorName:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;selectorName &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fixImpl:&lt;&#x2F;span&gt;&lt;span&gt;(JSValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;fixImpl &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span&gt; klass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSClassFromString&lt;&#x2F;span&gt;&lt;span&gt;(instanceName);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(isClassMethod) {
&lt;&#x2F;span&gt;&lt;span&gt;        klass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;object_getClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(klass)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SEL&lt;&#x2F;span&gt;&lt;span&gt; sel &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSSelectorFromString&lt;&#x2F;span&gt;&lt;span&gt;(selectorName);
&lt;&#x2F;span&gt;&lt;span&gt;    [klass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspect_hookSelector:sel withOptions:option usingBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;AspectInfo&amp;gt; aspectInfo){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [fixImpl callWithArguments:@[aspectInfo.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, aspectInfo.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;originalInvocation&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, aspectInfo.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;arguments&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    } error:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runClassWithClassName:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;className &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;selector:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;selector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj1:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;obj1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj2:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;obj2 &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span&gt; klass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSClassFromString&lt;&#x2F;span&gt;&lt;span&gt;(className);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma&lt;&#x2F;span&gt;&lt;span&gt; clang diagnostic push
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma&lt;&#x2F;span&gt;&lt;span&gt; clang diagnostic ignored &amp;quot;-Warc-performSelector-leaks&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[klass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;performSelector:NSSelectorFromString(selector) withObject:obj1 withObject:obj2&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma&lt;&#x2F;span&gt;&lt;span&gt; clang diagnostic pop
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runInstanceWithInstance:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;instance &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;selector:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;selector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj1:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;obj1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj2:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;obj2 &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma&lt;&#x2F;span&gt;&lt;span&gt; clang diagnostic push
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma&lt;&#x2F;span&gt;&lt;span&gt; clang diagnostic ignored &amp;quot;-Warc-performSelector-leaks&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[instance &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;performSelector:NSSelectorFromString(selector) withObject:obj1 withObject:obj2&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma&lt;&#x2F;span&gt;&lt;span&gt; clang diagnostic pop
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fixIt
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;fixInstanceMethodBefore&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;instanceName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, JSValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;fixImpl) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_fixWithMethod:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspectionOptions:AspectPositionBefore instanceName:instanceName selectorName:selectorName fixImpl:fixImpl&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;fixInstanceMethodReplace&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;instanceName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, JSValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;fixImpl) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_fixWithMethod:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspectionOptions:AspectPositionInstead instanceName:instanceName selectorName:selectorName fixImpl:fixImpl&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;fixInstanceMethodAfter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;instanceName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, JSValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;fixImpl) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_fixWithMethod:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspectionOptions:AspectPositionAfter instanceName:instanceName selectorName:selectorName fixImpl:fixImpl&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;fixClassMethodBefore&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;instanceName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, JSValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;fixImpl) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_fixWithMethod:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspectionOptions:AspectPositionBefore instanceName:instanceName selectorName:selectorName fixImpl:fixImpl&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;fixClassMethodReplace&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;instanceName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, JSValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;fixImpl) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_fixWithMethod:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspectionOptions:AspectPositionInstead instanceName:instanceName selectorName:selectorName fixImpl:fixImpl&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;fixClassMethodAfter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;instanceName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, JSValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;fixImpl) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_fixWithMethod:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspectionOptions:AspectPositionAfter instanceName:instanceName selectorName:selectorName fixImpl:fixImpl&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runClassWithNoParamter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;className, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runClassWithClassName:className selector:selectorName obj1:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj2:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runClassWith1Paramter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;className, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj1) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runClassWithClassName:className selector:selectorName obj1:obj1 obj2:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runClassWith2Paramters&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;className, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj1, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj2) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runClassWithClassName:className selector:selectorName obj1:obj1 obj2:obj2&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runVoidClassWithNoParamter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;className, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runClassWithClassName:className selector:selectorName obj1:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj2:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runVoidClassWith1Paramter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;className, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj1) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runClassWithClassName:className selector:selectorName obj1:obj1 obj2:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runVoidClassWith2Paramters&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;className, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj1, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj2) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runClassWithClassName:className selector:selectorName obj1:obj1 obj2:obj2&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runInstanceWithNoParamter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;instance, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runInstanceWithInstance:instance selector:selectorName obj1:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj2:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runInstanceWith1Paramter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;instance, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj1) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runInstanceWithInstance:instance selector:selectorName obj1:obj1 obj2:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runInstanceWith2Paramters&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;instance, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj1, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj2) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runInstanceWithInstance:instance selector:selectorName obj1:obj1 obj2:obj2&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runVoidInstanceWithNoParamter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;instance, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runInstanceWithInstance:instance selector:selectorName obj1:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj2:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runVoidInstanceWith1Paramter&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;instance, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj1) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runInstanceWithInstance:instance selector:selectorName obj1:obj1 obj2:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runVoidInstanceWith2Paramters&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;instance, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectorName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj1, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;obj2) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_runInstanceWithInstance:instance selector:selectorName obj1:obj1 obj2:obj2&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;runInvocation&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSInvocation &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;invocation) {
&lt;&#x2F;span&gt;&lt;span&gt;        [invocation &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;invoke&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; helper
&lt;&#x2F;span&gt;&lt;span&gt;    [[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;] evaluateScript&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;var console = {}&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;console&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;log&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;message) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Javascript log: &lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,message);
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</description>
        </item>
        
        
        <item>
            <title>App å›¾ç‰‡ä½“éªŒæŒ‡æ ‡</title>
            <pubDate>Wed, 27 Sep 2017 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/app-img-metrics/</link>
            <guid>https://limboy.me/posts/app-img-metrics/</guid>
            <description>&lt;p&gt;ç½‘ç»œå›¾ç‰‡ä½œä¸º App çš„ä¸€ä¸ªé‡è¦ç»„æˆï¼Œè‡ªç„¶ä¹Ÿéœ€è¦ä¸€äº›å…³é”®æŒ‡æ ‡æ¥è¡¡é‡ï¼Œæœ‰äº†æŒ‡æ ‡æ–¹ä¾¿çœ‹åˆ°ä¼˜åŒ–çš„æ•ˆæœã€‚ä¸è¿‡ç›®å‰è²Œä¼¼æ²¡æœ‰æ¯”è¾ƒå¹¿æ³›é‡‡ç”¨çš„æŒ‡æ ‡ï¼Œè·Ÿå…¶ä»–å…¬å¸äº¤æµæ—¶ï¼Œå½“èŠåˆ° Crash ç‡ï¼Œå¤§å®¶éƒ½æœ‰ç»Ÿä¸€çš„è®¤çŸ¥ï¼Œä½†èŠåˆ°å›¾ç‰‡ä½“éªŒï¼Œå°±å¾ˆéš¾è¿›è¡Œæ¯”è¾ƒäº†ï¼šæˆ‘ä»¬è¿™å—ä¸€ç›´éƒ½ä¸é”™ï¼Œç”¨æˆ·åé¦ˆä¹Ÿä¸å¤šã€‚ä½†äº‹å®å¯èƒ½å¹¶ä¸å¦‚æ­¤ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆå›¾ç‰‡çš„æŒ‡æ ‡ä¸å¥½å®šï¼Ÿå› ä¸ºç¯å¢ƒæ¯”è¾ƒå¤æ‚ï¼Œè¾¹ç•Œä¹Ÿä¸å¤ªå¥½ç¡®å®šï¼ˆä¸åƒ Crashï¼Œåˆ¤æ–­æ¡ä»¶éå¸¸æ¸…æ™°ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘é€Ÿæ¯”è¾ƒæ…¢ï¼Œå›¾ç‰‡å‡ºä¸æ¥æˆ–å‡ºæ¥å¾—å¾ˆæ…¢æ­£ä¸æ­£å¸¸ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å›¾ç‰‡æœ¬èº«å°±æ¯”è¾ƒå¤§ï¼Œä¸‹è½½è¿‡ç¨‹è‡ªç„¶å°±æ…¢äº†ï¼Œè€—æ—¶é•¿ä¸€ç‚¹ä¹Ÿæ­£å¸¸ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å³ä½¿ä¸‹è½½é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œå¦‚æœæ˜¯å•çº¿ç¨‹çš„è¯ï¼Œæ˜¾ç¤ºä¸Šä¹Ÿæ˜¯ä¸€å¼ ä¸€å¼ å‡ºæ¥ï¼Œä½“éªŒå¹¶ä¸å¥½ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æœ‰æ—¶å›¾ç‰‡å³ä½¿ä¸‹è½½æˆåŠŸäº†ï¼Œä¹Ÿæœ‰å¯èƒ½æ— æ³•æ˜¾ç¤ºã€‚&lt;&#x2F;li&gt;
&lt;li&gt;Â·Â·Â·&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å¦‚æœæŠŠå›¾ç‰‡ä»è¯·æ±‚åˆ°æ¸²æŸ“å®Œæˆä½œä¸ºä¸€ä¸ªä»»åŠ¡ï¼Œè¿™ä¸ªä»»åŠ¡çš„æˆåŠŸè·Ÿå¾ˆå¤šå› ç´ æœ‰å…³ï¼Œä½†æ ¸å¿ƒé˜»ç¢åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯ã€Œå›¾ç‰‡è¯·æ±‚ã€ï¼Œå…¶ä»–å¯ä¼˜åŒ–çš„ç©ºé—´ä¸å¤šæˆ–æ•ˆæœä¸é‚£ä¹ˆæ˜æ˜¾ï¼Œä¸”ç›¸å¯¹æˆç†Ÿï¼ˆæ¯”å¦‚åå°å¤šçº¿ç¨‹ä¸‹è½½ï¼Œæ»‘å‡ºå±å¹•æ—¶å–æ¶ˆä¸‹è½½ç­‰ï¼‰ã€‚å› æ­¤å›¾ç‰‡ä½“éªŒçš„æŒ‡æ ‡å¯ä»¥ç¼©å°èŒƒå›´ä¸ºã€Œå›¾ç‰‡è¯·æ±‚æŒ‡æ ‡ã€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è·Ÿå›¾ç‰‡è¯·æ±‚æœ€ç›¸å…³çš„å‡ ä¸ªå› ç´ ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;CDN&lt;&#x2F;li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ç½‘ç»œçŠ¶å†µ&lt;&#x2F;li&gt;
&lt;li&gt;å›¾ç‰‡å¤§å°&lt;&#x2F;li&gt;
&lt;li&gt;å›¾ç‰‡æ ¼å¼&lt;&#x2F;li&gt;
&lt;li&gt;è¯·æ±‚åè®®ï¼ˆhttp&#x2F;1.1 http&#x2F;2ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;è¿™äº›å°±å¥½åƒæ±½è½¦çš„ç¦»åˆã€æ²¹é—¨ã€åˆ¹è½¦å¯ä»¥ä¾›æˆ‘ä»¬æ§åˆ¶ï¼Œä¹Ÿéœ€è¦ä¸€ä¸ªä»ªè¡¨ç›˜æ¥çœ‹åˆ°æ§åˆ¶çš„æ•ˆæœã€‚é‚£è¿™ä¸ªä»ªè¡¨ç›˜é‡Œæ˜¾ç¤ºçš„æ˜¯ä»€ä¹ˆï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å¸Œæœ›æ˜¾ç¤ºçš„å†…å®¹èƒ½çœŸå®åœ°ä½“ç°ç”¨æˆ·çš„å›¾ç‰‡ä½“éªŒã€‚åœ¨è¿™ä¸ªå‰æä¸‹ï¼Œå¾ˆå¤šå› ç´ å°±ä¸éœ€è¦è€ƒè™‘äº†ï¼Œæ¯”å¦‚ç½‘ç»œç¯å¢ƒã€æœºå‹ç­‰ã€‚å› ä¸ºåŒæ ·ä¸€å¼ å›¾ï¼Œå¦‚æœ 3 ç§’åè¿˜æ²¡æœ‰å‡ºæ¥ï¼Œæ— è®ºæ˜¯ wifi è¿˜æ˜¯ 2Gï¼Œè¿™ä¸ªä½“éªŒå°±æ˜¯ä¸å¥½çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥ä¸‹æ¥å†æ¥çœ‹å›¾ç‰‡è¯·æ±‚ä¼šæœ‰å“ªäº›ç»“æœï¼Œå¾ˆç®€å•ï¼Œè¯·æ±‚æˆåŠŸå’Œè¯·æ±‚å¤±è´¥ã€‚è¯·æ±‚å¤±è´¥æ¯”è¾ƒå¥½åŠï¼Œå¤±è´¥å°±æ˜¯å¤±è´¥äº†ï¼Œè®°å½•ä¸€ä¸‹å³å¯ã€‚é‚£ä¹ˆè¯·æ±‚æˆåŠŸè¯¥æ€ä¹ˆç»†åˆ†å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“åœ¨ web æ—¶ä»£ï¼Œå¦‚æœé¡µé¢ 3 ç§’æ²¡æœ‰å‡ºæ¥ï¼Œç”¨æˆ·ç¦»å¼€ç½‘é¡µçš„å¯èƒ½æ€§å°±ä¼šé«˜å¾ˆå¤šã€‚åœ¨å›¾ç‰‡é¢†åŸŸæ²¡æœ‰ç›¸å¯¹æƒå¨çš„å€¼ï¼Œå› æ­¤ç»“åˆçœŸå®ä½“éªŒï¼Œæ‹Ÿå®šäº†ä»¥ä¸‹çš„ä½“éªŒæŒ‡æ ‡ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;å›¾ç‰‡è¯·æ±‚å¤±è´¥ç‡:
&lt;&#x2F;span&gt;&lt;span&gt;	å›¾ç‰‡è¯·æ±‚å¤±è´¥æ¬¡æ•° &#x2F; å›¾ç‰‡è¯·æ±‚æ¬¡æ•°
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;å›¾ç‰‡è¯·æ±‚è€—æ—¶ï¼š
&lt;&#x2F;span&gt;&lt;span&gt;	ä¼˜: è€—æ—¶åœ¨ (0, 1] çš„æ¬¡æ•° &#x2F; å›¾ç‰‡è¯·æ±‚æ¬¡æ•°
&lt;&#x2F;span&gt;&lt;span&gt;	è‰¯: è€—æ—¶åœ¨ (1, 2] çš„æ¬¡æ•° &#x2F; å›¾ç‰‡è¯·æ±‚æ¬¡æ•°
&lt;&#x2F;span&gt;&lt;span&gt;	ä¸­: è€—æ—¶åœ¨ (2, 3] çš„æ¬¡æ•° &#x2F; å›¾ç‰‡è¯·æ±‚æ¬¡æ•°
&lt;&#x2F;span&gt;&lt;span&gt;	å·®: è€—æ—¶åœ¨ (3, âˆ) çš„æ¬¡æ•° &#x2F; å›¾ç‰‡è¯·æ±‚æ¬¡æ•°
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç”±äºçœŸå®ç¯å¢ƒä¸‹å›¾ç‰‡è¯·æ±‚æ¬¡æ•°ä¼šå¾ˆå¤§ï¼Œå› æ­¤å¯ä»¥è®¾ç½®é‡‡æ ·ç‡ï¼Œæ¯”å¦‚ &lt;code&gt;1&#x2F;1000&lt;&#x2F;code&gt;ï¼Œä¹Ÿå°±æ˜¯ 1000 æ¬¡å›¾ç‰‡è¯·æ±‚è®°å½• 1 æ¬¡ï¼Œå°†æ ·æœ¬é‡ç¼©åˆ°æ°å½“çš„èŒƒå›´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰äº†è¿™ 5 ä»½æ•°æ®ï¼Œå¯¹äºçº¿ä¸Šçš„å›¾ç‰‡ä½“éªŒå°±èƒ½æœ‰ä¸€å®šçš„äº†è§£äº†ï¼Œæ¥ä¸‹æ¥å¯ä»¥é’ˆå¯¹æ¯ä»½æ•°æ®è¿›è¡Œä¸åŒç»´åº¦çš„æ•°æ®èšåˆï¼Œæ¯”å¦‚ï¼šåŸå¸‚ã€ç½‘ç»œç±»å‹ã€é¡µé¢ URLã€error_codeã€CDN ç­‰ã€‚å¦‚æœæŸä¸ªåŸå¸‚çš„å›¾ç‰‡è®¿é—®å‡ºäº†é—®é¢˜ï¼Œå°±èƒ½å¾ˆå¿«çŸ¥é“ï¼Œæˆ–è€…æŸä¸ª CDN è°ƒæ•´ä¹Ÿèƒ½å¿«é€Ÿå®šä½ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åŒæ—¶å¯ä»¥å¯¹æ¯ä»½æ•°æ®çš„å‰ N ä½ Top ç”¨æˆ·è¿›è¡Œè®°å½•ï¼Œå› ä¸ºæœ‰å¯èƒ½æŸå‡ ä¸ªç”¨æˆ·å‘ç”Ÿå¼‚å¸¸ï¼Œè´¡çŒ®äº†å¤§éƒ¨åˆ†çš„æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è¿™äº›æŒ‡æ ‡çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥å†ä»å›¾ç‰‡å¤§å°ã€å°ºå¯¸ã€CDNã€ç½‘ç»œè¯·æ±‚ç­‰ç»´åº¦è¿›è¡Œä¼˜åŒ–ï¼Œæ–¹ä¾¿éªŒè¯æ•ˆæœã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>The Right Way to Architect iOS App with Swift</title>
            <pubDate>Thu, 22 Jun 2017 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/the-right-way-to-ios-architecture/</link>
            <guid>https://limboy.me/posts/the-right-way-to-ios-architecture/</guid>
            <description>&lt;p&gt;å…³äº iOS æ¶æ„çš„æ–‡ç« æ„Ÿè§‰å·²ç»æ³›æ»¥äº†ï¼Œå‰ä¸€é˜µæ­£å¥½ Android å®˜æ–¹æ¨äº†ä¸€å¥— &lt;a href=&quot;https:&#x2F;&#x2F;developer.android.com&#x2F;topic&#x2F;libraries&#x2F;architecture&#x2F;guide.html&quot;&gt;App Architecture&lt;&#x2F;a&gt; ï¼Œäºæ˜¯å°±åœ¨æƒ³ï¼Œå¯¹äº iOS æ¥è¯´ï¼Œæ€æ ·çš„æ¶æ„æ‰æ˜¯æœ€é€‚åˆçš„ã€‚å¸¦ç€è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¼€å§‹äº†æ¢ç´¢ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;why-architecture-matters&quot;&gt;Why Architecture Matters?&lt;&#x2F;h2&gt;
&lt;p&gt;è¿™æ˜¯ç¬¬ä¸€ä¸ªä¹Ÿæ˜¯æœ€é‡è¦çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°å„ç§ Architecture Patternï¼ŸçœŸçš„é‚£ä¹ˆé‡è¦ä¹ˆï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥æƒ³ä¸€ä¸‹ï¼Œæ— è®ºæ˜¯åšä¸€ä¸ª App è¿˜æ˜¯æ­ä¸€å¥—åå°ç³»ç»Ÿï¼Œå¦‚æœæ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä»Šå¤©ç”¨å®Œæ˜å¤©å°±å¯ä»¥æ‰”æ‰ï¼Œé‚£ä¹ˆæ€ä¹ˆå¿«æ€ä¹ˆæ¥ï¼Œä»£ç é‡å¤ã€ä»£ç é€»è¾‘ã€ä»£ç æ ¼å¼ç»Ÿç»Ÿä¸é‡è¦ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§åœºæ™¯æ¯”è¾ƒé€‚åˆé»‘å®¢é©¬æ‹‰æ¾ï¼Œè€ŒçœŸå®æƒ…å†µå¾€å¾€æ˜¯æˆ‘ä»¬çš„ä»£ç éœ€è¦ä¸Šçº¿ï¼Œè¦å¯¹ç”¨æˆ·è´Ÿè´£ï¼Œè€Œä¸€å¥—å¥½çš„æ¶æ„ä¼šè®©è¿™äº›äº‹æƒ…å˜å¾—æ›´åŠ å®¹æ˜“ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;hao-de-jia-gou-jian-ji-qie-zheng-ji&quot;&gt;å¥½çš„æ¶æ„ç®€æ´ä¸”æ•´æ´&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;s3.mogucdn.com&#x2F;mlcdn&#x2F;c45406&#x2F;170619_4e7gif674kdad56l6iek5lj8i7dl9_984x329.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¯´åˆ°æ¶æ„ï¼Œå¾€å¾€ä¼šæƒ³åˆ°å»ºç­‘ï¼Œè½¯ä»¶æ¶æ„è·Ÿå»ºç­‘ä¸åŒçš„ç‚¹æ˜¯è½¯ä»¶æ¶æ„ä¼šéšç€æ—¶é—´çš„æ¨ç§»è¿›è¡Œæ¼”è¿›ï¼Œè€Œå®ä½“å»ºç­‘åˆ™æ²¡è¿™ä¸ªç‰¹æ€§ã€‚æŠ›å¼€æ—¶é—´ç»´åº¦ï¼Œè¿™äºŒè€…è¿˜æ˜¯æœ‰ä¸€å®šçš„ç›¸ä¼¼æ€§çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¥½çš„æ¶æ„å®¹æ˜“å‚¬ç”Ÿå¥½çš„ä»£ç ï¼Œå°±åƒä½åœ¨å¹²å‡€æ•´æ´çš„æˆ¿å­é‡Œï¼Œä¼šä¸‹æ„è¯†åœ°è®©å…¶ä¸­çš„å®¶å…·ã€ç”µå™¨ã€æ‘†é¥°ç­‰ä¹Ÿäº•äº•æœ‰æ¡ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;hao-de-jia-gou-rang-dai-ma-geng-jia-rong-yi-wei-hu&quot;&gt;å¥½çš„æ¶æ„è®©ä»£ç æ›´åŠ å®¹æ˜“ç»´æŠ¤&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸å®¹æ˜“ç»´æŠ¤çš„ä»£ç å¾€å¾€æœ‰è¿™ä¹ˆå‡ ä¸ªç‰¹ç‚¹ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;æŠ½è±¡ç¨‹åº¦ä½&lt;&#x2F;li&gt;
&lt;li&gt;èŒè´£ä¸æ˜ç¡®&lt;&#x2F;li&gt;
&lt;li&gt;å–œæ¬¢èµ°æ·å¾„&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å¥½çš„æ¶æ„èƒ½å¯¹ 2 å’Œ 3 æœ‰ä¸€å®šçš„ä½œç”¨ï¼Œå¯¹äºç¬¬ 1 ç‚¹è¿˜æ˜¯è¦çœ‹ç¨‹åºå‘˜çš„èƒ½åŠ›å’Œç»éªŒã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;chou-xiang-cheng-du-di&quot;&gt;æŠ½è±¡ç¨‹åº¦ä½&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™æ ·çš„ä»£ç å¾€å¾€æ˜¯å‘½ä»¤å¼ç¼–ç¨‹äº§ç”Ÿçš„ï¼Œä¹Ÿå°±æ˜¯åƒ CPU é‚£æ ·çš„æ€è€ƒæ–¹å¼ï¼ŒæŠŠäº§å“ç»ç†çš„éœ€æ±‚ç›´è§‚åœ°ç¿»è¯‘æˆä»£ç ï¼Œè€Œä¸å¯¹å…¶ä¸­çš„å…±æ€§ã€æœ¬è´¨è¿›è¡ŒæŠ½ç¦»å’ŒæŠ½è±¡ï¼Œæ—¶é—´ä¸€é•¿å°±å®¹æ˜“çœ‹ä¸æ‡‚å…¶ä¸­çš„é€»è¾‘ï¼Œéœ€æ±‚ä¸€å˜å°±è¦æ”¹æ ¸å¿ƒä»£ç ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼Œä¸çŸ¥é“å…·ä½“è¦å®Œæˆä»€ä¹ˆä»»åŠ¡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;ww1.sinaimg.cn&#x2F;large&#x2F;afe37136gy1fgtcs43v88j20nk0damzy.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zhi-ze-bu-ming-que&quot;&gt;èŒè´£ä¸æ˜ç¡®&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯äº§ç”Ÿã€Œä¸€å¤§å¨ä»£ç ã€çš„åŸå› ä¹‹ä¸€ï¼Œå°±åƒ MVC æ¨¡å¼é‡Œï¼Œæ²¡æœ‰è¯´æ˜ç”¨æˆ·çš„æ“ä½œåº”è¯¥åœ¨å“ªé‡Œå¤„ç†ï¼Œä¸šåŠ¡é€»è¾‘æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œè¿™æ ·å°±å®¹æ˜“èµ°æ·å¾„ï¼Œæ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆæ¥ï¼Œè€Œè¶Šæ˜¯æ–¹ä¾¿åˆ°åæ¥å°±è¶Šå®¹æ˜“å‡ºé—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;xi-huan-zou-jie-jing&quot;&gt;å–œæ¬¢èµ°æ·å¾„&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™æ˜¯æˆ‘ä»¬çš„å¤©æ€§ï¼Œæ¯•ç«Ÿèƒ½å¤Ÿæ›´å¿«æ›´æ–¹ä¾¿åœ°è¾¾åˆ°ç›®æ ‡ï¼Œä¸ºä»€ä¹ˆä¸åšå‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬éƒ½çŸ¥é“ã€Œé€šçŸ¥ã€ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œæ‰€æœ‰æ¶‰åŠåˆ°å•å‘æ•°æ®ä¼ é€’çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ¯”å¦‚ Cell é€šè¿‡é€šçŸ¥å‘ VC ä¼ é€’ç‚¹å‡»äº‹ä»¶ä¿¡æ¯ã€Model é€šè¿‡é€šçŸ¥å‘ VC ä¼ é€’æ•°æ®ä¿¡æ¯ã€VC ä¹‹é—´é€šè¿‡é€šçŸ¥è¿›è¡Œè§£è€¦ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åˆæ¯”å¦‚å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨ VC å­˜å‚¨çŠ¶æ€ä¿¡æ¯ï¼Œæ…¢æ…¢åœ° VC é‡Œè¿™äº›çŠ¶æ€å˜é‡å°±å¤šäº†èµ·æ¥ï¼Œåˆ°åæ¥è¦ç»´æŠ¤è¿™äº›å˜é‡å°±å˜å¾—éå¸¸å›°éš¾ï¼Œå‡ºäº†é—®é¢˜ä¹Ÿä¸å¥½æ’æŸ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Clojure çš„ä½œè€… Rich Hickey æœ‰ä¸€ä¸ªéå¸¸è‘—åçš„ &lt;a href=&quot;https:&#x2F;&#x2F;www.infoq.com&#x2F;presentations&#x2F;Simple-Made-Easy&quot;&gt;Simple Made Easy&lt;&#x2F;a&gt; åˆ†äº«&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;Simple is often erroneously mistaken for easy. &amp;quot;Easy&amp;quot; means &amp;quot;to be at hand&amp;quot;, &amp;quot;to be approachable&amp;quot;. &amp;quot;Simple&amp;quot; is the opposite of &amp;quot;complex&amp;quot; which means &amp;quot;being intertwined&amp;quot;, &amp;quot;being tied together&amp;quot;. Simple != easy.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Simple æ˜¯æˆ‘ä»¬æ‰€è¿½æ±‚çš„ï¼Œè€Œ Easy å¾€å¾€ä¼šè®©äº‹æƒ…å¾€åæ–¹å‘å‘å±•ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;hao-de-jia-gou-neng-gou-fu-gai-da-duo-shu-chang-jing&quot;&gt;å¥½çš„æ¶æ„èƒ½å¤Ÿè¦†ç›–å¤§å¤šæ•°åœºæ™¯&lt;&#x2F;h3&gt;
&lt;p&gt;äº§å“ç»ç†ï¼šè€æ¿è¯´è¦åšä¸€ä¸ªæ’åº§ï¼Œå…·ä½“æ€ä¹ˆå®ç°æˆ‘ä¸ç®¡ï¼Œä¸‹å‘¨ä¸€å°±è¦ã€‚æ‹¿åˆ°è¿™ä¸ªéœ€æ±‚ä¹‹åï¼Œä½ è§‰å¾—å¾ˆç®€å•ï¼Œå®Œç¾ç¬¦åˆéœ€æ±‚ï¼Œå°±åƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;ww1.sinaimg.cn&#x2F;large&#x2F;afe37136gy1fgtctgc56dj206u06ujrp.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯æ˜¯å¥½æ™¯ä¸é•¿ï¼Œè€æ¿æ–°ä¹°äº†ä¸€ä¸ªç”µè„‘ï¼Œåªæ”¯æŒä¸¤ç›¸çš„æ’åº§ï¼Œè€Œä¸”ç°åœ¨å°±è¦ï¼Œä½œä¸ºå·¥ç¨‹å¸ˆï¼Œä½ ä¸èƒ½è¢«è¿™ä¹ˆç®€å•æœ´å®çš„éœ€æ±‚éš¾å€’ï¼Œäºæ˜¯ç¨å¾®åŠ¨äº†ä¸‹è„‘ç­‹ï¼Œå°±å‡ºäº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;ww1.sinaimg.cn&#x2F;large&#x2F;afe37136gy1fgtctvnyggj206c065dhe.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è™½ç„¶ä¸‘é™‹ï¼Œä½†æ˜¯å¯ä»¥å·¥ä½œã€‚ä½†æˆ‘ä»¬çš„ç›®æ ‡ä¸åªæ˜¯å¯ä»¥å·¥ä½œï¼ˆç´§æ€¥æƒ…å†µé™¤å¤–ï¼‰ï¼Œæ›´è¦ä¼˜é›…åœ°å·¥ä½œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸¾ä¸€ä¸ªç°å®çš„ä¾‹å­ï¼Œæ¯”å¦‚é¡µé¢é—´æ”¯æŒé€šè¿‡ Router è¿›è¡Œè·³è½¬ï¼Œä½†æœ‰ä¸€å¤©å‘ç°æœ‰é¡µé¢é—´é€šä¿¡çš„éœ€æ±‚ï¼Œç„¶åå°±ä¼šå‡ºæ¥ä¸€äº› trick çš„è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚å‘é€šçŸ¥æˆ–è€…ç»™ Router åŠ ä¸€ä¸ª &lt;code&gt;- (id)objectForURL:&lt;&#x2F;code&gt; çš„æ–¹æ³•ï¼Œæœ¬è´¨ä¸Šè·Ÿä¸Šå›¾çš„è§£å†³æ–¹æ¡ˆæ²¡ä»€ä¹ˆåŒºåˆ«ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;hao-de-jia-gou-neng-gou-ti-sheng-kai-fa-xiao-lu-fang-bian-ding-wei-wen-ti&quot;&gt;å¥½çš„æ¶æ„èƒ½å¤Ÿæå‡å¼€å‘æ•ˆç‡ï¼Œæ–¹ä¾¿å®šä½é—®é¢˜&lt;&#x2F;h3&gt;
&lt;p&gt;å¥½çš„æ¶æ„èƒ½å¤Ÿæ”¯æŒå¤šäººå¹¶è¡Œå¼€å‘ã€ä¸€å®šç¨‹åº¦çš„ä»£ç å¤ç”¨ã€å•å…ƒæµ‹è¯•ï¼Œå‡ºäº†é—®é¢˜èƒ½æ¯”è¾ƒæ–¹ä¾¿åœ°æ‰¾åˆ°åŸå› ã€‚è¿™å‡ ç‚¹æ˜¯æ¶æ„è¦è§£å†³çš„ä¸»è¦é—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;dang-qian-de-zhuang-tai&quot;&gt;å½“å‰çš„çŠ¶æ€&lt;&#x2F;h2&gt;
&lt;p&gt;ç›®å‰ä¸»æµçš„ä¸»è¦æœ‰ MVC å’Œ MVVMï¼ŒVIPER ç”¨çš„ä¼šå°‘ä¸€äº›ï¼Œå®ƒä»¬ä¹‹é—´çš„ä¼˜åŠ£å¯¹æ¯”è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç« æ¥äº†è§£ï¼š&lt;a href=&quot;https:&#x2F;&#x2F;blog.coding.net&#x2F;blog&#x2F;ios-architecture-patterns&quot;&gt;iOS æ¶æ„æ¨¡å¼ - ç®€è¿° MVC, MVP, MVVM å’Œ VIPER (è¯‘) - Coding åšå®¢&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç®€å•æ€»ç»“ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;MVC æ¨¡å¼è¿‡äºç®€å•ï¼Œå®šçš„æ ‡å‡†è¿‡äºç²—æ”¾ï¼Œ å®¹æ˜“æ»‹ç”Ÿæ·å¾„ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;MVVM ä¼šå¥½å¾ˆå¤šï¼Œä½†åœºæ™¯çš„è¦†ç›–è¿˜ä¸å¤Ÿå…¨ï¼Œæ¯”å¦‚ç¼ºå°‘é¡µé¢é—´è·³è½¬ï¼é€šä¿¡ã€æ•°æ®è·å–ç­‰ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;VIPER æ›´åŠ ç»†è‡´ï¼Œä½†æœ‰ç‚¹è‡ƒè‚¿ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;how-to-define-right&quot;&gt;How to Define â€œRightâ€&lt;&#x2F;h2&gt;
&lt;p&gt;æ¯ç§æ¶æ„éƒ½æœ‰è‡ªå·±çš„ç‰¹ç‚¹ï¼Œå¦‚æœè¦å®šä¹‰ã€ŒRightã€çš„è¯ï¼Œè‡³å°‘è¦ç¬¦åˆä¸€äº›æ ‡å‡†ï¼Œä»¥ä¸‹æ˜¯æˆ‘æ•´ç†çš„è§‰å¾—æ¯”è¾ƒé‡è¦çš„å‡ æ¡ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;å°½é‡ç®€å•&lt;&#x2F;li&gt;
&lt;li&gt;ç»“æ„æ¸…æ™°&lt;&#x2F;li&gt;
&lt;li&gt;èŒè´£æ˜ç¡®&lt;&#x2F;li&gt;
&lt;li&gt;ç¬¦åˆ GUI ç¼–ç¨‹çš„ç‰¹ç‚¹&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;jin-liang-jian-dan&quot;&gt;å°½é‡ç®€å•&lt;&#x2F;h3&gt;
&lt;p&gt;ç®€å•çš„äº‹ç‰©å®¹æ˜“ç†è§£ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“æ¥å—ï¼Œç”¨çˆ±å› æ–¯å¦çš„è¯æ¥è¯´ã€Œå°½é‡ç®€å•ï¼Œä½†ä¸è¦è¿‡äºç®€å•ã€ã€‚VIPER å…¶å®å·²ç»æŒºå®Œå–„çš„äº†ï¼Œä½†å°±æ˜¯æœ‰ç‚¹å¤æ‚ï¼Œå¯ä»¥çœ‹&lt;a href=&quot;https:&#x2F;&#x2F;www.objc.io&#x2F;issues&#x2F;13-architecture&#x2F;viper&#x2F;&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;æ„Ÿå—ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jie-gou-qing-xi&quot;&gt;ç»“æ„æ¸…æ™°&lt;&#x2F;h3&gt;
&lt;p&gt;æ¸…æ™°çš„ç»“æ„è®©å¤–äººä¹Ÿèƒ½å¾ˆå¿«åœ°çŸ¥é“æ¯ä¸ªç›®å½•æ˜¯åšä»€ä¹ˆçš„ï¼Œé‡Œé¢çš„æ–‡ä»¶èµ·ç€æ€æ ·çš„ä½œç”¨ï¼Œè‡ªå·±ç»´æŠ¤èµ·æ¥ä¹Ÿæ–¹ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhi-ze-ming-que&quot;&gt;èŒè´£æ˜ç¡®&lt;&#x2F;h3&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯ &lt;code&gt;Separation of Concern&lt;&#x2F;code&gt; ï¼Œæ¯ä¸ªå•å…ƒåªéœ€è¦å…³å¿ƒè‡ªå·±çš„äº‹æƒ…ï¼Œè·Ÿå¤–éƒ¨å°½é‡è§£è€¦ï¼Œè¿™æ ·æ— è®ºæ˜¯å¯¹ä»£ç å¤ç”¨å’Œæµ‹è¯•éƒ½ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fu-he-gui-bian-cheng-de-te-dian&quot;&gt;ç¬¦åˆ GUI ç¼–ç¨‹çš„ç‰¹ç‚¹&lt;&#x2F;h3&gt;
&lt;p&gt;GUI ç¼–ç¨‹å’Œå…¶ä»–çš„éç•Œé¢ç¼–ç¨‹è¿˜æ˜¯æœ‰å·®å¼‚çš„ï¼Œå¯¹ GUI ç¼–ç¨‹çš„ç‰¹ç‚¹è¿›è¡Œåˆé€‚åœ°æŠ½è±¡ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šå½¢æˆçš„æ¶æ„æ‰æ›´æœ‰ã€Œå¯¹ã€çš„æ„Ÿè§‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘æ¯”è¾ƒè®¤åŒ &lt;code&gt;view = render(state) + handle(event)&lt;&#x2F;code&gt; è¿™ä¸ªå®šä¹‰ï¼Œview æœ¬èº«åªåšä¸¤ä»¶äº‹ï¼Œç»™ state åŒ…ä¸€å±‚æ¼‚äº®çš„å¤–è¡£ï¼ŒåŒæ—¶å¯¹ç”¨æˆ·çš„æ“ä½œåšå‡ºå“åº”ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;inspiring&quot;&gt;Inspiring&lt;&#x2F;h2&gt;
&lt;p&gt;å·®ä¸å¤šå¿ƒé‡Œæœ‰è°±äº†ï¼Œç°åœ¨æ¥çœ‹çœ‹ç›¸å…³é¢†åŸŸçš„æ¶æ„å¤§æ¦‚æ˜¯æ€æ ·çš„ï¼Œæ‰¾ç‚¹å¯å‘ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;android-architecture&quot;&gt;Android Architecture&lt;&#x2F;h3&gt;
&lt;p&gt;Android æœ€è¿‘å‡ºäº†ä¸€å¥—å®˜æ–¹æ¨èçš„&lt;a href=&quot;https:&#x2F;&#x2F;developer.android.com&#x2F;topic&#x2F;libraries&#x2F;architecture&#x2F;index.html&quot;&gt;æ¶æ„&lt;&#x2F;a&gt;ï¼ŒæŒºç»†è‡´çš„ï¼Œä¸»è¦çš„æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;developer.android.com&#x2F;topic&#x2F;libraries&#x2F;architecture&#x2F;images&#x2F;final-architecture.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¤§æ„å°±æ˜¯ &lt;code&gt;ViewModel&lt;&#x2F;code&gt; é€šè¿‡è°ƒç”¨ &lt;code&gt;Repository&lt;&#x2F;code&gt; ä» &lt;code&gt;Model&lt;&#x2F;code&gt; æˆ– &lt;code&gt;Remote&lt;&#x2F;code&gt; ä¸­è·å–æ•°æ®ï¼Œç„¶åæ”¾åˆ°å†…ç½®çš„ &lt;code&gt;LiveData&lt;&#x2F;code&gt; é‡Œï¼Œè€Œ &lt;code&gt;LiveData&lt;&#x2F;code&gt; åœ¨ &lt;code&gt;Activity&lt;&#x2F;code&gt; åˆå§‹åŒ–æ—¶å³è¢«ç»‘å®šï¼Œå› æ­¤å½“ &lt;code&gt;LiveData&lt;&#x2F;code&gt; å˜åŒ–æ—¶ï¼Œå¯ä»¥é©¬ä¸Šåé¦ˆåˆ°ç•Œé¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ç”¨æˆ·æ“ä½œç•Œé¢æ—¶ï¼Œ&lt;code&gt;Activity&lt;&#x2F;code&gt; ä¼šæ•è·åˆ°è¿™äº›äº‹ä»¶ï¼Œç„¶åè°ƒç”¨ &lt;code&gt;ViewModel&lt;&#x2F;code&gt; çš„ç‰¹å®šæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æœ€ç»ˆä¼šå¯¼è‡´ &lt;code&gt;LiveData&lt;&#x2F;code&gt; å‘ç”Ÿæ”¹å˜ï¼Œå†æ¬¡åé¦ˆåˆ°ç•Œé¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ•´ä½“ä¹Ÿæ˜¯ MVVM çš„æ¨¡å¼ï¼Œä½†ä¹Ÿæœ‰è‡ªå·±çš„ç‰¹ç‚¹ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ &lt;code&gt;LiveData&lt;&#x2F;code&gt; æ¥åšå•å‘ç»‘å®šã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;Repository&lt;&#x2F;code&gt; æ¥ç»Ÿä¸€æ•°æ®çš„äº¤äº’ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å†…ç½® &lt;code&gt;Room&lt;&#x2F;code&gt; ä½œä¸ºæŒä¹…å±‚ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å†…ç½® &lt;code&gt;ViewModel&lt;&#x2F;code&gt; ä¾›ä½¿ç”¨ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å†…ç½® &lt;code&gt;LifeCycle&lt;&#x2F;code&gt; æ¥ç®€åŒ–è·Ÿç”Ÿå‘½å‘¨æœŸç›¸å…³çš„å¯¹è±¡çš„æ“ä½œï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚ï¼ˆæ¯”å¦‚ ViewModelï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;Dagger2&lt;&#x2F;code&gt; è¿™ä¸ªä¾èµ–æ³¨å…¥å·¥å…·æ¥é¿å…ä¾èµ–ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;elm-architecture&quot;&gt;Elm Architecture&lt;&#x2F;h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Elm is a functional language that compiles to JavaScript. It competes with projects like React as a tool for creating websites and web apps. Elm has a very strong emphasis on simplicity, ease-of-use, and quality tooling.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Elm æ˜¯ä¸€ä¸ªä¸»æ‰“å‡½æ•°å¼ç¼–ç¨‹ï¼ŒåŒæ—¶é€šè¿‡å¼ºå¤§çš„ç¼–è¯‘å™¨æ¥å°½é‡ç¡®ä¿æ²¡æœ‰ runtime error çš„ç¼–ç¨‹è¯­è¨€ï¼Œè‘—åçš„ Redux å°±æ˜¯å—å®ƒå¯å‘ã€‚æ¥æ„Ÿå—ä¸‹å®ƒçš„ä»£ç ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;elm&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-elm &quot;&gt;&lt;code class=&quot;language-elm&quot; data-lang=&quot;elm&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Html &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;exposing &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Html&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;button&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;div&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;text&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Html.Events &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;exposing &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;onClick&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;main &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=
&lt;&#x2F;span&gt;&lt;span&gt;  Html&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;beginnerProgram &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{&lt;&#x2F;span&gt;&lt;span&gt; model &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; view &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; view&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; update &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; update &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;type Msg &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Increment &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span&gt;Decrement
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;update &lt;&#x2F;span&gt;&lt;span&gt;msg model &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span&gt;msg &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;of
&lt;&#x2F;span&gt;&lt;span&gt;    Increment &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;      model &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    Decrement &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;      model &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;view &lt;&#x2F;span&gt;&lt;span&gt;model &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=
&lt;&#x2F;span&gt;&lt;span&gt;  div &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span&gt; button &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span&gt; onClick Decrement &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;] [&lt;&#x2F;span&gt;&lt;span&gt; text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;-&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; div &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[] [&lt;&#x2F;span&gt;&lt;span&gt; text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span&gt;toString model&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; button &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span&gt; onClick Increment &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;] [&lt;&#x2F;span&gt;&lt;span&gt; text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;+&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¸»è¦åˆ†ä¸º 4 å—ï¼Œ&lt;code&gt;model&lt;&#x2F;code&gt; , &lt;code&gt;view&lt;&#x2F;code&gt; , &lt;code&gt;update&lt;&#x2F;code&gt; , &lt;code&gt;message&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;view å±•ç¤º model æ•°æ®ï¼ŒåŒæ—¶å°†ç”¨æˆ·çš„æ“ä½œä½œä¸º message æŠ›å‡ºã€‚&lt;&#x2F;li&gt;
&lt;li&gt;model åŒ…å«äº†é¡µé¢æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å½“ message è¢«æŠ›å‡ºæ—¶ï¼Œä¼šè‡ªåŠ¨è¿›å…¥åˆ° update æ–¹æ³•ï¼Œupdate è¿”å›çš„æ–° model è‡ªåŠ¨è¿›å…¥åˆ° view é‡Œè¢«å±•ç¤ºã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;ww1.sinaimg.cn&#x2F;large&#x2F;afe37136gy1fgtcussf1ij20e00983yw.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è·Ÿå…¶ä»–çš„å‰ç«¯æ¡†æ¶ä¸åŒï¼ŒElm ä¸å–œæ¬¢ parent-child communication, ä¹Ÿä¸æå€¡ componentsï¼Œä½œä¸ºå‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒåœ¨ä¹çš„å°±æ˜¯åˆ›å»º functionï¼Œé€šè¿‡ &lt;a href=&quot;https:&#x2F;&#x2F;guide.elm-lang.org&#x2F;reuse&#x2F;&quot;&gt;helper function&lt;&#x2F;a&gt; æ¥è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;vue-architecture&quot;&gt;Vue Architecture&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;ww1.sinaimg.cn&#x2F;large&#x2F;afe37136gy1fgtcv8rgczj20io09wq3l.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Vue ä¹Ÿæ˜¯é‡‡ç”¨çš„ MVVM æ¨¡å¼ï¼ŒæŠŠæ•°æ®ç»‘å®šåœ¨å†…éƒ¨å¤„ç†äº†ï¼Œå¯¹å¤–éƒ¨æ¥è¯´åªè¦åœ¨ &lt;code&gt;data&lt;&#x2F;code&gt; é‡Œå£°æ˜ç‰¹å®šçš„ keyï¼Œåœ¨ &lt;code&gt;view&lt;&#x2F;code&gt; é‡Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¹¶ä¸”å®æ—¶å“åº”ã€‚å¯¹äº &lt;code&gt;view&lt;&#x2F;code&gt; çš„äº‹ä»¶ï¼Œä¹Ÿä¼šæ˜ å°„åˆ° &lt;code&gt;ViewModel&lt;&#x2F;code&gt; çš„ç‰¹å®šæ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Vue çš„ &lt;code&gt;Router&lt;&#x2F;code&gt; æ˜¯æŠŠ path æ˜ å°„åˆ° component ä¸Šï¼Œçœ‹ç€ä¹Ÿæ¯”è¾ƒæ¸…æ™°ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;routes &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[
&lt;&#x2F;span&gt;&lt;span&gt;  { path: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;foo&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, component: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Foo &lt;&#x2F;span&gt;&lt;span&gt;},
&lt;&#x2F;span&gt;&lt;span&gt;  { path: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;bar&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, component: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Bar &lt;&#x2F;span&gt;&lt;span&gt;},
&lt;&#x2F;span&gt;&lt;span&gt;  { path: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;user&#x2F;:id&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, component: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;User &lt;&#x2F;span&gt;&lt;span&gt;},
&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;the-right-way-imo&quot;&gt;The Right Way (IMO)&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;mu-lu-jie-gou&quot;&gt;ç›®å½•ç»“æ„&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;ww1.sinaimg.cn&#x2F;large&#x2F;afe37136gy1fgtcvlcjgyj20dw0xg76t.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç›®å½•ç»“æ„éœ€è¦èƒ½å¤Ÿè®©ä¸åŒèŒè´£çš„æ–‡ä»¶æ‰¾åˆ°è‡ªå·±çš„å½’å±ï¼ŒåŒæ—¶å°½é‡æ¸…æ™°ã€‚è¿™ä¸ªæ˜¯æˆ‘ç›®å‰è§‰å¾—è¿˜ä¸é”™çš„åˆ†ç±»&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;External&lt;&#x2F;code&gt; ï¼šä¸€äº›ç¬¬ä¸‰æ–¹çš„ frameworkã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;Extensions&lt;&#x2F;code&gt; : é’ˆå¯¹å½“å‰ App åšçš„ä¸€äº›é’ˆå¯¹æ€§æ‰©å±•ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;Infrastructure&lt;&#x2F;code&gt; : æ¯”è¾ƒé‡è¦çš„åŸºç¡€ç»„ä»¶ï¼Œåœ¨å‰æœŸå°±è¦ç®¡æ§èµ·æ¥ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;Models&lt;&#x2F;code&gt; : å¯¹åº”æœåŠ¡ç«¯çš„ Objectsã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;Views&lt;&#x2F;code&gt; : é¡µé¢ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;Shared&lt;&#x2F;code&gt; : ä¼šåœ¨ App å†…éƒ¨è¢«å…¬ç”¨çš„éƒ¨åˆ†ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡æ§ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;Utilities&lt;&#x2F;code&gt; : ä¸€äº›å¸®åŠ©ç±»ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;architecture&quot;&gt;Architecture&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;ww1.sinaimg.cn&#x2F;large&#x2F;afe37136gy1fgtcxzpz4yj218m0mw0vs.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æœ¬è´¨ä¸Šè·Ÿ MVVM å·®ä¸å¤šï¼Œåªæ˜¯å¤šè¡¥å……äº†äº›ç»†èŠ‚ã€‚ä¹‹å‰ä¹Ÿæœ‰è€ƒè™‘è¿‡é‡‡ç”¨ ReSwift + RxSwift çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ Reduxï¼Œåæ¥å†™ä¸‹æ¥å‘ç°è¿˜æ˜¯æœ‰ç‚¹å¤æ‚ï¼šæ¯”å¦‚ä¸‹æ‹‰åˆ·æ–°çš„ 3 ä¸ª state ï¼ˆ loading &#x2F; loaded &#x2F; failedï¼‰ï¼Œaction è¦å®šä¹‰ï¼ˆæ¯•ç«Ÿè·å–æ•°æ®çš„é€»è¾‘å†™åœ¨ Action ä¸­ï¼‰ï¼Œstate ä¸­ä¹Ÿè¦å®šä¹‰ï¼ˆè§†å›¾æœ€ç»ˆå…³å¿ƒçš„æ˜¯ state çš„å˜åŒ–ï¼‰ï¼›æ²¡æœ‰å¾ˆæ–¹ä¾¿çš„ diff æ”¯æŒç­‰ã€‚äºæ˜¯å°±å›å½’åˆ°äº† MVVM æ¨¡å¼ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;viewmodel&quot;&gt;ViewModel&lt;&#x2F;h4&gt;
&lt;p&gt;ViewModel ä¸»è¦æœ‰ 3 ä¸ªèŒè´£ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ Repository è·å–&#x2F;ä¿®æ”¹æ•°æ®ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æä¾› &lt;code&gt;Observable Properties&lt;&#x2F;code&gt; ä¾› View ä½¿ç”¨ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æä¾› &lt;code&gt;Functions&lt;&#x2F;code&gt; ä¾› View è°ƒç”¨ï¼Œé€šå¸¸ä¼šå¯¼è‡´ &lt;code&gt;Observable Properties&lt;&#x2F;code&gt; çš„æ”¹å˜ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;è¿™å—ä¹Ÿç®—æ˜¯å¸¸è§„æ‰‹æ³•ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ Repository çš„åˆå§‹åŒ–ï¼Œå¦‚æœè¦æ–¹ä¾¿æµ‹è¯•çš„è¯ï¼Œæœ€å¥½æä¾›æ³¨å…¥ç‚¹ï¼ˆæ¯”å¦‚åˆå§‹åŒ–æ—¶æ³¨å…¥æˆ–æä¾› set æ–¹æ³•æ³¨å…¥ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;repository&quot;&gt;Repository&lt;&#x2F;h4&gt;
&lt;p&gt;Repository çš„èŒè´£å°±æ˜¯è·Ÿæ•°æ®æ‰“äº¤é“ï¼Œè·å–è¿œç¨‹ï¼æœ¬åœ°æ•°æ®ï¼Œå¹¶å°†å…¶è½¬æ¢æˆ Model è¿”å›ç»™ ViewModelã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ye-mian-jian-tiao-zhuan-he-tong-xin&quot;&gt;é¡µé¢é—´è·³è½¬å’Œé€šä¿¡&lt;&#x2F;h4&gt;
&lt;p&gt;ä½¿ç”¨ Router å³å¯ï¼Œå¦‚æœæ˜¯å†…éƒ¨çš„ VC ä¹‹é—´è·³è½¬ï¼Œè¿˜å¯ä»¥æºå¸¦ model ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;tong-yong-de-xiao-mo-kuai-components&quot;&gt;é€šç”¨çš„å°æ¨¡å—( Components )&lt;&#x2F;h4&gt;
&lt;p&gt;æˆ‘å‘ç°å‰ç«¯å¼€å‘é‡Œï¼Œ&lt;code&gt;Components&lt;&#x2F;code&gt; ç”¨å¾—è¿˜è›®å¤šçš„ï¼Œå®¢æˆ·ç«¯å¼€å‘å€’ä¸é‚£ä¹ˆå¸¸è§ã€‚è¿™äº›å°æ¨¡å—å…¶å®å°±æ˜¯ä¸€äº›å¯åœ¨å¤šä¸ªé¡µé¢å¤ç”¨çš„ä¸šåŠ¡ç›¸å…³çš„è§†å›¾ï¼ˆWidgetï¼‰ï¼Œå¯èƒ½å¸¦æœ‰ä¸šåŠ¡é€»è¾‘ï¼Œæ–¹ä¾¿å¤ç”¨ï¼Œæ¯”å¦‚ã€Œèµã€æŒ‰é’®ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;fu-wu-diao-yong&quot;&gt;æœåŠ¡è°ƒç”¨&lt;&#x2F;h4&gt;
&lt;p&gt;æ¯”å¦‚åœ¨è¯¦æƒ…é¡µè¦ä½¿ç”¨è´­ç‰©è½¦çš„ã€ŒåŠ è´­ã€åŠŸèƒ½ï¼Œé€šå¸¸åšæ³•æ˜¯é‡‡ç”¨ &lt;code&gt;Register Procotol&lt;&#x2F;code&gt; æ–¹å¼ï¼Œç»´æŠ¤ä¸€ä¸ª Protocol å’Œ Class çš„æ³¨å†Œè¡¨ï¼Œå¹¶ä¸”åœ¨ App å¯åŠ¨æ—¶è¿›è¡Œæ³¨å†Œã€‚æˆ‘å‘ç°ä½¿ç”¨ Swift çš„ POP å°±ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦äº†ï¼Œå…·ä½“æ€ä¹ˆåšï¼Œæˆ‘ä»¬åé¢è®²ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;demo&quot;&gt;Demo&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ª Demo æ¼”ç¤ºäº†çŸ¥ä¹æ—¥æŠ¥çš„åˆ—è¡¨å’Œè¯¦æƒ…é¡µï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;ww1.sinaimg.cn&#x2F;large&#x2F;afe37136gy1fgtcx5hukwj20lt0ijq3x.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;çœ‹èµ·æ¥è›®ç®€å•çš„ï¼Œä¸è¿‡äº‹å®å¯èƒ½å¹¶éå¦‚æ­¤ï¼Œæˆ‘ä»¬æ¥æ…¢æ…¢æ‹ä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;chu-shi-ye&quot;&gt;åˆå§‹é¡µ&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;ww1.sinaimg.cn&#x2F;large&#x2F;afe37136gy1fgtcxfxauej20af0ijwek.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;åˆšè¿›æ¥æ—¶ï¼Œä¼šå¤„äºåŸå§‹çš„ loading çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¸åŒäºä¸‹æ‹‰åˆ·æ–°ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªèŒèŒçš„ loading å›¾ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¦–å…ˆè¿™ä¸ªé¡µé¢å±äº &lt;code&gt;NewsFeed&lt;&#x2F;code&gt; é¡µï¼Œå› æ­¤åœ¨è¯¥ç›®å½•ä¸‹æ–°å»º 3 ä¸ªæ–‡ä»¶&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;|- NewsFeedViewModel.swift
&lt;&#x2F;span&gt;&lt;span&gt;|- NewsFeedViewController.swift
&lt;&#x2F;span&gt;&lt;span&gt;|- NewsFeedRepository.swift
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æœ¬ç€ view åªæ˜¯å±•ç¤º state çš„åŸåˆ™ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å¤„ç†çš„å°±æ˜¯ stateï¼Œé‚£ä¹ˆæ€ä¹ˆå¤„ç†ï¼Ÿ è¿™ä¸ª Event æ˜¯ä» View é‚£è¾¹è§¦å‘çš„ï¼Œè§¦å‘ä¹‹åï¼Œå¯¹äº View æ¥è¯´åªèƒ½æ±‚åŠ©äº ViewModelï¼Œäºæ˜¯ VM å°±æä¾›äº†ä¸€ä¸ª &lt;code&gt;initialLoading&lt;&#x2F;code&gt; æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£è¿™ä¸ª &lt;code&gt;initialLoading&lt;&#x2F;code&gt; é‡Œè¯¥åšäº›ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®ä¹Ÿå°±æ˜¯æ ¹æ® repository çš„ä¸åŒç»“æœï¼Œè®¾ç½®ä¸åŒçš„ stateï¼Œç„¶å view æ¥å“åº”è¿™äº› stateã€‚åŒæ—¶è€ƒè™‘åˆ°ä¹‹åçš„ã€Œä¸‹æ‹‰åˆ·æ–°ã€å’Œã€ŒåŠ è½½æ›´å¤šã€ï¼Œé¡ºä¾¿åˆ†ç¦»å‡ºä¸€ä¸ªé€šç”¨çš„ &lt;code&gt;loadData:&lt;&#x2F;code&gt; æ–¹æ³•&lt;&#x2F;p&gt;
&lt;h4 id=&quot;viewmodel-1&quot;&gt;ViewModel&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;initialLoading() {
&lt;&#x2F;span&gt;&lt;span&gt;        loadData(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;initial)
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;loadData(_ loadingType: LoadingType, offset: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; todo
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é‚£ä¹ˆ &lt;code&gt;Observable Properties&lt;&#x2F;code&gt; åº”è¯¥æ˜¯æ€æ ·çš„å‘¢ï¼Ÿåœ¨ OC æ—¶ä»£ï¼Œåªè¦ç®€å•çš„æš´éœ² readonly çš„ propertyï¼Œå¤–éƒ¨æ— è®ºæ˜¯ KVO è¿˜æ˜¯ RAC éƒ½èƒ½å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œç»‘å®šï¼Œåˆ°äº† swift æ—¶ä»£ï¼Œå¦‚æœè¦åš KVO å°±è¦ç»§æ‰¿ &lt;code&gt;NSObject&lt;&#x2F;code&gt;ï¼Œè¿˜è¦åŠ ä¸€ä¸ª &lt;code&gt;@dynamic&lt;&#x2F;code&gt; å‰ç¼€ï¼Œä¸ä¼˜é›…ã€‚æ¯”è¾ƒç†æƒ³çš„çŠ¶æ€æ˜¯ä½¿ç”¨ RxSwift çš„ &lt;code&gt;Observable&lt;&#x2F;code&gt; ä½œä¸ºå±æ€§ï¼Œå¤–éƒ¨åªè¦ &lt;code&gt;subscribe&lt;&#x2F;code&gt; å°±è¡Œäº†ã€‚ä¸è¿‡åœ¨å†…éƒ¨å¦‚ä½•ç»™è¿™ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt; å¡æ•°æ®åˆæœ‰ç‚¹å°é—®é¢˜ã€‚æœ€ç»ˆå†³å®šä½¿ç”¨ &lt;code&gt;Variable&lt;&#x2F;code&gt; ä½œä¸ºæš´éœ²çš„å±æ€§ï¼Œå®ƒçš„å¥½å¤„æ˜¯å†…éƒ¨ä¸éœ€è¦å†æ–°å»ºä¸€ä¸ªå˜é‡ï¼Œç›´æ¥è®¾ç½®è¿™ä¸ª &lt;code&gt;Variable&lt;&#x2F;code&gt; çš„ &lt;code&gt;value&lt;&#x2F;code&gt; å³å¯ï¼Œå¼Šç«¯å°±æ˜¯å¯¹äºä½¿ç”¨æ–¹éœ€è¦å…ˆé€šè¿‡ &lt;code&gt;asObservable()&lt;&#x2F;code&gt; è½¬ä¸€ä¸‹å†è¿›è¡Œ subscribeï¼Œå¹¶ä¸”åªè¦æ„¿æ„ï¼Œä¹Ÿå¯ä»¥è®¾ç½® &lt;code&gt;value&lt;&#x2F;code&gt; å€¼ï¼Œå­˜åœ¨è¯¯æ“ä½œçš„é£é™©ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å…ˆç®€å•èµ·è§ç”¨ &lt;code&gt;Variable&lt;&#x2F;code&gt; æ¥åšã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯è¿™ä¸ª &lt;code&gt;Variable&lt;&#x2F;code&gt; é‡Œåº”è¯¥æ”¾ä»€ä¹ˆï¼Ÿè‚¯å®šè¦æ”¾ä¸€äº›å½“å‰çš„ loading çŠ¶æ€ï¼Œæ¯”å¦‚ loadedï¼Œfailedï¼Œloading è¿™äº›ï¼Œé‚£ä¹ˆè¦ä¸è¦å¸¦ä¸Š dataï¼Ÿå¦‚æœä¸ä¸€èµ·å¸¦ä¸Š dataï¼Œé‚£ä¹ˆçŠ¶æ€çš„æ”¹å˜å’Œæ•°æ®çš„æ”¹å˜å°±ä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œæœ‰å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›å¼‚å¸¸ï¼ˆæ¯”å¦‚ view å‘ç° loading çŠ¶æ€å˜ä¸º loadedï¼Œè‡ªåŠ¨å»å–æœ€æ–°çš„ dataï¼Œä½†æ­¤æ—¶ data å¯èƒ½è¿˜æ²¡æœ‰æ”¹å˜ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘æŠŠå®ƒä»¬éƒ½æ”¾åˆ°äº†ä¸€èµ·ï¼Œé¦–å…ˆæ¥çœ‹ä¸€ä¸‹ &lt;code&gt;ResultModel&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;model&quot;&gt;Model&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„æ•°æ®ç»“æ„&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ResultModel.swift
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;enum&lt;&#x2F;span&gt;&lt;span&gt; LoadingType {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case&lt;&#x2F;span&gt;&lt;span&gt; initial, refresh, more
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;enum&lt;&#x2F;span&gt;&lt;span&gt; LoadingStatus: Equatable {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case none
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case&lt;&#x2F;span&gt;&lt;span&gt; loading
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case&lt;&#x2F;span&gt;&lt;span&gt; loaded
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case&lt;&#x2F;span&gt;&lt;span&gt; failure(Error)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static func &lt;&#x2F;span&gt;&lt;span&gt;==(lhs: LoadingStatus, rhs: LoadingStatus) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bool &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;switch&lt;&#x2F;span&gt;&lt;span&gt; (lhs, rhs) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;none&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;none&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return true
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loading, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loading):
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return true
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loaded, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loaded):
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return true
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;default&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return false
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;struct&lt;&#x2F;span&gt;&lt;span&gt; ResultModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;T&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; loadingStatus: LoadingStatus &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;none
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; loadingType: LoadingType &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= .&lt;&#x2F;span&gt;&lt;span&gt;initial
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; previousItems &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; [T]()
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; currentItems &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; [T]()
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; NewsModel.swift
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;	  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static var&lt;&#x2F;span&gt;&lt;span&gt; news:Variable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;ResultModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;NewsItem&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&amp;gt; =&lt;&#x2F;span&gt;&lt;span&gt; Variable(ResultModel())
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;initialLoading() {
&lt;&#x2F;span&gt;&lt;span&gt;        loadData(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;initial)
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;loadData(_ loadingType: LoadingType, offset: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2 å¦‚æœå½“å‰å¤„äº loading çŠ¶æ€ï¼Œå°±ä¸ç»§ç»­å¤„ç†äº†
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; (NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingStatus &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== .&lt;&#x2F;span&gt;&lt;span&gt;loading) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 3 è®¾ç½®æ–°çš„ loading ç±»å‹å’ŒçŠ¶æ€
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value
&lt;&#x2F;span&gt;&lt;span&gt;        value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingStatus &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= .&lt;&#x2F;span&gt;&lt;span&gt;loading
&lt;&#x2F;span&gt;&lt;span&gt;        value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingType &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; loadingType
&lt;&#x2F;span&gt;&lt;span&gt;        NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; value
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 4 æ¥ä¸‹æ¥å°±æ˜¯å‘ç½‘ç»œè¯·æ±‚ï¼Œæ ¹æ®ä¸åŒçš„è¯·æ±‚ç»“æœè®¾ç½® state
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;è¿™é‡Œä½¿ç”¨ &lt;code&gt;static&lt;&#x2F;code&gt; ä¸»è¦æ˜¯å‡ºäºæ–¹ä¾¿ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¿™é‡Œçº ç»“äº†ä¸€æ®µæ—¶é—´ï¼Œä¹‹å‰æ˜¯æ–°å»ºäº† 3 ä¸ª loading statusï¼ˆinitial, refresh, loadmoreï¼‰ï¼Œç„¶åæ¯ä¸ª status å†ç»†åˆ†ä¸º 3 ç§çŠ¶æ€(loading, loaded, error)ï¼Œåæ¥å‘ç°è¿™æ ·çš„è¯ï¼Œã€Œå½“å‰æ˜¯å“ªä¸ª loading statusï¼Œè¯¥ status ç›®å‰å¤„äºä»€ä¹ˆçŠ¶æ€ã€åˆ¤æ–­èµ·æ¥ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚äºæ˜¯å°±æŒ‰ç…§ç°åœ¨è¿™æ ·è¿›è¡Œäº†æ‹†åˆ†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;åœ¨è¿™é‡Œå¯¹çŠ¶æ€è¿›è¡Œæ›´æ”¹ä¹‹åï¼ŒUI é‚£è¾¹å¯ä»¥è‡ªåŠ¨æ”¶åˆ°æ›´æ–°ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¿™é‡Œä¼šè°ƒç”¨ Repository æ¥è·å–æ•°æ®ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h4 id=&quot;repository-1&quot;&gt;Repository&lt;&#x2F;h4&gt;
&lt;p&gt;Repository è¿™å—ç”±äºæ˜¯å¼‚æ­¥äº¤äº’ï¼Œå› æ­¤ç›´æ¥å°±ä¸Š RxSwift äº†ï¼Œè¿”å›ä¸€ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt; ï¼ŒVM ä½œä¸ºæ¶ˆè´¹æ–¹æ¥è®¢é˜…ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Foundation
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;RxSwift
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedRepository {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static func &lt;&#x2F;span&gt;&lt;span&gt;news(_ offset: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Observable&amp;lt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;:Any]?&amp;gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; Observable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;create({ observer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; path &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; offset&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;characters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;count &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&#x2F;api&#x2F;4&#x2F;news&#x2F;before&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;\(offset)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&#x2F;api&#x2F;4&#x2F;news&#x2F;latest&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; resource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; Resource(path: path, method: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;GET, requestBody: nil, headers: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Content-Type&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;application&#x2F;json&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;], parse: decodeJSON)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¿™ä¸ªç”¨çš„æ˜¯ chris å¼€æºçš„ç®€å•çš„ API è¯·æ±‚å°è£… http:&#x2F;&#x2F;chris.eidhof.nl&#x2F;posts&#x2F;tiny-networking-in-swift.html
&lt;&#x2F;span&gt;&lt;span&gt;            apiRequest(baseURL: URL(string: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;https:&#x2F;&#x2F;news-at.zhihu.com&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span&gt;, resource: resource, failure: { (reason, result) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;                observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;on(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;error(reason))
&lt;&#x2F;span&gt;&lt;span&gt;            }, success: { result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;                observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;on(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;next(result))
&lt;&#x2F;span&gt;&lt;span&gt;                observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;on(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;completed)
&lt;&#x2F;span&gt;&lt;span&gt;            })
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; Disposables&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;create()
&lt;&#x2F;span&gt;&lt;span&gt;        })
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œç›´æ¥è¿”å›è§£æåçš„ Modelï¼Œè¿™æ · VM é‚£è¾¹å°±ä¸ç”¨å¤„ç†äº†ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;viewmodel-diao-yong-repository&quot;&gt;ViewModel è°ƒç”¨ Repository&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 4
&lt;&#x2F;span&gt;&lt;span&gt;    NewsFeedRepository&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news(offset)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;asObservable()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: {[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unowned self&lt;&#x2F;span&gt;&lt;span&gt;] (result) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æŠŠ json è½¬æ¢ä¸º model
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; parsedResult &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;_parseResult(result: result)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value
&lt;&#x2F;span&gt;&lt;span&gt;        value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;previousItems &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è®¾ç½®å¯¹åº”çš„ value
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingType &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== .&lt;&#x2F;span&gt;&lt;span&gt;more {
&lt;&#x2F;span&gt;&lt;span&gt;            value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;previousItems &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt; (parsedResult?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news ?? [])
&lt;&#x2F;span&gt;&lt;span&gt;        } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;            value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; parsedResult?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news ?? []
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingStatus &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= .&lt;&#x2F;span&gt;&lt;span&gt;loaded
&lt;&#x2F;span&gt;&lt;span&gt;        NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; value
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;offset &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; parsedResult?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;date ?? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;        value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingStatus &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;none
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ç»Ÿä¸€è®¾ç½® valueï¼Œå¯¹å¤–éƒ¨ subscriber æ¥è¯´å°±æ˜¯åŸå­æ“ä½œ
&lt;&#x2F;span&gt;&lt;span&gt;        NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; value
&lt;&#x2F;span&gt;&lt;span&gt;    }, onError: { (error) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingStatus &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= .&lt;&#x2F;span&gt;&lt;span&gt;failure(error)
&lt;&#x2F;span&gt;&lt;span&gt;    }, onCompleted: {
&lt;&#x2F;span&gt;&lt;span&gt;    }) {
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œä½ ä¼šæ³¨æ„åˆ°æœ‰ä¸€ä¸ª &lt;code&gt;previousItems&lt;&#x2F;code&gt; å’Œ &lt;code&gt;currentItems&lt;&#x2F;code&gt; ï¼Œè¿™ä¸ªä¸»è¦æ˜¯æä¾›çµæ´»æ€§ï¼Œé¿å…æš´åŠ›çš„ &lt;code&gt;reloadData()&lt;&#x2F;code&gt; ï¼Œæ¯”å¦‚è·å–åˆ°äº†æ›´å¤šçš„æ•°æ®ä¹‹åï¼Œå¯ä»¥åª reload æ–°çš„æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;view&quot;&gt;View&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; NewsFeedViewController.swift
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewController: UITableViewController {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override func &lt;&#x2F;span&gt;&lt;span&gt;viewDidLoad() {
&lt;&#x2F;span&gt;&lt;span&gt;        handleDataChange()
&lt;&#x2F;span&gt;&lt;span&gt;        viewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;initialLoading()
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;handleDataChange() {
&lt;&#x2F;span&gt;&lt;span&gt;        NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;asObservable()
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;observeOn(MainScheduler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;instance)
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: {[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unowned self&lt;&#x2F;span&gt;&lt;span&gt;] item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingStatus &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= .&lt;&#x2F;span&gt;&lt;span&gt;loading {
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;initialLoadingIndicator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;stopAnimating()
&lt;&#x2F;span&gt;&lt;span&gt;                }
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingStatus &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== .&lt;&#x2F;span&gt;&lt;span&gt;loaded {
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¿™é‡Œè°ƒç”¨ Diff è¿™ä¸ª framework æä¾›çš„ extension
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;tableView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;animateRowChanges(oldData: item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;previousItems, newData: item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems)
&lt;&#x2F;span&gt;&lt;span&gt;                }
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingType &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== .&lt;&#x2F;span&gt;&lt;span&gt;initial &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt; item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadingStatus &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== .&lt;&#x2F;span&gt;&lt;span&gt;loading {
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;initialLoadingIndicator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;startAnimating()
&lt;&#x2F;span&gt;&lt;span&gt;                }
&lt;&#x2F;span&gt;&lt;span&gt;            })&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã€Œæ­£åœ¨åŠ è½½ã€å’Œã€Œå·²ç»åŠ è½½ã€çš„åœºæ™¯å·²ç»å¤„ç†å®Œäº†ï¼Œã€ŒåŠ è½½å¤±è´¥ã€çš„å¤„ç†ä¹Ÿç±»ä¼¼ï¼Œæ¯”å¦‚å¤±è´¥ä¹‹åæ˜¾ç¤ºä¸€ä¸ª reload buttonï¼Œç‚¹å‡» reload button ä¹‹åï¼Œå†è°ƒç”¨ä¸€ä¸‹ &lt;code&gt;viewModel.initialLoading()&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;tableview&quot;&gt;TableView&lt;&#x2F;h4&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°±æ¥çœ‹çœ‹å¦‚ä½•å¤„ç† TableView çš„æ•°æ®å±•ç¤ºï¼Œå…¶å®å°±æ˜¯æ¶ˆè´¹ VM çš„ property&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extension&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewController {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override func &lt;&#x2F;span&gt;&lt;span&gt;tableView(_ tableView: UITableView, numberOfRowsInSection section: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;count
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override func &lt;&#x2F;span&gt;&lt;span&gt;tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; UITableViewCell {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; cell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; tableView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;dequeueReusableCell(withIdentifier: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Cell&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as!&lt;&#x2F;span&gt;&lt;span&gt; NewsCell
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; newsItem: NewsItem &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems[indexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;row]
&lt;&#x2F;span&gt;&lt;span&gt;        cell&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;configure(newsItem)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; cell
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åˆ°è¿™é‡Œæœ€åŸºæœ¬çš„é¦–é¡µæ•°æ®å±•ç¤ºå°±åŸºæœ¬å®Œæˆäº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jia-zai-geng-duo&quot;&gt;åŠ è½½æ›´å¤š&lt;&#x2F;h3&gt;
&lt;p&gt;ä¹‹å‰ä¸€ç›´åœ¨çº ç»“è¿™å—åˆ°åº•è¯¥æ€ä¹ˆåšæ‰æ¯”è¾ƒåˆé€‚ï¼Œå¦‚æœç›´æ¥æŠŠ newItems append åˆ°åŸæœ‰çš„ items åˆ—è¡¨ï¼Œå½¢æˆæ–°çš„åˆ—è¡¨ï¼ŒUI é‚£è¾¹æ‹¿åˆ°ä¹‹åå°±åªèƒ½ &lt;code&gt;reloadData()&lt;&#x2F;code&gt; äº†ï¼Œæœ€å¥½èƒ½è®© UI é‚£è¾¹çŸ¥é“æ–°çš„å’Œæ—§çš„ä¹‹é—´å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Œäºæ˜¯å°±æ‰¾åˆ°äº† &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;wokalski&#x2F;Diff.swift&quot;&gt;Diff&lt;&#x2F;a&gt; è¿™ä¸ª frameworkï¼Œå®ƒèƒ½å¤Ÿå®šä½å‡ºä¸¤ä¸ª collection ä¹‹é—´çš„å·®å¼‚ï¼Œä½†å‰ææ˜¯ collection item è¦å®ç° &lt;code&gt;Equatable&lt;&#x2F;code&gt; åè®®ã€‚äºæ˜¯å°±æœ‰äº† &lt;code&gt;previousItems&lt;&#x2F;code&gt; å’Œ &lt;code&gt;currentItems&lt;&#x2F;code&gt; çš„è®¾è®¡ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xi-huan-gong-neng&quot;&gt;å–œæ¬¢åŠŸèƒ½&lt;&#x2F;h3&gt;
&lt;p&gt;å–œæ¬¢åŠŸèƒ½æœ¬è´¨ä¸Šæ˜¯ä¿®æ”¹ NewsItem çš„ &lt;code&gt;hasFaved&lt;&#x2F;code&gt; å±æ€§ï¼Œç„¶åè®© UI å¯ä»¥æ„ŸçŸ¥åˆ°è¿™ä¸ªå˜åŒ–ã€‚è¿™é‡Œé—®é¢˜å°±æ¥äº†ï¼šå¦‚ä½•å¯¹åˆ—è¡¨ä¸­çš„ä¸€ä¸ª &lt;code&gt;struct&lt;&#x2F;code&gt; è¿›è¡Œè°ƒæ•´ï¼Ÿæˆ‘ä»¬çŸ¥é“ &lt;code&gt;struct&lt;&#x2F;code&gt; æ˜¯å€¼æ‹·è´çš„ï¼Œåªè¦å‘ç”Ÿèµ‹å€¼è¡Œä¸ºï¼Œæ‹¿åˆ°çš„å°±ä¸å†æ˜¯åŸå…ˆçš„é‚£ä¸ª struct äº†ï¼ˆæ¯”å¦‚æŠŠ items é€šè¿‡å‚æ•°ä¼ é€’ï¼Œè¦ä¿®æ”¹çš„è¯å°±è¦è¿›è¡Œæ‹·è´ï¼Œé™¤éè®¾ç½®ä¸º &lt;code&gt;inout&lt;&#x2F;code&gt;ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šæ˜¯å¦‚ä½•æ“ä½œ Immutable Objectsï¼Œç„¶åå°±æƒ³åˆ°äº† &lt;a href=&quot;https:&#x2F;&#x2F;facebook.github.io&#x2F;immutable-js&#x2F;&quot;&gt;Immutable.js&lt;&#x2F;a&gt;ï¼Œå®ƒä¹Ÿæä¾›äº†ä¸€äº›ä¿®æ”¹ List çš„æ–¹æ³•ï¼Œåªä¸è¿‡éƒ½æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span&gt;{ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;List &lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;require&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;immutable&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;list &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;List&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;List&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;])]);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;list&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.setIn&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;999&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; List [ 0, 1, 2, List [ 999, 4 ] ]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å› æ­¤ï¼Œè¿™é‡Œç®€å•çš„å¤„ç†æ–¹å¼å°±æ˜¯é€šè¿‡ä¼ è¿›æ¥çš„ &lt;code&gt;newsItem&lt;&#x2F;code&gt; æ‰¾åˆ°å®ƒåœ¨ list ä¸­çš„ indexï¼ˆ&lt;code&gt;newsItem&lt;&#x2F;code&gt; å·²ç»å®ç°äº† &lt;code&gt;Equatable&lt;&#x2F;code&gt; åè®®ï¼‰ï¼Œç„¶åæŠŠä¿®æ”¹è¿‡ &lt;code&gt;hasFaved&lt;&#x2F;code&gt; å±æ€§çš„æ–°çš„ &lt;code&gt;newsItem&lt;&#x2F;code&gt; æ”¾åˆ° index ä½ç½®æ¥è¾¾åˆ°æ›¿æ¢çš„æ•ˆæœã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;toggleFav(_ newsItem: NewsItem) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if let&lt;&#x2F;span&gt;&lt;span&gt; newsIndex &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;index(of: newsItem) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; _newsItem &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems[newsIndex]
&lt;&#x2F;span&gt;&lt;span&gt;            _newsItem&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;hasFaved &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= !&lt;&#x2F;span&gt;&lt;span&gt;_newsItem&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;hasFaved
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value
&lt;&#x2F;span&gt;&lt;span&gt;            value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems[newsIndex] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; _newsItem
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; value
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;components&quot;&gt;Components&lt;&#x2F;h4&gt;
&lt;p&gt;ç”±äºæ–°é—»åˆ—è¡¨å’Œå–œæ¬¢çš„æ–°é—»åˆ—è¡¨è¡¨ç°ä¸Šä¸€è‡´ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¿›è¡Œä¸€äº›å¤ç”¨ï¼Œæ¯”å¦‚å¯ä»¥æŠŠ Cell ä½œä¸º Componentã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£å¯¹äºä¸€ä¸ª Component æ¥è¯´ï¼Œéœ€è¦å…·å¤‡å“ªäº›ç‰¹æ€§å‘¢ï¼Ÿè¿™ä¸ªå¹¶æ²¡æœ‰ä»€ä¹ˆçº¦å®šï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæˆ–å‡ ä¸ªå‡½æ•°ï¼Œå¤–éƒ¨è°ƒç”¨åä¼šè¿”å›ä¸€ä¸ª viewï¼Œæˆ–è€…æä¾›ä¸€äº› block å›è°ƒï¼Œä»…æ­¤è€Œå·²ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;truth-and-computed-properties&quot;&gt;Truth and Computed Properties&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™é‡Œçš„ &lt;code&gt;Truth&lt;&#x2F;code&gt; æ˜¯æŒ‡æœ€æºå¤´çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªæ•°ç»„ï¼Œ&lt;code&gt;Computed Properties&lt;&#x2F;code&gt; æ˜¯æŒ‡å¯¹æºå¤´æ•°æ®è¿›è¡Œæ¶ˆè´¹å¯ä»¥å¾—åˆ°çš„ç»“æœï¼Œæ¯”å¦‚æ•°ç»„çš„é•¿åº¦ï¼Œæˆ–æ•°ç»„ä¸­çš„æ­£æ•°ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ&lt;code&gt;Truth&lt;&#x2F;code&gt; å°±æ˜¯ &lt;code&gt;newsItems&lt;&#x2F;code&gt; åˆ—è¡¨ï¼Œè€Œå–œæ¬¢çš„ &lt;code&gt;newsItems&lt;&#x2F;code&gt; å°±æ˜¯ &lt;code&gt;Computed Properties&lt;&#x2F;code&gt; ã€‚å› æ­¤åªè¦ newsItems å‘ç”Ÿå˜åŒ–ï¼Œå°±é‡æ–°è®¡ç®—å–œæ¬¢çš„ NewsItemsã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span&gt;NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;asObservable()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: { item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;    NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;favedNews&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;filter { (item) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bool &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;         &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;hasFaved
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;})&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;xi-huan-gong-neng-de-view&quot;&gt;å–œæ¬¢åŠŸèƒ½çš„ View&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸»è¦å°±æ˜¯ä¸¤ä»¶äº‹ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ç‚¹å‡» Fav æŒ‰é’®æ—¶ï¼Œè°ƒç”¨ VM çš„ &lt;code&gt;toggleFav&lt;&#x2F;code&gt; æ–¹æ³•ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å½“ Fav åˆ—è¡¨æ›´æ–°æ—¶ï¼Œåˆ·æ–° TableViewã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extension&lt;&#x2F;span&gt;&lt;span&gt; FavedViewController {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;handleDataChange() {
&lt;&#x2F;span&gt;&lt;span&gt;        NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;favedNews&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;asObservable()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext:{[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unowned self&lt;&#x2F;span&gt;&lt;span&gt;] item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;tableView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;reloadData()
&lt;&#x2F;span&gt;&lt;span&gt;        })&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extension&lt;&#x2F;span&gt;&lt;span&gt; FavedViewController {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override func &lt;&#x2F;span&gt;&lt;span&gt;tableView(_ tableView: UITableView, numberOfRowsInSection section: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;favedNews&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;count
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override func &lt;&#x2F;span&gt;&lt;span&gt;tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; UITableViewCell {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; cell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; tableView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;dequeueReusableCell(withIdentifier: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Cell&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as!&lt;&#x2F;span&gt;&lt;span&gt; NewsCell
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; newsItem: NewsItem &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;favedNews&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value[indexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;row]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        cell&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;configure(newsItem) { [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unowned self&lt;&#x2F;span&gt;&lt;span&gt;] (button) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; button&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;tag &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;                button&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;tag &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;                button&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;setTitle(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;â™¥ï¸&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;normal)
&lt;&#x2F;span&gt;&lt;span&gt;            } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;                button&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;tag &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span&gt;                button&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;setTitle(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;â™¡&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;normal)
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;viewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;toggleFav(newsItem)
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;tableView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;reloadData()
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; cell
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;ye-mian-tiao-zhuan&quot;&gt;é¡µé¢è·³è½¬&lt;&#x2F;h3&gt;
&lt;p&gt;é¡µé¢é—´çš„è·³è½¬ç”¨åˆ°äº† &lt;code&gt;Router&lt;&#x2F;code&gt; ï¼Œä¹Ÿå°±æ˜¯ open ä¸€ä¸ª url å°±èƒ½åˆ°è¾¾ç‰¹å®šçš„é¡µé¢ï¼Œè¿™ä¹ˆåšçš„å¥½å¤„æ˜¯å¯ä»¥å’Œå¤–éƒ¨è·³è½¬è¿›æ¥çš„æƒ…å†µç»Ÿä¸€å¤„ç†ï¼ˆå› ä¸ºä»å¤–éƒ¨è·³åˆ°æŸä¸ª app åªèƒ½é€šè¿‡ openURLï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†åœ¨å†…éƒ¨ç›´æ¥è¾“å…¥ URL æ€»è§‰å¾—ä¸ä¼˜é›…ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ï¼Œå°†æ¥å¦‚æœè¦ä¿®æ”¹ URL ä¹Ÿä¸æ–¹ä¾¿ã€‚å› æ­¤åšäº†ä¸€ä¸ªç®€å•çš„ &lt;code&gt;Router&lt;&#x2F;code&gt; æ¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Foundation
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;UIKit
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;enum&lt;&#x2F;span&gt;&lt;span&gt; RouterTable: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case&lt;&#x2F;span&gt;&lt;span&gt; home &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;home&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case&lt;&#x2F;span&gt;&lt;span&gt; detail &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;detail&#x2F;:id&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;asController() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; UIViewController.Type {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;switch self&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;home:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;detail:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; NewsDetailViewController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt; Router {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static func &lt;&#x2F;span&gt;&lt;span&gt;to(_ route: RouterTable, parameters: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Dictionary&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;, Any&amp;gt;?) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Void &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; viewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; route&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;asController()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2.1
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if let&lt;&#x2F;span&gt;&lt;span&gt; parameters &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; parameters {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt; (key, value) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in&lt;&#x2F;span&gt;&lt;span&gt; parameters {
&lt;&#x2F;span&gt;&lt;span&gt;                viewController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;putExtra(key, value)
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;TODO: æ·»åŠ  shouldBePushed è°ƒç”¨ï¼Œæ¯”å¦‚æœ‰äº›é¡µé¢éœ€è¦å…ˆç™»å½•
&lt;&#x2F;span&gt;&lt;span&gt;        DispatchQueue&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;main&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;async {
&lt;&#x2F;span&gt;&lt;span&gt;            UINavigationController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;current()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;pushViewController(viewController, animated: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 3
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extension&lt;&#x2F;span&gt;&lt;span&gt; Router {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;parseURL(_ url: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; (RouterTable, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Dictionary&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt;?) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;TODO: add implementation
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;home, nil)
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¸»è¦åˆ†ä¸º 3 éƒ¨åˆ†ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;è¿™ä¸ªè·Ÿ vue-router é‡Œå®šä¹‰ url å’Œ components çš„å…³ç³»ä¸€æ ·ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿ç»Ÿä¸€ç®¡ç†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¿™é‡Œä¸»è¦æ˜¯æŠŠ enum è½¬æ¢ä¸ºå¯¹åº”çš„ Controllerï¼Œå› ä¸ºé™åˆ¶äº†ç±»å‹ï¼Œä¹Ÿå°±ä¸ä¼šå‡ºç°æ‰¾ä¸åˆ° VC çš„æƒ…å†µã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¿™ä¸ªæ˜¯ç”¨æ¥åº”å¯¹å¤–éƒ¨è·³è½¬è¿›æ¥çš„ URLï¼ŒæŠŠå®ƒè§£ææˆ &lt;code&gt;RouterTable&lt;&#x2F;code&gt;ï¼Œç»Ÿä¸€é€»è¾‘ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;é’ˆå¯¹ 2 é‡ç‚¹è¯´ä¸€ä¸‹ï¼Œè¿™ä¸ªæ˜¯æœ€ç®€å®ç°ï¼ŒçœŸå®åœºæ™¯ä¼šæ¯”è¿™å¤æ‚å¾—å¤šï¼Œæ¯”å¦‚æœ‰äº›é¡µé¢æ˜¯ present å‡ºæ¥çš„ï¼Œæœ‰äº›é¡µé¢ push å‰éœ€è¦å…ˆåˆ¤æ–­æ˜¯å¦ç™»å½•ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨æ„åˆ° &lt;code&gt;2.1&lt;&#x2F;code&gt; çš„éƒ¨åˆ†ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª &lt;code&gt;putExtra&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œè¿™æ˜¯æ–°æ·»åŠ çš„ä¸€ä¸ªæ‰©å±•ï¼Œå‚è€ƒäº† Android çš„ &lt;code&gt;Intent&lt;&#x2F;code&gt; &lt;code&gt;putExtra&lt;&#x2F;code&gt; ã€‚å®ç°å¦‚ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;protocol&lt;&#x2F;span&gt;&lt;span&gt; ViewCotrollerIntent {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;putExtra(_ key: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;, _ value: Any)
&lt;&#x2F;span&gt;&lt;span&gt;    func getExtra(_ key: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Any?
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;extension UIViewController: ViewCotrollerIntent {
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;private struct&lt;&#x2F;span&gt;&lt;span&gt; IntentStorage {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static var&lt;&#x2F;span&gt;&lt;span&gt; extra: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;:Any] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;putExtra(_ key: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;, _ value: Any) {
&lt;&#x2F;span&gt;&lt;span&gt;        IntentStorage&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;extra[key] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; value
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;getExtra(_ key: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Any? {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; IntentStorage&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;extra[key]
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç”±äº extension ä¸æ”¯æŒ associated propertiesï¼Œå› æ­¤ç”¨ struct åšäº†ä¸ªä¸­è½¬ã€‚è¿™æ ·ï¼ŒVC ä¹‹é—´çš„è·³è½¬å¦‚æœè¦å¸¦ä¸Šé¢å¤–çš„å‚æ•°ï¼Œåªè¦æ”¾åˆ° extra é‡Œå³å¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiang-qing-ye&quot;&gt;è¯¦æƒ…é¡µ&lt;&#x2F;h3&gt;
&lt;p&gt;è¯¦æƒ…é¡µæ¯”è¾ƒç®€å•ï¼Œåªæ˜¯å±•ç¤ºä¸€ä¸ª webviewï¼Œè¿™é‡Œæ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜æ˜¯ model æ•°æ®çš„åŒæ­¥ã€‚ç”±äºè¯¦æƒ…é¡µä¹Ÿå¯ä»¥ä¿®æ”¹ &lt;code&gt;NewsItem&lt;&#x2F;code&gt; çš„ &lt;code&gt;hasFaved&lt;&#x2F;code&gt; å±æ€§ï¼Œè¿™ä¸ªæ”¹å˜éœ€è¦èƒ½å¤Ÿå®æ—¶åŒæ­¥åˆ°åˆ—è¡¨é¡µï¼Œä¸ç„¶å°±ä¼šå‡ºç°çŠ¶æ€ä¸åŒæ­¥çš„æƒ…å†µã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™å—çš„è®¾è®¡ä¹Ÿæƒ³äº†ä¸€æ®µæ—¶é—´ï¼ŒPinterest é‡‡ç”¨çš„æ˜¯&lt;a href=&quot;https:&#x2F;&#x2F;medium.com&#x2F;@Pinterest_Engineering&#x2F;immutable-models-and-data-consistency-in-our-ios-app-d10e248bfef8&quot;&gt;é€šçŸ¥çš„æ–¹å¼&lt;&#x2F;a&gt;ï¼Œå¹¶ä¸”é¢å¤–å¼€å‘äº†ä¸€ä¸ªç”¨æ¥æ”¯æŒè¿™ç§æ–¹å¼çš„&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;pinterest&#x2F;plank&quot;&gt;åº“&lt;&#x2F;a&gt;ï¼Œä¸æƒ³æ•´çš„è¿™ä¹ˆéº»çƒ¦ã€‚æœ¬è´¨éœ€æ±‚æ˜¯ï¼šå½“ä¼ è¿‡å»çš„ model å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥æˆ‘ã€‚è€Œ RxSwift é‡Œçš„ &lt;code&gt;Variable&lt;&#x2F;code&gt; ä¸æ˜¯æ­£å¥½å¯ä»¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœä¹ˆï¼Ÿäºæ˜¯å°±æœ‰äº†åŸºäº &lt;code&gt;Variable&lt;&#x2F;code&gt; çš„è§£å†³æ–¹æ¡ˆã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extension&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewController {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override func &lt;&#x2F;span&gt;&lt;span&gt;tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; newsItem: NewsItem &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewsFeedViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;news&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;currentItems[indexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;row]
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; newsItemVariable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; Variable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;NewsItem&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;(newsItem)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¯¦æƒ…é¡µå¯èƒ½ä¼šå¯¹è¿™ä¸ª newsItemVariable è¿›è¡Œè°ƒæ•´
&lt;&#x2F;span&gt;&lt;span&gt;        newsItemVariable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;asObservable()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: { [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unowned self&lt;&#x2F;span&gt;&lt;span&gt;] item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ‰¾åˆ°è¿™ä¸ª item æ‰€åœ¨çš„ indexï¼Œå¹¶è¿›è¡Œæ›¿æ¢
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;viewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;update(item: item)
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;tableView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;reloadData()
&lt;&#x2F;span&gt;&lt;span&gt;        })&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¸¦ä¸Šè¿™ä¸ª Variable åˆ°æ–°çš„ VC
&lt;&#x2F;span&gt;&lt;span&gt;        Router&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;to(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;detail, parameters: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;model&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;: newsItemVariable])
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;xiang-qing-ye-view-de-chu-li&quot;&gt;è¯¦æƒ…é¡µ View çš„å¤„ç†&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt; NewsDetailViewController: UIViewController {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override func &lt;&#x2F;span&gt;&lt;span&gt;viewDidLoad() {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; favButton
&lt;&#x2F;span&gt;&lt;span&gt;        navigationItem&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;rightBarButtonItem &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; favButton
&lt;&#x2F;span&gt;&lt;span&gt;        favButton&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;rx&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;tap
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: { [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unowned self&lt;&#x2F;span&gt;&lt;span&gt;] item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;viewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;toggleFav()
&lt;&#x2F;span&gt;&lt;span&gt;            })
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if let&lt;&#x2F;span&gt;&lt;span&gt; id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;getExtra(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;id&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; viewModel.load(id)
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if let&lt;&#x2F;span&gt;&lt;span&gt; model &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;getExtra(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;model&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as?&lt;&#x2F;span&gt;&lt;span&gt; Variable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;NewsItem&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;            favButton&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;title &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; model&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;hasFaved &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;â™¥ï¸&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;â™¡&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;            viewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;load(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int&lt;&#x2F;span&gt;&lt;span&gt;(model&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;id))
&lt;&#x2F;span&gt;&lt;span&gt;            NewsDetailViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;newsItem &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; model
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        handleDataChange()
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 3
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;handleDataChange() {
&lt;&#x2F;span&gt;&lt;span&gt;        NewsDetailViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;newsDetail&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;asObservable()
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext:{ [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unowned self&lt;&#x2F;span&gt;&lt;span&gt;] item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if let&lt;&#x2F;span&gt;&lt;span&gt; item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; item {
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; request &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; URLRequest(url: URL(string: item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;shareURL)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;webView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;loadRequest(request)
&lt;&#x2F;span&gt;&lt;span&gt;                }
&lt;&#x2F;span&gt;&lt;span&gt;            })
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        NewsDetailViewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;newsItem?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;asObservable()
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: { [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unowned self&lt;&#x2F;span&gt;&lt;span&gt;] item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;favButton&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;title &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;hasFaved &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;â™¥ï¸&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;â™¡&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;            })
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;è¿™é‡Œä¸ºé€šè¿‡å¤–éƒ¨ URL è¿›æ¥çš„ç•™ä¸€ä¸ªå…¥å£ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;é€šè¿‡ &lt;code&gt;getExtra&lt;&#x2F;code&gt; æ‹¿åˆ° &lt;code&gt;Variable&lt;&#x2F;code&gt; åï¼Œæ¥ä¸‹æ¥å°±äº¤ç»™ VM äº†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;handleDataChange&lt;&#x2F;code&gt; åšçš„äº‹æƒ…å°±æ˜¯å“åº” VM çš„ properties çš„å˜åŒ–ï¼Œåšä¸€äº› UI ä¸Šçš„è°ƒæ•´ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;service&quot;&gt;Service&lt;&#x2F;h3&gt;
&lt;p&gt;ä¹‹å‰è¯´è¿‡ä½¿ç”¨ Swift æä¾› Service ä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œéƒ½ä¸éœ€è¦åœ¨ App å¯åŠ¨æ—¶è¿›è¡Œæ³¨å†Œï¼Œåˆ©ç”¨è‡ªå¸¦çš„ Protocol Extension å°±èƒ½è¾¾åˆ°æ•ˆæœã€‚è¿™ä¸ªä¾‹å­ä¸­æ²¡æœ‰ç”¨åˆ°ï¼Œå°±ä¸¾ä¸ªå…¶ä»–çš„ä¾‹å­å§ï¼Œä»¥è´­ç‰©è½¦ä¸ºä¾‹ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ”¾åœ¨ Services ç›®å½•ä¸‹çš„ Protocols.swift
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;protocol&lt;&#x2F;span&gt;&lt;span&gt; Cart {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public func &lt;&#x2F;span&gt;&lt;span&gt;add(_ item: Item) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bool
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&#x2F; å…·ä½“çš„å®ç°å¯ä»¥æ”¾åˆ°å¯¹åº”çš„é¡µé¢
&lt;&#x2F;span&gt;&lt;span&gt;extension Cart {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public func &lt;&#x2F;span&gt;&lt;span&gt;add(_ item: Item) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bool &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; business logic
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯¹äºæƒ³è¦ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„å¼€å‘æ¥è¯´ï¼Œåªè¦çœ‹ &lt;code&gt;Services&#x2F;Protocols.swift&lt;&#x2F;code&gt; å°±è¡Œäº†ã€‚è·Ÿ Objective-C ä¸åŒï¼Œextension é‡Œå¦‚æœæœ‰ä¸¤ä¸ªç›¸åŒçš„æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥æŠ¥é”™ï¼Œè¿™æ ·å°±é¿å…äº†è¿è¡ŒæœŸå¯èƒ½å‡ºç°å¤šä¸ªå®ç°çš„é—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;local-reasoning&quot;&gt;Local Reasoning&lt;&#x2F;h3&gt;
&lt;p&gt;Local Reasoning çš„æ„æ€æ˜¯å¯¹äºæ•°æ®çš„æ”¹åŠ¨éƒ½å‘ç”Ÿåœ¨æŸä¸€ä¸ªç‰¹å®šçš„å•å…ƒã€‚è¿™ä¹Ÿæ˜¯ä½¿ç”¨ Value Type çš„å¥½å¤„ï¼Œå› ä¸ºå¦‚æœä½¿ç”¨ Reference Typeï¼Œåªè¦æŠŠå…¶ä¸­çš„ä¸€ä¸ª Reference ç»™äº†å‡ºå»ï¼Œå°±ä¸çŸ¥é“ä»€ä¹ˆæ—¶é—´ä»€ä¹ˆåœºæ™¯ä¸‹æ•°æ®ä¼šåœ¨å¤–éƒ¨è¢«æ”¹å˜ï¼Œå°±åƒç»™äº†ä½ ä¸€å¼ é“¶è¡Œå¡ï¼Œä»Šå¤©çœ‹è¿˜å‰© 1 ä¸‡ï¼Œå¯èƒ½æ˜å¤©å†å»çœ‹å°±åªå‰© 1 åƒäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨ VM åï¼Œæ‰€æœ‰å¯¹æ•°æ®çš„æ”¹åŠ¨éƒ½å‘ç”Ÿåœ¨ VM é‡Œé¢ï¼ŒåŒæ—¶å¯¹æ•°æ®çš„æ¶ˆè´¹ä¹Ÿå°½é‡åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œæ–¹ä¾¿ç»´æŠ¤ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h2&gt;
&lt;p&gt;ä»¥ä¸Šæ˜¯æˆ‘è‡ªå·±å¯¹ã€ŒRight Architectureã€çš„ä¸€äº›ç†è§£å’Œå®è·µï¼Œå®é™…è¿‡ç¨‹ä¸­è‚¯å®šè¿˜æœ‰å¾ˆå¤šç»†èŠ‚è¦è°ƒæ•´ï¼Œå¦‚æœä½ æœ‰ä»€ä¹ˆæƒ³æ³•æ¬¢è¿äº¤æµï½&lt;&#x2F;p&gt;
&lt;h2 id=&quot;update&quot;&gt;Update&lt;&#x2F;h2&gt;
&lt;p&gt;Demo åœ¨è¿™é‡Œï¼šhttps:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;ZhihuDailyDemo&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>æ˜¯æ—¶å€™å­¦ä¹  RxSwift äº†</title>
            <pubDate>Sun, 11 Dec 2016 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/time-to-learn-rxswift/</link>
            <guid>https://limboy.me/posts/time-to-learn-rxswift/</guid>
            <description>&lt;p&gt;ç›¸ä¿¡åœ¨è¿‡å»çš„ä¸€æ®µæ—¶é—´é‡Œï¼Œå¯¹ RxSwift å¤šå°‘æœ‰è¿‡æ¥è§¦æˆ–è€³é—»ï¼Œæˆ–è€…å·²ç»ç§¯ç´¯äº†ä¸å°‘å®æˆ˜ç»éªŒã€‚æ­¤æ–‡ä¸»è¦é’ˆå¯¹é‚£äº›åœ¨é—¨å£å¾˜å¾Šï¼Œæƒ³è¿›åˆæ‹è¸©å‘çš„åŒå­¦ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wei-shi-yao-yao-xue-xi-rxswift&quot;&gt;ä¸ºä»€ä¹ˆè¦å­¦ä¹  RxSwift&lt;&#x2F;h3&gt;
&lt;p&gt;å½“å†³å®šåšä¸€ä»¶äº‹æƒ…æ—¶ï¼Œè‡³å°‘è¦çŸ¥é“ä¸ºä»€ä¹ˆã€‚RxSwift å®˜ç½‘ä¸¾äº†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveX&#x2F;RxSwift&#x2F;blob&#x2F;master&#x2F;Documentation&#x2F;Why.md&quot;&gt;å‡ ä¸ªä¾‹å­&lt;&#x2F;a&gt;ï¼Œæ¯”å¦‚å¯ä»¥ç»Ÿä¸€å¤„ç† &lt;code&gt;Delegate&lt;&#x2F;code&gt;, &lt;code&gt;KVO&lt;&#x2F;code&gt;, &lt;code&gt;Notification&lt;&#x2F;code&gt;ï¼Œå¯ä»¥ç»‘å®š UIï¼Œæ–¹ä¾¿ç½‘ç»œè¯·æ±‚çš„å¤„ç†ç­‰ç­‰ã€‚ä½†è¿™äº›æ›´å¤šçš„æ˜¯æè¿°å¯ä»¥ç”¨ RxSwift æ¥åšä»€ä¹ˆï¼Œè·Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨ RxSwift è¿˜æ˜¯ä¼šæœ‰ç‚¹ä¸åŒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥åˆ†æä¸‹ GUI ç¼–ç¨‹çš„æœ¬è´¨ï¼Œæˆ‘å–œæ¬¢æŠŠå®ƒæŠ½è±¡ä¸ºè§†å›¾å’Œæ•°æ®çš„ç»“åˆã€‚å…¶ä¸­è§†å›¾è´Ÿè´£ä¸¤ä»¶äº‹ï¼šå±•ç¤ºå’Œäº¤äº’ï¼Œå±•ç¤ºä»€ä¹ˆç”±æ•°æ®å†³å®šã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;time-to-learn-rxswift&amp;#x2F;14814474678383.jpg&quot;
        width=&quot;1276&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä¸­å•å‘æ•°æ®æµå¯ä»¥é€šè¿‡&lt;a href=&quot;http:&#x2F;&#x2F;limboy.me&#x2F;tech&#x2F;2016&#x2F;12&#x2F;04&#x2F;reswift-analyze.html&quot;&gt;ä¹‹å‰ä»‹ç»çš„ ReSwift&lt;&#x2F;a&gt; å®Œæˆã€‚çœ‹èµ·æ¥å¥½åƒæ²¡ RxSwift ä»€ä¹ˆäº‹æƒ…ï¼Œå…¶å®ä¸ç„¶ï¼ŒRxSwift å¯ä»¥åœ¨ UniDirectional Data Flow çš„å„ä¸ªé˜¶æ®µéƒ½å‘æŒ¥ä½œç”¨ï¼Œä»è€Œè®© Data çš„å¤„ç†å’ŒæµåŠ¨æ›´åŠ ç®€æ´å’Œæ¸…æ™°ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;time-to-learn-rxswift&amp;#x2F;14814474032179.jpg&quot;
        width=&quot;1272&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡å¯¹ RxCocoa çš„å„ç§å›è°ƒè¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œæ–¹ä¾¿äº†ã€ŒInteractã€çš„å¤„ç†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;é€šè¿‡å¯¹ &lt;code&gt;Observable&lt;&#x2F;code&gt; çš„ transform å’Œ compositeï¼Œæ–¹ä¾¿äº† &lt;code&gt;Action&lt;&#x2F;code&gt; çš„ç”Ÿæˆï¼ˆæ¯”å¦‚ä½¿ç”¨ &lt;code&gt;throttle&lt;&#x2F;code&gt; æ¥å‹ç¼© &lt;code&gt;Action&lt;&#x2F;code&gt;ï¼‰ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;é€šè¿‡å¯¹ç½‘ç»œè¯·æ±‚ä»¥åŠå…¶ä»–å¼‚æ­¥æ•°æ®çš„è·å–è¿›è¡Œ &lt;code&gt;Observable&lt;&#x2F;code&gt; å°è£…ï¼Œæ–¹ä¾¿äº†å¼‚æ­¥æ•°æ®çš„å¤„ç†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;é€šè¿‡ RxCocoa çš„ bindingï¼Œæ–¹ä¾¿äº†æ•°æ®çš„æ¸²æŸ“ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æ‰€ä»¥ ReSwift è§„èŒƒäº†æ•°æ®æµï¼ŒRxSwift ä¸ºæ•°æ®çš„å¤„ç†æä¾›äº†æ–¹ä¾¿ï¼Œè¿™ä¸¤ä¸ªç±»åº“çš„ç»“åˆï¼Œå¯ä»¥äº§ç”Ÿæ¸…æ™°çš„æ¶æ„å’Œæ˜“ç»´æŠ¤çš„ä»£ç ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå‰ææ˜¯å¯¹å®ƒä»¬æœ‰è¶³å¤Ÿçš„äº†è§£ï¼Œå°¤å…¶æ˜¯ RxSwiftï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yao-shi-rxswift&quot;&gt;ä»€ä¹ˆæ˜¯ RxSwift&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨ GUI ç¼–ç¨‹ä¸­ï¼Œæˆ‘è®¤ä¸ºæ¯”è¾ƒå¤æ‚çš„æœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;éåŸç”Ÿ UI æ•ˆæœçš„å®ç°ï¼ˆæ¯”å¦‚äº§å“ç»ç†ä»¬ç»å¸¸å†’å‡ºæ¥çš„å„ç§æƒ³æ³•ï¼‰ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¤§é‡çŠ¶æ€çš„ç»´æŠ¤ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¼‚æ­¥æ•°æ®çš„å¤„ç†ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;1ï¼‰ä¸åœ¨è¿™æ¬¡çš„è®¨è®ºèŒƒç•´ï¼ˆè¿™é‡Œçš„å­¦é—®ä¹Ÿå¾ˆå¤šï¼Œæ¯”å¦‚æµç•…æ€§å’Œæ€§èƒ½ï¼‰ã€‚2) å¯ä»¥é€šè¿‡å•å‘æ•°æ®æµæ¥è§£å†³ï¼ˆç»“åˆ Immutable Dataï¼‰ã€‚3) å¯ä»¥é€šè¿‡ RxSwift æ¥è§£å†³ã€‚é‚£ä¹ˆ RxSwift æ˜¯å¦‚ä½•å¤„ç†å¼‚æ­¥æ•°æ®çš„å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è¯´ RxSwift ä¹‹å‰ï¼Œå…ˆæ¥è¯´ä¸‹ Rxï¼Œ &lt;a href=&quot;http:&#x2F;&#x2F;reactivex.io&#x2F;&quot;&gt;ReactiveX&lt;&#x2F;a&gt; æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å‹ï¼Œæœ€åˆç”±å¾®è½¯å¼€å‘ï¼Œç»“åˆäº†è§‚å¯Ÿè€…æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼å’Œå‡½æ•°å¼ç¼–ç¨‹çš„ç²¾åï¼Œæ¥æ›´æ–¹ä¾¿åœ°å¤„ç†å¼‚æ­¥æ•°æ®æµã€‚å…¶ä¸­æœ€é‡è¦çš„ä¸€ä¸ªæ¦‚å¿µæ˜¯ &lt;code&gt;Observable&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå½“åˆ«äººåœ¨è·Ÿä½ è¯´è¯æ—¶ï¼Œä½ å°±æ˜¯é‚£ä¸ªè§‚å¯Ÿè€…ï¼Œåˆ«äººå°±æ˜¯é‚£ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt;ï¼Œå®ƒæœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;å¯èƒ½ä¼šä¸æ–­åœ°è·Ÿä½ è¯´è¯ã€‚ï¼ˆ&lt;code&gt;onNext:&lt;&#x2F;code&gt;ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;å¯èƒ½ä¼šè¯´é”™è¯ã€‚ï¼ˆ&lt;code&gt;onError:&lt;&#x2F;code&gt;ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;ç»“æŸä¼šè¯´è¯ã€‚ï¼ˆ&lt;code&gt;onCompleted&lt;&#x2F;code&gt;ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ä½ åœ¨å¬åˆ°å¯¹æ–¹è¯´çš„è¯åï¼Œä¹Ÿå¯ä»¥æœ‰å‡ ç§ååº”ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;æ ¹æ®è¯´çš„è¯ï¼Œåšç›¸åº”çš„äº‹ï¼Œæ¯”å¦‚å¯¹æ–¹è®©ä½ å€Ÿæœ¬ä¹¦ç»™ä»–ã€‚ï¼ˆ&lt;code&gt;subscribe&lt;&#x2F;code&gt;ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;æŠŠå¯¹æ–¹è¯´çš„è¯ï¼ŒåŠ å·¥ä¸‹å†ä¼ è¾¾ç»™å…¶ä»–äººï¼Œæ¯”å¦‚å¯¹æ–¹è¯´å°å¼ å¥½åƒä¸å¤ªèˆ’æœï¼Œä½ ä¼ è¾¾ç»™å…¶ä»–äººæ—¶å°±å˜æˆäº†å°å¼ å¤±æ‹äº†ã€‚ï¼ˆ&lt;code&gt;map:&lt;&#x2F;code&gt;ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;å‚è€ƒå…¶ä»–äººè¯´çš„è¯å†åšå¤„ç†ï¼Œæ¯”å¦‚ A è¯´æŸå®¶åº—å¾ˆå¥½åƒï¼ŒB è¯´æŸå®¶åº—ä¸€èˆ¬èˆ¬ï¼Œä½ éœ€è¦ç»“åˆä¸¤ä¸ªäººçš„æ„è§å†åšå®šå¤ºã€‚ï¼ˆ&lt;code&gt;zip:&lt;&#x2F;code&gt;ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œä»ç”Ÿæ´»ä¸­ä¹Ÿèƒ½çœ‹åˆ° Rx çš„å½±å­ã€‚ã€Œæœ‰äº›äº‹æƒ…æ€¥ä¸å¾—ï¼Œä½ å¾—ç­‰å®ƒè‡ªå·±ç†Ÿã€ï¼Œå¼‚æ­¥ï¼Œå…¶å®å°±æ˜¯è·Ÿæ—¶é—´æ‰“äº¤é“ï¼Œä¸åŒçš„æ—¶é—´ï¼Œæ‹¿åˆ°çš„æ•°æ®ä¹Ÿä¼šä¸ä¸€æ ·ã€‚å¯ä»¥&lt;a href=&quot;http:&#x2F;&#x2F;rxmarbles.com&quot;&gt;åœ¨çº¿æ„Ÿå—ä¸‹&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;time-to-learn-rxswift&amp;#x2F;14814518766811.jpg&quot;
        width=&quot;1626&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œçš„æ ¸å¿ƒæ˜¯å½“æ•°æ®æœ‰å˜åŒ–æ—¶ï¼Œèƒ½å¤Ÿç«‹åˆ»çŸ¥æ™“ï¼Œå¹¶ä¸”é€šè¿‡ç»„åˆå’Œè½¬æ¢åï¼Œå¯ä»¥å³æ—¶ä½œå‡ºå“åº”ã€‚æœ‰ç‚¹åƒå¡”é˜²ï¼Œå…ˆåœ¨è·¯ä¸Šçš„å„ä¸ªèŠ‚ç‚¹åŸ‹å¥½æ­¦å™¨ï¼Œç„¶åç­‰ç€å°æ€ªå…½ä»¬è¿‡æ¥ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;rxswift-workflow&quot;&gt;RxSwift Workflow&lt;&#x2F;h3&gt;
&lt;p&gt;å¤§è‡´åˆ†ä¸ºè¿™ä¹ˆå‡ ä¸ªé˜¶æ®µï¼šå…ˆæŠŠ Native Object å˜æˆ Observableï¼Œå†é€šè¿‡ Observable å†…ç½®çš„å„ç§å¼ºå¤§çš„è½¬æ¢å’Œç»„åˆèƒ½åŠ›å˜æˆæ–°çš„ Observableï¼Œæœ€åæ¶ˆè´¹æ–°çš„ Observable çš„æ•°æ®ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;time-to-learn-rxswift&amp;#x2F;14814540314644.jpg&quot;
        width=&quot;1448&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h4 id=&quot;native-object-observable&quot;&gt;Native Object -&amp;gt; Observable&lt;&#x2F;h4&gt;
&lt;h5 id=&quot;rx-extension&quot;&gt;.rx extension&lt;&#x2F;h5&gt;
&lt;p&gt;å‡è®¾éœ€è¦å¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œæ­£å¸¸çš„åšæ³•æ˜¯ç»™ Tap Gesture æ·»åŠ ä¸€ä¸ª Target-Actionï¼Œç„¶ååœ¨é‚£é‡Œå®ç°å…·ä½“çš„é€»è¾‘ï¼Œè¿™æ ·çš„é—®é¢˜åœ¨äºéœ€è¦é‡æ–°å–åå­—ï¼Œè€Œä¸”ä¸¢å¤±äº†ä¸Šä¸‹æ–‡ã€‚RxSwift (ç¡®åˆ‡è¯´æ˜¯ RxCocoa) ç»™ç³»ç»Ÿçš„è¯¸å¤šåŸç”Ÿæ§ä»¶ï¼ˆåŒ…æ‹¬åƒ &lt;code&gt;URLSession&lt;&#x2F;code&gt;ï¼‰æä¾›äº† rx æ‰©å±•ï¼Œæ‰€ä»¥ç‚¹å‡»çš„å¤„ç†å°±å˜æˆäº†è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; tapBackground &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; UITapGestureRecognizer()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;tapBackground&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;rx&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;event
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: { [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;weak self&lt;&#x2F;span&gt;&lt;span&gt;] _ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;view&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;endEditing(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    })
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;view&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addGestureRecognizer(tapBackground)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯ç®€æ´äº†å¾ˆå¤šã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;observable-create&quot;&gt;Observable.create&lt;&#x2F;h5&gt;
&lt;p&gt;é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥å°† Native çš„ object åŒ…è£…æˆ &lt;code&gt;Observable&lt;&#x2F;code&gt;ï¼Œæ¯”å¦‚å¯¹ç½‘ç»œè¯·æ±‚çš„å°è£…ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public func &lt;&#x2F;span&gt;&lt;span&gt;response(_ request: URLRequest) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Observable&amp;lt;(Data, HTTPURLResponse)&amp;gt; {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; Observable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;create { observer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; task &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;dataTaskWithRequest(request) { (data, response, error) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;			observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;on(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;next(data, httpResponse))
&lt;&#x2F;span&gt;&lt;span&gt;			observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;on(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;completed)
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		task&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;resume()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; Disposables&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;create {
&lt;&#x2F;span&gt;&lt;span&gt;			task&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;cancel()
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å‡ºäºä»£ç çš„ç®€æ´ï¼Œç•¥å»äº†å¯¹ error çš„å¤„ç†ï¼Œä½¿ç”¨å§¿åŠ¿ç±»ä¼¼&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; disposeBag &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; DisposeBag()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;response(aRequest)
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: { data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;    print(data)
&lt;&#x2F;span&gt;&lt;span&gt;  })
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸¤ä¸ªæ³¨æ„ç‚¹ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Observerable&lt;&#x2F;code&gt; è¿”å›çš„æ˜¯ä¸€ä¸ª &lt;code&gt;Disposable&lt;&#x2F;code&gt;ï¼Œè¡¨ç¤ºã€Œå¯æ‰”æ‰ã€çš„ï¼Œæ‰”å“ªé‡Œå‘¢ï¼Œå°±æ‰”åˆ°åˆšåˆšåˆ›å»ºçš„è¢‹å­é‡Œï¼Œè¿™æ ·å½“è¢‹å­è¢«å›æ”¶ï¼ˆ&lt;code&gt;dealloc&lt;&#x2F;code&gt;ï¼‰æ—¶ï¼Œä¼šé¡ºä¾¿æ‰§è¡Œä¸€ä¸‹ &lt;code&gt;Disposable.dispose()&lt;&#x2F;code&gt;ï¼Œä¹‹å‰åˆ›å»º &lt;code&gt;Disposable&lt;&#x2F;code&gt; æ—¶ç”³è¯·çš„èµ„æºå°±ä¼šè¢«ä¸€å¹¶é‡Šæ”¾æ‰ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœæœ‰å¤šä¸ª subscriber æ¥ subscribe &lt;code&gt;response(aRequest)&lt;&#x2F;code&gt; é‚£ä¹ˆä¼šåˆ›å»ºå¤šä¸ªè¯·æ±‚ï¼Œä»ä»£ç ä¹Ÿå¯ä»¥çœ‹å¾—å‡ºæ¥ï¼Œæ¥ä¸€ä¸ª observer å°±åˆ›å»ºä¸€ä¸ª taskï¼Œç„¶åæ‰§è¡Œã€‚è¿™å¾ˆæœ‰å¯èƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå¦‚ä½•è®©å¤šä¸ª subscriber å…±äº«ä¸€ä¸ªç»“æœï¼Œè¿™ä¸ªåé¢ä¼šæåˆ°ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h5 id=&quot;variable&quot;&gt;Variable()&lt;&#x2F;h5&gt;
&lt;p&gt;&lt;code&gt;Variable(value)&lt;&#x2F;code&gt; å¯ä»¥æŠŠ value å˜æˆä¸€ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt;ï¼Œä¸è¿‡å‰ææ˜¯ä½¿ç”¨æ–°çš„èµ‹å€¼æ–¹å¼ &lt;code&gt;aVariable.value = newValue&lt;&#x2F;code&gt;ï¼Œæ¥çœ‹ä¸ª Demo&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; magicNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;42
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; magicNumberVariable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; Variable(magicNumber)
&lt;&#x2F;span&gt;&lt;span&gt;magicNumberVariable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;asObservable()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: {
&lt;&#x2F;span&gt;&lt;span&gt;    print(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;magic number is &lt;&#x2F;span&gt;&lt;span&gt;\($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;})
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;magicNumberVariable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;73
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; output
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; magic number is 42
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; magic number is 73
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;èµ·åˆçœ‹åˆ°æ—¶ï¼Œè§‰å¾—è¿˜è›®ç¥å¥‡çš„ï¼Œè·Ÿè¿›å»çœ‹äº†ä¸‹ï¼Œå‘ç°æ˜¯é€šè¿‡ &lt;code&gt;subject&lt;&#x2F;code&gt; æ¥åšçš„ï¼Œå¤§æ„æ˜¯æŠŠ &lt;code&gt;value&lt;&#x2F;code&gt; å­˜åˆ°ä¸€ä¸ªå†…éƒ¨å˜é‡ &lt;code&gt;_value&lt;&#x2F;code&gt; é‡Œï¼Œå½“è°ƒç”¨ &lt;code&gt;value&lt;&#x2F;code&gt; æ–¹æ³•æ—¶ï¼Œå…ˆæ›´æ–° &lt;code&gt;_value&lt;&#x2F;code&gt; å€¼ï¼Œç„¶åè°ƒç”¨å†…éƒ¨çš„ &lt;code&gt;_subject.on(.next(newValue))&lt;&#x2F;code&gt; æ–¹æ³•å‘ŠçŸ¥ subscriberã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;subject&quot;&gt;Subject&lt;&#x2F;h5&gt;
&lt;p&gt;&lt;code&gt;Subject&lt;&#x2F;code&gt; ç®€å•æ¥è¯´æ˜¯ä¸€ä¸ªå¯ä»¥ä¸»åŠ¨å‘å°„æ•°æ®çš„ &lt;code&gt;Observable&lt;&#x2F;code&gt;ï¼Œå¤šäº† &lt;code&gt;onNext(value)&lt;&#x2F;code&gt;, &lt;code&gt;onError(error)&lt;&#x2F;code&gt;, &#x27;onCompleted&#x27; æ–¹æ³•ï¼Œå¯è°“å…¨èƒ½å‹é€‰æ‰‹ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; disposeBag &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; DisposeBag()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; subject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; PublishSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;subject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addObserver(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;1&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;subject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onNext(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ğŸ¶&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;subject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onNext(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ğŸ±&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;subject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addObserver(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;2&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;subject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onNext(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ğŸ…°ï¸&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;subject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onNext(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ğŸ…±ï¸&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è®°å¾—åœ¨ RAC æ—¶ä»£ï¼Œsubject æ˜¯ä¸€ä¸ªä¸å¤ªæ¨èä½¿ç”¨çš„åŠŸèƒ½ï¼Œå› ä¸ºè¿‡äºå¼ºå¤§äº†ï¼Œå®¹æ˜“å¤±æ§ã€‚RxSwift é‡Œå€’æ˜¯æ²¡æœ‰å¤ªæåŠï¼Œä½†è¿˜æ˜¯å°‘ç”¨ä¸ºä½³ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;observable-new-observable&quot;&gt;Observable -&amp;gt; New Observable&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;Observable&lt;&#x2F;code&gt; çš„å¼ºå¤§ä¸ä»…åœ¨äºå®ƒèƒ½å®æ—¶æ›´æ–° valueï¼Œè¿˜åœ¨äºå®ƒèƒ½è¢«ä¿®æ”¹ï¼è¿‡æ»¤ï¼ç»„åˆç­‰ï¼Œè¿™æ ·å°±èƒ½éšå¿ƒæ‰€æ¬²åœ°æ„é€ è‡ªå·±æƒ³è¦çš„æ•°æ®ï¼Œè¿˜ä¸ç”¨æ‹…å¿ƒæ•°æ®å‘ç”Ÿå˜åŒ–äº†å´ä¸çŸ¥é“çš„æƒ…å†µã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;combine&quot;&gt;Combine&lt;&#x2F;h5&gt;
&lt;p&gt;Combine å°±æ˜¯æŠŠå¤šä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt; ç»„åˆèµ·æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚ &lt;code&gt;zip&lt;&#x2F;code&gt; (å°æç¤ºï¼šå¦‚æœå¯¹è¿™äº›å‡½æ•°ä¸å¤ªæ•æ„Ÿï¼Œå¯ä»¥&lt;a href=&quot;http:&#x2F;&#x2F;rxmarbles.com&#x2F;&quot;&gt;å®é™…æ“ä½œä¸‹&lt;&#x2F;a&gt;ï¼Œä½“ä¼šä¼šæ›´æ·±äº›)&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;zip&lt;&#x2F;code&gt; å¯¹åº”ç°å®ä¸­çš„ä¾‹å­å°±æ˜¯æ‹‰é“¾ï¼Œæ‹‰é“¾éœ€è¦ä¸¤ä¸ªå…ƒç´ è¿™æ ·æ‰èƒ½æ‹‰ä¸Šå»ï¼Œè¿™é‡Œä¹Ÿä¸€æ ·ï¼Œåªæœ‰å½“ä¸¤ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt; éƒ½æœ‰äº†æ–°çš„å€¼æ—¶ï¼Œsubscribe æ‰ä¼šè¢«è§¦å‘ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; stringSubject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; PublishSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; intSubject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; PublishSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Observable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;zip(stringSubject, intSubject) { stringElement, intElement &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;\(stringElement) \(intElement)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: { print($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) })
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;stringSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onNext(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ğŸ…°ï¸&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;stringSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onNext(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ğŸ…±ï¸&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;intSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onNext(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;intSubject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onNext(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; output
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ğŸ…°ï¸ 1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ğŸ…±ï¸ 2
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœè¿™é‡Œ &lt;code&gt;intSubject&lt;&#x2F;code&gt; å§‹ç»ˆæ²¡æœ‰æ‰§è¡Œ &lt;code&gt;onNext&lt;&#x2F;code&gt;ï¼Œé‚£ä¹ˆå°†ä¸ä¼šæœ‰è¾“å‡ºï¼Œå°±åƒæ‹‰é“¾æ‰äº†ä¸€è¾¹çš„é“¾å­å°±æ‹‰ä¸ä¸Šäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é™¤äº† &lt;code&gt;zip&lt;&#x2F;code&gt;ï¼Œè¿˜æœ‰å…¶ä»–çš„ combine çš„å§¿åŠ¿ï¼Œæ¯”å¦‚ &lt;code&gt;combineLatest&lt;&#x2F;code&gt; &#x2F; &lt;code&gt;switchLatest&lt;&#x2F;code&gt; ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;transform&quot;&gt;Transform&lt;&#x2F;h5&gt;
&lt;p&gt;è¿™æ˜¯æœ€å¸¸è§çš„æ“ä½œäº†ï¼Œå¯¹ä¸€ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt; çš„æ•°å€¼åšä¸€äº›å°æ”¹åŠ¨ï¼Œç„¶åäº§å‡ºæ–°çš„å€¼ï¼Œä¾æ—§æ˜¯ä¸€ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; disposeBag &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; DisposeBag()
&lt;&#x2F;span&gt;&lt;span&gt;Observable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;of(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;map { $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt; }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: { print($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) })
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ˜¯å¤§è‡´çš„å®ç°ï¼ˆæ‘˜è‡ªå®˜ç½‘ï¼‰&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extension&lt;&#x2F;span&gt;&lt;span&gt; ObservableType {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;myMap&amp;lt;R&amp;gt;(transform: E &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; R) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Observable&amp;lt;R&amp;gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; Observable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;create { observer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; subscription &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe { e &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;switch&lt;&#x2F;span&gt;&lt;span&gt; e {
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;next(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; value):
&lt;&#x2F;span&gt;&lt;span&gt;                        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; transform(value)
&lt;&#x2F;span&gt;&lt;span&gt;                        observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;on(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;next(result))
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;error(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; error):
&lt;&#x2F;span&gt;&lt;span&gt;                        observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;on(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;error(error))
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;completed:
&lt;&#x2F;span&gt;&lt;span&gt;                        observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;on(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;completed)
&lt;&#x2F;span&gt;&lt;span&gt;                    }
&lt;&#x2F;span&gt;&lt;span&gt;                }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; subscription
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¥å—ä¸€ä¸ª transform é—­åŒ…ï¼Œç„¶åè¿”å›ä¸€ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt;ï¼Œå› ä¸ºæ¥ä¸‹æ¥ä½¿ç”¨è€…å°†ä¼šå¯¹ &lt;code&gt;myMap&lt;&#x2F;code&gt; çš„ç»“æœè¿›è¡Œ subscribeï¼Œæ‰€ä»¥éœ€è¦åœ¨ create å†…éƒ¨ subscribe ä¸€ä¸‹ï¼Œä¸ç„¶æœ€å¼€å§‹çš„é‚£ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt; å°±æ˜¯ä¸ª &lt;code&gt;Cold Observable&lt;&#x2F;code&gt;ï¼Œä¸€ä¸ª &lt;code&gt;Cold Observable&lt;&#x2F;code&gt; æ˜¯ä¸ä¼šäº§ç”Ÿæ–°çš„æ•°æ®çš„ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;filter&quot;&gt;Filter&lt;&#x2F;h5&gt;
&lt;p&gt;Filter çš„ä½œç”¨æ˜¯å¯¹ &lt;code&gt;Observable&lt;&#x2F;code&gt; ä¼ è¿‡æ¥çš„æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œåªæœ‰ç¬¦åˆæ¡ä»¶çš„æ‰æœ‰èµ„æ ¼è¢« subscribeã€‚å†™æ³•ä¸Šè·Ÿ map å·®ä¸å¤šï¼Œå°±ä¸èµ˜è¿°äº†ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;connect&quot;&gt;Connect&lt;&#x2F;h5&gt;
&lt;p&gt;è¿™æ˜¯æŒºæœ‰æ„æ€çš„ä¸€å—ï¼Œåœ¨ä¹‹å‰ä»‹ç» &lt;code&gt;Observable.create&lt;&#x2F;code&gt; æ—¶æœ‰æåˆ°è¿‡ï¼Œä¸€ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt; è¢«å¤šæ¬¡ subscribe å°±ä¼šè¢«å¤šæ¬¡è§¦å‘ï¼Œå¦‚æœä¸€ä¸ªç½‘ç»œè¯·æ±‚åªæƒ³è¢«è§¦å‘ä¸€æ¬¡ï¼ŒåŒæ—¶æ”¯æŒå¤šä¸ª subscriberï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code&gt;publish&lt;&#x2F;code&gt; + &lt;code&gt;connect&lt;&#x2F;code&gt; çš„ç»„åˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ä¸€ä¸ª &lt;code&gt;Observable&lt;&#x2F;code&gt; ä½¿ç”¨äº† &lt;code&gt;publish()&lt;&#x2F;code&gt; æ–¹æ³•åï¼Œæ­£å¸¸çš„ subscribe å°±ä¸ä¼šè§¦å‘å®ƒäº†ï¼Œé™¤é &lt;code&gt;connect()&lt;&#x2F;code&gt; æ–¹æ³•è¢«è°ƒç”¨ã€‚è€Œä¸”æ¯æ¬¡ subscribe ä¸ä¼šå¯¼è‡´ &lt;code&gt;Observable&lt;&#x2F;code&gt; é‡æ–°é’ˆå¯¹ observer å¤„ç†ä¸€éã€‚çœ‹ä¸€ä¸‹è¿™å¼ å›¾&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;reactivex.io&#x2F;documentation&#x2F;operators&#x2F;images&#x2F;publishConnect.c.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰ä¸¤å—éœ€è¦æ³¨æ„ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;connect()&lt;&#x2F;code&gt; ä¹‹å‰çš„ä¸¤æ¬¡ &lt;code&gt;subscribe&lt;&#x2F;code&gt; å¹¶æ²¡æœ‰äº§ç”Ÿæ–°çš„ valueã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;connect()&lt;&#x2F;code&gt; ä¹‹å &lt;code&gt;subscribe&lt;&#x2F;code&gt; çš„ï¼Œåªæ˜¯ç­‰å¾…æ–°çš„ valueï¼ŒåŒæ—¶æ–°çš„ value è¿˜ä¼šåˆ†å‘ç»™ä¹‹å‰çš„ subscriberã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å³ä½¿æ‰€æœ‰çš„ &lt;code&gt;subscription&lt;&#x2F;code&gt; è¢« &lt;code&gt;dispose&lt;&#x2F;code&gt;, &lt;code&gt;Observable&lt;&#x2F;code&gt; ä¾æ—§å¤„äº &lt;code&gt;hot&lt;&#x2F;code&gt; çŠ¶æ€ï¼Œå°±å¥½åƒè¿˜ä»¥ä¸ºæœ‰äººå…³å¿ƒæ–°çš„å€¼ä¸€æ ·ã€‚ï¼ˆè¿™å¯èƒ½ä¸æ˜¯æƒ³è¦çš„ç»“æœï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;é’ˆå¯¹ç¬¬ 3 ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;refcount()&lt;&#x2F;code&gt; æ¥ä»£æ›¿ &lt;code&gt;connect()&lt;&#x2F;code&gt;ï¼Œå‰è€…ä¼šåœ¨æ²¡æœ‰ subscriber æ—¶è‡ªåŠ¨ã€Œå†·ã€ä¸‹æ¥ï¼Œä¸ä¼šå†äº§ç”Ÿæ–°çš„å€¼ã€‚ï¼ˆDemo å–è‡ª&lt;a href=&quot;http:&#x2F;&#x2F;www.tailec.com&#x2F;blog&#x2F;understanding-publish-connect-refcount-share&quot;&gt;è¿™é‡Œ&lt;&#x2F;a&gt;ï¼‰&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; myObservable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; Observable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;.&lt;&#x2F;span&gt;&lt;span&gt;interval(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, scheduler: MainScheduler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;instance)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;publish()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;refCount() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; mySubscription &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; myObservable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: {
&lt;&#x2F;span&gt;&lt;span&gt;    print(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Next: &lt;&#x2F;span&gt;&lt;span&gt;\($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;})
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;delay(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    print(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Disposing at 3 seconds&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    mySubscription&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;dispose()
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;delay(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    print(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Subscribing again at 6 seconds&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    myObservable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext: {
&lt;&#x2F;span&gt;&lt;span&gt;        print(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Next: &lt;&#x2F;span&gt;&lt;span&gt;\($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    })
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¾“å‡º&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;Starting at 0 seconds
&lt;&#x2F;span&gt;&lt;span&gt;Next: 0
&lt;&#x2F;span&gt;&lt;span&gt;Next: 1
&lt;&#x2F;span&gt;&lt;span&gt;Next: 2
&lt;&#x2F;span&gt;&lt;span&gt;Disposing at 3 seconds
&lt;&#x2F;span&gt;&lt;span&gt;Subscribing again at 6 seconds
&lt;&#x2F;span&gt;&lt;span&gt;Next: 0
&lt;&#x2F;span&gt;&lt;span&gt;Next: 1
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œ3 ç§’å subscription disposeï¼Œæ­¤æ—¶æ²¡æœ‰ä»»ä½• subscriber è¿˜å…³å¿ƒ &lt;code&gt;Observable&lt;&#x2F;code&gt;ï¼Œå› æ­¤å°±é‡ç½®äº†ï¼Œæ‰€ä»¥ 6 ç§’ååˆå›åˆ°äº†åˆå§‹çŠ¶æ€ï¼ˆå¦‚æœå˜æˆ &lt;code&gt;connect&lt;&#x2F;code&gt; æ–¹æ³•çš„è¯ï¼Œä¼šå‘ç° 6 ç§’åä¼šè¾“å‡º &lt;code&gt;Next: 6 &#x2F; Next: 7&lt;&#x2F;code&gt;ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;é‚£å¦‚æœååŠ å…¥çš„ subscriber æƒ³è¦ä¹‹å‰çš„æ•°æ®æ€ä¹ˆåŠï¼Ÿå¯ä»¥å¯¹åŸå§‹çš„ &lt;code&gt;Observable&lt;&#x2F;code&gt; è®¾ç½® &lt;code&gt;replay(n)&lt;&#x2F;code&gt;ï¼Œè¡¨ç¤ºæœ€å¤šè¿”å› n ä¸ªå…ƒç´ ç»™ååŠ å…¥çš„ subscriberã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tips&quot;&gt;Tips&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸Šé¢ä»‹ç»çš„æ˜¯æœ€åŸºæœ¬çš„æ¦‚å¿µã€‚é¡ºä¾¿æä¸€ä¸‹æ¯”è¾ƒå¸¸è§çš„å‡ ä¸ªé—®é¢˜ï¼š&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ru-he-chu-li-scheduler&quot;&gt;å¦‚ä½•å¤„ç† Schedulerï¼Ÿ&lt;&#x2F;h4&gt;
&lt;p&gt;é»˜è®¤ä»£ç éƒ½æ˜¯åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œçš„ï¼Œå¦‚æœè¦æ‰‹åŠ¨åˆ‡æ¢çº¿ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;subsribeOn&lt;&#x2F;code&gt; å’Œ &lt;code&gt;observeOn&lt;&#x2F;code&gt; ä¸¤ç§æ–¹å¼ï¼Œä¸€èˆ¬æ¥è¯´åè€…ç”¨å¾—ä¼šå¤šä¸€äº›ï¼Œé‚£è¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;subscribeOn&lt;&#x2F;code&gt; è·Ÿä½ç½®æ— å…³ï¼Œä¹Ÿå°±æ˜¯æ— è®ºåœ¨é“¾å¼è°ƒç”¨çš„ä»€ä¹ˆåœ°æ–¹ï¼Œ&lt;code&gt;Observable&lt;&#x2F;code&gt; å’Œ &lt;code&gt;subscription&lt;&#x2F;code&gt; éƒ½ä¼šå—å½±å“ï¼›è€Œ &lt;code&gt;observeOn&lt;&#x2F;code&gt; åˆ™ä»…å¯¹ä¹‹åçš„è°ƒç”¨äº§ç”Ÿå½±å“ï¼Œçœ‹ä¸ª Demoï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var&lt;&#x2F;span&gt;&lt;span&gt; observable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; Observable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;.&lt;&#x2F;span&gt;&lt;span&gt;create { (observer: AnyObserver&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Disposable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;    print(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;observable thread: &lt;&#x2F;span&gt;&lt;span&gt;\(Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;current)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onNext(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;onCompleted()
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; Disposables&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;create()
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; disposeBag &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; DisposeBag()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;observable
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;map({ (e) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        print(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;map1 thread: &lt;&#x2F;span&gt;&lt;span&gt;\(Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;current)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; e &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    })
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;observeOn(ConcurrentDispatchQueueScheduler(qos: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;userInteractive)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;map({ (e) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        print(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;map2 thread: &lt;&#x2F;span&gt;&lt;span&gt;\(Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;current)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; e &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;    })
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;subscribe(onNext:{ (e) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        print(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;subscribe thread: &lt;&#x2F;span&gt;&lt;span&gt;\(Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;current)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    })
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDisposableTo(disposeBag)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœ 1) æ˜¯ &lt;code&gt;observeOn&lt;&#x2F;code&gt;ï¼Œé‚£ä¹ˆè¾“å‡ºå¦‚ä¸‹&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;observable thread: &amp;lt;NSThread: 0x7f901cc0d510&amp;gt;{number = 1, name = main}
&lt;&#x2F;span&gt;&lt;span&gt;map1 thread: &amp;lt;NSThread: 0x7f901cc0d510&amp;gt;{number = 1, name = main}
&lt;&#x2F;span&gt;&lt;span&gt;map2 thread: &amp;lt;NSThread: 0x7f901ce15560&amp;gt;{number = 3, name = (null)}
&lt;&#x2F;span&gt;&lt;span&gt;subscribe thread: &amp;lt;NSThread: 0x7f901ce15560&amp;gt;{number = 3, name = (null)}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ° observable thread å’Œ map1 thread ä¾æ—§ä¿æŒå½“å‰çº¿ç¨‹ï¼Œä½† &lt;code&gt;observeOn&lt;&#x2F;code&gt; ä¹‹åå°±å˜æˆäº†å¦ä¸€ä¸ªçº¿ç¨‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœ 1) æ˜¯ &lt;code&gt;subscribeOn&lt;&#x2F;code&gt;ï¼Œé‚£ä¹ˆä¼šè¾“å‡º&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;observable thread: &amp;lt;NSThread: 0x7fbdf1e097a0&amp;gt;{number = 3, name = (null)}
&lt;&#x2F;span&gt;&lt;span&gt;map1 thread: &amp;lt;NSThread: 0x7fbdf1e097a0&amp;gt;{number = 3, name = (null)}
&lt;&#x2F;span&gt;&lt;span&gt;map2 thread: &amp;lt;NSThread: 0x7fbdf1e097a0&amp;gt;{number = 3, name = (null)}
&lt;&#x2F;span&gt;&lt;span&gt;subscribe thread: &amp;lt;NSThread: 0x7fbdf1e097a0&amp;gt;{number = 3, name = (null)}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°å…¨éƒ½å˜æˆäº† &lt;code&gt;subscribeOn&lt;&#x2F;code&gt; æŒ‡å®šçš„ Queueã€‚æ‰€ä»¥ &lt;code&gt;subscribeOn&lt;&#x2F;code&gt; çš„æ„ŸæŸ“åŠ›å¾ˆå¼ºï¼Œè¿ &lt;code&gt;Observable&lt;&#x2F;code&gt; éƒ½èƒ½å½±å“åˆ°ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;cold-observable-he-hot-observable&quot;&gt;Cold Observable å’Œ Hot Observable&lt;&#x2F;h4&gt;
&lt;p&gt;Cold ç›¸å½“äº InActiveï¼Œå°±åƒè¥¿éƒ¨ä¸–ç•Œé‡Œï¼Œæœªè¢«æ¿€æ´»çš„æœºå™¨äººä¸€æ ·ï¼›Hot å°±æ˜¯å¤„äºå·¥ä½œçŠ¶æ€çš„æœºå™¨äººã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;subscription-wei-shi-yao-yao-dispose&quot;&gt;Subscription ä¸ºä»€ä¹ˆè¦ Disposeï¼Ÿ&lt;&#x2F;h4&gt;
&lt;p&gt;å› ä¸ºæœ‰äº† &lt;code&gt;Subscriber&lt;&#x2F;code&gt; æ‰€ä»¥ &lt;code&gt;Observable&lt;&#x2F;code&gt; è¢«æ¿€æ´»ï¼Œç„¶åå†…éƒ¨å°±ä¼šä½¿ç”¨å„ç§å˜é‡æ¥ä¿å­˜èµ„æºï¼Œå¦‚æœä¸ &lt;code&gt;dispose&lt;&#x2F;code&gt; çš„è¯ï¼Œè¿™äº›èµ„æºå°±ä¼šä¸€ç›´è¢« keepï¼Œå¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åŒæ—¶æ‰‹åŠ¨ dispose åˆå«Œéº»çƒ¦ï¼Œæ‰€ä»¥å°±æœ‰äº† &lt;code&gt;DisposeBag&lt;&#x2F;code&gt;ï¼Œå½“è¿™ä¸ª Bag è¢«å›æ”¶æ—¶ï¼ŒBag é‡Œé¢çš„ subscription ä¼šè‡ªåŠ¨è¢« disposeï¼Œç›¸å½“äºä» MRC å˜æˆäº† ARCã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;RxSwift å¦‚æœæ¦‚å¿µä¸Šæ•´ç†æ¸…æ¥šäº†ï¼Œä¼šå‘ç°å…¶å®å¹¶ä¸éš¾ï¼Œå¤šä» &lt;code&gt;Observable&lt;&#x2F;code&gt; çš„è§’åº¦å»æ€è€ƒé—®é¢˜ï¼Œå¤šæƒ³ç€è½¬æ¢å’Œç»„åˆï¼Œæ…¢æ…¢å°±ä¼šä»å‘½ä»¤å¼ç¼–ç¨‹è½¬åˆ°å£°æ˜å¼ç¼–ç¨‹ï¼Œå¯¹äºæŠ½è±¡èƒ½åŠ›å’Œä»£ç çš„å¯è¯»æ€§éƒ½ä¼šæœ‰æå‡ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ã€Œæ— ä¾µå…¥é¡µé¢åŠ è½½å®Œæˆæ£€æµ‹ã€çš„ä¸€äº›æ€è·¯</title>
            <pubDate>Thu, 08 Dec 2016 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/page-open-detect/</link>
            <guid>https://limboy.me/posts/page-open-detect/</guid>
            <description>&lt;h3 id=&quot;qian-yan&quot;&gt;å‰è¨€&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨è¯¸å¤šçš„æ€§èƒ½æŒ‡æ ‡é‡Œï¼Œã€Œé¡µé¢åŠ è½½å®Œæˆè€—æ—¶ã€æ˜¯éå¸¸é‡è¦çš„ä¸€é¡¹ï¼Œå°¤å…¶æ˜¯é‡ç‚¹é¡µé¢ï¼Œå¦‚è¯¦æƒ…é¡µï¼Œ1 ç§’å†…æ‰“å¼€å’Œ 3 ç§’å†…æ‰“å¼€å·®åˆ«æ˜¯å¾ˆå¤§çš„ï¼Œç›´æ¥å½±å“ GMVã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥è¯´ä¸€ä¸‹ã€Œé¡µé¢åŠ è½½å®Œæˆã€çš„å®šä¹‰ï¼Œä¸æ˜¯é¡µé¢ layout å®Œæˆï¼Œä¸æ˜¯è¯·æ±‚å®Œæˆï¼Œè€Œæ˜¯å›¾ç‰‡å’Œæ–‡å­—éƒ½å·²è¢«æ¸²æŸ“å®Œæˆã€‚æ¯”è¾ƒå¸¸è§çš„åšæ³•æ˜¯åœ¨é¡µé¢çš„ &lt;code&gt;ViewDidAppear&lt;&#x2F;code&gt; å’Œè¯·æ±‚å®Œæˆä¸”æ•°æ®è¢«è½¬æ¢æˆ Model ä¹‹ååˆ†åˆ«æ‰“ç‚¹ï¼Œå‰è€…è¡¨ç¤ºé¡µé¢å‡ºç°çš„æ—¶é—´ï¼Œåè€…è¡¨ç¤ºæ•°æ®è·å–çš„æ—¶é—´ï¼ŒåŸºæœ¬å¯ä»¥ä½“ç°å‡ºé¡µé¢åŠ è½½æ—¶é—´ã€‚ä½†ä¹Ÿæœ‰ä¸€äº›é—®é¢˜æ¯”å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸šåŠ¡ç»å¸¸è°ƒæ•´ï¼Œæ‰€ä»¥åŸ‹ç‚¹ä¹Ÿéœ€è¦è°ƒæ•´ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“å‡ºç°é”™åŸ‹ã€æ¼åŸ‹çš„é—®é¢˜ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æœ‰äº›é¡µé¢ä¼šæœ‰å¤šä¸ªè¯·æ±‚ï¼Œåªæœ‰è¿™äº›è¯·æ±‚å…¨éƒ¨å®Œæˆåï¼Œé¡µé¢æ‰èƒ½æ¸²æŸ“ï¼Œè¿™æ—¶æ•°æ®è¯·æ±‚åŸ‹ç‚¹å°±ä¼šæœ‰ç‚¹éº»çƒ¦ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¿™å‡ ä¸ªæ—¶é—´ç‚¹è·Ÿç”¨æˆ·çœŸæ­£çœ‹åˆ°çš„æ—¶é—´è¿˜æ˜¯ä¼šæœ‰å·®åˆ«ï¼Œä¸å¤Ÿå‡†ç¡®ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æ‰€ä»¥ä¸€ç§æ— ä¾µå…¥çš„æ£€æµ‹æœºåˆ¶å°±å¾ˆé‡è¦äº†ã€‚æ­£å¥½åœ¨&lt;a href=&quot;https:&#x2F;&#x2F;gold.xitu.io&quot;&gt;æ˜é‡‘&lt;&#x2F;a&gt;ä¸Šçœ‹åˆ°äº†&lt;a href=&quot;https:&#x2F;&#x2F;gold.xitu.io&#x2F;post&#x2F;58440e98128fe1006c4c951d&quot;&gt;ç”¨å›¾åƒè¯†åˆ«æ¥è‡ªåŠ¨ç¡®è®¤ç½‘é¡µåŠ è½½æˆåŠŸ&lt;&#x2F;a&gt;ï¼Œå—æ­¤å¯å‘ï¼Œè§‰å¾—æ­¤è·¯æœ‰æˆã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-xian-fang-an&quot;&gt;å®ç°æ–¹æ¡ˆ&lt;&#x2F;h3&gt;
&lt;p&gt;å½“ pushï¼present ä¸€ä¸ªé¡µé¢æ—¶ï¼Œéš”ä¸€æ®µæ—¶é—´å»æˆªå±å¹¶åˆ†æå½“å‰é¡µé¢çš„ç©ºç™½ï¼ˆçº¯è‰²ï¼‰éƒ¨åˆ†å æ¯”ï¼Œå¦‚æœè¶…è¿‡æŸä¸ªé˜ˆå€¼ï¼Œå°±è®¤ä¸ºé¡µé¢æœªåŠ è½½å®Œæˆã€‚è¿™é‡Œä¼šæœ‰å‡ ä¸ªæ³¨æ„ç‚¹ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;éœ€è¦ä¸»åŠ¨å»æˆªå±æ£€æµ‹ï¼Œè€Œä¸èƒ½åŠ è½½å®Œæˆåå‘ŠçŸ¥ã€‚è¿™å…¶ä¸­çš„å·®åˆ«åœ¨äºæ— æ³•å¾—çŸ¥å…·ä½“å“ªä¸ªæ—¶é—´åŠ è½½å®Œæˆäº†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æœ‰äº›é¡µé¢è¢«æ•…æ„è®¾è®¡æˆæœ‰è¾ƒå¤šç•™ç™½ï¼Œè¿™æ—¶å°±ä¸å®¹æ˜“åˆ¤æ–­äº†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ã€ŒæœªåŠ è½½å®Œæˆã€ä¸åŒçš„é¡µé¢ä¼šæœ‰ä¸åŒçš„è¡¨ç°ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å½“ç”¨æˆ·æ»‘åŠ¨æ—¶ï¼Œæœ‰å¯èƒ½ä¹‹å‰çš„é¡µé¢å·²ç»åŠ è½½äº†&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;chun-se-zhan-bi&quot;&gt;çº¯è‰²å æ¯”&lt;&#x2F;h3&gt;
&lt;p&gt;æœ€ç®€å•çš„æ–¹æ¡ˆå°±æ˜¯æŠŠå›¾ç‰‡ä¸Šçš„æ¯ä¸ªåƒç´ ç‚¹éƒ½å–å‡ºæ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªå­—å…¸é‡Œï¼Œä¹‹åå¦‚æœæœ‰ç›¸åŒè‰²å€¼çš„åƒç´ ï¼Œé‚£ä¹ˆ &lt;code&gt;count++&lt;&#x2F;code&gt;ã€‚é—®é¢˜ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä¸€ä¸ªå±å¹•å‡ åä¸‡ä¸ªç‚¹ï¼Œè¿™ä¸€è½®éƒ½è¿˜æ²¡åˆ†æå®Œï¼Œç”¨æˆ·å·²ç»æ‰“å¼€ç¬¬äºŒä¸ªé¡µé¢äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†å›åˆ°æƒ³è¦è¾¾åˆ°çš„ç›®æ ‡ï¼šçº¯è‰²éƒ¨åˆ†å æ¯”ã€‚é‚£ä¹ˆå°†å›¾ç‰‡å‹ç¼©åˆ°æ›´å°çš„ size ä¸å°±è¡Œäº†ä¹ˆã€‚è€å¥—è·¯ï¼Œé“ºå¼ ç”»å¸ƒï¼ŒæŠŠå›¾ç‰‡æµ‡ä¸Šå»ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;(UIImage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)imageWithImage&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UIImage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)image scaledToSize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;CGSize&lt;&#x2F;span&gt;&lt;span&gt;)newSize {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;UIGraphicsBeginImageContextWithOptions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(newSize, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    [image &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;drawInRect:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CGRectMake&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, newSize.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;width&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, newSize.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;height&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    UIImage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;newImage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;UIGraphicsGetImageFromCurrentImageContext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;UIGraphicsEndImageContext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; newImage;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°±æ˜¯çœŸæ­£çš„è®¡ç®—äº†ï¼Œè¿‡ç¨‹ä¹Ÿæ¯”è¾ƒç®€å•ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æŠŠ UIImage è½¬æ¢æˆ CGImage Data
&lt;&#x2F;span&gt;&lt;span&gt;CGDataProviderRef provider &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CGImageGetDataProvider&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(image.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CGImage&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;CFDataRef pixelData &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CGDataProviderCopyData&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(provider)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;UInt8&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CFDataGetBytePtr&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(pixelData)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;long&lt;&#x2F;span&gt;&lt;span&gt; dataLength &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CFDataGetLength&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(pixelData)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; numberOfColorComponents &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; R,G,B, and A
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ç”¨æ¥è£… color ï¼Œkey ä¸º R-G-B å­—ç¬¦ä¸²ï¼Œvalue ä¸ºå‡ºç°æ¬¡æ•°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSMutableDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;colors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSMutableDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; colorCount &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;(dataLength); i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span&gt; numberOfColorComponents) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(data[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;		colorCount&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;UInt8&lt;&#x2F;span&gt;&lt;span&gt; red &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; data[i];
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;UInt8&lt;&#x2F;span&gt;&lt;span&gt; green &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; data[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;UInt8&lt;&#x2F;span&gt;&lt;span&gt; blue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; data[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä»¥ R-G-B ä¸º key
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;stringWithFormat:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, red, green, blue&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span&gt;colors[result]) {
&lt;&#x2F;span&gt;&lt;span&gt;			colors[result] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;			colors[result] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; @([colors[result] integerValue] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æŒ‰å‡ºç°æ¬¡æ•°æ’åº
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;sortedColorCount &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[colors.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;allValues&lt;&#x2F;span&gt;&lt;span&gt; sortedArrayUsingComparator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSComparisonResult&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt; _Nonnull obj1, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt; _Nonnull obj2) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[obj1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;intValue&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;[obj2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;intValue&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NSOrderedDescending &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NSOrderedAscending&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSMutableArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;percent &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSMutableArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è®¡ç®—å æ¯”ï¼Œå¹¶ä»é«˜åˆ°ä½æ’åºï¼Œå–å‰ 10 ä¸ª
&lt;&#x2F;span&gt;&lt;span&gt;[sortedColorCount &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;enumerateObjectsUsingBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;count, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSUInteger&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; idx, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; _Nonnull stop) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(idx &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;stop &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	[percent addObject:@([count intValue] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)(colorCount))];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[percent &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;copy&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…ˆæŠŠ &lt;code&gt;UIImage&lt;&#x2F;code&gt; è½¬æ¢æˆ &lt;code&gt;CFDataRef&lt;&#x2F;code&gt;ï¼Œå†éå†è·å– &lt;code&gt;Color&lt;&#x2F;code&gt;ï¼Œå¯¹ç›¸åŒçš„çš„ &lt;code&gt;Color&lt;&#x2F;code&gt; è¿›è¡Œç´¯åŠ ï¼Œæœ€åæ’ä¸€ä¸‹åºå³å¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿”å›çš„æ•°æ®ç±»ä¼¼è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0.4586517&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0.06202247&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0.02921348&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·å°±èƒ½æ‹¿åˆ°äº†é¢œè‰²çš„å æ¯”ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-zhan&quot;&gt;å®æˆ˜&lt;&#x2F;h3&gt;
&lt;p&gt;å‡è®¾è®¾å®šçº¯è‰²åŒºåŸŸè¶…è¿‡ 30% è®¤ä¸ºæ²¡æœ‰å®Œå…¨åŠ è½½ï¼Œæ¥æ‰¾å‡ ä¸ª Demo æµ‹è¯•ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;s16.mogucdn.com&#x2F;p1&#x2F;161208&#x2F;idid_ifqtcztfhbqwendcmmzdambqgyyde_600x1036.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç»“æœç¬¦åˆã€ŒæœªåŠ è½½å®Œæ¯•ã€å®šä¹‰&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.4139326&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.06808989&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.05438202&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å†æ¢ä¸€ä¸ª&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;s16.mogucdn.com&#x2F;p1&#x2F;161208&#x2F;idid_ifrgizrwme2wgndcmmzdambqmeyde_600x1036.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è™½ç„¶æ²¡æœ‰åŠ è½½å®Œï¼Œä½†ç»“æœå°‘äº 30%&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.2788764&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.06808989&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.04853933&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœæŠŠå€¼è®¾å¾—å°ä¸€äº›ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½ã€Œè¯¯æ€ã€ï¼Œæ¯”å¦‚è¿™ä¸ªç•Œé¢&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;s17.mogucdn.com&#x2F;p1&#x2F;161208&#x2F;idid_ifrdimlemfrggndcmmzdambqmeyde_600x1067.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç»“æœ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.4530337&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.06561798&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.02921348&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸ªç•Œé¢å·²ç»åŠ è½½å®Œæˆäº†ï¼Œä½†ç”±äºç©ºç™½é¢ç§¯è¾ƒå¤šï¼Œå› æ­¤çº¯è‰²çš„å æ¯”ä¹Ÿè¾ƒå¤šï¼Œå¦‚æœæŒ‰ç…§ä¹‹å‰çš„å…¬å¼å°±ä¼šè¯¯ä¼¤ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¹‹åå†è®¨è®ºã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥ä¸‹æ¥çœ‹å¦ä¸€ä¸ªæœªåŠ è½½å®Œæ¯•çš„é¡µé¢ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;s16.mogucdn.com&#x2F;p1&#x2F;161208&#x2F;idid_ie4tszldguytanlcmmzdambqgqyde_750x1278.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ªé¡µé¢çš„ç»“æœæ˜¯è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.3433708&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.1941573&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.1822472&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœä¸­é—´éƒ¨åˆ†åŠ è½½å‡ºæ¥ï¼ˆä¹Ÿå°±æ˜¯é¢ç§¯æœ€å¤§çš„é‚£ä¸€å—ï¼‰ï¼Œé‚£ä¹ˆå°±å˜æˆäº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.1941573&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0.1822472&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¹Ÿå±äºé¡µé¢æœªåŠ è½½å®Œæˆï¼Œä½†åˆæ˜¯ä¸€ä¸ªæ–°çš„è§„åˆ™äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;å†æ¥å›é¡¾ä¸€ä¸‹ã€Œæˆªå›¾åˆ†æçº¯è‰²å æ¯”ã€å¸¦æ¥çš„é—®é¢˜ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;éš” N ç§’å»æˆªå›¾æ—¶ï¼Œç”¨æˆ·å¯èƒ½æ»‘åˆ°ç¬¬ 2 å±äº†ï¼Œè¿™æ—¶ç¬¬ 1 å±åŠ è½½å®Œäº†ï¼Œä½† 2 å±è¿˜æ²¡æœ‰åŠ è½½å®Œï¼Œä¸åº”è¯¥å±äºã€Œé¡µé¢åŠ è½½æœªå®Œæˆã€èŒƒç•´ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä¸åŒé¡µé¢çš„çº¯è‰²ç‰¹æ€§ä¸ä¸€æ ·ï¼Œæœ‰çš„æ¯”è¾ƒåˆ†æ•£ï¼Œæœ‰çš„æ­£å¸¸çŠ¶æ€ä¸‹ä¹Ÿä¼šæœ‰æ¯”è¾ƒå¤šçš„çº¯è‰²ï¼Œè¿™æ ·å°±å®¹æ˜“è¯¯åˆ¤ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å¯¹äºåœºæ™¯ 1 è¿˜æ²¡æœ‰æƒ³åˆ°ç‰¹åˆ«å¥½çš„å¤„ç†æ–¹å¼ï¼Œä¸€ç§åŠæ³•æ˜¯é€šè¿‡åˆ¤æ–­ runloop çš„ mode æ˜¯å¦ç­‰äº &lt;code&gt;UITrackingRunLoopMode&lt;&#x2F;code&gt; æ¥åˆ¤æ–­æ˜¯å¦æœ‰æ»‘åŠ¨ï¼Œä¸å¤ªä¼˜é›…ï¼Œä½†å¯èƒ½è¡Œå¾—é€šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºåœºæ™¯ 2 å¯ä»¥æŠŠæ•°æ®å‘é€åˆ°æœåŠ¡ç«¯ï¼Œè®©æœåŠ¡ç«¯å»è®¡ç®—æŸä¸ªé¡µé¢çš„çº¯è‰²åˆ†å¸ƒæƒ…å†µï¼Œæ¯”å¦‚å¤§éƒ¨åˆ†éƒ½æ˜¯ &amp;lt; 10%ï¼Œæœ‰å°‘éƒ¨åˆ†åœ¨ 20% ä»¥ä¸Šï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ¤å®šä¸ºæœªåŠ è½½å®Œæˆï¼Œä¸è¿‡æˆæœ¬è¿˜æ˜¯æœ‰ç‚¹é«˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆè™½ç„¶å¯ä»¥åšåˆ°æ— ä¾µå…¥ï¼Œä½†åœ¨ç»“æœåˆ¤å®šä¸Šè¿˜æ˜¯å­˜åœ¨äº›ç¼ºé™·ï¼ŒæœŸå¾…æœ‰æ›´æˆç†Ÿçš„æ–¹æ¡ˆã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ReSwift ä»‹ç»</title>
            <pubDate>Sun, 04 Dec 2016 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/reswift-analyze/</link>
            <guid>https://limboy.me/posts/reswift-analyze/</guid>
            <description>&lt;h3 id=&quot;shi-yao-shi-reswift&quot;&gt;ä»€ä¹ˆæ˜¯ ReSwift&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReSwift&#x2F;ReSwift&quot;&gt;ReSwift&lt;&#x2F;a&gt; æ˜¯åŸºäº &lt;a href=&quot;http:&#x2F;&#x2F;redux.js.org&#x2F;&quot;&gt;Redux&lt;&#x2F;a&gt; æ€æƒ³å®ç°çš„ Swift ç±»åº“ã€‚åŸºæœ¬çš„æµç¨‹å¦‚ä¸‹&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;&#x2F;image&#x2F;14808452245719.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å½“ç”¨æˆ·ç‚¹å‡»äº†è§†å›¾ä¸Šçš„æŸä¸ªå…ƒç´ æ—¶ï¼Œä¼šå‘å‡ºä¸€ä¸ª &lt;code&gt;Action&lt;&#x2F;code&gt;ï¼Œè¿™ä¸ª &lt;code&gt;Action&lt;&#x2F;code&gt; åŒ…å«äº†ä¸¤ä¸ªåŸºæœ¬å…ƒç´ ï¼š&lt;code&gt;Action Type&lt;&#x2F;code&gt; å’Œ &lt;code&gt;Action Payload&lt;&#x2F;code&gt;ï¼Œæ¯”å¦‚ã€Œç‚¹å‡»æ”¶è—æŒ‰é’®ã€è¿™ä¸ª &lt;code&gt;Action&lt;&#x2F;code&gt;ï¼Œå¯èƒ½ä¼šè¢«æè¿°ä¸ºï¼š&lt;code&gt;Action(&amp;quot;CollectButtonTapped&amp;quot;, [&amp;quot;itemID&amp;quot;: 189])&lt;&#x2F;code&gt;ã€‚ç„¶åè¿™ä¸ª &lt;code&gt;Action&lt;&#x2F;code&gt; å°±ä¼šåˆ°è¾¾ &lt;code&gt;Store&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;Store&lt;&#x2F;code&gt; ä¹Ÿå¾ˆç®€å•ï¼Œåªåšä¸¤ä»¶äº‹ï¼š1. æ¥æ”¶ &lt;code&gt;Action&lt;&#x2F;code&gt;ï¼›2. å°† &lt;code&gt;Action&lt;&#x2F;code&gt; å’Œ &lt;code&gt;State&lt;&#x2F;code&gt; å‘é€ç»™ &lt;code&gt;Reducer&lt;&#x2F;code&gt;ã€‚&lt;code&gt;Reducer&lt;&#x2F;code&gt; åšçš„äº‹æƒ…å°±æ›´ç®€å•äº†ï¼Œæ¥æ”¶ &lt;code&gt;Store&lt;&#x2F;code&gt; å‘å‡ºçš„ &lt;code&gt;Action&lt;&#x2F;code&gt; å’Œ &lt;code&gt;State&lt;&#x2F;code&gt;ï¼Œå†…éƒ¨è¿ç®—ä¹‹åï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ &lt;code&gt;State&lt;&#x2F;code&gt;ã€‚&lt;code&gt;Store&lt;&#x2F;code&gt; æ‹¿åˆ°äº†æ–°çš„ &lt;code&gt;State&lt;&#x2F;code&gt; åï¼Œå†æŠŠ &lt;code&gt;State&lt;&#x2F;code&gt; å‘é€ç»™ &lt;code&gt;View&lt;&#x2F;code&gt;ã€‚&lt;code&gt;View&lt;&#x2F;code&gt; æ¸²æŸ“æ–°çš„ &lt;code&gt;State&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç®€å•æè¿°ä¸‹å„ä¸ªæ¨¡å—çš„èŒè´£ï¼š&lt;&#x2F;p&gt;
&lt;h4 id=&quot;view&quot;&gt;View&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;View&lt;&#x2F;code&gt; å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªã€Œå£³ã€ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½ç”± &lt;code&gt;State&lt;&#x2F;code&gt; æä¾›ï¼Œè¿™æ ·å°±æŠŠè¡¨ç°å±‚å’Œæ•°æ®å±‚åˆ†å¼€äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;view = f(state)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;action&quot;&gt;Action&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;Action&lt;&#x2F;code&gt; ç”¨æ¥æè¿°å‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…ï¼Œæ¯”å¦‚ä¸å°å¿ƒç”¨è„šè¸¢åˆ°äº†æ¤…å­ï¼Œç¥ç»ç³»ç»Ÿå°±ä¼šæŠŠè¿™ä¸ªä¿¡æ¯ä¼ é€’ç»™å¤§è„‘ï¼Œè¿™ä¸ªä¿¡æ¯å°±æ˜¯ &lt;code&gt;Action&lt;&#x2F;code&gt;ï¼Œè€Œå¤§è„‘å°±æ˜¯ä¹‹åè¦è®²åˆ°çš„ &lt;code&gt;Store&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;store&quot;&gt;Store&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™æ˜¯æ ¸å¿ƒæ¨¡å—ï¼Œå°±åƒå¤§è„‘ä¼šä¸åœåœ°æ¥å—åˆ°å„ç§ &lt;code&gt;Action&lt;&#x2F;code&gt;ï¼Œå¹¶ä½œå‡ºååº”ï¼Œåªä¸è¿‡åœ¨è¿™é‡Œ &lt;code&gt;Store&lt;&#x2F;code&gt; å¹¶ä¸å…·å¤‡ã€Œåšå†³å®šã€çš„èƒ½åŠ›ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ª &lt;code&gt;Action&lt;&#x2F;code&gt; äº¤ç»™äº†æ‰€æœ‰å¯èƒ½å…³å¿ƒå®ƒçš„ &lt;code&gt;Reducers&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ReSwift æ¨èä¸€ä¸ª App åªæœ‰ä¸€ä¸ª &lt;code&gt;Store&lt;&#x2F;code&gt;ï¼Œåœ¨å®é™…æƒ…å†µä¸­ï¼Œå¦‚æœè¿™ä¹ˆåšçš„è¯ï¼Œä¼šå¸¦æ¥ä¸å°‘çš„å‰¯ä½œç”¨ï¼Œæ¯”å¦‚æ‰€æœ‰çš„æ¨¡å—éƒ½éœ€è¦ä¾èµ– &lt;code&gt;Store&lt;&#x2F;code&gt;ï¼Œè¿™ä¸ª &lt;code&gt;State&lt;&#x2F;code&gt; ä¼šå¾ˆåºå¤§ï¼Œä¸å¯é¿å…çš„ä¼šå½±å“æ€§èƒ½ã€‚æ‰€ä»¥ï¼Œå•ä¸ªé¡µé¢æˆ–æ¨¡å—æœ‰ä¸€ä¸ª &lt;code&gt;Store&lt;&#x2F;code&gt; ä¼šæ¯”è¾ƒåˆé€‚ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;state&quot;&gt;State&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;State&lt;&#x2F;code&gt; æ˜¯ä¸€ä¸ªéšå½¢çš„æ€æ‰‹ï¼Œå› ä¸ºä½¿ç”¨å®ƒæå…¶æ–¹ä¾¿ï¼Œè€Œå®ƒçš„å±å®³ä¹Ÿä¸ä¼šç¬é—´çˆ†å‘ï¼Œå°±åƒæ¸©æ°´ç…®é’è›™ä¸€æ ·ï¼Œç­‰å‘ç°é—®é¢˜è¶Šæ¥è¶Šå¤šã€è¢«å„ç§å¤šçº¿ç¨‹é—®é¢˜å›°æ‰°æ—¶ï¼Œå°±ä¼šæ„Ÿå—åˆ°å®ƒçš„å¨åŠ›äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥æŠŠ &lt;code&gt;State&lt;&#x2F;code&gt; å•ç‹¬æ‹å‡ºæ¥ï¼Œå¹¶ä¸”ä½¿ç”¨ &lt;a href=&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;videos&#x2F;play&#x2F;wwdc2015&#x2F;414&#x2F;&quot;&gt;Value Types&lt;&#x2F;a&gt; æ¥è§£å†³å„ç§å¤šçº¿ç¨‹æˆ–å˜é‡è¢«ä¿®æ”¹å¯¼è‡´çš„é—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;WWDC çš„ &lt;a href=&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;videos&#x2F;play&#x2F;wwdc2016&#x2F;419&#x2F;&quot;&gt;Protocol and Value Oriented Programming in UIKit Apps&lt;&#x2F;a&gt; ä¸­ä¹Ÿæ¨èä½¿ç”¨ Value Compositionï¼Œè€Œä¸æ˜¯ç»§æ‰¿ï¼ŒåŒæ—¶æŠŠ State é›†ä¸­åˆ°ä¸€ä¸ªåœ°æ–¹å¤„ç†ï¼Œä¹Ÿæœ‰åŠ©äº Local Reasoningã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wei-shi-yao-yao-shi-yong-reswift&quot;&gt;ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ ReSwift&lt;&#x2F;h3&gt;
&lt;p&gt;ç¡®åˆ‡è¯´æ¥æ˜¯ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ã€Œå•å‘æ•°æ®æµã€çš„æ¶æ„æ¨¡å¼ï¼Œä¸»è¦æœ‰è¿™ä¹ˆå‡ ä¸ªå¥½å¤„ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;æ•°æ®å•å‘æµåŠ¨å®¹æ˜“è®©ç»“æ„å˜å¾—æ¸…æ™°ï¼Œå‡ºé—®é¢˜æ—¶ä¹Ÿæ›´å®¹æ˜“æ’æŸ¥ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä½¿ç”¨äº† ã€ŒValue Typesã€ä½œä¸ºæµåŠ¨çš„æ•°æ®ï¼Œé¿å…å„ç§è¯¡å¼‚çš„ã€Œä¸å°å¿ƒè¢«ç¯¡æ”¹ã€æˆ–å¤šçº¿ç¨‹ bugã€‚&lt;&#x2F;li&gt;
&lt;li&gt;åœ¨ç»Ÿä¸€çš„å…¥å£å¤„ç†æ•°æ®ï¼ˆStateï¼‰ï¼Œæ¯”èµ·æ•£è½åœ¨å„å¤„æ›´åŠ å®¹æ˜“æ§åˆ¶ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReSwift&#x2F;ReSwift&quot;&gt;Readme&lt;&#x2F;a&gt; é‡Œå¸¦äº†ä¸€ä¸ªç®€å•çš„ Demoï¼Œå¯ä»¥æ„Ÿå—ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yuan-ma-yi-pie&quot;&gt;æºç ä¸€ç¥&lt;&#x2F;h3&gt;
&lt;p&gt;ReSwift (3.0.0) çš„æºç å¾ˆç²¾ç®€ï¼Œå¯¹ Swift ç†Ÿæ‚‰çš„è¯ï¼Œå¾ˆå¿«å°±èƒ½çœ‹å®Œã€‚è¯´ä¸‹æˆ‘è‡ªå·±åœ¨çœ‹æºç çš„è¿‡ç¨‹ä¸­å­¦åˆ°çš„ä¸€äº› tips å§ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;reduce-de-shi-yong&quot;&gt;Reduce çš„ä½¿ç”¨&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;reduce&lt;&#x2F;code&gt; åœ¨å‡½æ•°å¼ç¼–ç¨‹çš„é¢†åŸŸé‡Œä¼šç»å¸¸è¢«ç”¨åˆ°ï¼Œç”šè‡³å¯ä»¥å®ç° &lt;code&gt;map&lt;&#x2F;code&gt; &#x2F; &lt;code&gt;filter&lt;&#x2F;code&gt; ç­‰åŠŸèƒ½ï¼Œè¶³è§å…¶å¼ºå¤§ã€‚å®ƒçš„è¿è¡Œè§„åˆ™æ˜¯ä»¥å‡½æ•°çš„å¤„ç†ç»“æœä½œä¸ºåˆå§‹å€¼ï¼Œå†ç»“åˆæ•°ç»„ä¸­çš„å…ƒç´ è¿”å›å¤„ç†ç»“æœï¼Œä¸æ–­å¾ªç¯ï¼Œç›´åˆ°æ•°ç»„ä¸­çš„å…ƒç´ å…¨éƒ¨å¤„ç†å®Œæˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨ Swift ä¸­ï¼Œå®ƒæ˜¯ &lt;code&gt;Sequence&lt;&#x2F;code&gt; åè®®æ‰©å±•çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç­¾åå¦‚ä¸‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public func &lt;&#x2F;span&gt;&lt;span&gt;reduce&amp;lt;Result&amp;gt;(_ initialResult: Result, _ nextPartialResult: (Result, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;Iterator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;Element) throws &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Result) rethrows -&amp;gt; Result
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åœ¨ ReSwift ä¸­æœ‰å¥½å‡ ä¸ªåœ°æ–¹éƒ½ç”¨åˆ°äº† &lt;code&gt;reduce&lt;&#x2F;code&gt;ï¼Œæ¯”å¦‚é€šè¿‡å®ƒæ¥è¾¾åˆ° &lt;code&gt;combineReducer&lt;&#x2F;code&gt; çš„æ•ˆæœ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public struct&lt;&#x2F;span&gt;&lt;span&gt; CombinedReducer: AnyReducer {
&lt;&#x2F;span&gt;&lt;span&gt;	  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; self.reducers åŒ…å«äº† AnyReducer çš„å®ä¾‹
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public func &lt;&#x2F;span&gt;&lt;span&gt;_handleAction(action: Action, state: StateType?) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; StateType {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; reducers&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;reduce(state) { (currentState, reducer) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; StateType &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; reducer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;_handleAction(action: action, state: currentState)
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æŒ‰ç…§å…¥é˜Ÿåˆ—çš„å…ˆåï¼Œreducer è¢«ä¾æ¬¡æ‰§è¡Œï¼Œå¹¶ä¸”æŠŠç”Ÿæˆçš„æ–°çš„ &lt;code&gt;State&lt;&#x2F;code&gt; ä½œä¸ºä¸‹ä¸€ä¸ªå¾ªç¯çš„åˆå§‹å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ª reducerã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨å¤„ç† &lt;code&gt;middleware&lt;&#x2F;code&gt; æ—¶ï¼Œä¹Ÿæœ‰ç”¨åˆ°ç±»ä¼¼çš„æŠ€æœ¯ï¼Œä¸è¿‡é‚£ä¸ªæ›´åŠ å¤æ‚äº›ï¼Œæ¶‰åŠåˆ°&lt;a href=&quot;https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;zh-hans&#x2F;%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0&quot;&gt;é«˜é˜¶å‡½æ•°&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zhuang-shi-qi-mo-shi&quot;&gt;è£…é¥°å™¨æ¨¡å¼&lt;&#x2F;h4&gt;
&lt;p&gt;è£…é¥°å™¨æ¨¡å¼ç®€å•æ¥è¯´å°±æ˜¯åœ¨ä¸æ”¹å˜ç±»ï¼æ–¹æ³•åŸæœ‰åŠŸèƒ½çš„å‰æä¸‹ï¼Œæä¾›äº†ä¸€äº›é¢å¤–çš„èƒ½åŠ›ã€‚æ¯”è¾ƒå¸¸è§çš„æœ‰ validatorï¼Œå®¢æˆ·ç«¯æäº¤çš„æ•°æ®è¦å…¥åº“å‰éœ€è¦åšä¸€ä¸‹æ ¡éªŒï¼Œä¸é€šè¿‡çš„è¯ç›´æ¥è¿”å›ã€‚åœ¨ python é‡Œè£…é¥°å™¨éå¸¸å¸¸è§ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªæ–¹æ³•ä¸ŠåŠ ä¸€ä¸ª &lt;code&gt;@cached&lt;&#x2F;code&gt; æˆ–è€… &lt;code&gt;@validate&lt;&#x2F;code&gt; ç­‰ annotationã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨å®ç° Reducer æ—¶ï¼Œæœ‰ç”¨åˆ°è¿™ä¸ªæ¨¡å¼ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public protocol&lt;&#x2F;span&gt;&lt;span&gt; AnyReducer {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;_handleAction(action: Action, state: StateType?) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; StateType
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;public protocol Reducer: AnyReducer {
&lt;&#x2F;span&gt;&lt;span&gt;    associatedtype ReducerStateType
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;handleAction(action: Action, state: ReducerStateType?) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; ReducerStateType
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;extension Reducer {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public func &lt;&#x2F;span&gt;&lt;span&gt;_handleAction(action: Action, state: StateType?) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; StateType {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; withSpecificTypes(action, state: state, function: handleAction)
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;_handleAction&lt;&#x2F;code&gt; å¯¹ &lt;code&gt;handleAction&lt;&#x2F;code&gt; åšäº†ä¸ªæ ¡éªŒï¼Œï¼ˆ&lt;code&gt;withSpecificTypes&lt;&#x2F;code&gt; å‡½æ•°é‡Œå¦‚æœæ ¡éªŒä¸é€šè¿‡ï¼Œ&lt;code&gt;handleAction&lt;&#x2F;code&gt; ä¸ä¼šè¢«æ‰§è¡Œï¼‰ï¼Œè¿™æ ·å¯¹äºä½¿ç”¨è€…ï¼Œåªéœ€ç»§æ‰¿ Reducer å®ç° &lt;code&gt;handleAction&lt;&#x2F;code&gt; æ–¹æ³•ï¼ŒReSwift å†…éƒ¨è°ƒç”¨æ—¶ä¼šä½¿ç”¨ &lt;code&gt;_handleAction&lt;&#x2F;code&gt; æ¥åšä¸€äº›æ ¡éªŒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;StoreSubscriber&lt;&#x2F;code&gt; é‡Œä¹Ÿæœ‰ç”¨åˆ°ç±»ä¼¼çš„æŠ€æœ¯ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;associatedtype-de-shi-yong&quot;&gt;associatedtype çš„ä½¿ç”¨&lt;&#x2F;h4&gt;
&lt;p&gt;é€šè¿‡ &lt;code&gt;associatedtype&lt;&#x2F;code&gt;ï¼Œå¯ä»¥è®© protocol ä½¿ç”¨ &lt;code&gt;generic&lt;&#x2F;code&gt;, Natasha è¿˜å†™è¿‡ä¸€ç¯‡å…³äº &lt;a href=&quot;https:&#x2F;&#x2F;www.natashatherobot.com&#x2F;swift-what-are-protocols-with-associated-types&#x2F;&quot;&gt;PAT ä½¿ç”¨çš„æ–‡ç« &lt;&#x2F;a&gt;ï¼Œé‡Œé¢ä»¥å® ç‰©å°ç²¾çµä¸ºä¾‹ï¼Œé€šè¿‡ PAT è®©ä¸åŒçš„å°ç²¾çµå…·å¤‡äº†ä¸åŒçš„èƒ½åŠ›ã€‚ä¸è¿‡ä½¿ç”¨äº† &lt;code&gt;associatedtype&lt;&#x2F;code&gt; æˆ– &lt;code&gt;Self&lt;&#x2F;code&gt; åï¼Œå°±ä¸èƒ½ä½œä¸ºå˜é‡çš„ç±»å‹æ¥å£°æ˜äº†ï¼Œæ¯”å¦‚ &lt;code&gt;var something: AProtoclWithAssociatedType&lt;&#x2F;code&gt; è¿™æ ·ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå…·ä½“åŸå› å¯ä»¥å‚è€ƒ&lt;a href=&quot;http:&#x2F;&#x2F;krakendev.io&#x2F;blog&#x2F;generic-protocols-and-their-shortcomings&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ï¼Œä¸»è¦æ˜¯å› ä¸ºæ— æ³•æŒ‡å®š Generic çš„ç±»å‹ï¼Œå¯¼è‡´ç¼–è¯‘å™¨æ— æ³•åœ¨ç¼–è¯‘æœŸé—´å°±ç¡®å®šå…·ä½“çš„ç±»å‹ï¼Œå¯¹äºå¼ºç±»å‹è¯­è¨€æ¥è¯´ï¼Œè¿™æ˜¯ä¸èƒ½æ¥å—çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ReSwift ä¸­ï¼Œåœ¨å®šä¹‰ StoreType æ—¶ï¼Œæœ‰ç”¨åˆ° &lt;code&gt;associatedtype&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public protocol&lt;&#x2F;span&gt;&lt;span&gt; StoreType {
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    associatedtype State: StateType
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Initializes the store with a reducer and an intial state.
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;(reducer: AnyReducer, state: State?)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åœ¨å®šä¹‰ reducer protocol æ—¶ï¼Œä¹Ÿæœ‰ç”¨åˆ°ï¼ˆä¹Ÿæ˜¯å…³è”äº† StateTypeï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;dui-wai-zhi-du-dui-nei-ke-du-xie&quot;&gt;å¯¹å¤–åªè¯»ï¼Œå¯¹å†…å¯è¯»å†™&lt;&#x2F;h4&gt;
&lt;p&gt;åœ¨ OC æ—¶ä»£ï¼Œé€šå¸¸çš„åšæ³•æ˜¯åœ¨ .h é‡Œå£°æ˜ä¸º &lt;code&gt;readonly&lt;&#x2F;code&gt;ï¼Œç„¶ååœ¨ .m çš„ class extension é‡Œï¼Œå°†åŒåçš„å±æ€§å£°æ˜ä¸º &lt;code&gt;readwrite&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Swift æ²¡æœ‰å¤´æ–‡ä»¶çš„æ¦‚å¿µï¼Œç›´æ¥ä¸€å¥è¯æå®š &lt;code&gt;private(set)&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;struct&lt;&#x2F;span&gt;&lt;span&gt; Subscription&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;State: StateType&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;private(set) weak var&lt;&#x2F;span&gt;&lt;span&gt; subscriber: AnyStoreSubscriber? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;nil
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; selector: ((State) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Any)?
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;subscription å¸Œæœ›å¤–éƒ¨å¯ä»¥æ‹¿åˆ° subscriberï¼Œä½†ä¸è¦ä¿®æ”¹å®ƒï¼Œäºæ˜¯åœ¨å‰é¢åŠ äº† &lt;code&gt;private(set)&lt;&#x2F;code&gt;ï¼Œä¹Ÿå°±æ˜¯æŠŠ &lt;code&gt;set&lt;&#x2F;code&gt; æ–¹æ³•æ ‡è®°ä¸º privateã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;ReSwift è¿˜æ˜¯æŒºå€¼çš„ä¸€è¯•çš„ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºå•å‘æ•°æ®æµç¡®å®å¯¹ç¨‹åºçš„æ¸…æ™°åº¦æœ‰å¸®åŠ©ï¼Œå¦ä¸€æ–¹é¢ ReSwift çš„ä»£ç å¾ˆç®€æ´ï¼Œå†…éƒ¨å®ç°æ¯”è¾ƒå®¹æ˜“ææ˜ç™½ï¼Œè¿™æ ·å³ä½¿å‡ºé—®é¢˜ä¹Ÿæ¯”è¾ƒå®¹æ˜“å®šä½ã€‚&lt;a href=&quot;https:&#x2F;&#x2F;realm.io&#x2F;news&#x2F;benji-encz-unidirectional-data-flow-swift&#x2F;&quot;&gt;Realm&lt;&#x2F;a&gt; ä¸Šæœ‰ä½œè€…åˆ†äº«çš„æ¡ˆä¾‹ï¼Œå¯ä»¥å‚è€ƒä¸‹ã€‚ä¸è¶³å˜›è‚¯å®šä¹Ÿæœ‰ï¼Œæ¯”å¦‚åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œåªæ˜¯åšäº†æ•°æ®æµï¼Œç¼ºå°‘ Diff æ”¯æŒï¼Œåœ¨åšåˆ—è¡¨æ›´æ–°ï¼åˆ é™¤æ—¶ä¼šæ¯”è¾ƒç—›è‹¦ï¼›å¦‚ä½•ä¸ MVVM ç­‰æ¯”è¾ƒæˆç†Ÿçš„æ¶æ„æœ‰æ•ˆåœ°ç»“åˆèµ·æ¥ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œç”±äºæ•°æ®éƒ½é€šè¿‡ State æ¥ä¼ é€’ï¼Œå¯ä»¥åœ¨å‡º bug æ—¶ï¼Œä¸Šä¼ å½“æ—¶çš„ state å†…å®¹æ–¹ä¾¿å®šä½ï¼›è¿˜å¯ä»¥åŸºäº State æ¥åš&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReSwift&#x2F;ReSwift#demo&quot;&gt;æ—¶å…‰æœº&lt;&#x2F;a&gt;ã€‚ä¸å¦¨åœ¨ Side Project ä¸­å°è¯•ä¸‹ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>åšä¸€ä¸ª App å‰éœ€è¦è€ƒè™‘çš„å‡ ä»¶äº‹</title>
            <pubDate>Wed, 06 Jul 2016 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/starting-an-app/</link>
            <guid>https://limboy.me/posts/starting-an-app/</guid>
            <description>&lt;p&gt;éšç€å·¥å…·é“¾çš„å®Œå–„ï¼Œè¯­è¨€çš„å‡çº§ä»¥åŠå„ç§ä¼˜è´¨æ•™ç¨‹çš„æ¶Œç°ï¼Œåšä¸€ä¸ª App çš„æˆæœ¬ä¹Ÿè¶Šæ¥è¶Šä½äº†ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæœ‰äº›äº‹æƒ…æœ€å¥½å‰æœŸå°±åšèµ·æ¥ï¼Œé¿å…å½“ App æœ‰äº†ä¸€å®šè§„æ¨¡åï¼Œå†æ„Ÿæ…¨å½“åˆä¸ºä»€ä¹ˆæ²¡æœ‰å¤šç•™ç‚¹å¿ƒã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wan-shan-de-ri-zhi-xi-tong&quot;&gt;å®Œå–„çš„æ—¥å¿—ç³»ç»Ÿ&lt;&#x2F;h3&gt;
&lt;p&gt;ä»¥ iOS ä¸ºä¾‹ï¼Œæœ‰æ—¶å›¾æ–¹ä¾¿ï¼Œå°±ç›´æ¥ç”¨ &lt;code&gt;NSLog&lt;&#x2F;code&gt; äº†ï¼Œç”šè‡³çº¿ä¸Šéƒ½ä¸€ç›´å¼€ç€ã€‚ä¸€æ–¹é¢ä¼šå½±å“æ€§èƒ½ï¼Œå°¤å…¶æ˜¯è¾“å‡ºæ¯”è¾ƒé¢‘ç¹çš„æ—¶å€™ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå®¹æ˜“æ³„éœ²æ•æ„Ÿä¿¡æ¯ï¼Œæ‰€ä»¥ä¸€èˆ¬åšæ³•æ˜¯åœ¨ Release æ¨¡å¼ä¸‹ç¦ç”¨ &lt;code&gt;NSLog&lt;&#x2F;code&gt;ï¼Œæ¯”å¦‚åœ¨ &lt;code&gt;pch&lt;&#x2F;code&gt; æ–‡ä»¶ä¸­ï¼Œé€šè¿‡å¯¹ç¯å¢ƒçš„åˆ¤æ–­ï¼Œå¯¹ &lt;code&gt;NSLog&lt;&#x2F;code&gt; åšä¸åŒçš„å¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†è¿™æ ·ä»ä¼šæœ‰é—®é¢˜ï¼Œæ¯”å¦‚æˆ‘ä»¬å‘ç°çº¿ä¸Šçš„ App åœ¨ç‰¹å®šåœºæ™¯ä¸‹ä¼šæœ‰æŸç§å¼‚å¸¸çš„è¡¨ç°ï¼Œè¿™æ—¶å°±å¾ˆå¸Œæœ›èƒ½æœ‰æ—¥å¿—æ¥æä¾›æ›´å¤šçš„ä¿¡æ¯ã€‚å¯ä»¥è€ƒè™‘ä½¿ç”¨åƒ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;CocoaLumberjack&#x2F;CocoaLumberjack&quot;&gt;cocoalumberjack&lt;&#x2F;a&gt; è¿™æ ·åŠŸèƒ½æ›´å®Œå–„çš„ç¬¬ä¸‰æ–¹æ—¥å¿—å·¥å…·ï¼Œåœ¨çº¿ä¸Šä»ç„¶å¼€ç€æ—¥å¿—ï¼Œä½†ä¸æ¶ˆè´¹ï¼Œè¿™æ ·å°±ä¸ä¼šæ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚å½“æˆ‘ä»¬éœ€è¦çœ‹æ—¥å¿—æ—¶ï¼Œå¯ä»¥é€šè¿‡ã€Œè°ƒè¯•æ¨¡å¼ã€æ‰“å¼€å®ƒï¼Œç„¶åè¿ä¸Š &lt;a href=&quot;http:&#x2F;&#x2F;lemonjar.com&#x2F;iosconsole&#x2F;&quot;&gt;iOS Console&lt;&#x2F;a&gt; æ¥çœ‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å› ä¸º Log æ˜¯ä¸€ä¸ªå¾ˆæ™®éçš„è¡Œä¸ºï¼Œæ‰€ä»¥æœ€å¥½å‰æœŸå°±è§„èŒƒèµ·æ¥ï¼ŒåæœŸéåœ°éƒ½æ˜¯ &lt;code&gt;NSLog&lt;&#x2F;code&gt; æ—¶ï¼Œå†è¦æ”¹åŠ¨ä¼šæœ‰ç‚¹éº»çƒ¦ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å·æ‡’ç‚¹ï¼Œç›´æ¥æŠŠ &lt;code&gt;NSLog&lt;&#x2F;code&gt; çš„å®å®šä¹‰æ”¹äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;commit-message-gui-fan&quot;&gt;Commit Message è§„èŒƒ&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨å‰æœŸå¼€å‘çš„æ—¶å€™ï¼Œå¾€å¾€ä¸ºäº†å¿«é€Ÿå®ç°åŠŸèƒ½ï¼Œè€Œå¿½ç•¥äº† Commit Message çš„è§„èŒƒï¼Œç„¶åå°±ä¼šå‡ºç°å¾ˆéšæ„çš„ Commit ä¿¡æ¯ã€‚è¿™æ ·åˆ«äººåœ¨ Review ä»£ç æ—¶å°±ä¼šå¾ˆç´¯ï¼Œå†™æŸä¸ªç‰ˆæœ¬çš„ Release Notes ä¹Ÿä¼šå˜å¾—è‰°è¾›ï¼Œç”šè‡³è¿‡ä¸€æ®µæ—¶é—´è‡ªå·±éƒ½ä¸çŸ¥é“è¿™äº› Commit ä»£è¡¨çš„æ„æ€ã€‚è€Œå¦‚æœè‡ªå·±ä¹Ÿè®²ä¸æ¸…è¿™æ¬¡æ”¹åŠ¨ç©¶ç«Ÿè¯¥æ€ä¹ˆæè¿°æ—¶ï¼Œå¾€å¾€æ˜¯è¿™æ¬¡æ”¹åŠ¨æ··æ‚äº†è¾ƒå¤šçš„ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;erlang&#x2F;otp&#x2F;wiki&#x2F;Writing-good-commit-messages&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt; ç®€æ´ç²¾ç¡®åœ°æè¿°äº†ä¸ºä»€ä¹ˆè¦å†™å¥½ Commit Messageï¼Œä»¥åŠå¦‚ä½•å†™ã€‚éµå®ˆè¿™äº›è§„èŒƒåï¼Œå°±å¾ˆæ–¹ä¾¿äº§å‡ºè¿™æ ·çš„ Release Notes äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;dai-ma-gui-fan&quot;&gt;ä»£ç è§„èŒƒ&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªæœ€å¥½åœ¨å‰æœŸå°±æŠ“èµ·æ¥ï¼Œå¦‚æœå‰æœŸä¸åšçº¦æŸï¼Œæ¯ä¸ªäººçš„é£æ ¼å¾€å¾€ä¼šæœ‰æ¯”è¾ƒå¤§çš„å·®å¼‚ï¼Œå¯¼è‡´ä»£ç çœ‹èµ·æ¥ä¼šæ¯”è¾ƒç´¯ï¼Œç”šè‡³æœ‰äº›äººæ˜¯ä»å…¶ä»–è¯­è¨€è½¬è¿‡æ¥çš„ï¼Œè¿˜ä¼šä¿ç•™ä¹‹å‰è¯­è¨€çš„ä¸€äº›ä¹¦å†™ä¹ æƒ¯ï¼Œå°±å®¹æ˜“æœ‰ã€Œå‡ºæˆã€çš„æ„Ÿè§‰ã€‚ä¸€è‡´çš„ä»£ç è§„èŒƒä¸ä»…çœ‹èµ·æ¥èˆ’æœï¼Œè€Œä¸”è®©å›¢é˜Ÿæ›´åƒä¸€ä¸ªæ•´ä½“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ªå®æ–½èµ·æ¥ä¼šæœ‰ä¸€å®šéš¾åº¦ï¼Œå°¤å…¶æ˜¯å›¢é˜Ÿä¸­æœ‰ä¸€äº›ã€Œè€äººã€çš„æ—¶å€™ï¼Œä»–ä»¬å¾€å¾€ç§¯ç´¯äº†ä¸€å¥—è‡ªå·±çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œè€Œä¸”ä¸å®¹æ˜“è¢«è¯´æœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhun-bei-yi-fen-bian-cheng-shou-ze&quot;&gt;å‡†å¤‡ä¸€ä»½ç¼–ç¨‹å®ˆåˆ™&lt;&#x2F;h3&gt;
&lt;p&gt;é‡Œé¢åŒ…å«äº†ã€Œæœ€ä½³å®è·µã€å’Œã€Œä¸è¦è¸©çš„å‘ã€ï¼Œè¿™ä¸ªå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šæé«˜å¼€å‘æ•ˆç‡ï¼Œé¿å…ä¸€äº›ä½çº§é”™è¯¯ã€‚æ¯”å¦‚ä»¥ iOS ä¸ºä¾‹ï¼Œã€Œä¸è¦éšä¾¿ä½¿ç”¨é€šçŸ¥ã€ï¼Œå› ä¸ºé€šçŸ¥ä½¿ç”¨èµ·æ¥å¤ªæ–¹ä¾¿äº†ï¼Œç”¨å¾—å¤šäº†è°ƒè¯•èµ·æ¥å°±ä¼šå¾ˆç´¯ï¼Œè€Œä¸”ä¹Ÿä¸å¥½ç®¡ç†ï¼›ã€Œé€šçŸ¥ç”¨å®Œä¹‹åè®°å¾— remove observerã€ï¼›ä¸è¦ä½¿ç”¨&lt;code&gt;containsString&lt;&#x2F;code&gt; (å¦‚æœè¿˜éœ€è¦æ”¯æŒ iOS 7 çš„è¯)ã€‚éšç€æ—¶é—´çš„ç´¯ç§¯ï¼Œè¿™ä»½å®ˆåˆ™é‡Œçš„å†…å®¹ä¼šè¶Šæ¥è¶Šå¤šï¼Œä¹Ÿæ˜¯ä¸€ä»¶æŒºå®è´µçš„è´¢å¯Œã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ye-mian-bu-ju-gui-fan&quot;&gt;é¡µé¢å¸ƒå±€è§„èŒƒ&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªåœ¨ Android ç›¸å¯¹è¿˜å¥½ï¼ŒåŸºæœ¬éƒ½æ˜¯é€šè¿‡ xml æ¥è¿›è¡Œå¸ƒå±€ã€‚åœ¨ iOS é‡Œç©æ³•å°±å¤šäº†ï¼Œæœ‰ç”¨ storyboard çš„ï¼Œæœ‰ç”¨ xib çš„ï¼Œæœ‰ç›´æ¥è®¡ç®—åæ ‡å’Œå¤§å°çš„ï¼Œæœ‰ç”¨åŸç”Ÿ autolayout çš„ï¼Œæœ‰ç”¨ç¬¬ä¸‰æ–¹å¸ƒå±€ç±»çš„ã€‚æ€»ä¹‹å°±æ˜¯å„æ˜¾ç¥é€šï¼Œå°½é‡ç”¨åŒä¸€ç§å¸ƒå±€è§„èŒƒï¼ˆä½†ä¸å»ºè®®ç›´æ¥è®¡ç®—åæ ‡å’Œå¤§å°ï¼‰ï¼Œçœ‹èµ·æ¥ä¹Ÿä¼šæ–¹ä¾¿äº›ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tong-ji-mai-dian&quot;&gt;ç»Ÿè®¡åŸ‹ç‚¹&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯å¾ˆé‡è¦çš„ä¸€å—ï¼Œå®¢æˆ·ç«¯æ‰€æœ‰çš„æ•°æ®åŸºæœ¬å°±é å®ƒäº†ï¼Œæ‰€ä»¥å°½é‡é€‰æ‹©ä¸€ä¸ªçµæ´»ã€ç¨³å®šçš„æ•°æ®æ–¹æ¡ˆï¼ŒåŒæ—¶æœ€å¥½åœ¨ä»–ä»¬æä¾›çš„ SDK ä¸Šå†å°ä¸€å±‚ï¼Œæ–¹ä¾¿åšä¸€äº›é¢å¤–çš„äº‹æƒ…ï¼ˆæ¯”å¦‚æƒ³åŒæ—¶æ¥å…¥å¦ä¸€å®¶æœåŠ¡ä½œå¯¹æ¯”ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç»Ÿè®¡åŸ‹ç‚¹è¿˜æœ‰å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯ã€ŒéªŒè¯ã€ï¼Œæ˜¯å¦æœ‰é”™æ‰“ã€æ¼æ‰“ç­‰ç°è±¡ï¼›iOS &#x2F; Android æ˜¯å¦æœ‰ç”¨åŒä¸€ä¸ªç‚¹ï¼›æœ‰äº›ç‚¹è¿˜éœ€è¦é¢å¤–çš„å‚æ•°ï¼Œè¿™äº›å‚æ•°çš„æ ¼å¼æ˜¯å¦æ­£ç¡®ç­‰ã€‚è¿™äº›å·¥å…·å¾€å¾€åªèƒ½è‡ªå·±æ¥åšäº†ï¼Œè¿™ä¹Ÿæ˜¯æ¯”è¾ƒèŠ±æ—¶é—´çš„ä¸€éƒ¨åˆ†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;app-jia-gou&quot;&gt;App æ¶æ„&lt;&#x2F;h3&gt;
&lt;p&gt;App æ¶æ„ä¼šéšç€ä¸šåŠ¡ã€äººå‘˜çš„å¢é•¿è€Œæ¼”è¿›ï¼Œæ‰€ä»¥å½“å‘ç°å½“å‰çš„æ¶æ„æ— æ³•æ»¡è¶³æ—¥å¸¸çš„ä¸šåŠ¡è¿­ä»£æ—¶ï¼Œå°±éœ€è¦è€ƒè™‘å¯¹å®ƒåšè°ƒæ•´äº†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¤§æ–¹å‘ä¸Šä¹Ÿå°±æ˜¯ MVP &#x2F; MVVMï¼Œç­‰äººå‘˜å¤šèµ·æ¥æ—¶ï¼ŒåŸºæœ¬å°±æ˜¯ç»„ä»¶åŒ–å¼€å‘ï¼Œå½“ç„¶ç»„ä»¶åŒ–ä¹Ÿä¼šæœ‰å®ƒçš„é—®é¢˜ï¼ˆæ¯”å¦‚èµ„æº &#x2F; ç±»é‡ç”¨ã€ç»„ä»¶é—´é€šä¿¡ç­‰ï¼‰ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨å‰æœŸé€‰æ‹©ä¸€ä¸ªç›¸å¯¹è½»é‡çº§ï¼Œä½†æ¯”è¾ƒæ¸…æ™°çš„æ¶æ„ï¼ˆå°½é‡ä¸è¦é€‰æ‹© MVCï¼‰ï¼Œå¤§å®¶éƒ½éµå®ˆè¿™ä¸ªæ¶æ„å¼€å‘ï¼Œä¹Ÿèƒ½ä¸€å®šç¨‹åº¦ä¸Šæé«˜æ•ˆç‡ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ye-mian-tiao-zhuan-ji-zhi&quot;&gt;é¡µé¢è·³è½¬æœºåˆ¶&lt;&#x2F;h3&gt;
&lt;p&gt;è™½ç„¶ Androidã€iOS éƒ½åŸç”Ÿæ”¯æŒ open ç‰¹å®š scheme çš„ urlï¼Œä¸è¿‡å¯èƒ½çš„è¯ï¼Œè¿˜æ˜¯é€šè¿‡ router ç»Ÿä¸€å¤„ç†ä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¹Ÿæ›´çµæ´»ã€‚æ¯”å¦‚å¯ä»¥çŸ¥é“æ³¨å†Œäº†å“ªäº› URLï¼›å¯ä»¥çŸ¥é“é¡µé¢çš„è·³è½¬æˆåŠŸç‡ï¼›æ–¹ä¾¿å¤„ç†ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„éœ€æ±‚ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zai-xian-pei-zhi&quot;&gt;åœ¨çº¿é…ç½®&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨çº¿é…ç½®å¯ä»¥èµ‹äºˆ App æå¤§çš„çµæ´»æ€§ï¼Œæ¯”å¦‚è¿è¥çš„ä¸€äº›æ´»åŠ¨ã€banner ä½è°ƒæ•´ã€é¦–é¡µå¼¹çª—ç­‰ï¼›è¿˜å¯ä»¥é’ˆå¯¹ç‰¹å®šæœºå‹ã€ç³»ç»Ÿåˆ†å‘ç‰¹å®šçš„å†…å®¹ï¼Œç»“åˆè§„åˆ™å¼•æ“ç”šè‡³å¯ä»¥ç»™ä¸€éƒ¨åˆ†æœ‰ç›¸åŒç‰¹å¾çš„ç”¨æˆ·å‘æ¨é€ï¼›å¯ä»¥åšæµé‡åˆ‡åˆ†ç­‰ã€‚æ‰€ä»¥ä¸€ä¸ªå¼ºå¤§&#x2F;ç¨³å®šçš„é…ç½®ä¸­å¿ƒå°±æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼ŒA&#x2F;B Test ä¹Ÿå¯ä»¥åŸºäºé…ç½®ä¸­å¿ƒæ¥åšã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œæœ‰äº›æ³¨æ„äº‹é¡¹ï¼Œå› ä¸ºä¸å°‘é…ç½®çš„å€¼æ˜¯è¿è¥å¡«çš„ï¼Œå¥¹ä»¬å¯¹ value ä¸é‚£ä¹ˆæ•æ„Ÿï¼Œæ‰€ä»¥ä¼šå‡ºç° value ä¸ºç©ºï¼Œæˆ–è€…ä¸æ˜¯æƒ³è¦çš„ç±»å‹ï¼Œæˆ–è€…é…äº†å¼ å›¾ç‰‡ï¼Œä½†æ˜¯ä½“ç§¯è¶…å¤§ç­‰ï¼Œæœ‰å¯èƒ½é€ æˆå®¢æˆ·ç«¯ crash &#x2F; OOM ç­‰å¼‚å¸¸è¡¨ç°ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯è¦æœ‰è¶³å¤Ÿå¼ºå¤§çš„å®¹é”™èƒ½åŠ›ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xuan-ze-he-gua-de-crash-ping-tai&quot;&gt;é€‰æ‹©åˆé€‚çš„ Crash å¹³å°&lt;&#x2F;h3&gt;
&lt;p&gt;Crash ä¼šç»™ç”¨æˆ·é€ æˆæå¤§çš„è´Ÿé¢ä½“éªŒï¼Œæ‰€ä»¥éœ€è¦ç»å¸¸å…³æ³¨ Crash æƒ…å†µï¼Œå°¤å…¶æ˜¯åˆšå‘ç‰ˆçš„é‚£æ®µæ—¶é—´ã€‚è¿™å— &lt;a href=&quot;http:&#x2F;&#x2F;fabric.io&quot;&gt;fabric&lt;&#x2F;a&gt; åšçš„æ¯”è¾ƒå¥½ï¼Œåªæ˜¯ç”±äºæ˜¯å›½å¤–çš„æœåŠ¡ï¼Œä¼šæœ‰äº›è®¸æ•°æ®ä¸Šçš„ä¸¢å¤±ï¼Œä¸è¿‡é—®é¢˜å€’ä¹Ÿä¸æ˜¯å¾ˆå¤§ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘å›½å†…çš„ä¸€äº›æœåŠ¡ï¼Œå¦‚ buglyï¼Œæ¯•ç«Ÿè…¾è®¯è‡ªå·±ä¹Ÿåœ¨ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;code-review&quot;&gt;Code Review&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯å®¹æ˜“å¿½è§†çš„ä¸€ç‚¹ï¼Œå½“ä¸šåŠ¡éœ€æ±‚å‹è¿‡æ¥æ—¶ï¼Œå…ˆæŠŠåŠŸèƒ½å®ç°äº†å†è¯´ï¼Œè€Œä¸”åœ¨åˆæœŸå¾€å¾€äººæ‰‹ä¹Ÿä¸å¤Ÿï¼ŒæŠ½ä¸å‡ºæ—¶é—´æ¥åš Code Reviewã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œå¯ä»¥å…ˆ Review ä¸€äº›æ ¸å¿ƒçš„ç‚¹ï¼Œä¿è¯é‡è¦çš„ä»£ç æ˜¯ç»è¿‡ Review çš„ï¼Œä¸å¤ªé‡è¦çš„ä¸šåŠ¡ä»£ç å¯ä»¥å…ˆæ”¾æ”¾ï¼Œç­‰äººå‘˜å……è¶³åå†è¦†ç›–æ›´å¤§çš„èŒƒå›´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Code Review çš„ä¸»è¦ä½œç”¨æ˜¯ä¿éšœä»£ç è´¨é‡ï¼ŒåŒæ—¶ä¿ƒè¿›åŒæ–¹æˆé•¿ï¼Œä¸€ä¸ªæ‹…å¿ƒç‚¹æ˜¯è´¨é‡åä½çš„ä»£ç æ¯”ä¾‹å¦‚æœè¾ƒå¤§çš„è¯ï¼Œä¼šå½±å“å¼€å‘è€…çš„å¿ƒæƒ…ï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬ï¼Œæ—¥ç§¯æœˆç´¯å°±æˆäº†é‡é‡çš„ã€Œå†å²åŒ…è¢±ã€ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xuan-ze-he-gua-de-kai-fa-mo-shi&quot;&gt;é€‰æ‹©åˆé€‚çš„å¼€å‘æ¨¡å¼&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœæ˜¯ä½¿ç”¨ git æ¥åšæºç ç®¡ç†çš„è¯ï¼Œå¯ä»¥é‡‡ç”¨ &lt;a href=&quot;http:&#x2F;&#x2F;jeffkreeftmeijer.com&#x2F;2010&#x2F;why-arent-you-using-git-flow&#x2F;&quot;&gt;flow&lt;&#x2F;a&gt; æ¨¡å¼ï¼ŒåŸºæœ¬èƒ½æ»¡è¶³å¤§éƒ¨åˆ†çš„éœ€æ±‚ï¼Œè€Œä¸”ä¸å°‘ git å·¥å…·ä¹Ÿå†…ç½®äº† flow çš„æ”¯æŒã€‚è¿™æ ·å½“éœ€è¦å¤„ç† feature &#x2F; hotfix &#x2F; å‘ç‰ˆç­‰åœºæ™¯æ—¶ï¼Œå°±ä¼šå¾ˆæ–¹ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;chi-xu-ji-cheng&quot;&gt;æŒç»­é›†æˆ&lt;&#x2F;h3&gt;
&lt;p&gt;æŒç»­é›†æˆçš„ç›®çš„æ˜¯è®©äº§å“åœ¨å¿«é€Ÿè¿­ä»£çš„è¿‡ç¨‹ä¸­è¿˜èƒ½ä¿è¯è´¨é‡ï¼Œå½“æœ‰é”™è¯¯å‘ç”Ÿæ—¶ï¼Œå¯ä»¥ç¬¬ä¸€æ—¶é—´è¢«æ£€æŸ¥å‡ºæ¥ï¼Œæ–¹ä¾¿ä¿®å¤ã€‚å¦‚æœæƒ³å·æ‡’çš„è¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æˆç†Ÿçš„æœåŠ¡ï¼Œå¦‚ &lt;a href=&quot;https:&#x2F;&#x2F;travis-ci.org&#x2F;&quot;&gt;travis&lt;&#x2F;a&gt;ï¼Œä¹Ÿå¯ä»¥è‡ªå·±åŸºäº Jenkins æ¥æ­ï¼ŒiOS çš„è¯ï¼Œé…åˆ fastlane æ•ˆæœä¼šæ›´å¥½ã€‚è‡ªå·±æ­çš„å¥½å¤„æ˜¯çµæ´»åº¦æ›´å¤§ï¼Œå¯ä»¥åŠ å…¥ä¸€äº›ä¸ªæ€§åŒ–éœ€æ±‚ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæœ‰æ‰“åŒ…å¹³å°çš„è¯ï¼Œè¿˜å¯ä»¥å®šæ—¶å‡ºä¸€ä¸ªåŒ…ï¼Œè¿™æ ·å½“å‘ç°æŸä¸ªåŠŸèƒ½ä½¿ç”¨èµ·æ¥æœ‰é—®é¢˜ï¼Œä»£ç ä¸Šåˆæ²¡ä»€ä¹ˆå¤´ç»ªæ—¶ï¼Œå¯ä»¥å¯¹æ¯”ä»¥å‰çš„åŒ…æ¥å®šä½ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;bug-guan-li-xi-tong&quot;&gt;Bug ç®¡ç†ç³»ç»Ÿ&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ª Bug åŒ…æ‹¬æµ‹è¯•é˜¶æ®µå’Œçº¿ä¸Šçš„ Bugï¼ŒBug ç®¡ç†å·¥å…·æœ‰å¾ˆå¤šï¼Œä½¿ç”¨åœ¨çº¿æœåŠ¡æˆ–è‡ªå·±æ­éƒ½å¯ä»¥ï¼Œä½†è¦æœ‰ï¼Œä¸ç„¶å¾ˆæœ‰å¯èƒ½å¿˜äº†è¿˜æœ‰å“ªäº›é—®é¢˜éœ€è¦ä¿®å¤ï¼Œå“ªäº›å·²ç»ä¿®å¤äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiang-mu-guan-li-gong-ju&quot;&gt;é¡¹ç›®ç®¡ç†å·¥å…·&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨ App å¼€å‘åˆæœŸï¼Œäººå‘˜è¾ƒå°‘ï¼Œæ²Ÿé€šèµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œæ‰€ä»¥å¾ˆå¤šéœ€æ±‚å½“é¢å°±è¯´äº†ï¼Œä¸€äº›åŸå‹&#x2F;è®¾è®¡å›¾å¯èƒ½ä¹Ÿæ˜¯ç›´æ¥ AirDrop è¿‡æ¥çš„ï¼Œè¿™æ ·æ•ˆç‡è‡ªç„¶é«˜ï¼Œä½†ä¸ä¾¿ç®¡ç†ã€‚æ¯”å¦‚æ²¡æœ‰ prdï¼Œäº§å“ã€å¼€å‘çš„ç†è§£å¯èƒ½ä¸ä¸€è‡´ï¼Œåˆ°å¤´æ¥å‘ç°åšçš„ä¸æ˜¯äº§å“æƒ³è¦çš„ï¼Œæˆ–è€…ä¸€äº›ç»†èŠ‚ä¸ç¬¦åˆè¦æ±‚ï¼›è®¾è®¡å›¾æœ‰æ›´æ–°ï¼Œä½†æ²¡æœ‰åŒæ­¥åˆ°æ‰€æœ‰çš„å¼€å‘ï¼›éœ€æ±‚æœ‰å˜æ›´ï¼Œä½†å½“æ—¶åœ¨ä¸“å¿ƒåšæŸä¸ª featureï¼Œå¯èƒ½å°±å¿˜äº†ï¼Œæˆ–è€…æ²¡æœ‰ç†è§£å…¨é¢ç­‰ã€‚æ‰€ä»¥æœ€å¥½è¿˜æ˜¯æœ‰ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·æ¥ç»Ÿä¸€å¤„ç†ï¼Œå†ç»“åˆæ•æ·å¼€å‘ï¼Œé¡¹ç›®çš„è´¨é‡å’Œè¿›åº¦å°±å®¹æ˜“å¾—åˆ°ä¿éšœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;checklist&quot;&gt;Checklist&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸€ä¸ª App å‘å¸ƒä¸Šçº¿ä¹‹åï¼Œè¦ä¿è¯ä¸å‡ºå¤§çš„é—®é¢˜ï¼Œå°±è¦åœ¨å‘å¸ƒä¹‹å‰ï¼Œå…ˆæ£€æŸ¥ä¸€ä¸‹ã€Œä¸€å®šä¸èƒ½å‡ºé—®é¢˜ã€çš„ç‚¹æ˜¯å¦æ­£å¸¸ï¼Œå°±åƒé£æœºèµ·é£ä¹‹å‰ä¸€å®šä¼šèµ°ä¸€é checklist ä¸€æ ·ã€‚æ¯”å¦‚æ¨é€æ˜¯å¦æ­£å¸¸ã€log æ˜¯å¦å…³é—­ã€ç»„ä»¶ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®ç­‰ï¼Œéšç€ App åŠŸèƒ½çš„å¢åŠ ï¼Œè¿™ä¸ª list ä¹Ÿä¼šè¶Šæ¥è¶Šé•¿ï¼Œè™½ç„¶è¿‡ä¸€é checklist ä¼šèŠ±è´¹äº›æ—¶é—´ï¼Œä½†è·Ÿæ”¶ç›Šç›¸æ¯”è¿˜æ˜¯å€¼å¾—çš„ã€‚&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;ä»¥ä¸Šè¿™äº›ç‚¹æ˜¯åœ¨æ„Ÿå—ä¸è¿‡ä¸åŒé‡çº§çš„ App å¼€å‘åæ•´ç†çš„ï¼Œè‚¯å®šè¿˜ä¼šæœ‰ç–æ¼ï¼Œä¸è¿‡å¦‚æœçœŸèƒ½åšåˆ°è¿™äº›ï¼Œå°±å·²ç»å¾ˆä¸é”™äº†ï¼Œè‡³å°‘å½“æœ‰æ–°äººè¿›æ¥æ—¶ï¼Œä¸ä¼šèƒŒä¸Šæ²‰é‡çš„ã€Œå†å²åŒ…è¢±ã€ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>è˜‘è‡è¡— App çš„ç»„ä»¶åŒ–ä¹‹è·¯Â·ç»­</title>
            <pubDate>Mon, 14 Mar 2016 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/mgj-components-continued/</link>
            <guid>https://limboy.me/posts/mgj-components-continued/</guid>
            <description>&lt;p&gt;å‰å‡ å¤©åœ¨ã€Œç§»åŠ¨å­¦ä¹ åˆ†äº«ç¾¤ã€åˆ†äº«äº†å…³äºè˜‘è‡è¡—ç»„ä»¶åŒ–æ–¹é¢çš„ä¸€ç‚¹ç»éªŒï¼Œç”±äºæ—¶é—´å’Œæ–‡å­—æè¿°æ–¹é¢çš„é™åˆ¶ï¼Œå¾ˆå¤šä¸œè¥¿è¡¨è¿°çš„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œè®©ä¸€äº›åŒå­¦äº§ç”Ÿäº†ç–‘æƒ‘ï¼Œcasatwy è€å¸ˆä¹Ÿå†™äº†ç¯‡&lt;a href=&quot;http:&#x2F;&#x2F;casatwy.com&#x2F;iOS-Modulization.html&quot;&gt;æ–‡ç« &lt;&#x2F;a&gt;æ¥çº æ­£å…¶ä¸­çš„ä¸€äº›å®ç°ï¼Œçœ‹å®Œä¹‹åç¡®å®æœ‰ä¸å°‘å¯å‘ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;tong-yi-de-diao-yong-shi-xian&quot;&gt;ç»Ÿä¸€çš„è°ƒç”¨å®ç°&lt;&#x2F;h4&gt;
&lt;p&gt;å°†ã€ŒURL è°ƒç”¨ã€å’Œã€Œç»„ä»¶é—´è°ƒç”¨ã€é€šè¿‡ runtime è¾¾åˆ°ç»Ÿä¸€ï¼Œé€šè¿‡ prefix çš„æ–¹å¼æ¥é¿å…å®‰å…¨ä¸Šçš„ä¸€äº›æ¼æ´ã€‚çœ‹èµ·æ¥ç¡®å®ä¼šèˆ’æœäº›ï¼Œä¹Ÿæ¯”è¾ƒçµæ´»ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;tong-guo-category-lai-tong-yi-zu-jian-dui-wai-bao-lu-de-jie-kou&quot;&gt;é€šè¿‡ Category æ¥ç»Ÿä¸€ç»„ä»¶å¯¹å¤–æš´éœ²çš„æ¥å£&lt;&#x2F;h4&gt;
&lt;p&gt;æ”¯æŒ &lt;code&gt;openURL:&lt;&#x2F;code&gt; ä½†æœ€ç»ˆè¿˜æ˜¯èµ°çš„ target-actionï¼Œè·Ÿå†…éƒ¨è°ƒç”¨æ— å·®åˆ«ã€‚
è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ç›®å‰æœ‰å¾…æå‡çš„ç‚¹ï¼Œæƒ³çŸ¥é“æŸä¸ªç»„ä»¶æ”¯æŒå“ªäº› URL æˆ– å“ªäº› Protocol ä¸å¤Ÿæ–¹ä¾¿ï¼ŒURL çš„å‚æ•°ä¼ é€’ä¹Ÿæ˜¯ä¸ªé—®é¢˜ï¼Œå°†æ¥ URL å‘ç”Ÿå˜åŠ¨çš„è¯ï¼Œè°ƒæ•´èµ·æ¥ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚åç»­ä¼šåœ¨è¿™å—å†åŠ å¼ºä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“åˆå†³å®šä½¿ç”¨ &lt;code&gt;openURL:&lt;&#x2F;code&gt; æ¥åšé¡µé¢é—´çš„è·³è½¬ï¼Œè€Œä¸æ˜¯æ–¹æ³•è°ƒç”¨ï¼Œä¸»è¦æ˜¯è€ƒè™‘åˆ°æˆ‘ä»¬çš„å¤§éƒ¨åˆ†åœºæ™¯éƒ½å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼è§£å†³ï¼Œå› æ­¤å°±è¿™ä¹ˆå®šäº†ã€‚&lt;code&gt;openURL:&lt;&#x2F;code&gt; æ›´åƒ Android é‡Œçš„ ã€Œéšå¼ Intentã€ï¼Œä¸å…³å¿ƒè°æ¥å¤„ç†è¿™ä¸ª URLï¼Œç”±ç³»ç»Ÿï¼ˆMGJRouterï¼‰æ¥å†³å®šã€‚è€Œæ–¹æ³•è°ƒç”¨æ›´åƒã€Œæ˜¾å¼ Intentã€æˆ–è€… RPCï¼Œæ˜ç¡®åœ°çŸ¥é“åº”è¯¥ç”±è°æ¥å¤„ç†ã€‚å‰è€…çš„å¥½å¤„æ˜¯å¯ä»¥æ›´å°‘åœ°å…³å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œåè€…çš„å¥½å¤„æ˜¯å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®Œæˆå‚æ•°ä¼ é€’ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;geng-ming-que-de-biao-shu&quot;&gt;æ›´æ˜ç¡®çš„è¡¨è¿°&lt;&#x2F;h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;openURL&lt;&#x2F;code&gt; åªæ˜¯é¡µé¢é—´çš„è°ƒç”¨æ–¹å¼&lt;&#x2F;li&gt;
&lt;li&gt;ç»„ä»¶é—´çš„è°ƒç”¨é€šè¿‡ protocol æ¥å®ç°&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ª &lt;code&gt;Entry&lt;&#x2F;code&gt;ï¼Œè¿™ä¸ª &lt;code&gt;Entry&lt;&#x2F;code&gt;ï¼Œä¸»è¦åšäº†ä¸‰ä»¶äº‹&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æ³¨å†Œè¿™ä¸ªç»„ä»¶å…³å¿ƒçš„ URL&lt;&#x2F;li&gt;
&lt;li&gt;æ³¨å†Œè¿™ä¸ªç»„ä»¶èƒ½å¤Ÿè¢«è°ƒç”¨çš„æ–¹æ³•&#x2F;å±æ€§&lt;&#x2F;li&gt;
&lt;li&gt;åœ¨ App ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µåšä¸åŒçš„å“åº”&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;zhu-ce-zhe-ge-zu-jian-guan-xin-de-url&quot;&gt;æ³¨å†Œè¿™ä¸ªç»„ä»¶å…³å¿ƒçš„ URL&lt;&#x2F;h4&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components-continued&amp;#x2F;MGJRouter.png&quot;
        width=&quot;432&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[MGJRouter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;registerURLPattern:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;mgj:&#x2F;&#x2F;detail?id=:id&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;toHandler:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;routerParameters) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; routerParameters[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;id&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; create view controller with id
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; push view controller
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;URL çš„æ³¨å†Œä¼šæœ‰å¯¹åº”çš„ blockï¼Œæ‹¿åˆ°è¿™ä¸ª URL åï¼Œæƒ³æ€ä¹ˆæŠ˜è…¾å°±æ€ä¹ˆæŠ˜è…¾ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zhu-ce-zhe-ge-zu-jian-neng-gou-bei-diao-yong-de-fang-fa-shu-xing&quot;&gt;æ³¨å†Œè¿™ä¸ªç»„ä»¶èƒ½å¤Ÿè¢«è°ƒç”¨çš„æ–¹æ³•&#x2F;å±æ€§&lt;&#x2F;h4&gt;
&lt;p&gt;å½“æœ‰ä¸€äº›åœºæ™¯ä¸é€‚åˆç”¨ URL çš„æ–¹å¼æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡æ³¨å†Œ protocol æ¥å®ç°&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components-continued&amp;#x2F;ModuleManager.png&quot;
        width=&quot;432&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;[ModuleManager registerClass:ClassA forProtocol:ProtocolA]&lt;&#x2F;code&gt; çš„ç»“æœå°±æ˜¯åœ¨ MM å†…éƒ¨ç»´æŠ¤çš„ dict é‡Œæ–°åŠ äº†ä¸€ä¸ªæ˜ å°„å…³ç³»ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;[ModuleManager classForProtocol:ProtocolA]&lt;&#x2F;code&gt; çš„è¿”å›ç»“æœå°±æ˜¯ä¹‹å‰åœ¨ MM å†…éƒ¨ dict é‡Œ protocol å¯¹åº”çš„ classï¼Œä½¿ç”¨æ–¹ä¸éœ€è¦å…³å¿ƒè¿™ä¸ª class æ˜¯ä¸ªä»€ä¹ˆä¸œä¸œï¼Œåæ­£å®ç°äº† &lt;code&gt;ProtocolA&lt;&#x2F;code&gt; åè®®ï¼Œæ‹¿æ¥ç”¨å°±è¡Œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œéœ€è¦æœ‰ä¸€ä¸ªå…¬å…±çš„åœ°æ–¹æ¥å®¹çº³è¿™äº› public protoclï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­çš„ &lt;code&gt;PublicProtocl.h&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zai-app-sheng-ming-zhou-qi-de-bu-tong-jie-duan-zuo-bu-tong-de-xiang-ying&quot;&gt;åœ¨ App ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µåšä¸åŒçš„å“åº”&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æœ‰æåˆ°ï¼Œè¿™é‡Œç®€å•è¯´ä¸‹ï¼Œ&lt;code&gt;ModuleEntry&lt;&#x2F;code&gt;ï¼Œå®ç°æŸä¸ªç‰¹å®šçš„åè®®(è¯¥åè®®ç»§æ‰¿è‡ª &lt;code&gt;UIApplicationDelegate&lt;&#x2F;code&gt; )ï¼Œç„¶åå®ç°å¯¹åº”çš„æ–¹æ³•å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhen-dui-casatwy-na-pian-wen-zhang-de-yi-xie-hui-ying&quot;&gt;é’ˆå¯¹ casatwy é‚£ç¯‡æ–‡ç« çš„ä¸€äº›å›åº”&lt;&#x2F;h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å•çº¯ä»¥ openURL çš„æ–¹å¼æ˜¯æ— æ³•èƒœä»»è®©ä¸€ä¸ª App å»å®æ–½ç»„ä»¶åŒ–æ¶æ„çš„&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;åŒæ„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¹¶ä¸åªæœ‰ &lt;code&gt;openURL&lt;&#x2F;code&gt; ä¸€ç§æ–¹å¼&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ ¹æœ¬æ— æ³•è¡¨è¾¾éå¸¸è§„å¯¹è±¡&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;å•çº¯åœ°é€šè¿‡ &lt;code&gt;openURL&lt;&#x2F;code&gt; ç¡®å®ä¸å¤ªå¥½è¡¨è¾¾ï¼Œä½†æˆ‘ä»¬å¹¶ä¸åªæœ‰ &lt;code&gt;openURL&lt;&#x2F;code&gt; ä¸€ç§æ–¹å¼&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨å†Œ URL çš„ç›®çš„å…¶å®æ˜¯ä¸€ä¸ªæœåŠ¡å‘ç°çš„è¿‡ç¨‹ï¼Œåœ¨ iOS é¢†åŸŸä¸­ï¼ŒæœåŠ¡å‘ç°çš„æ–¹å¼æ˜¯ä¸éœ€è¦é€šè¿‡ä¸»åŠ¨æ³¨å†Œçš„ï¼Œä½¿ç”¨ runtime å°±å¯ä»¥äº†ã€‚å¦å¤–ï¼Œæ³¨å†Œéƒ¨åˆ†çš„ä»£ç çš„ç»´æŠ¤æ˜¯ä¸€ä¸ªç›¸å¯¹éº»çƒ¦çš„äº‹æƒ…ï¼Œæ¯ä¸€æ¬¡æ”¯æŒæ–°è°ƒç”¨æ—¶ï¼Œéƒ½è¦å»ç»´æŠ¤ä¸€æ¬¡æ³¨å†Œåˆ—è¡¨ã€‚å¦‚æœæœ‰è°ƒç”¨è¢«å¼ƒç”¨äº†ï¼Œæ˜¯ç»å¸¸ä¼šå¿˜è®°åˆ é¡¹ç›®çš„ã€‚runtime ç”±äºä¸å­˜åœ¨æ³¨å†Œè¿‡ç¨‹ï¼Œé‚£å°±ä¹Ÿä¸ä¼šäº§ç”Ÿç»´æŠ¤çš„æ“ä½œï¼Œç»´æŠ¤æˆæœ¬å°±é™ä½äº†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”±äºé€šè¿‡ runtime åšåˆ°äº†æœåŠ¡çš„è‡ªåŠ¨å‘ç°ï¼Œæ‹“å±•è°ƒç”¨æ¥å£çš„ä»»åŠ¡å°±ä»…åœ¨äºå„è‡ªçš„æ¨¡å—ï¼Œä»»ä½•ä¸€æ¬¡æ–°æ¥å£æ·»åŠ ï¼Œæ–°ä¸šåŠ¡æ·»åŠ ï¼Œéƒ½ä¸å¿…å»ä¸»å·¥ç¨‹åšæ“ä½œï¼Œååˆ†é€æ˜ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;å°½ç®¡é€šè¿‡ runtime å¯ä»¥åšåˆ°è¿™äº›ï¼Œä½†æœ€ç»ˆè¿˜æ˜¯è¦é€šè¿‡ç»´æŠ¤ &lt;code&gt;Category&lt;&#x2F;code&gt; æ¥æš´éœ²æ–°å¢çš„ Target-Actionï¼Œæ‰€ä»¥ runtime è™½ç„¶ä¸å­˜åœ¨æ³¨å†Œè¿‡ç¨‹ï¼Œä½†å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯ä¼šæœ‰æ³¨å†Œè¿‡ç¨‹ï¼Œè¿˜æ˜¯éœ€è¦å»ç»´æŠ¤ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ²¡æœ‰æ‹†åˆ†è¿œç¨‹è°ƒç”¨å’Œæœ¬åœ°é—´è°ƒç”¨&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ä»ä¸Šé¢çš„å›¾å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å…¶å®æ˜¯åˆ†ä¸ºã€Œç»„ä»¶é—´è°ƒç”¨ã€å’Œã€Œé¡µé¢é—´è·³è½¬ã€ä¸¤ä¸ªç»´åº¦ï¼Œåªè¦ app å“åº”æŸä¸ª URLï¼Œæ— è®ºæ˜¯ app å†…è¿˜æ˜¯ app å¤–éƒ½å¯ä»¥ï¼Œè€Œã€Œç»„ä»¶é—´ã€è°ƒç”¨èµ°çš„å®Œå…¨æ˜¯å¦ä¸€æ¡è·¯ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šæœ‰å®‰å…¨ä¸Šçš„é—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥è¿œç¨‹è°ƒç”¨çš„æ–¹å¼ä¸ºæœ¬åœ°é—´è°ƒç”¨æä¾›æœåŠ¡&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;åŒä¸Š&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬åœ°é—´è°ƒç”¨æ— æ³•ä¼ é€’éå¸¸è§„å‚æ•°ï¼Œå¤æ‚å‚æ•°çš„ä¼ é€’æ–¹å¼éå¸¸ä¸‘é™‹&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;åŒä¸Šï¼Œä½¿ç”¨ Protocol&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¿…é¡»è¦åœ¨ app å¯åŠ¨æ—¶æ³¨å†Œ URL å“åº”è€…&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;æ˜¯çš„ï¼Œå°±è˜‘è‡è¡—çš„æ–¹æ¡ˆæ¥è¯´ï¼Œè¿™æ­¥ä¸å¯é¿å…ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸ªä¸å¿…è¦çš„æ“ä½œä¼šå¯¼è‡´ä¸å¿…è¦çš„ç»´æŠ¤æˆæœ¬&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ç»´æŠ¤åªæ˜¯åœ¨ç»„ä»¶å†…éƒ¨åšè°ƒæ•´ï¼Œå¹¶ä¸éœ€è¦åœ¨ä¸»å·¥ç¨‹é‡Œåšä¿®æ”¹ã€‚å¦‚æœé‡‡ç”¨ Category çš„æ–¹å¼ï¼Œå¥½å¤„æ˜¯ä¸ç”¨åœ¨å¯åŠ¨æ—¶æ³¨å†Œï¼Œä½†å½“ç»„ä»¶çš„æ¥å£æœ‰å˜åŠ¨æ—¶ï¼Œä¾ç„¶è¦ç»´æŠ¤ Categoryï¼Œè¿™ä¸ªæˆæœ¬æ˜¯å…ä¸äº†çš„ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ–°å¢ç»„ä»¶åŒ–çš„è°ƒç”¨è·¯å¾„æ—¶ï¼Œè˜‘è‡è¡—çš„æ“ä½œç›¸å¯¹å¤æ‚
åœ¨æœ¬æ–‡ç»™å‡ºçš„ç»„ä»¶åŒ–æ–¹æ¡ˆä¸­ï¼Œå“åº”è€…å”¯ä¸€è¦åšçš„äº‹æƒ…å°±æ˜¯æä¾› Target å’Œ Actionï¼Œå¹¶ä¸éœ€è¦å†åšå…¶å®ƒçš„äº‹æƒ…&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;æä¾›äº† Target-Action ä¹‹åï¼Œè¿˜æ˜¯è¦åœ¨ Category é‡Œæ·»åŠ ä¸€ä¸ª wrapper çš„å§?&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ²¡æœ‰é’ˆå¯¹ target å±‚åšå°è£…
è¿™ç§åšæ³•ä½¿å¾—æ‰€æœ‰çš„è·¨ç»„ä»¶è°ƒç”¨è¯·æ±‚ç›´æ¥ hit åˆ°ä¸šåŠ¡æ¨¡å—ï¼Œä¸šåŠ¡æ¨¡å—å¿…ç„¶å› æ­¤å˜å¾—è‡ƒè‚¿éš¾ä»¥ç»´æŠ¤ï¼Œå±äºä¾µå…¥å¼æ¶æ„ã€‚åº”è¯¥å°†åŸæœ¬å±äºè°ƒç”¨ç›¸åº”çš„éƒ¨åˆ†æ‹¿å‡ºæ¥æ”¾åœ¨ target-action ä¸­ï¼Œæ‰èƒ½å°½å¯èƒ½ä¿è¯ä¸å°†æ— å…³ä»£ç ä¾µå…¥åˆ°åŸæœ‰ä¸šåŠ¡ç»„ä»¶ä¸­ï¼Œæ‰èƒ½ä¿è¯ä¸šåŠ¡ç»„ä»¶æœªæ¥çš„è¿ç§»å’Œä¿®æ”¹ä¸å—ç»„ä»¶è°ƒç”¨çš„å½±å“ï¼Œä»¥åŠé™ä½ä¸ºé¡¹ç›®çš„ç»„ä»¶åŒ–å®æ–½è€Œå¸¦æ¥çš„æ—¶é—´æˆæœ¬ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ã€Œå°†åŸæœ¬å±äºè°ƒç”¨ç›¸åº”çš„éƒ¨åˆ†æ‹¿å‡ºæ¥æ”¾åœ¨ target-action ä¸­ã€å¹¶ä¸æ˜¯å”¯ä¸€å¯è¡Œçš„æ–¹å¼ï¼Œä½¿ç”¨ Protocol&#x2F;URL æ³¨å†Œä¹Ÿå¯ä»¥è¾¾åˆ°æ•ˆæœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;casatwy çš„ä¸€äº›æ€è·¯å’Œæ€è€ƒé—®é¢˜çš„è§’åº¦æŒºä¸é”™çš„ï¼Œä¹Ÿä»ä»–çš„æ–‡ç« ä¸­æ”¶è·äº†ä¸å°‘ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½æŠŠä¹‹å‰æ¨¡ç³Šçš„ä¸€äº›è§‚å¿µè¯´å¾—è¶³å¤Ÿæ¸…æ¥šï¼Œè¿˜æœ‰é—®é¢˜çš„è¯æ¬¢è¿ç»§ç»­äº¤æµï¼šï¼‰&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>è˜‘è‡è¡— App çš„ç»„ä»¶åŒ–ä¹‹è·¯</title>
            <pubDate>Thu, 10 Mar 2016 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/mgj-components/</link>
            <guid>https://limboy.me/posts/mgj-components/</guid>
            <description>&lt;p&gt;åœ¨ç»„ä»¶åŒ–ä¹‹å‰ï¼Œè˜‘è‡è¡— App çš„ä»£ç éƒ½æ˜¯åœ¨ä¸€ä¸ªå·¥ç¨‹é‡Œå¼€å‘çš„ï¼Œåœ¨äººæ¯”è¾ƒå°‘ï¼Œä¸šåŠ¡å‘å±•ä¸æ˜¯å¾ˆå¿«çš„æ—¶å€™ï¼Œè¿™æ ·æ˜¯æ¯”è¾ƒåˆé€‚çš„ï¼Œèƒ½ä¸€å®šç¨‹åº¦åœ°ä¿è¯å¼€å‘æ•ˆç‡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ…¢æ…¢åœ°ä»£ç é‡å¤šäº†èµ·æ¥ï¼Œå¼€å‘äººå‘˜ä¹Ÿå¤šäº†èµ·æ¥ï¼Œä¸šåŠ¡å‘å±•ä¹Ÿå¿«äº†èµ·æ¥ï¼Œè¿™æ—¶å•ä¸€å·¥ç¨‹å¼€å‘æ¨¡å¼å°±ä¼šæ˜¾éœ²å‡ºä¸€äº›å¼Šç«¯&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;è€¦åˆæ¯”è¾ƒä¸¥é‡ï¼ˆå› ä¸ºæ²¡æœ‰æ˜ç¡®çš„çº¦æŸï¼Œã€Œç»„ä»¶ã€é—´å¼•ç”¨çš„ç°è±¡ä¼šæ¯”è¾ƒå¤šï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;å®¹æ˜“å‡ºç°å†²çªï¼ˆå°¤å…¶æ˜¯ä½¿ç”¨ Xibï¼Œè¿˜æœ‰å°±æ˜¯ Xcode Projectï¼Œè™½è¯´æœ‰&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;truebit&#x2F;xUnique&quot;&gt;è„šæœ¬&lt;&#x2F;a&gt;å¯ä»¥æ”¹å–„ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;ä¸šåŠ¡æ–¹çš„å¼€å‘æ•ˆç‡ä¸å¤Ÿé«˜ï¼ˆåªå…³å¿ƒè‡ªå·±çš„ç»„ä»¶ï¼Œå´è¦ç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼Œä¸å…¶ä»–ä¸ç›¸å¹²çš„ä»£ç ç³…åˆåœ¨ä¸€èµ·ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œå°±é‡‡å–äº†ã€Œç»„ä»¶åŒ–ã€ç­–ç•¥ã€‚å®ƒèƒ½å¸¦æ¥è¿™äº›å¥½å¤„&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;åŠ å¿«ç¼–è¯‘é€Ÿåº¦ï¼ˆä¸ç”¨ç¼–è¯‘ä¸»å®¢é‚£ä¸€å¤§å¨ä»£ç äº†ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;è‡ªç”±é€‰æ‹©å¼€å‘å§¿åŠ¿ï¼ˆMVC &#x2F; MVVM &#x2F; FRPï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;æ–¹ä¾¿ QA æœ‰é’ˆå¯¹æ€§åœ°æµ‹è¯•&lt;&#x2F;li&gt;
&lt;li&gt;æé«˜ä¸šåŠ¡å¼€å‘æ•ˆç‡&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å…ˆæ¥çœ‹ä¸‹ï¼Œç»„ä»¶åŒ–ä¹‹åçš„ä¸€ä¸ªå¤§æ¦‚æ¶æ„&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components&amp;#x2F;14575533415332.jpg&quot;
        width=&quot;1624&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ã€Œç»„ä»¶åŒ–ã€é¡¾åæ€ä¹‰å°±æ˜¯æŠŠä¸€ä¸ªå¤§çš„ App æ‹†æˆä¸€ä¸ªä¸ªå°çš„ç»„ä»¶ï¼Œç›¸äº’ä¹‹é—´ä¸ç›´æ¥å¼•ç”¨ã€‚é‚£å¦‚ä½•åšå‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-xian-fang-shi&quot;&gt;å®ç°æ–¹å¼&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;zu-jian-jian-tong-xin&quot;&gt;ç»„ä»¶é—´é€šä¿¡&lt;&#x2F;h4&gt;
&lt;p&gt;ä»¥ iOS ä¸ºä¾‹ï¼Œç”±äºä¹‹å‰å°±æ˜¯é‡‡ç”¨çš„ URL è·³è½¬æ¨¡å¼ï¼Œç†è®ºä¸Šé¡µé¢ä¹‹é—´çš„è·³è½¬åªéœ€ open ä¸€ä¸ª URL å³å¯ã€‚æ‰€ä»¥å¯¹äºä¸€ä¸ªç»„ä»¶æ¥è¯´ï¼Œåªè¦å®šä¹‰ã€Œæ”¯æŒå“ªäº› URLã€å³å¯ï¼Œæ¯”å¦‚è¯¦æƒ…é¡µï¼Œå¤§æ¦‚å¯ä»¥è¿™ä¹ˆåšçš„&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[MGJRouter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;registerURLPattern:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;mgj:&#x2F;&#x2F;detail?id=:id&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;toHandler:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;routerParameters) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; routerParameters[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;id&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; create view controller with id
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; push view controller
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é¦–é¡µåªéœ€è°ƒç”¨ &lt;code&gt;[MGJRouter openURL:@&amp;quot;mgj:&#x2F;&#x2F;detail?id=404&amp;quot;]&lt;&#x2F;code&gt; å°±å¯ä»¥æ‰“å¼€ç›¸åº”çš„è¯¦æƒ…é¡µã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£é—®é¢˜åˆæ¥äº†ï¼Œæˆ‘æ€ä¹ˆçŸ¥é“æœ‰å“ªäº›å¯ç”¨çš„ URLï¼Ÿä¸ºæ­¤ï¼Œæˆ‘ä»¬åšäº†ä¸€ä¸ªåå°ä¸“é—¨æ¥ç®¡ç†ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components&amp;#x2F;14575445324533.jpg&quot;
        width=&quot;2330&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åå¯ä»¥æŠŠè¿™äº›çŸ­é“¾ç”Ÿæˆä¸åŒå¹³å°æ‰€éœ€çš„æ–‡ä»¶ï¼ŒiOS å¹³å°ç”Ÿæˆ .{h,m} æ–‡ä»¶ï¼ŒAndroid å¹³å°ç”Ÿæˆ .java æ–‡ä»¶ï¼Œå¹¶æ³¨å…¥åˆ°é¡¹ç›®ä¸­ã€‚è¿™æ ·å¼€å‘äººå‘˜åªéœ€åœ¨é¡¹ç›®ä¸­æ‰“å¼€è¯¥æ–‡ä»¶å°±çŸ¥é“æ‰€æœ‰çš„å¯ç”¨ URL äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç›®å‰è¿˜æœ‰ä¸€å—æ²¡æœ‰åšï¼Œå°±æ˜¯å‚æ•°è¿™å—ï¼Œè™½ç„¶æè¿°äº†çŸ­é“¾ï¼Œä½†çœŸæƒ³è¦ç”Ÿæˆå®Œæ•´çš„ URLï¼Œè¿˜éœ€è¦çŸ¥é“å¦‚ä½•ä¼ å‚æ•°ï¼Œè¿™ä¸ªæ­£åœ¨å¼€å‘ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§æƒ…å†µä¼šç¨å¾®éº»çƒ¦ç‚¹ï¼Œå°±æ˜¯ã€Œç»„ä»¶ Aã€è¦è°ƒç”¨ã€Œç»„ä»¶ Bã€çš„æŸä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚åœ¨å•†å“è¯¦æƒ…é¡µè¦å±•ç¤ºè´­ç‰©è½¦çš„å•†å“æ•°é‡ï¼Œå°±æ¶‰åŠåˆ°å‘è´­ç‰©è½¦ç»„ä»¶æ‹¿æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç±»ä¼¼è¿™ç§åŒæ­¥è°ƒç”¨ï¼ŒiOS ä¹‹å‰é‡‡ç”¨äº†æ¯”è¾ƒç®€å•çš„æ–¹æ¡ˆï¼Œè¿˜æ˜¯ä¾æ‰˜äº &lt;code&gt;MGJRouter&lt;&#x2F;code&gt;ï¼Œä¸è¿‡æ·»åŠ äº†æ–°çš„æ–¹æ³• &lt;code&gt;- (id)objectForURL:&lt;&#x2F;code&gt;ï¼Œæ³¨å†Œæ—¶ä¹Ÿä½¿ç”¨æ–°çš„æ–¹æ³•è¿›è¡Œæ³¨å†Œ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[MGJRouter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;registerURLPattern:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;mgj:&#x2F;&#x2F;cart&#x2F;ordercount&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;toObjectHandler:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;routerParamters){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; do some calculation
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;42&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½¿ç”¨æ—¶ &lt;code&gt;NSNumber *orderCount = [MGJRouter objectForURL:@&amp;quot;mgj:&#x2F;&#x2F;cart&#x2F;ordercount&amp;quot;]&lt;&#x2F;code&gt; è¿™æ ·å°±æ‹¿åˆ°äº†è´­ç‰©è½¦é‡Œçš„å•†å“æ•°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç¨å¾®å¤æ‚ä½†æ›´å…·é€šç”¨æ€§çš„æ–¹æ³•æ˜¯ä½¿ç”¨ã€Œåè®®ã€ &amp;lt;-&amp;gt; ã€Œç±»ã€ç»‘å®šçš„æ–¹å¼ï¼Œè¿˜æ˜¯ä»¥è´­ç‰©è½¦ä¸ºä¾‹ï¼Œè´­ç‰©è½¦ç»„ä»¶å¯ä»¥æä¾›è¿™ä¹ˆä¸ª Protocol&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol &lt;&#x2F;span&gt;&lt;span&gt;MGJCart &amp;lt;NSObject&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSInteger&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;orderCount&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°é€šè¿‡åè®®å¯ä»¥ç›´æ¥æŒ‡å®šè¿”å›çš„æ•°æ®ç±»å‹ã€‚ç„¶ååœ¨è´­ç‰©è½¦ç»„ä»¶å†…å†æ–°å»ºä¸ªç±»å®ç°è¿™ä¸ªåè®®ï¼Œå‡è®¾è¿™ä¸ªç±»åä¸º&lt;code&gt;MGJCartImpl&lt;&#x2F;code&gt;ï¼Œæ¥ç€å°±å¯ä»¥æŠŠå®ƒä¸åè®®å…³è”èµ·æ¥ &lt;code&gt;[ModuleManager registerClass:MGJCartImpl forProtocol:@protocol(MGJCart)]&lt;&#x2F;code&gt;ï¼Œå¯¹äºä½¿ç”¨æ–¹æ¥è¯´ï¼Œè¦æ‹¿åˆ°è¿™ä¸ª &lt;code&gt;MGJCartImpl&lt;&#x2F;code&gt;ï¼Œéœ€è¦è°ƒç”¨ &lt;code&gt;[ModuleManager classForProtocol:@protocol(MGJCart)]&lt;&#x2F;code&gt;ã€‚æ‹¿åˆ°ä¹‹åå†è°ƒç”¨ &lt;code&gt;+ (NSInteger)orderCount&lt;&#x2F;code&gt; å°±å¯ä»¥äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œè¿™ä¸ªåè®®æ”¾åœ¨å“ªé‡Œæ¯”è¾ƒåˆé€‚å‘¢ï¼Ÿå¦‚æœè·Ÿç»„ä»¶æ”¾åœ¨ä¸€èµ·ï¼Œä½¿ç”¨æ—¶è¿˜æ˜¯è¦å…ˆå¼•å…¥ç»„ä»¶ï¼Œå¦‚æœæœ‰å¤šä¸ªè¿™æ ·çš„ç»„ä»¶å°±ä¼šæ¯”è¾ƒéº»çƒ¦äº†ã€‚æ‰€ä»¥æˆ‘ä»¬æŠŠè¿™äº›å…¬å…±çš„åè®®ç»Ÿä¸€æ”¾åˆ°äº† &lt;code&gt;PublicProtocolDomain.h&lt;&#x2F;code&gt; ä¸‹ï¼Œåˆ°æ—¶åªä¾èµ–è¿™ä¸€ä¸ªæ–‡ä»¶å°±å¯ä»¥äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Android ä¹Ÿæ˜¯é‡‡ç”¨ç±»ä¼¼çš„æ–¹å¼ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zu-jian-sheng-ming-zhou-qi-guan-li&quot;&gt;ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;&#x2F;h4&gt;
&lt;p&gt;ç†æƒ³ä¸­çš„ç»„ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿åœ°é›†æˆåˆ°ä¸»å®¢ä¸­ï¼Œå¹¶ä¸”æœ‰è·Ÿ &lt;code&gt;AppDelegate&lt;&#x2F;code&gt; ä¸€è‡´çš„å›è°ƒæ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯ &lt;code&gt;ModuleManager&lt;&#x2F;code&gt; åšçš„äº‹æƒ…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆæ¥çœ‹çœ‹ç°åœ¨çš„å…¥å£æ–¹æ³•&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)application&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UIApplication &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)application didFinishLaunchingWithOptions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)launchOptions
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [MGJApp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;startApp&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [[ModuleManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sharedInstance&lt;&#x2F;span&gt;&lt;span&gt;] loadModuleFromPlist&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSBundle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;mainBundle&lt;&#x2F;span&gt;&lt;span&gt;] pathForResource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;modules&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; ofType&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;plist&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;modules &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[ModuleManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sharedInstance&lt;&#x2F;span&gt;&lt;span&gt;] allModules];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;ModuleProtocol&amp;gt; module in modules) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;([module &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;respondsToSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_cmd&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;            [module &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;application:application didFinishLaunchingWithOptions:launchOptions&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;trackLaunchTime&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­ &lt;code&gt;[MGJApp startApp]&lt;&#x2F;code&gt; ä¸»è¦è´Ÿè´£ä¸€äº› SDK çš„åˆå§‹åŒ–ã€‚&lt;code&gt;[self trackLaunchTime]&lt;&#x2F;code&gt; æ˜¯æˆ‘ä»¬æ‰“çš„ä¸€ä¸ªç‚¹ï¼Œç”¨æ¥ç›‘æµ‹ä» &lt;code&gt;main&lt;&#x2F;code&gt; æ–¹æ³•å¼€å§‹åˆ°å…¥å£æ–¹æ³•è°ƒç”¨ç»“æŸèŠ±äº†å¤šé•¿æ—¶é—´ã€‚å…¶ä»–çš„éƒ½ç”± &lt;code&gt;ModuleManager&lt;&#x2F;code&gt; æå®šï¼Œ&lt;code&gt;loadModuleFromPlist:pathForResource:&lt;&#x2F;code&gt; æ–¹æ³•ä¼šè¯»å– bundle é‡Œçš„ä¸€ä¸ª plist æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„å†…å®¹å¤§æ¦‚æ˜¯è¿™æ ·çš„&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components&amp;#x2F;14575489295366.jpg&quot;
        width=&quot;906&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ¯ä¸ª &lt;code&gt;Module&lt;&#x2F;code&gt; éƒ½å®ç°äº† &lt;code&gt;ModuleProtocol&lt;&#x2F;code&gt;ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª &lt;code&gt;- (BOOL)applicaiton:didFinishLaunchingWithOptions:&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œå¦‚æœå®ç°äº†çš„è¯ï¼Œå°±ä¼šè¢«è°ƒç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œç³»ç»Ÿçš„ä¸€äº›äº‹ä»¶ä¼šæœ‰é€šçŸ¥ï¼Œæ¯”å¦‚ &lt;code&gt;applicationDidBecomeActive&lt;&#x2F;code&gt; ä¼šæœ‰å¯¹åº”çš„ &lt;code&gt;UIApplicationDidBecomeActiveNotification&lt;&#x2F;code&gt;ï¼Œç»„ä»¶å¦‚æœè¦åšå“åº”çš„è¯ï¼Œåªéœ€ç›‘å¬è¿™ä¸ªç³»ç»Ÿé€šçŸ¥å³å¯ã€‚ä½†ä¹Ÿæœ‰ä¸€äº›äº‹ä»¶æ˜¯æ²¡æœ‰é€šçŸ¥çš„ï¼Œæ¯”å¦‚ &lt;code&gt;- application:didRegisterUserNotificationSettings:&lt;&#x2F;code&gt;ï¼Œè¿™æ—¶ç»„ä»¶å¦‚æœä¹Ÿè¦åšç‚¹äº‹æƒ…ï¼Œæ€ä¹ˆåŠï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ³•æ˜¯åœ¨ &lt;code&gt;AppDelegate&lt;&#x2F;code&gt; çš„å„ä¸ªæ–¹æ³•é‡Œï¼Œæ‰‹åŠ¨è°ƒä¸€éç»„ä»¶çš„å¯¹åº”çš„æ–¹æ³•ï¼Œå¦‚æœæœ‰å°±æ‰§è¡Œã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)application&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UIApplication &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)application didRegisterForRemoteNotificationsWithDeviceToken&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSData &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)deviceToken
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;modules &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[ModuleManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sharedInstance&lt;&#x2F;span&gt;&lt;span&gt;] allModules];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;ModuleProtocol&amp;gt; module in modules) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;([module &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;respondsToSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_cmd&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;            [module &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;application:application didRegisterForRemoteNotificationsWithDeviceToken:deviceToken&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;ke-gong-cheng&quot;&gt;å£³å·¥ç¨‹&lt;&#x2F;h4&gt;
&lt;p&gt;æ—¢ç„¶å·²ç»æ‹†å‡ºå»äº†ï¼Œé‚£æ‹†å‡ºå»çš„ç»„ä»¶æ€»å¾—æœ‰ä¸ªè½½ä½“ï¼Œè¿™ä¸ªè½½ä½“å°±æ˜¯å£³å·¥ç¨‹ï¼Œå£³å·¥ç¨‹ä¸»è¦åŒ…å«ä¸€äº›åŸºç¡€ç»„ä»¶å’Œä¸šåŠ¡ SDKï¼Œè¿™ä¹Ÿæ˜¯ä¸»å·¥ç¨‹åŒ…å«çš„ä¸€äº›å†…å®¹ï¼Œæ‰€ä»¥å¦‚æœåœ¨å£³å·¥ç¨‹å¯ä»¥æ­£å¸¸è¿è¡Œçš„è¯ï¼Œåˆ°äº†ä¸»å·¥ç¨‹ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ã€‚ä¸è¿‡è¿™é‡Œå­˜åœ¨ç‰ˆæœ¬åŒæ­¥é—®é¢˜ï¼Œä¹‹åä¼šè¯´åˆ°ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;yu-dao-de-wen-ti&quot;&gt;é‡åˆ°çš„é—®é¢˜&lt;&#x2F;h4&gt;
&lt;h5 id=&quot;zu-jian-chai-fen&quot;&gt;ç»„ä»¶æ‹†åˆ†&lt;&#x2F;h5&gt;
&lt;p&gt;ç”±äºä¹‹å‰çš„ä»£ç éƒ½æ˜¯åœ¨ä¸€ä¸ªå·¥ç¨‹ä¸‹çš„ï¼Œæ‰€ä»¥è¦å•ç‹¬æ‹¿å‡ºæ¥ä½œä¸ºä¸€ä¸ªç»„ä»¶å°±ä¼šé‡åˆ°ä¸å°‘é—®é¢˜ã€‚é¦–å…ˆæ˜¯ç»„ä»¶çš„åˆ’åˆ†ï¼Œå½“æ—¶åœ¨å®šä¹‰ç»„ä»¶ç²’åº¦æ—¶ä¹ŸèŠ±äº†äº›æ—¶é—´è®¨è®ºï¼Œç©¶ç«Ÿæ˜¯ç²’åº¦ç²—ç‚¹å¥½ï¼Œè¿˜æ˜¯ç»†ç‚¹å¥½ã€‚ç²—ç‚¹çš„è¯æ¯”è¾ƒæœ‰åˆ©äºæ‹†åˆ†ï¼Œç»†ç‚¹çš„è¯çµæ´»åº¦æ¯”è¾ƒé«˜ã€‚æœ€ç»ˆè¿˜æ˜¯é€‰æ‹©ç²—ä¸€ç‚¹çš„ç²’åº¦ï¼Œå…ˆæ‹†å‡ºæ¥å†è¯´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‡å¦‚è¦æŠŠè¯¦æƒ…é¡µè¿å‡ºæ¥ï¼Œå°±ä¼šå‘ç°å®ƒä¾èµ–äº†ä¸€äº›å…¶ä»–éƒ¨åˆ†çš„ä»£ç ï¼Œé‚£æœ€å¿«çš„æ–¹å¼å°±æ˜¯ç›´æ¥æŠŠä»£ç æ‹·è¿‡æ¥ï¼Œæ”¹ä¸ªåä½¿ç”¨ã€‚æ¯”è¾ƒç®€å•æš´åŠ›ã€‚è¯´èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œåšçš„æ—¶å€™ä¹Ÿæ˜¯æŒºæœ‰æŒ‘æˆ˜çš„ï¼Œå› ä¸ºæ­£å¸¸çš„ä¸šåŠ¡å¹¶ä¸ä¼šå› ä¸ºã€Œç»„ä»¶åŒ–ã€è€Œåœæ­¢ï¼Œæ‰€ä»¥å¼€å‘åŒå­¦ä»¬éœ€è¦åŒæ—¶å…¼é¡¾æ­£å¸¸çš„ä¸šåŠ¡å’Œç»„ä»¶çš„æ‹†åˆ†ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;ban-ben-guan-li&quot;&gt;ç‰ˆæœ¬ç®¡ç†&lt;&#x2F;h5&gt;
&lt;p&gt;æˆ‘ä»¬çš„ç»„ä»¶åŒ…æ‹¬ç¬¬ä¸‰æ–¹åº“éƒ½æ˜¯é€šè¿‡ Cocoapods æ¥ç®¡ç†çš„ï¼Œå…¶ä¸­ç»„ä»¶ä½¿ç”¨äº†ç§æœ‰åº“ã€‚ä¹‹æ‰€ä»¥é€‰æ‹© Cocoapodsï¼Œä¸€ä¸ªæ˜¯å› ä¸ºå®ƒæ¯”è¾ƒæ–¹ä¾¿ï¼Œè¿˜æœ‰å°±æ˜¯ç”¨æˆ·åŸºæ•°æ¯”è¾ƒå¤§ï¼Œä¸”ç¤¾åŒºä¹Ÿæ¯”è¾ƒæ´»è·ƒï¼ˆæ´»è·ƒåˆ°äº†ä¼šæ—¶ä¸æ—¶åœ°è§¦å‘ Github çš„ rate limitï¼Œå¯¼è‡´é•¿æ—¶é—´ clone ä¸ä¸‹æ¥Â·Â·Â· &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;CocoaPods&#x2F;CocoaPods&#x2F;issues&#x2F;4989#issuecomment-193772935&quot;&gt;è§æ­¤&lt;&#x2F;a&gt;ï¼‰ï¼Œå½“ç„¶ä¹Ÿæœ‰å…¶ä»–çš„ç®¡ç†æ–¹å¼ï¼Œæ¯”å¦‚ submodule &#x2F; subtreeï¼Œåœ¨å¼€å‘äººå‘˜æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œæ–¹ä¾¿ã€çµæ´»çš„æ–¹æ¡ˆå®¹æ˜“å ä¸Šé£ï¼Œè™½ç„¶å®ƒä¹Ÿæœ‰è‡ªå·±çš„é—®é¢˜ã€‚ä¸»è¦æœ‰ç‰ˆæœ¬åŒæ­¥å’Œæ›´æ–°&#x2F;ç¼–è¯‘æ…¢çš„é—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‡å¦‚åŸºç¡€ç»„ä»¶åšäº†ä¸ª API æ¥å£å‡çº§ï¼Œè¿™ä¸ªå‡çº§ä¼šå¯¹åŸæœ‰çš„æ¥å£åšæ”¹åŠ¨ï¼Œè‡ªç„¶å°±ä¼šå‡ä¸€ä¸ªä¸­ä½çš„ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚åŸå…ˆæ˜¯ 1.6.19ï¼Œé‚£ä¹ˆç°åœ¨å°±å˜æˆ 1.7.0 äº†ã€‚è€Œæˆ‘ä»¬åœ¨ Podfile é‡Œéƒ½æ˜¯ç”¨ &lt;code&gt;~&lt;&#x2F;code&gt; æŒ‡å®šçš„ï¼Œè¿™æ ·å°±ä¼šå‡ºç°ä¸»å·¥ç¨‹çš„ pod ç‰ˆæœ¬å‡ä¸Šå»äº†ï¼Œä½†æ˜¯å£³å·¥ç¨‹æ²¡æœ‰åŒæ­¥åˆ°ï¼Œç„¶åç¾¤é‡Œå°±ä¼šå„ç§åé¦ˆç¼–è¯‘ä¸è¿‡ï¼Œè€Œä¸”è¿™ä¸ªç¼–è¯‘ä¸è¿‡çš„é•¿å°¾æœ‰æ—¶èƒ½æ‹–ä¸Šä¸¤ä¸‰å¤©ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬å°±æƒ³äº†ä¸ªåŠæ³•ï¼Œå¦‚æœä¸åœ¨å£³å·¥ç¨‹é‡ŒæŒ‡å®šåŸºç¡€åº“çš„ç‰ˆæœ¬ï¼Œåªåœ¨ä¸»å·¥ç¨‹é‡ŒæŒ‡å®šå‘¢ï¼Œç†è®ºä¸Šåº”è¯¥å¯è¡Œï¼Œåªè¦ä¸å‡ºç°æŸä¸ªåŸºç¡€åº“è¦åŒæ—¶ç»´æŠ¤å¤šä¸ªç‰ˆæœ¬çš„æƒ…å†µã€‚ä½†å®è·µä¸­å‘ç°ï¼Œå£³å·¥ç¨‹æœ‰æ—¶ä¼šè«åå…¶å¦™åœ°å‡ä¸ä¸Šå»ï¼Œåœ¨ podfile é‡ŒæŒ‡å®šæœ€æ–°çš„ç‰ˆæœ¬åˆå¯ä»¥å‡ä¸Šå»ï¼Œæ‰€ä»¥æ­¤è·¯ä¸é€šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ &lt;code&gt;pod update&lt;&#x2F;code&gt; æ—¶é—´è¿‡é•¿ï¼Œç»å¸¸ä¼šåœ¨ &lt;code&gt;Analyzing Dependency&lt;&#x2F;code&gt; ä¸Šå¡ 10 å¤šåˆ†é’Ÿï¼Œéå¸¸å½±å“æ•ˆç‡ã€‚åæ¥æ’æŸ¥ä¸‹æ¥æ˜¯è·Ÿç»„ä»¶çš„ Podspec æœ‰å…³ï¼Œé…ç½®äº† subspecï¼Œä¸”ä¾èµ–æ¯”è¾ƒå¤šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åå°±æ˜¯ pod update ä¹‹åçš„ç¼–è¯‘ï¼Œç”±äºæ˜¯æºç ç¼–è¯‘ï¼Œæ‰€ä»¥è¿™å—çš„æ—¶é—´èŠ±è´¹ä¹Ÿä¸å°‘ï¼Œæ¥ä¸‹å»ä¼šè€ƒè™‘ framework çš„æ–¹å¼ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;chi-xu-ji-cheng&quot;&gt;æŒç»­é›†æˆ&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨åˆšå¼€å§‹ï¼ŒæŒç»­é›†æˆè¿˜ä¸æ˜¯å¾ˆå®Œå–„ï¼Œä¸šåŠ¡æ–¹å‡çº§ç»„ä»¶ï¼Œç›´æ¥æŠŠ podspec æ‰”åˆ° private repo é‡Œå°±å®Œäº‹äº†ã€‚è¿™æ ·æœ€ç®€å•ï¼Œä½†ä¹Ÿç»å¸¸ä¼šå¸¦æ¥ç¼–è¯‘é€šä¸è¿‡çš„é—®é¢˜ã€‚è€Œä¸”è¿™ç§éšæ„çš„ç‰ˆæœ¬å‡çº§ä¹Ÿä¸å¤ªèƒ½ä¿è¯è´¨é‡ã€‚äºæ˜¯æˆ‘ä»¬å°±æ­å»ºäº†ä¸€å¥—æŒç»­é›†æˆç³»ç»Ÿï¼Œå¤§æ¦‚å¦‚æ­¤&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components&amp;#x2F;14575538180893.jpg&quot;
        width=&quot;1714&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ¯ä¸ªç»„ä»¶å‡çº§ä¹‹å‰éƒ½éœ€è¦å…ˆé€šè¿‡ç¼–è¯‘ï¼Œç„¶åå†å†³å®šæ˜¯å¦å‡çº§ã€‚è¿™å¥—ä½“ç³»çœ‹èµ·æ¥ä¸å¤æ‚ï¼Œä½†åœ¨å®æ–½è¿‡ç¨‹ä¸­ç»å¸¸ä¼šé‡åˆ°åç«¯çš„å¹¶å‘é—®é¢˜ï¼Œå¯¼è‡´ä¸šåŠ¡æ–¹è¦ä¹ˆé›†æˆå¤±è´¥ï¼Œè¦ä¹ˆè¦ç­‰ä¸å°‘æ—¶é—´ã€‚è€Œä¸”ä¹Ÿæ²¡æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥å‘ˆç°å½“å‰ç‰ˆæœ¬çš„ç»„ä»¶ç‰ˆæœ¬ä¿¡æ¯ã€‚è¿˜æœ‰å°±æ˜¯ä¸šåŠ¡æ–¹å¯¹äºè¿™ç§å‘½ä»¤è¡Œçš„å‡çº§æ–¹å¼æ¥å—åº¦ä¹Ÿä¸æ˜¯å¾ˆé«˜ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components&amp;#x2F;14575547778269.jpg&quot;
        width=&quot;1944&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;åŸºäºæ­¤ï¼Œåœ¨ç»è¿‡äº†å‡ è½®è®¨è®ºä¹‹åï¼Œæœ‰äº†æ–°ç‰ˆçš„æŒç»­é›†æˆå¹³å°ï¼Œå‡çº§æ“ä½œé€šè¿‡ç½‘é¡µç«¯æ¥å®Œæˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¤§è‡´æ€è·¯æ˜¯ï¼Œä¸šåŠ¡æ–¹å¦‚æœè¦å‡çº§ç»„ä»¶ï¼Œå‡è®¾ç°åœ¨çš„ç‰ˆæœ¬æ˜¯ 0.1.7ï¼Œæ·»åŠ äº†ä¸€äº› feature ä¹‹åï¼Œå£³å·¥ç¨‹æµ‹è¯•é€šè¿‡ï¼Œæƒ³é›†æˆåˆ°ä¸»å·¥ç¨‹é‡Œçœ‹çœ‹æ•ˆæœï¼Œæˆ–è€…å…¶ä»–ç»„ä»¶ä¹Ÿæƒ³å¼•ç”¨è¿™ä¸ªæœ€æ–°çš„ï¼Œå°±å¯ä»¥åœ¨åå°æ‰‹åŠ¨æŠŠç‰ˆæœ¬å‡åˆ° 0.1.8-rc.1ï¼Œè¿™æ ·çš„è¯ï¼ŒåŸå…ˆä¾èµ– &lt;code&gt;~&amp;gt; 0.1.7&lt;&#x2F;code&gt; çš„ç»„ä»¶ï¼Œä¸ä¼šå‡åˆ° 0.1.8ï¼ŒåŒæ—¶æƒ³è¦æµ‹è¯•è¿™ä¸ªç»„ä»¶çš„è¯ï¼Œåªè¦æ‰‹åŠ¨æŠŠç‰ˆæœ¬è°ƒåˆ° 0.1.8-rc.1 å°±å¯ä»¥äº†ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä¼šè§¦å‘ CI çš„ç¼–è¯‘æ£€æŸ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“æµ‹è¯•é€šè¿‡åï¼Œå°±å¯ä»¥æŠŠå°¾éƒ¨çš„ &lt;code&gt;-rc.n&lt;&#x2F;code&gt; å»æ‰ï¼Œç„¶åç‚¹å‡»ã€Œé›†æˆã€ï¼Œå°±ä¼šèµ° CI ç¼–è¯‘æ£€æŸ¥ï¼Œé€šè¿‡çš„è¯ï¼Œä¼šåœ¨ä¸»å·¥ç¨‹çš„ podfile é‡Œå†™ä¸Šå›ºå®šçš„ç‰ˆæœ¬å· 0.1.8ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œpodfile é‡Œæ‰€æœ‰çš„ç»„ä»¶ç‰ˆæœ¬å·éƒ½æ˜¯å›ºå®šçš„ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components&amp;#x2F;14575547304396.jpg&quot;
        width=&quot;1986&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h3 id=&quot;zhou-bian-she-shi&quot;&gt;å‘¨è¾¹è®¾æ–½&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;ji-chu-zu-jian-ji-zu-jian-de-wen-dang-demo-dan-yuan-ce-shi&quot;&gt;åŸºç¡€ç»„ä»¶åŠç»„ä»¶çš„æ–‡æ¡£ &#x2F; Demo &#x2F; å•å…ƒæµ‹è¯•&lt;&#x2F;h4&gt;
&lt;p&gt;æ— çº¿åŸºç¡€çš„èŒèƒ½æ˜¯ä¸ºé›†å›¢æä¾›è§£å†³æ–¹æ¡ˆï¼Œåªæ˜¯åœ¨è˜‘è‡è¡— App é‡Œèƒ½ work æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæ‰€ä»¥å°±éœ€è¦æä¾›å…¥å£ï¼ŒçŸ¥é“æœ‰å“ªäº›å¯ç”¨ç»„ä»¶ï¼Œå¹¶ä¸”å¦‚ä½•ä½¿ç”¨ï¼Œå°±åƒè¿™æ ·ï¼ˆç›®å‰è¿˜æœªå®ç°ï¼‰&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components&amp;#x2F;14575551851317.jpg&quot;
        width=&quot;2234&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™å°±è¦æ±‚ç»„ä»¶çš„è´Ÿè´£äººéœ€è¦åŠæ—¶åœ°æ›´æ–° README &#x2F; CHANGELOG &#x2F; APIï¼Œå¹¶ä¸”å½“å‘ç”Ÿ API å˜æ›´æ—¶ï¼Œèƒ½å¤Ÿå¿«é€Ÿé€šçŸ¥åˆ°ä½¿ç”¨æ–¹ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;gong-gong-ui-zu-jian&quot;&gt;å…¬å…± UI ç»„ä»¶&lt;&#x2F;h4&gt;
&lt;p&gt;ç»„ä»¶åŒ–ä¹‹åè¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯èµ„æºçš„é‡å¤æ€§ï¼Œä»¥å‰åœ¨ä¸€ä¸ªå·¥ç¨‹é‡Œçš„æ—¶å€™ï¼Œèµ„æºéƒ½å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ‹¿åˆ°ï¼Œç°åœ¨ç‹¬ç«‹å‡ºå»äº†ï¼Œä¹Ÿä¸çŸ¥é“å“ªäº›æ˜¯å…¬ç”¨çš„ï¼Œå“ªäº›æ˜¯ç‹¬æœ‰çš„ï¼Œç´¢æ€§éƒ½æ”¾åˆ°è‡ªå·±çš„ç»„ä»¶é‡Œï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´åŒ…å˜å¤§ã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯æ¯ä¸ªç»„ä»¶å¯èƒ½æ˜¯ä¸åŒçš„äº§å“ç»ç†åœ¨è·Ÿï¼Œè€Œä»–ä»¬å¾ˆå¯èƒ½åªå…³æ³¨äºè‡ªå·±å…³å¿ƒçš„é¡µé¢é•¿ä»€ä¹ˆæ ·ï¼Œè€Œå¿½ç•¥äº†æ•´ä½“çš„æ ·å¼ã€‚å…¬å…± UI ç»„ä»¶å°±æ˜¯ç”¨æ¥è§£å†³è¿™äº›é—®é¢˜çš„ï¼Œè¿™äº›ç»„ä»¶ç”šè‡³å¯ä»¥è·¨ App ä½¿ç”¨ã€‚ï¼ˆç›®å‰è¿˜æœªå®ç°ï¼‰&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;mgj-components&amp;#x2F;14575557095716.jpg&quot;
        width=&quot;1992&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;ã€Œç»„ä»¶åŒ–ã€æ˜¯ App è†¨èƒ€åˆ°ä¸€å®šä½“ç§¯åçš„è§£å†³æ–¹æ¡ˆï¼Œèƒ½ä¸€å®šç¨‹åº¦ä¸Šè§£å†³é—®é¢˜ï¼Œåœ¨æé«˜å¼€å‘æ•ˆç‡çš„è¿‡ç¨‹ä¸­ï¼Œé‡‡å‘æ˜¯éš¾å…çš„ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿå¸¦æ¥äº›å¸®åŠ©ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ä¸å¯å˜å¯¹è±¡çš„é­…åŠ›</title>
            <pubDate>Sun, 18 Oct 2015 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/the-power-of-immutable-objects/</link>
            <guid>https://limboy.me/posts/the-power-of-immutable-objects/</guid>
            <description>&lt;blockquote&gt;
&lt;p&gt;10x Engineer: a developer who incurs technical debt so fast he appears more productive than the 10 developers tasked w&#x2F; cleaning his mess up&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå…¨å±€å˜é‡åº”è¯¥å°½é‡å°‘ç”¨æˆ–ä¸ç”¨ï¼Œå› ä¸ºå®ƒä¼šå¸¦æ¥ä¸¤ä¸ªæ˜æ˜¾çš„é—®é¢˜ï¼šè€¦åˆå’Œä¸ç¡®å®šæ€§ã€‚æœ‰äº†å®ƒï¼Œå•å…ƒæµ‹è¯•å°±ä¸å¥½è¿›è¡Œï¼Œå³ä½¿é€šè¿‡äº†æµ‹è¯•ï¼Œä¹Ÿä¸èƒ½ç¡®ä¿è¿™ä¸ªå…¨å±€å˜é‡å˜äº†ä¹‹åæ˜¯å¦èƒ½é€šè¿‡æµ‹è¯•ã€‚ æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„å•ä¾‹å°±æœ‰å…¨å±€å˜é‡çš„æ„å‘³ï¼šå¤–éƒ¨å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«ä¿®æ”¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºäº†åŠ å¿«å¼€å‘é€Ÿåº¦ï¼Œå¾€å¾€ä¼šä»¥åŠŸèƒ½å®ç°ä¼˜å…ˆï¼Œå…¶ä¸­çš„ä¸€ä¸ªã€Œæ–¹æ³•ã€å°±æ˜¯æä¾›å¯å˜å¯¹è±¡ï¼Œæ¯”å¦‚åƒ OC é‡Œçš„ &lt;code&gt;NSMutableDictionary&lt;&#x2F;code&gt;ã€‚å‰ä¸¤å¤©æ­£å¥½é‡åˆ°ä¸€ä¸ªä¸æ­¤æœ‰å…³çš„ caseï¼Œå¯ä»¥æ‹¿å‡ºæ¥è¯´ä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬çš„ç½‘ç»œå±‚å‘é€è¯·æ±‚æ—¶ï¼Œé»˜è®¤ä¼šå¸¦ä¸Šä¸€äº›ç³»ç»Ÿå‚æ•°ï¼Œæ¯”å¦‚ iOS ç³»ç»Ÿç‰ˆæœ¬ï¼Œapp ç‰ˆæœ¬ç­‰ã€‚åŒæ—¶å¦‚æœç”¨æˆ·å·²ç»ç™»å½•äº†ï¼Œä¹Ÿä¼šå¸¦ä¸Šä¸€äº›ç”¨æˆ·ä¿¡æ¯ï¼Œæ¯”å¦‚ &lt;code&gt;token&lt;&#x2F;code&gt;ã€‚ä¸ºäº†æ–¹ä¾¿å¤ç”¨ï¼Œæˆ‘ä»¬æ¯æ¬¡è¯·æ±‚éƒ½ä¼šæŠŠå·²æœ‰çš„å‚æ•°æ”¾åœ¨ä¸€ä¸ªè‡ªå®šä¹‰çš„ç½‘ç»œè¯·æ±‚ç±»ï¼Œå‡è®¾è¿™ä¸ªç±»çš„åå­—å«&lt;code&gt;APIClient&lt;&#x2F;code&gt;ã€‚åŒæ—¶åˆå…è®¸å¤–éƒ¨åŠ¨æ€æ·»åŠ ä¸€äº›è¯·æ±‚å‚æ•°ï¼Œæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ï¼Œæ˜¯å¦å¯ç”¨è°ƒè¯•ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‡ºäºæ–¹ä¾¿è€ƒè™‘ï¼Œæˆ‘ä»¬ç»™ &lt;code&gt;APIClient&lt;&#x2F;code&gt; ç±»åŠ äº†ä¸€ä¸ª &lt;code&gt;NSMutableDictionary&lt;&#x2F;code&gt; å±æ€§ &lt;code&gt;builtinParameters&lt;&#x2F;code&gt;ï¼Œè¿™æ ·å¤–éƒ¨åªè¦æ‹¿åˆ° &lt;code&gt;APIClient&lt;&#x2F;code&gt; çš„å•ä¾‹ï¼Œç„¶åå¾€è¿™ä¸ªå±æ€§é‡Œé¢æ·»åŠ é¢å¤–çš„å‚æ•°å°±å¯ä»¥äº†ã€‚&lt;code&gt;APIClient&lt;&#x2F;code&gt; é‡Œä¼šæŠŠè¿™äº›å‚æ•°ç»„è£…æˆ &lt;code&gt;querystring&lt;&#x2F;code&gt; å‘é€ç»™æœåŠ¡ç«¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å°±è¿™æ ·æ­£å¸¸è¿è¡Œäº†ä¸€æ®µæ—¶é—´ï¼Œå¿½ç„¶æœ‰ä¸€å¤©å‘ç°ç”¨æˆ·ç™»å‡ºåï¼ŒTa åŸå…ˆçš„ä¸€äº›ç™»å½•ä¿¡æ¯è¿˜æ˜¯è¢«å‘é€ç»™äº†æœåŠ¡ç«¯ã€‚å› ä¸ºè¿™ä¸ªç½‘ç»œè¯·æ±‚ç±»å¹¶æ²¡æœ‰åšè¿‡æ”¹åŠ¨ï¼Œæ‰€ä»¥æ’æŸ¥èµ·æ¥æ²¡ä»€ä¹ˆå¤´ç»ªã€‚ç»è¿‡å¤šæ¬¡æŠ“åŒ…å’Œè·Ÿè¸ªåï¼Œç»ˆäºå®šä½åˆ°äº†é—®é¢˜çš„åŸå› ï¼š&lt;code&gt;builtinParameters&lt;&#x2F;code&gt; è¿™ä¸ªå±æ€§åœ¨å¤–éƒ¨è¢«æ”¹å˜äº†ã€‚æ›´ç»†è‡´çš„åŸå› è·Ÿä¸€æ¬¡é‡æ„æœ‰å…³ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥å¯å˜å¯¹è±¡ä¼šç»™è°ƒè¯•å’Œç»´æŠ¤å¸¦æ¥éº»çƒ¦ï¼Œå°¤å…¶æ˜¯è¿™äº›å¯¹è±¡å¤šèµ·æ¥åï¼Œæ›´æ˜¯ä¸å¥½å¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã€Œå¯å˜å¯¹è±¡ã€å°±åƒç”·äººçš„æ‰¿è¯ºï¼šä¸å¯ä¿¡ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä¼šå› ä¸ºä»€ä¹ˆåŸå› å‘ç”Ÿæ”¹å˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã€Œä¸å¯å˜å¯¹è±¡ã€å°±ä¸ä¸€æ ·äº†ï¼Œæ‹¿åˆ°çš„æ˜¯ä»€ä¹ˆï¼Œå°±æ˜¯ä»€ä¹ˆï¼Œä¸ä¼šæ”¹å˜ï¼Œé™¤éè¢«æ¢æˆäº†ä¸€ä¸ªæ–°çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†ã€Œè¿™ä¸–ç•Œå”¯ä¸€ä¸å˜çš„å°±æ˜¯å˜åŒ–ã€ï¼Œä¸å¯å˜å¯¹è±¡å¦‚ä½•æ¥åº”å¯¹è¿™ä¸ªå……æ»¡å˜æ•°çš„ç¯å¢ƒå‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ä¸ªã€ŒåŠ¨ç”»ã€&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;31.media.tumblr.com&#x2F;fe521bb54c25c173355632a3f5e029fe&#x2F;tumblr_nmobaa6IQa1ruhxczo1_500.gif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;é€šè¿‡è¿ç»­å¿«é€Ÿåœ°ç¿»é¡µæ¥å½¢æˆåŠ¨ç”»çš„å‡è±¡ï¼Œè¿™ä¸»è¦æ˜¯åˆ©ç”¨äº†äººçœ¼çš„&lt;a href=&quot;https:&#x2F;&#x2F;www.wikiwand.com&#x2F;zh-hant&#x2F;%E8%A6%96%E8%A6%BA%E6%9A%AB%E7%95%99&quot;&gt;è§†è§‰åœç•™&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰ç‚¹æ‰¯è¿œäº†ï¼Œä½†è¿™è·Ÿã€Œä¸å¯å˜å¯¹è±¡ã€å¯å˜åŒ–ï¼Œè¿˜æŒºåƒçš„ï¼Œè¿™äº›å›¾åƒæ˜¯é™æ€çš„ï¼Œä¸å˜çš„ï¼Œä½†è¿™æœ¬ä¹¦è®©è¿™äº›å›¾åƒå˜äº†èµ·æ¥ã€‚è¿™æœ¬ä¹¦å¯ä»¥æ˜¯ä¸€ä¸ªç±»ï¼Œå…¶ä¸­çš„å›¾ç‰‡å¯ä»¥æ˜¯ä¸€ä¸ª ivarï¼Œå¤–éƒ¨å¯ä»¥ç»™è¿™ä¸ª ivar è®¾ç½®æ–°çš„ valueï¼Œè¿™æ ·å¯¹äº class æ¥è¯´ï¼Œå°±å¯ä»¥æ”¾å¿ƒåœ°ä½¿ç”¨è¿™ä¸ª ivarï¼Œä¸ç”¨æ‹…å¿ƒä»€ä¹ˆæ—¶å€™è¿™ä¸ª ivar è‡ªèº«ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ¯”å¦‚ &lt;code&gt;[dict addObject:]&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ ReactJS+Flux æ˜¯å¦‚ä½•ä½¿ç”¨ Immutable Objects çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆæ¥è¯´è¯´ Fluxï¼Œç”¨ä¸€å¼ å›¾å°±èƒ½å·®ä¸å¤šæè¿°æ¸…æ¥šäº†&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;facebook.github.io&#x2F;flux&#x2F;img&#x2F;flux-simple-f8-diagram-with-client-action-1300w.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Flux çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œæ•°æ®æ˜¯å•å‘æµåŠ¨çš„ï¼Œå°±åƒæ¼æ–—ä¸€æ ·ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Dispatcher&lt;&#x2F;code&gt; æ˜¯ä¸€ä¸ªã€Œåˆ†å‘å™¨ã€ï¼Œå®ƒçš„èŒè´£æ˜¯æ¥å—æ‰€æœ‰çš„ Actionï¼Œç®€å•ç»„è£…åï¼Œæ‰”ç»™ Storeï¼Œå…¶ä»–çš„äº‹æƒ…å°±ä¸ç®¡äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Store&lt;&#x2F;code&gt; æ˜¯ä¸€ä¸ªæ•°æ®ä¸­å¿ƒï¼Œå½“ Store æ¥æ”¶åˆ° Dispatcher è¿‡æ¥çš„ Action æ—¶ï¼Œä¼šæ ¹æ®è¿™äº› Actionï¼Œç”Ÿæˆæ–°çš„ Statesï¼Œç„¶åå†æŠŠå®ƒä¼ ç»™ Viewã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;View&lt;&#x2F;code&gt; æ‹¿åˆ°è¿™äº›æ–°çš„ States åï¼Œä¼šæœ‰é€‰æ‹©çš„è¿›è¡Œç»„ä»¶çš„æ›´æ–°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œçš„ States å°±æ˜¯ä¸€ä¸ªä¸å¯å˜å¯¹è±¡ï¼ŒStore ä¸ä¼šå»ä¿®æ”¹ States çš„æŸä¸ªå±æ€§ï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„ã€‚ä½†æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„æˆæœ¬ä¸æ˜¯ä¼šå¾ˆå¤§ï¼Ÿæ˜¯çš„ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨ &lt;a href=&quot;https:&#x2F;&#x2F;www.wikiwand.com&#x2F;en&#x2F;Copy-on-write&quot;&gt;Copy on Write&lt;&#x2F;a&gt; ç­‰æŠ€æœ¯è¿›è¡Œä¼˜åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥ä¸‹æ¥çœ‹çœ‹ ReactJS æ‹¿åˆ°è¿™ä¸ªæ–°çš„ property åä¼šå¦‚ä½•å¤„ç†ï¼Œå…ˆæ¥çœ‹ä¸€å¼ å›¾&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;the-power-of-immutable-objects&amp;#x2F;should-component-update.png&quot;
        width=&quot;555&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;View ä¼šå¯¹æ–°çš„ property å’Œå½“å‰çš„ property åšæ¯”è¾ƒï¼Œå¦‚æœæ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œé‚£å°±ä»€ä¹ˆä¹Ÿä¸åšï¼ˆå°±åƒ C2 ä¸€æ ·ï¼‰ï¼Œå®ƒä¸‹é¢çš„èŠ‚ç‚¹ä¹Ÿä¸ç”¨æ¯”è¾ƒäº†ï¼›å¦‚æœæ•°æ®ä¸ä¸€è‡´ï¼Œå†å¾€ä¸‹æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°é‚£[å‡ ]ä¸ªéœ€è¦æ›´æ–°çš„èŠ‚ç‚¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰ä½¿ç”¨åˆ° Mutable Objectsï¼Œä½†ç…§æ · Getting Things Doneã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;Immutable Objects å’Œ Mutable Objects æœ‰å„è‡ªçš„ä½¿ç”¨åœºæ™¯ï¼Œåè€…å¯ä»¥ä½œä¸ºå‰è€…çš„å®¹å™¨ã€‚æ¯”å¦‚ Facebook åœ¨&lt;a href=&quot;http:&#x2F;&#x2F;www.infoq.com&#x2F;news&#x2F;2014&#x2F;10&#x2F;Facebook-ios-architecture&quot;&gt;ä»–ä»¬çš„æ¶æ„æ–‡ç« &lt;&#x2F;a&gt;ä¸­æåˆ°ï¼Œä»–ä»¬çš„ Model ç±»æ˜¯åªè¯»çš„ï¼Œä½† Model å¯„ç”Ÿçš„å¯¹è±¡å¯ä»¥æ›´æ–° Modelã€‚æˆ‘ä»¬å¯èƒ½ä¹ æƒ¯äº†ä½¿ç”¨å¯å˜å¯¹è±¡ï¼Œå› ä¸ºå„ç§æ•™ç¨‹&#x2F;ç¼–ç¨‹ä¹¦ç±ä¸Šéƒ½æ˜¯è¿™ä¹ˆå†™çš„ï¼Œä½†åˆç†åœ°ä½¿ç”¨ã€Œä¸å¯å˜å¯¹è±¡ã€æœ‰æ—¶ä¼šå¸¦æ¥æ›´å¥½çš„æ•ˆæœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;references&quot;&gt;References&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.infoq.com&#x2F;news&#x2F;2014&#x2F;10&#x2F;Facebook-ios-architecture&quot;&gt;How Immutable State Helped Facebook to Improve Its iOS App Architecture&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;realm.io&#x2F;news&#x2F;andy-matuschak-controlling-complexity&#x2F;&quot;&gt;Controlling Complexity in Swift&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.infoq.com&#x2F;presentations&#x2F;Simple-Made-Easy&quot;&gt;Simple Made Easy&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.infoq.com&#x2F;minibooks&#x2F;domain-driven-design-quickly&quot;&gt;Domain Driven Design&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>MVVM without ReactiveCocoa</title>
            <pubDate>Sun, 27 Sep 2015 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/ios-mvvm-without-reactivecocoa/</link>
            <guid>https://limboy.me/posts/ios-mvvm-without-reactivecocoa/</guid>
            <description>&lt;p&gt;MVVM æ˜¯ MVC æ¨¡å¼çš„ä¸€ç§æ¼”è¿›ï¼Œå®ƒä¸»è¦è§£å†³äº† ViewController è¿‡äºè‡ƒè‚¿å¸¦æ¥çš„ä¸æ˜“ç»´æŠ¤å’Œæµ‹è¯•çš„é—®é¢˜ã€‚å…¶ä¸­ ViewModel çš„ä¸»è¦èŒè´£æ˜¯å¤„ç†ä¸šåŠ¡é€»è¾‘å¹¶æä¾› View æ‰€éœ€çš„æ•°æ®ï¼Œè¿™æ · VC å°±ä¸ç”¨å…³å¿ƒä¸šåŠ¡ï¼Œè‡ªç„¶ä¹Ÿå°±ç˜¦äº†ä¸‹æ¥ã€‚ViewModel åªå…³å¿ƒä¸šåŠ¡æ•°æ®ä¸å…³å¿ƒ Viewï¼Œæ‰€ä»¥ä¸ä¼šä¸ View äº§ç”Ÿè€¦åˆï¼Œä¹Ÿå°±æ›´æ–¹ä¾¿è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;View æ˜¯ä¸€ä¸ªå£³ï¼Œå®ƒæ‰€å‘ˆç°çš„å†…å®¹éƒ½éœ€è¦ç”± ViewModel æ¥æä¾›ï¼Œè€Œ View åˆä¸ä¸ ViewModel ç›´æ¥æ²Ÿé€šï¼Œè¿™æ—¶å°±éœ€è¦ ViewController æ¥åšä¸­é—´çš„åè°ƒè€…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ViewController æŒæœ‰ View å’Œ ViewModelï¼Œå½“ VC åˆå§‹åŒ–æ—¶ï¼Œä¼šè®© ViewModel å»å–æ•°æ®ï¼Œç®€å•æ¥è¯´å°±æ˜¯è°ƒç”¨ VM çš„æŸä¸ªè·å–æ•°æ®çš„æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨ MVVM æœ€èˆ’æœçš„å§¿åŠ¿æ˜¯æ­é… ReactiveCocoaã€‚ä¸è¿‡å®ƒçš„é—®é¢˜åœ¨äºå­¦ä¹ æˆæœ¬å’Œç»´æŠ¤æˆæœ¬æ¯”è¾ƒé«˜ï¼Œåœ¨å°å›¢é˜Ÿä¸­æˆ–è®¸è¿˜å¯ä»¥å°è¯•ï¼Œå½“å¼€å‘äººå‘˜æ•°é‡è¾ƒå¤šæ—¶å°±å¾ˆéš¾æ¨èµ·æ¥äº†ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä»Šå¤©è¦è®²çš„ä¸»é¢˜ï¼šå¦‚ä½•ä¸å€ŸåŠ© ReactiveCocoa æ¥å®ç° MVVMã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆä»æ•°æ®çš„è·å–å¼€å§‹è¯´èµ·å§ã€‚åœ¨ ReactiveCocoa é‡Œæœ‰ä¸€ä¸ªç±»å«ã€ŒRACCommandã€ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯æ‰§è¡ŒæŸä¸ªä¼šæ”¹å˜æ•°æ®çš„æ“ä½œï¼Œç„¶åæä¾›è·å–æ•°æ®çš„æ–¹æ³•ï¼Œè·Ÿæˆ‘ä»¬æƒ³è¦è¾¾åˆ°çš„ç›®çš„å¾ˆåƒï¼Œæ‰€ä»¥å¯ä»¥å€Ÿé‰´è¿™ä¸ªæ€è·¯ï¼Œå†™ä¸€ä¸ªç®€å•çš„ Commandã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;typedef void&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;MGJCommandCompletionBlock)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;error, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;content);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;typedef void&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;MGJCommandConsumeBlock)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;input, MGJCommandCompletionBlock completionHandler);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;typedef void&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;MGJCommandCancelBlock)();
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;MGJCommandResult : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 3
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 4
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;content;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;MGJCommand : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 5
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt; executing;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 6
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;) MGJCommandResult &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;result;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (instancetype)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;initWithConsumeHandler:&lt;&#x2F;span&gt;&lt;span&gt;(MGJCommandConsumeBlock )&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;consumeHandler&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 7
&lt;&#x2F;span&gt;&lt;span&gt;- (instancetype)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;initWithConsumeHandler:&lt;&#x2F;span&gt;&lt;span&gt;(MGJCommandConsumeBlock )&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;consumeHandler &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cancelHandler:&lt;&#x2F;span&gt;&lt;span&gt;(MGJCommandCancelBlock )&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;cancelHandler&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 8
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;execute:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 9
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cancel&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;input&lt;&#x2F;code&gt; æ˜¯å¤–éƒ¨ä¼ è¿‡æ¥çš„å€¼ï¼Œæ¯”å¦‚ user_idï¼Œå½“æ‹¿åˆ°æ•°æ®åï¼Œè°ƒç”¨ä¸‹ completionHandlerï¼Œè¿™æ · &lt;code&gt;result&lt;&#x2F;code&gt; å±æ€§å°±ä¼šå˜åŒ–&lt;&#x2F;li&gt;
&lt;li&gt;æœ‰äº›æ“ä½œï¼Œå¦‚ http è¯·æ±‚ï¼Œéœ€è¦æ‰‹åŠ¨å–æ¶ˆ&lt;&#x2F;li&gt;
&lt;li&gt;å•ç‹¬æŠŠ &lt;code&gt;error&lt;&#x2F;code&gt; ä½œä¸ºä¸€ä¸ªå±æ€§æ”¾å‡ºæ¥ï¼Œæ˜¯å› ä¸ºå¾ˆå¤šæ•°æ®è¯·æ±‚æ“ä½œéƒ½å¯èƒ½å‡ºé”™ï¼Œå½“å‡ºé”™åï¼Œåªéœ€æ”¹å˜è¿™ä¸ª error å±æ€§å³å¯ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;content&lt;&#x2F;code&gt; å­˜æ”¾äº†è¿™ä¸ª Command çš„æ•°æ®å¤„ç†ç»“æœã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ ‡è¯†äº†è¿™ä¸ª Command ç›®å‰çš„è¿è¡ŒçŠ¶æ€ï¼Œæ¯”å¦‚å¯ä»¥æ ¹æ®è¿™ä¸ªçŠ¶æ€æ¥æ˜¾ç¤º loadingã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ¯æ¬¡ Command æ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡åï¼Œresult éƒ½ä¼šæ”¹å˜ï¼Œå¤–éƒ¨å¯ä»¥ KVO è¿™ä¸ª resultï¼Œç„¶åå°±å¯ä»¥å®æ—¶è·å–æœ€æ–°çš„ç»“æœäº†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;Command çš„æ‰§è¡Œé€»è¾‘ï¼Œå¦‚æœå®ç°äº† &lt;code&gt;cancelHandler&lt;&#x2F;code&gt; çš„è¯ï¼Œå¤–éƒ¨è°ƒç”¨ &lt;code&gt;cancel&lt;&#x2F;code&gt;ï¼Œè¿™ä¸ª Handler å°±ä¼šè¢«è§¦å‘ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¤–éƒ¨å¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥è§¦å‘ Command çš„æ‰§è¡Œï¼ŒåŒæ—¶å¯ä»¥ä¼ ä¸€ä¸ªå‚æ•°è¿›æ¥ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¤–éƒ¨å¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥å–æ¶ˆ Command çš„æ‰§è¡Œã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å®ç°èµ·æ¥ä¹Ÿè›®ç®€å•çš„ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚ç”¨èµ·æ¥å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; SomeViewModel.m
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;weakify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;followCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[MGJCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithConsumeHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;input, MGJCommandCompletionBlock completionHandler) {
&lt;&#x2F;span&gt;&lt;span&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;strongify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    [FollowRequest &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getFollowList:(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)input success:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;users) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;usersToFollow &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; users;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;completionHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span&gt;kFollowExpertSearchSucceedSignal&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    } failure:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(StatusEntity &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;completionHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(error, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åœ¨ ViewController é‡Œçš„ç”¨æ³•å¤§æ¦‚åƒè¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; SomeViewController.m
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)didTapFollowButton&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UIButton &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)button
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ ¹æ® button æ‰¾åˆ° userID
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;followCommand&lt;&#x2F;span&gt;&lt;span&gt; execute&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;userID];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å°±æ˜¯è¿™æ ·ï¼ŒVC æœ¬èº«ä¸å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œéƒ½äº¤ç»™ ViewModel å»å¤„ç†ï¼Œè€Œè¿™äº›æ•°æ®è¯·æ±‚çš„ç»“æœå¤„ç†åˆæœ‰ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;delegate&quot;&gt;Delegate&lt;&#x2F;h3&gt;
&lt;p&gt;å½“ ViewModel æ‹¿åˆ°æ•°æ®åï¼Œå¯ä»¥æŠŠç»“æœä»¥ Delegate çš„æ–¹å¼é€šçŸ¥ VCï¼Œå°±åƒè¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; SomeViewController.m
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)didFollowUserWithResult&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)result
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;followButton&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;enabled &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;followButton&lt;&#x2F;span&gt;&lt;span&gt; doSomeAnimation];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·åšçš„å¥½å¤„æ˜¯æ¯”è¾ƒç¬¦åˆè‹¹æœæ—¢æœ‰çš„è®¾è®¡æ¨¡å¼ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹ Delegate åè®®æ¥çŸ¥é“ VM æš´éœ²äº†å“ªäº›æ¥å£ä¾›å¤–éƒ¨ä½¿ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸è¿‡è¿™ç§æ–¹æ³•å°‘äº†ç‚¹çµæ´»æ€§ï¼Œæ¯”å¦‚éœ€è¦è”åˆå¤šä¸ªå±æ€§çš„å˜åŒ–æ¥åšä¸€äº›äº‹æƒ…æ—¶ï¼Œå¤„ç†èµ·æ¥å°±ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œè¿™ä¹Ÿæ˜¯ RAC å¼ºå¤§çš„åœ°æ–¹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;kvo&quot;&gt;KVO&lt;&#x2F;h3&gt;
&lt;p&gt;RAC æ˜¯åŸºäº KVO æ„å»ºçš„ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨ KVO æ¥è®© VC è·å– VM çš„å˜åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†æˆ‘ä»¬éƒ½çŸ¥é“ KVO çš„æ§½ç‚¹æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚ä½¿ç”¨èµ·æ¥ä¸æ–¹ä¾¿ï¼Œç”¨å®Œè¿˜è¦è®°å¾—ç§»é™¤ç­‰ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨ Facebook å¼€æºçš„ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;facebook&#x2F;KVOController&quot;&gt;KVOController&lt;&#x2F;a&gt;ï¼Œå®ƒæ¯”è¾ƒå¥½çš„å¤„ç†äº† KVO å­˜åœ¨çš„ä¸€äº›é—®é¢˜ï¼ŒåŒæ—¶åˆèƒ½å‘æŒ¥ KVO å¸¦æ¥çš„ä¾¿æ·æ€§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰äº†å®ƒæˆ‘ä»¬å°±èƒ½åœ¨ä¸€ä¸ªåœ°æ–¹æŠŠ VM çš„æ›´æ–°å¤„ç†æ‰äº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)handleViewModelUpdate
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;KVOController&lt;&#x2F;span&gt;&lt;span&gt; observe&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span&gt; keyPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;followCommand.result&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; options&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NSKeyValueObservingOptionInitial&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NSKeyValueObservingOptionNew&lt;&#x2F;span&gt;&lt;span&gt; block&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;observer, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;target, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;change) {
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;newValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; change[NSKeyValueChangeNewKey];
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; doSomething with the newValue
&lt;&#x2F;span&gt;&lt;span&gt;	}];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¯¹ VM å…¶ä»– keyPath çš„å¤„ç†ä¹Ÿéƒ½å¯ä»¥æ”¾åˆ°è¿™é‡Œ
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœè§‰å¾—è¿™æ ·çš„å†™æ³•è¿˜æ˜¯å¤ªéº»çƒ¦ï¼Œå¯ä»¥åšä¸€å±‚ç®€å•çš„å°è£…ï¼Œä½¿ç”¨èµ·æ¥å°±åƒè¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)handleViewModelUpdate
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;observe:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;keyPath:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;followCommand.result&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;block: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;newValue){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; use newValue to update view
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯ä¼šå¥½ä¸€ç‚¹ï¼Œä½¿ç”¨ KVO æ¯” Delegate å¥½çš„ä¸€ç‚¹æ˜¯ä¸ç”¨å†é¢å¤–å£°æ˜åè®®å’Œæ–¹æ³•ï¼Œè€Œä¸”æ”¯æŒ blockï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿä¼šæ–¹ä¾¿äº›ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºåƒ &lt;code&gt;error&lt;&#x2F;code&gt; è¿™æ ·å¾ˆå¤šæ“ä½œéƒ½ä¼šäº§ç”ŸåŒæ ·ç»“æœçš„åœºæ™¯ï¼Œå¯ä»¥å•ç‹¬æ‹¿å‡ºæ¥ï¼Œä½œä¸º ViewModel çš„ä¸€ä¸ªå±æ€§ï¼Œä½¿ç”¨æ—¶ï¼Œç›´æ¥ KVO è¿™ä¸ªå±æ€§å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xi-jie-chu-li&quot;&gt;ç»†èŠ‚å¤„ç†&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœä¸æ¶‰åŠåˆ° TableView ç­‰ä¼šå‡ºç°å¤ç”¨åœºæ™¯çš„åœ°æ–¹ï¼ŒMVVM ä½¿ç”¨èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚å¦‚æœæœ‰äº† TableViewï¼Œåˆè¦åšä¸€äº›é¢å¤–çš„å¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼ŒVC å¯ä»¥å¸¦ä¸€ä¸ª VMï¼Œé‚£å¦‚æœå‡ºç° Cell æ—¶æ€ä¹ˆåŠï¼ŒCell é‡ŒåˆåŒ…å«äº†æŒ‰é’®ï¼ŒæŒ‰é’®åˆéœ€è¦æ•°æ®è¯·æ±‚åˆæ€ä¹ˆå¤„ç†ï¼Ÿè¿™äº›éƒ½æ˜¯æ¯”è¾ƒå¸¸è§çš„åœºæ™¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ MVVM æ¥è§£å†³ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“ VM çš„èŒè´£æ˜¯ä¸º View æä¾›æ•°æ®æ”¯æŒï¼ŒCell ä¹Ÿæ˜¯ä¸€ä¸ª Viewï¼Œé‚£ä¹ˆä¸º Cell é…å¤‡ä¸€ä¸ª VM
ä¸å°±å¯ä»¥äº†ä¹ˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ ·çš„è¯ï¼ŒVC çš„ VM éœ€è¦åŒ…å«ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„å…ƒç´ æ˜¯ CellVMï¼Œä½¿ç”¨èµ·æ¥å°±åƒè¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; SomeViewController.m
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(UITableViewCell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)tableView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UITableView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)tableView cellForRowAtIndexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSIndexPath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)indexPath
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	UITableViewCell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;cell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[tableView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dequeueReusableCellWithIdentifier:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Cell&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;forIndexPath:indexPath&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;	cell.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cellViewModels&lt;&#x2F;span&gt;&lt;span&gt;[indexPath.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;row&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; cell å¯èƒ½ä¼šç”¨åˆ° cellVM é‡Œçš„ Commandï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå¤„ç† command çš„æ‰§è¡Œç»“æœ
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;observe:cell keyPath:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;likeCommand.result&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;block: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;newValue){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; update cell after like
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; cell
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å½“ç„¶ä»…ä»…å¦‚æ­¤æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾ä¸ªæ°å½“çš„æ—¶æœºæŠŠ KVO ç§»é™¤ï¼Œé¿å…å¤šæ¬¡ç›‘å¬ã€‚&lt;code&gt;UITableViewDelegate&lt;&#x2F;code&gt; é‡Œçš„è¿™ä¸ªæ–¹æ³•å°±å¾ˆé€‚åˆã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; SomeViewController.m
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)tableView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UITableView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)tableView didEndDisplayingCell&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UITableViewCell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)cell forRowAtIndexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSIndexPath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)indexPath
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;unobserve:cell keyPath:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;likeCommand.result&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¸è¿‡è¿™é‡Œä¹Ÿè¦è®²ç©¶ä¸€ä¸ªå¹³è¡¡ï¼Œå¦‚æœ Cell çš„ç±»å‹æ¯”è¾ƒå¤šï¼Œä¸”æ¶‰åŠ Command çš„åœ°æ–¹ä¸å¤šï¼Œåªæ˜¯åšå‘ˆç°æ–¹é¢çš„å·¥ä½œï¼Œç›´æ¥ä½¿ç”¨ Entity ä¼šæ›´æ–¹ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tips&quot;&gt;Tips&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ViewController&lt;&#x2F;code&gt; å°½é‡ä¸æ¶‰åŠä¸šåŠ¡é€»è¾‘ï¼Œè®© &lt;code&gt;ViewModel&lt;&#x2F;code&gt; å»åšè¿™äº›äº‹æƒ…ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;ViewController&lt;&#x2F;code&gt; åªæ˜¯ä¸€ä¸ªä¸­é—´äººï¼Œæ¥æ”¶ &lt;code&gt;View&lt;&#x2F;code&gt; çš„äº‹ä»¶ã€è°ƒç”¨ &lt;code&gt;ViewModel&lt;&#x2F;code&gt; çš„æ–¹æ³•ã€å“åº” &lt;code&gt;ViewModel&lt;&#x2F;code&gt; çš„å˜åŒ–ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;ViewModel&lt;&#x2F;code&gt; ä¸èƒ½åŒ…å« Viewï¼Œä¸ç„¶å°±è·Ÿ View äº§ç”Ÿäº†è€¦åˆï¼Œä¸æ–¹ä¾¿å¤ç”¨å’Œæµ‹è¯•ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;ViewModel&lt;&#x2F;code&gt; ä¹‹é—´å¯ä»¥æœ‰ä¾èµ–ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;ViewModel&lt;&#x2F;code&gt; é¿å…è¿‡äºè‡ƒè‚¿ï¼Œä¸ç„¶ç»´æŠ¤èµ·æ¥ä¹Ÿæ˜¯ä¸ªé—®é¢˜ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;MVVM å¹¶ä¸å¤æ‚ï¼Œè·Ÿ MVC ä¹Ÿæ˜¯å…¼å®¹çš„ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ª ViewModel å±‚ï¼Œä½†å°±æ˜¯è¿™ä¹ˆä¸€ä¸ªå°æ”¹åŠ¨ï¼Œå°±èƒ½è®©ä»£ç å˜å¾—æ›´åŠ å®¹æ˜“é˜…è¯»å’Œç»´æŠ¤ï¼Œä¸å¦¨è¯•ä¸€ä¸‹å§ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>iOS ç»Ÿè®¡æ‰“ç‚¹é‚£äº›äº‹</title>
            <pubDate>Wed, 09 Sep 2015 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/ios-analytics/</link>
            <guid>https://limboy.me/posts/ios-analytics/</guid>
            <description>&lt;p&gt;ä¸€ä¸ªç¯èŠ‚ï¼ŒApp çš„è¿è¡ŒçŠ¶æ€ã€æ”¹ç‰ˆåçš„æ•ˆæœã€ç”¨æˆ·çš„å„ç§è¡Œä¸ºç­‰éƒ½éœ€è¦æ‰“ç‚¹ï¼Œå¸‚é¢ä¸Šä¹Ÿæœ‰ä¸å°‘å¯ä¾›é€‰æ‹©çš„ç¬¬ä¸‰æ–¹åº“ã€‚ å‡è®¾äº§å“æœ‰è¿™ä¹ˆä¸ªéœ€æ±‚ï¼šå½“ç”¨æˆ·åœ¨è¯¦æƒ…é¡µç‚¹å‡»è´­ä¹°æŒ‰é’®æ—¶ï¼Œè®°å½•ä¸€ä¸‹äº‹ä»¶ã€‚æˆ‘ä»¬å®ç°èµ·æ¥å¤§æ¦‚ä¼šæ˜¯è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; DetailViewController.m
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)onBuyButtonTapped&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UIButton &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)button
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; do some stuff, maybe send a request to server
&lt;&#x2F;span&gt;&lt;span&gt;    [XXXAnalytics &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;event:&lt;&#x2F;span&gt;&lt;span&gt;kSomeEventYouDefined];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸ªéœ€æ±‚å°±è¿™æ ·è½»æ¾æå®šäº†ï¼Œä½†ç»†ç»†æƒ³æƒ³è¿˜æ˜¯æœ‰ä¸å°‘é—®é¢˜çš„ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;é¡µé¢ä¸Šä¼šæœ‰å…¶ä»–çš„ Buttonï¼Œå¯èƒ½æ¯ä¸ª Button éƒ½è¦æ”¾ä¸Šè¿™ä¹ˆä¸€æ®µä»£ç ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¿™äº›ç»Ÿè®¡å…¶å®è·Ÿå…·ä½“çš„ä¸šåŠ¡æ— å…³ï¼Œæ²¡å¿…è¦è·Ÿä¸šåŠ¡ä»£ç æ··æ‚åœ¨ä¸€èµ·ï¼Œä¸ä¼˜é›…ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å½“æ”¹ç‰ˆæˆ–è€…é‡æ„æ—¶ï¼Œæœ‰å¯èƒ½å¿˜äº†æŠŠç›¸åº”çš„æ‰“ç‚¹ä»£ç è¿ç§»è¿‡å»ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æ‰€ä»¥éœ€è¦ä¸€ç§æ›´å¥½çš„æ–¹å¼æ¥åšè¿™ä»¶äº‹ï¼Œè¿™å°±æ˜¯ä½¿ç”¨ AOP(&lt;a href=&quot;http:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Aspect-oriented_programming&quot;&gt;Aspect-Oriented-Programming&lt;&#x2F;a&gt;)ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ã€Œé¢å‘åˆ‡é¢ç¼–ç¨‹ã€&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°åœ¨ä¸ä¿®æ”¹æºä»£ç çš„æƒ…å†µä¸‹ç»™ç¨‹åºåŠ¨æ€ç»Ÿä¸€æ·»åŠ åŠŸèƒ½çš„ä¸€ç§æŠ€æœ¯ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¯ä»¥åŠ¨æ€çš„åœ¨å‡½æ•°è°ƒç”¨çš„å‰åæ’ä¸€æ®µä»£ç ã€‚iOS å¯ä»¥ä½¿ç”¨ Pete Steinberger å¼€å‘çš„ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;steipete&#x2F;Aspects&quot;&gt;Aspects&lt;&#x2F;a&gt; è¿™ä¸ªåº“ï¼Œå¤§è‡´åŸç†æ˜¯åœ¨ runtime å±‚ï¼Œé€šè¿‡ swizzle method æ¥å®ç°çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥çœ‹ä¸€ä¸ªå° Demo&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[UIViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspect_hookSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(viewWillAppear:) withOptions:AspectPositionAfter usingBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;AspectInfo&amp;gt; aspectInfo, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; animated) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;View Controller &lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; will appear animated: &lt;&#x2F;span&gt;&lt;span&gt;%tu&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, aspectInfo.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, animated);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;} error:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·åœ¨ &lt;code&gt;UIViewController&lt;&#x2F;code&gt; çš„ &lt;code&gt;viewWillAppear:&lt;&#x2F;code&gt; è¢«è°ƒç”¨åï¼Œè¿˜ä¼šå†è°ƒä¸€ä¸‹æˆ‘ä»¬å®šä¹‰çš„ Blockï¼Œè¿™æ®µæ—¥å¿—å°±ä¼šè¢«è¾“å‡ºã€‚è€Œæ‰“ç‚¹æ­£å¥½ç¬¦åˆè¿™ç§åœºæ™¯ï¼šæ­£äº‹å¹²å®Œä¹‹åï¼Œé¢å¤–å¹²ä¸€äº›è·Ÿä¸šåŠ¡æ— å…³çš„äº‹æƒ…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬é€šè¿‡ AOP æ¥åšçš„è¯ï¼Œå¤§æ¦‚å°±æ˜¯è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; DetailViewController.m
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)onBuyButtonTapped&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UIButton &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)button
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; do some stuff, maybe send a request to server
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; no need to call [XXXAnalytics event:]
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; AppDelegate.m
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)setupAnalytics
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [DetailViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspect_hookSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(onBuyButtonTapped:) withOptions:AspectPositionAfter usingBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;AspectInfo&amp;gt; aspectInfo, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; animated) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [XXXAnalytics event:&lt;&#x2F;span&gt;&lt;span&gt;kSomeEventYouDefined&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    } error:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·ç»Ÿè®¡ä»£ç å°±ä»ä¸šåŠ¡ä»£ç ä¸­å‰¥ç¦»å‡ºæ¥äº†ã€‚ä½†æ˜¯åˆäº§ç”Ÿäº†ä¸€ä¸ªæ–°é—®é¢˜ï¼Œå¤šä¸ª Button Eventï¼Œå²‚ä¸æ˜¯è¦å†™å¾ˆå¤šè¡Œè¿™æ ·çš„ä»£ç ï¼Œã€Œé‡å¤ã€è¿™æ ·çš„äº‹æƒ…ï¼Œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜æ€ä¹ˆèƒ½å¿ï¼Œç®€å•ï¼Œé€ ä¸€ä¸ªæ–¹æ³•&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)trackEventWithClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span&gt;)klass selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SEL&lt;&#x2F;span&gt;&lt;span&gt;)selector event&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)event
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [klass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspect_hookSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(selector) withOptions:AspectPositionAfter usingBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;AspectInfo&amp;gt; aspectInfo, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; animated) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [XXXAnalytics event:event];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    } error:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½¿ç”¨èµ·æ¥å°±åƒè¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)setupAnalytics
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;trackEventWithClass:DetailViewController selector:@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;seletor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(onBuyButtonTapped&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) event:&lt;&#x2F;span&gt;&lt;span&gt;kSomeEventYouDefined];
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;trackEventWithClass:ListViewController selector:@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;seletor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(followButtonTapped&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) event:&lt;&#x2F;span&gt;&lt;span&gt;kAnotherEventYouDefined];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çœ‹èµ·æ¥åˆå¹²å‡€äº†äº›ã€‚è¿™æ—¶ï¼Œäº§å“ç»ç†åˆæäº†ä¸ªéœ€æ±‚ï¼šå½“è¿™ä¸ªæŒ‰é’®ç‚¹å‡»æ—¶ï¼Œå¦‚æœå·²ç»ç™»å½•äº†ï¼Œå‘é€ EventAï¼Œå¦‚æœæ²¡æœ‰ç™»å½•åˆ™å‘é€ EventBï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å†åªæ˜¯ &lt;code&gt;[XXXAnalytics event:]&lt;&#x2F;code&gt; è¿™ä¹ˆç®€å•äº†ï¼Œè¿˜éœ€è¦åŠ ä¸Šé¢å¤–çš„é€»è¾‘ï¼Œè¿™ä¹Ÿéš¾ä¸å€’æˆ‘ä»¬ï¼ŒåŠ ä¸Šä¸€ä¸ª &lt;code&gt;block&lt;&#x2F;code&gt; å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)trackEventWithClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span&gt;)klass
&lt;&#x2F;span&gt;&lt;span&gt;                   selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SEL&lt;&#x2F;span&gt;&lt;span&gt;)selector
&lt;&#x2F;span&gt;&lt;span&gt;               eventHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;AspectInfo&amp;gt; aspectInfo))eventHandler
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [klass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aspect_hookSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(selector) withOptions:AspectPositionAfter usingBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;AspectInfo&amp;gt; aspectInfo, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; animated) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(eventHandler) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;eventHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(aspectInfo);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    } error:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä½¿ç”¨
&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;trackEventWithClass:DetailViewController selector:@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;seletor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(onBuyButtonTapped&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) eventHandler:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;AspectInfo&amp;gt; aspectInfo){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    user.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;loggedIn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[XXXAnalytics event:EventA] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[XXXAnalytics event:EventB];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¥½äº†ï¼Œç°åœ¨åªè¦ä¸æ˜¯å¤ªå¤æ‚çš„æ‰“ç‚¹é€»è¾‘(é‚£äº›éœ€è¦æ–¹æ³•ä¸Šä¸‹æ–‡å˜é‡çš„)æˆ‘ä»¬éƒ½èƒ½åº”ä»˜äº†ï¼Œæ¥ä¸‹æ¥å°±è¯¥ç­‰äº§å“æ¥éªŒæ”¶äº†ã€‚äº§å“æ¬äº†ä¸ªå‡³å­ååœ¨èº«è¾¹ï¼Œç„¶åç‚¹ä¸€ä¸‹ Buttonï¼Œçœ‹ä¸€ä¸‹ Consoleï¼Œè¢«å‡ è½®è¹‚èºåï¼Œäº§å“ä¹Ÿæ…¢æ…¢åœ°æ¥å—äº†è¿™ç§éªŒæ”¶æ–¹å¼ã€‚åæ¥æŸä¸€å¤©ï¼Œå¿½ç„¶å‘ç°æŸä¸€é¡¹æˆ–æŸå‡ é¡¹æ•°æ®æœ‰å¼‚å¸¸ï¼Œç„¶åæ‰¾åˆ°å¼€å‘ï¼Œç„äº†ä¸€çœ¼ï¼šå“¦ï¼Œè¿™ä¸ªæ–¹æ³•è¢«é‡æ„äº†ã€‚æˆ–è€…æ–°åŠ çš„æ–¹æ³•å¿˜äº†åŠ ç»Ÿè®¡äº†ã€‚åªèƒ½ç­‰åˆ°ä¸‹ä¸ªç‰ˆæœ¬å†åŠ ä¸Šäº†ï¼Œå¦‚æœåªæ˜¯ä¸€èˆ¬çš„ç»Ÿè®¡æ•°æ®å€’è¿˜å¥½ï¼Œè·Ÿé’±ç›¸å…³çš„å°±éº»çƒ¦äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§ç›´è§‚çš„éªŒè¯æ–¹å¼å‘¢ï¼Ÿå½“ç„¶ï¼Œç¨‹åºå‘˜æ˜¯ä¸‡èƒ½çš„å‘€ã€‚ä¸€ä¸ªç†æƒ³çš„çŠ¶å†µæ˜¯ï¼Œäº§å“æ‰“å¼€ App åï¼Œå¼€å¯æŸä¸ªå¼€å…³å°±èƒ½çœ‹åˆ°æ‰€æœ‰ä¼šå‘é€ Event çš„æŒ‰é’®ï¼Œå°±åƒè¿™æ ·&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;ios-analytics&amp;#x2F;analytics_highlight.jpg&quot;
        width=&quot;640&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä¸­æ•°å­—ä»£è¡¨äº† &lt;code&gt;EventID&lt;&#x2F;code&gt;ã€‚å¦‚ä½•å®ç°å‘¢ï¼Ÿè¿˜è®°å¾—æ³¨å†Œäº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¼ å…¥ &lt;code&gt;class&lt;&#x2F;code&gt; å’Œ &lt;code&gt;selector&lt;&#x2F;code&gt; ä¹ˆï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šæœ‰ä¸€ä¸ª &lt;code&gt;BaseViewController&lt;&#x2F;code&gt;ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ &lt;code&gt;BaseViewController&lt;&#x2F;code&gt; çš„ &lt;code&gt;viewDidAppear:&lt;&#x2F;code&gt; é‡Œåšç‚¹æ–‡ç« äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; BaseViewController.m
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)viewDidAppear&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)animated
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;viewDidAppear:animated&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è·å–å·²ç»æ³¨å†Œè¿‡çš„ classes
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;registeredClasses &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[OurAnalytics &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sharedInstance&lt;&#x2F;span&gt;&lt;span&gt;].&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;registeredClasses&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [registeredClasses &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;enumerateKeysAndObjectsUsingBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;className, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;selectors, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;stop) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;isKindOfClass:NSClassFromString(className)]) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¦‚ä½•æ ¹æ® selector æ‰¾åˆ°å®ƒçš„å®¿ä¸»ï¼Ÿ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ‰€ä»¥ç°åœ¨é—®é¢˜å°±å‰©ä¸‹ï¼Œå¦‚ä½•æ ¹æ® &lt;code&gt;selector&lt;&#x2F;code&gt; æ‰¾åˆ°å¯¹åº”çš„ Buttonï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œæœ‰äº› Button å¯èƒ½è¦ç­‰ç½‘ç»œè¯·æ±‚å®Œæˆæ‰ä¼šå‡ºç°ï¼Œæ¯”å¦‚ &lt;code&gt;TableViewCell&lt;&#x2F;code&gt; é‡Œçš„ Buttonã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ²¡æœ‰æƒ³åˆ°å¤ªæ–¹ä¾¿çš„æ–¹æ³•ï¼Œç®€å•ç²—æš´ç‚¹å°±æ˜¯è®¾ç½®ä¸ª Timer æ¯éš”ä¸€æ®µæ—¶é—´æ‰«ä¸€ä¸‹ subviewsï¼Œå¦‚æœæ˜¯ button æˆ– åŒ…å« tapGesture çš„ï¼Œå°±æ‹¿å®ƒä»¬çš„ action å¯¹æ¯”ä¸€ä¸‹ï¼Œå¦‚æœ match å°±å¯ä»¥é«˜äº®é‚£ä¸ª button &#x2F; view äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;EventID ä¹Ÿä¸€æ ·ï¼Œä¹‹å‰åœ¨æ³¨å†Œæ—¶ä¹Ÿä¼šä¼ ä¸€ä¸ª EventID è¿‡æ¥ï¼Œè¿™é‡Œç›´æ¥æ˜¾ç¤ºå‡ºæ¥å³å¯ã€‚å¯¹äºé‚£äº›ä¼  &lt;code&gt;eventHandler&lt;&#x2F;code&gt; çš„å°±ä¸è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥ç†è®ºä¸Šæ˜¯å¯è¡Œçš„ï¼Œæ€§èƒ½ä¸Šä¼šç¨å¾®æœ‰ç‚¹æŸè€—ï¼Œå°¤å…¶æ˜¯å½“ subViews çš„ç»“æ„æ¯”è¾ƒå¤æ‚æ—¶ï¼Œä¸è¿‡åªæ˜¯å†…éƒ¨ç”¨æ¥åšéªŒè¯ï¼Œæ‰€ä»¥è¿™ä¹Ÿä¸æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;çœ‹èµ·æ¥æ•ˆæœå·²ç»ä¸é”™äº†ï¼Œæœ‰æ²¡æœ‰å¯èƒ½è®©è¿™å¥—ä½“ç³»å†çµæ´»ä¸€äº›ï¼Ÿæ¯”å¦‚å¯ä»¥ä»åç«¯åˆ¶å®šæ‰“ç‚¹è§„åˆ™ï¼Ÿå®¢æˆ·ç«¯åªæ˜¯è¯»å–ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå°±åƒè¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)setupAnalytics
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; analyticsRules æ˜¯ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–å‡ºæ¥çš„
&lt;&#x2F;span&gt;&lt;span&gt;    [analyticsRules &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;enumerateObjectsUsingBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rules, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSUInteger&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; idx, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;stop) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; klass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSClassFromString(rules[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;class&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SEL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; selector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSSelectorFromString(rules[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;selector&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;eventID &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rules[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;eventID&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;trackEventWithClass:klass seletor:seletor event: eventID];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é‚£å¦‚æœåœ¨åå°çš„æ—¶å€™å¡«é”™äº† Class æˆ– Selector æ€ä¹ˆåŠï¼Ÿè¿˜å¥½æœ‰ &lt;code&gt;objc_getClassList&lt;&#x2F;code&gt; å’Œ &lt;code&gt;class_copyMethodList&lt;&#x2F;code&gt; è¿™ä¸¤ä¸ªè¿è¡Œæ—¶æ–¹æ³•ï¼Œæœ‰äº†å®ƒä»¬å°±å¯ä»¥åœ¨ App å¯åŠ¨æ—¶æ‰«ä¸€éå·²æ³¨å†Œçš„ç±»ï¼ˆè¿‡æ»¤æ‰ UI &#x2F; NS å¼€å¤´çš„ï¼‰ï¼Œç„¶åå°†å®ƒä»¬çš„ seletor ä¹Ÿä¸€å¹¶ä¿å­˜ä¸‹æ¥å‘é€ç»™æœåŠ¡ç«¯ï¼Œå½“ç„¶è¿™ç§æ“ä½œåªéœ€åœ¨é€‚å½“çš„æ—¶æœºåšä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚é›†æˆæ‰“åŒ…æ—¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç°åœ¨ï¼Œè¿™å¥—ä½“ç³»å°±æ¯”è¾ƒå®Œæ•´äº†ã€‚å½“ç„¶è¿™åªæ˜¯æˆ‘çš„ä¸€äº›æ„æƒ³ï¼Œå¹¶æ²¡æœ‰åœ¨å®è·µä¸­å°è¯•è¿‡ï¼Œæ‰€ä»¥è‚¯å®šä¼šè¸©åˆ°å„ç§å„æ ·çš„å‘ï¼Œä¸è¿‡è‡³å°‘çœ‹èµ·æ¥æ˜¯ä¸ªå¯è¡Œçš„æ–¹æ¡ˆã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>Advanced NSOperation</title>
            <pubDate>Sat, 08 Aug 2015 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/advanced-nsoperation/</link>
            <guid>https://limboy.me/posts/advanced-nsoperation/</guid>
            <description>&lt;h3 id=&quot;qian-yan&quot;&gt;å‰è¨€&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« æ˜¯å¯¹ &lt;a href=&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;videos&#x2F;wwdc&#x2F;2015&#x2F;?id=226&quot;&gt;WWDC 2015 Session 226: Advanced NSOperations&lt;&#x2F;a&gt; çš„ä¸€ä¸ªå°ç»“ï¼Œåœ¨é‚£ä¸ªè§†é¢‘ä¸­ï¼Œ&lt;a href=&quot;https:&#x2F;&#x2F;twitter.com&#x2F;davedelong&quot;&gt;Dave DeLong&lt;&#x2F;a&gt; åˆ†äº«äº† NSOperation çš„é«˜çº§ç©æ³•ï¼ŒWWDC App å°±æ˜¯åŸºäºè¿™å¥—ç©æ³•åšçš„ï¼Œè¿˜æ˜¯æŒºå¼€é˜”æ€è·¯çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;nsoperation-he-nsoperationqueue-jian-jie&quot;&gt;NSOperation å’Œ NSOperationQueue ç®€ä»‹&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“ NSOperation å¯ä»¥æ‰§è¡Œä¸€äº›åå°æ“ä½œï¼Œå¦‚ HTTP è¯·æ±‚ï¼Œåœ¨ iOS 4.0 ä¹‹å‰æ˜¯åŸºäº NSThread æ¥å®ç°çš„ï¼ŒiOS 4.0 å¸¦äº† GCDï¼ŒNSOperation åº•å±‚ä¹ŸåŸºäº GCD é‡å†™äº†åº•å±‚å®ç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥ NSOperation æ˜¯ GCD çš„é«˜å±‚å°è£…ï¼ŒåŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€äº›æ›´åŠ ä¾¿åˆ©çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å–æ¶ˆä»»åŠ¡ï¼Œè®¾ç½®ä¾èµ–ç­‰ã€‚åœ¨è¿›å…¥é«˜çº§ç©æ³•å‰ï¼Œå…ˆç®€å•çš„ä»‹ç»ä¸‹ NSOperation å’Œ NSOperationQueueã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;nsoperationqueue-maxconcurrentoperationcount&quot;&gt;NSOperationQueue maxConcurrentOperationCount&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¸ªå±æ€§è¡¨ç¤ºçš„æ˜¯ NSOperationQueue æœ€å¤šå¯ä»¥åŒæ—¶å¤„ç†å‡ ä¸ªä»»åŠ¡ï¼Œå‡å¦‚æˆ‘ä»¬å¸Œæœ›å®ƒä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯çº¿æ€§ Queueï¼Œå¯ä»¥è®¾ç½® &lt;code&gt;maxConcurrentOperationCount = 1&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;advanced-nsoperation&amp;#x2F;nsoperation-1.png&quot;
        width=&quot;674&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸­é—´çš„ç‚¹è¡¨ç¤ºä»»åŠ¡çš„çŠ¶æ€ï¼Œåœ¨ä¸Šä¸€ä¸ªä»»åŠ¡å®Œæˆå‰ï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡ä¸ä¼šè¢«æ‰§è¡Œï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ª workerã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœå¸Œæœ›ä¸€æ¬¡èƒ½å¤„ç†å¤šä¸ªï¼Œå°†è¿™ä¸ªå€¼è®¾ç½®ä¸ºå¤§äº 1 å³å¯ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è®¾ç½®ä¸€ä¸ªåˆç†çš„æœ€å¤§å€¼ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;advanced-nsoperation&amp;#x2F;nsoperation-2.png&quot;
        width=&quot;674&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h4 id=&quot;nsoperation-cancel&quot;&gt;NSOperation cancel&lt;&#x2F;h4&gt;
&lt;p&gt;ä»ä¸Šé¢çš„å›¾å¯ä»¥çœ‹åˆ°ï¼Œæ­£åœ¨è¢«æ‰§è¡Œçš„ä»»åŠ¡çš„çŠ¶æ€è·Ÿåœ¨åé¢æ’é˜Ÿçš„çŠ¶æ€æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ‰è¿™ä¹ˆå‡ ç§çŠ¶æ€ï¼špending, ready, executing, finished, cancelledã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;advanced-nsoperation&amp;#x2F;nsoperation-3.png&quot;
        width=&quot;297&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¹‹å‰æåˆ°è¿‡ NSOperation ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§æ˜¯å¯ä»¥è¢«å–æ¶ˆï¼Œä½†ä¸åŒçŠ¶æ€çš„å–æ¶ˆå¤„ç†ä¹Ÿä¸ä¸€æ ·ã€‚æ¯”å¦‚å½“ Operation å¤„äº pending, ready çŠ¶æ€æ—¶ï¼Œç³»ç»Ÿå¯ä»¥å»çœ‹ä¸€ä¸‹è¿™ä¸ª Operation æ˜¯å¦å·²ç»è¢«å–æ¶ˆäº†(åˆ¤æ–­ self.cancelled)ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå°±ä¸æ‰§è¡Œä»»åŠ¡äº†ã€‚ä½†æ˜¯å½“ Operation å¤„äº executing çŠ¶æ€æ—¶ï¼Œå–æ¶ˆçš„æ“ä½œå°±åªèƒ½è‡ªå·±å¤„ç†äº†ï¼Œæ¯”å¦‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;MyOperation: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSOperation
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;main
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cancelled&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; executing
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;nsoperation-dependency&quot;&gt;NSOperation dependency&lt;&#x2F;h4&gt;
&lt;p&gt;NSOperation è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§æ˜¯å¯ä»¥è®¾ç½®ä¾èµ–&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;advanced-nsoperation&amp;#x2F;nsoperation-4.png&quot;
        width=&quot;301&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä»»åŠ¡ A éœ€è¦ç­‰å¾… ä»»åŠ¡ B å’Œ ä»»åŠ¡ C å®Œæˆï¼Œæ‰èƒ½è¢«æ‰§è¡Œï¼Œè€Œä»»åŠ¡ B éœ€è¦ç­‰åˆ° ä»»åŠ¡ D å®Œæˆæ‰èƒ½è¢«æ‰§è¡Œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ç„¶å‰ææ˜¯è¿™äº› Operation éƒ½éœ€è¦è¢«æ”¾åˆ°æŸä¸ª Queue é‡Œï¼Œè¿™æ ·å®ƒä»¬çš„çŠ¶æ€æ‰ä¼šå‘ç”Ÿæ”¹å˜ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;gao-ji-wan-fa&quot;&gt;é«˜çº§ç©æ³•&lt;&#x2F;h3&gt;
&lt;p&gt;å¼€å‘ App çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›é€»è¾‘æ˜¯å¯ä»¥å…±ç”¨çš„ï¼Œæ¯”å¦‚ç™»å½•ã€ç½‘ç»œçŠ¶å†µç­‰ï¼Œæœ€å¥½å¯ä»¥ç»„è£…èµ·æ¥ï¼Œå°±åƒè¶…èƒ½é™†æˆ˜é˜Ÿé‡Œçš„ megabot ä¸€æ ·&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;advanced-nsoperation&amp;#x2F;megabot.jpg&quot;
        width=&quot;480&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;åŸºäºå‰é¢æåˆ°çš„ NSOperation &#x2F; NSOperationQueue çš„ä¸€äº›ç‰¹ç‚¹ï¼Œè‹¹æœçš„å·¥ç¨‹å¸ˆä»¬æƒ³åˆ°äº†ä»–ä»¬çš„è§£å†³æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;condition&quot;&gt;Condition&lt;&#x2F;h4&gt;
&lt;p&gt;Conditionï¼Œä¹Ÿå°±æ˜¯æ¡ä»¶ï¼Œå®ƒå¯ä»¥è¢«é™„åŠ åˆ° Operation ä¸Šï¼Œåªæœ‰å½“ Condition è¢«æ»¡è¶³æ—¶ï¼ŒOperation æ‰èƒ½è¢«æ‰§è¡Œã€‚æ¯”å¦‚åªæœ‰åœ¨æœ‰ç½‘ç»œçš„æƒ…å†µä¸‹æ‰èƒ½è¿›è¡Œäº¤æ˜“ï¼Œè¿™æ—¶ã€Œç½‘ç»œçŠ¶å†µã€å°±æ˜¯é™„åŠ ç»™ã€Œäº¤æ˜“ã€çš„ Conditionã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€ä¸ª Condition ä¸»è¦åŒ…å«äº† 3 ä¸ªæ–¹æ³•ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static var&lt;&#x2F;span&gt;&lt;span&gt; isMutuallyExclusive: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bool&lt;&#x2F;span&gt;&lt;span&gt; { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span&gt; }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;dependencyForOperation(operation: Operation) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; NSOperation?
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&#x2F; 3
&lt;&#x2F;span&gt;&lt;span&gt;func evaluateForOperation(operation: Operation, completion: OperationConditionResult -&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Void&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;è¿™ä¸ªå±æ€§ç”¨æ¥è¡¨æ˜è¿™ä¸ª Condtion æ˜¯å¦æ˜¯æ’ä»–çš„ï¼Œå¦‚æœæ˜¯çš„è¯ï¼ŒåŒä¸€æ—¶é—´åªèƒ½å‡ºç°ä¸€ä¸ªè¯¥ç±»å‹çš„å®ä¾‹ï¼Œç±»å‹çš„æŒ‡å®šæ˜¯é€šè¿‡è®¾ç½® &lt;code&gt;name&lt;&#x2F;code&gt; æ¥å®ç°çš„ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä¸ºä¼ å…¥çš„ operation è¿”å›ä¸€ä¸ªä¾èµ–çš„ operationï¼Œæ¯”å¦‚ã€Œå–œæ¬¢ã€è¿™ä¸ª Operation éœ€è¦ç”¨æˆ·å·²å¤„äºç™»å½•çŠ¶æ€ï¼Œé‚£ä¹ˆã€Œç™»å½•ã€è¿™ä¸ª Condition çš„è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥è¿”å›ä¸€ä¸ªã€Œç™»å½•ã€çš„ Operationã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¿™ä¸ªæ–¹æ³•æ˜¯æŸ¥çœ‹è¿™ä¸ª Condition çš„æ‰§è¡Œç»“æœï¼Œæ¯”å¦‚å‰é¢çš„ã€Œç™»å½•ã€Operation ç»“æŸåï¼Œç³»ç»Ÿå°†è¦æ‰§è¡Œã€Œå–œæ¬¢ã€è¿™ä¸ª Operationï¼Œç„¶åè¿™ä¸ªæ–¹æ³•å°±ä¼šè¢«è§¦å‘ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯å‘ç”Ÿçš„è¯ï¼Œå°±æ‰§è¡Œã€Œå–œæ¬¢ã€ï¼Œå¦‚æœæœ‰é”™è¯¯å‘ç”Ÿã€Œå–œæ¬¢ã€å°±ä¼šè‡ªåŠ¨ç»“æŸã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æ‰€ä»¥æ€»ç»“èµ·æ¥ Condition ä¸»è¦å¹²äº†è¿™ä¹ˆä¸‰ä»¶äº‹&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;advanced-nsoperation&amp;#x2F;nsoperation-condition.png&quot;
        width=&quot;412&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ¥çœ‹ä¸€ä¸ªç®€å•çš„ Condition (æ¥è‡ª WWDC Sample)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;struct&lt;&#x2F;span&gt;&lt;span&gt; ReachabilityCondition: OperationCondition {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static let&lt;&#x2F;span&gt;&lt;span&gt; hostKey &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Host&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static let&lt;&#x2F;span&gt;&lt;span&gt; name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Reachability&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static let&lt;&#x2F;span&gt;&lt;span&gt; isMutuallyExclusive &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;false
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; host: NSURL
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;(host: NSURL) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;host &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; host
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;dependencyForOperation(operation: Operation) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; NSOperation? {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;nil
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;evaluateForOperation(operation: Operation, completion: OperationConditionResult &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Void&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        ReachabilityController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;requestReachability(host) { reachable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; reachable {
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 3
&lt;&#x2F;span&gt;&lt;span&gt;                completion(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;Satisfied)
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; error &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NSError(code: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;ConditionFailed, userInfo: [
&lt;&#x2F;span&gt;&lt;span&gt;                    OperationConditionKey: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;dynamicType&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;name,
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;dynamicType&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;hostKey: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;host
&lt;&#x2F;span&gt;&lt;span&gt;                ])
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 4
&lt;&#x2F;span&gt;&lt;span&gt;                completion(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;Failed(error))
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;Condtion åˆå§‹åŒ–æ—¶å¯ä»¥ä¼ å‚æ•°è¿›æ¥ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¿™ä¸ª Condition æ²¡æœ‰ç”Ÿæˆä¸€ä¸ª &lt;code&gt;dependencyForOperation&lt;&#x2F;code&gt;ï¼Œå› ä¸ºç”Ÿæˆä¾èµ– Operation çš„ç›®çš„æ˜¯å½“è¿™ä¸ª Operation è¿è¡Œå®Œåï¼Œå¯ä»¥åœ¨ evaluateForOperation æ—¶è·å–ä¹‹å‰çš„è¿è¡Œç»“æœï¼Œè€Œè¿™é‡Œç›´æ¥è°ƒç”¨ ReachabilityController çš„ requestReachability æ–¹æ³•å°±å¯ä»¥äº†ï¼Œæ‰€ä»¥å°±å…å»äº†è¿™ä¸€æ­¥ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å½“ç»“æœç¬¦åˆé¢„æœŸæ—¶ï¼Œè°ƒç”¨ &lt;code&gt;completion(.Satisfied)&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;å½“å‡ºç°å¼‚å¸¸æ—¶ï¼Œè°ƒç”¨ &lt;code&gt;completion(.Failed(error))&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h4 id=&quot;operation&quot;&gt;Operation&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;Operation&lt;&#x2F;code&gt; ç»§æ‰¿è‡ª &lt;code&gt;NSOperation&lt;&#x2F;code&gt;ï¼ŒåŒæ—¶æ·»åŠ äº†ä¸€äº›æ–¹æ³•ï¼Œä¸»è¦å¯ä»¥åˆ†ä¸º 4 éƒ¨åˆ†&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;è®¾ç½®çŠ¶æ€å˜é‡ï¼ŒåŒæ—¶æ‰‹åŠ¨è®¾ç½® KVO&lt;&#x2F;li&gt;
&lt;li&gt;æ‰§è¡Œ conditions çš„ &lt;code&gt;evaluateForOperation&lt;&#x2F;code&gt; æ–¹æ³•&lt;&#x2F;li&gt;
&lt;li&gt;æ·»åŠ  Observer&lt;&#x2F;li&gt;
&lt;li&gt;æ·»åŠ  Condtion&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h5 id=&quot;she-zhi-zhuang-tai-bian-liang-tong-shi-shou-dong-she-zhi-kvo&quot;&gt;è®¾ç½®çŠ¶æ€å˜é‡ï¼ŒåŒæ—¶æ‰‹åŠ¨è®¾ç½® KVO&lt;&#x2F;h5&gt;
&lt;p&gt;åœ¨ç³»ç»Ÿæä¾›çš„çŠ¶æ€çš„åŸºç¡€ä¸Šï¼Œåˆæ·»åŠ äº†ä¸€äº›æ–°çš„çŠ¶æ€ï¼Œå¦‚ &lt;code&gt;EvaluatingConditions&lt;&#x2F;code&gt;, &lt;code&gt;Pending&lt;&#x2F;code&gt; ç­‰ï¼Œè¿™äº›çŠ¶æ€çš„æ”¹å˜éƒ½éœ€è¦è§¦å‘å†…ç½®çŠ¶æ€çš„ KVOï¼Œå¦‚ &lt;code&gt;isExecuting&lt;&#x2F;code&gt;, &lt;code&gt;isFinished&lt;&#x2F;code&gt;, &lt;code&gt;isReady&lt;&#x2F;code&gt; ç­‰ã€‚é€šå¸¸çš„åšæ³•ä¼šæ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;willChangeValueForKey:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;isExecuting&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;_state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; Executing;
&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;didChangeValueForKey:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;isExecuting&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å½“åªæœ‰å°‘é‡çš„çŠ¶æ€æ”¹å˜æ—¶ï¼Œåœ¨å‰ååŒ…ä¸€å±‚è¿˜å¯ä»¥æ¥å—ï¼Œä½†å¦‚æœå¤šäº†çš„è¯ï¼Œå°±ä¸ç¾è§‚äº†ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ KVO çš„ä¸€ä¸ªæ–¹æ³• &lt;code&gt;+ keyPathsForValuesAffectingValueForKey:&lt;&#x2F;code&gt;ï¼Œå®ƒçš„æ„æ€æ˜¯ï¼Œå“ªäº› keyPaths çš„æ”¹å˜ä¼šå¯¼è‡´ &lt;code&gt;Key&lt;&#x2F;code&gt; å‘ç”Ÿå˜åŒ–ã€‚æ‰€ä»¥å¯ä»¥å®šä¹‰è¿™å‡ ä¸ªæ–¹æ³•ï¼Œç„¶åæ­£å¸¸è®¾ç½® &lt;code&gt;state&lt;&#x2F;code&gt; å°±å¯ä»¥äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class func &lt;&#x2F;span&gt;&lt;span&gt;keyPathsForValuesAffectingIsReady() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Set&amp;lt;NSObject&amp;gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;state&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class func &lt;&#x2F;span&gt;&lt;span&gt;keyPathsForValuesAffectingIsExecuting() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Set&amp;lt;NSObject&amp;gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;state&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class func &lt;&#x2F;span&gt;&lt;span&gt;keyPathsForValuesAffectingIsFinished() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; Set&amp;lt;NSObject&amp;gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;state&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™åªæ˜¯å®Œæˆäº†ä¸€åŠï¼Œç³»ç»ŸçŸ¥é“ state å˜äº†åï¼Œ &lt;code&gt;isReady&lt;&#x2F;code&gt; ä¼šå˜ï¼Œç„¶åå°±ä¼šè°ƒç”¨ &lt;code&gt;ready&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œæ‰€ä»¥è¿™ä¸‰ä¸ªæ–¹æ³•æˆ‘ä»¬ä¹Ÿè¦ä¸€å¹¶è¦†ç›–æ‰ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override var&lt;&#x2F;span&gt;&lt;span&gt; executing: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bool&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== .&lt;&#x2F;span&gt;&lt;span&gt;Executing
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override var&lt;&#x2F;span&gt;&lt;span&gt; finished: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bool&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== .&lt;&#x2F;span&gt;&lt;span&gt;Finished
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override var&lt;&#x2F;span&gt;&lt;span&gt; ready: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Bool&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;switch&lt;&#x2F;span&gt;&lt;span&gt; state {
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;Pending:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; çœå»ä¸ç›¸å…³çš„ä»£ç 
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if super&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;ready {
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;                evaluateConditions()
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Until conditions have been evaluated, &amp;quot;isReady&amp;quot; returns false
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return false
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;Ready:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return super&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;ready &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;||&lt;&#x2F;span&gt;&lt;span&gt; cancelled
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;default&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return false
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;å¯ä»¥çœ‹åˆ°ï¼Œå½“ç³»ç»Ÿåœ¨é—®æŸä¸ª Operation æ˜¯å¦ ready æ—¶ï¼Œ&lt;code&gt;evaluateConditions&lt;&#x2F;code&gt; æ–¹æ³•ä¼šè¢«è§¦å‘ï¼Œè¿™é‡ŒåŒ…å«äº†è¯¥ Operation çš„æ‰€æœ‰ Conditions çš„ &lt;code&gt;evaluateForOperation&lt;&#x2F;code&gt; çš„æ‰§è¡Œç»“æœã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h5 id=&quot;zhi-xing-conditions-de-evaluateforoperation-fang-fa&quot;&gt;æ‰§è¡Œ conditions çš„ &lt;code&gt;evaluateForOperation&lt;&#x2F;code&gt; æ–¹æ³•&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;private func &lt;&#x2F;span&gt;&lt;span&gt;evaluateConditions() {
&lt;&#x2F;span&gt;&lt;span&gt;    assert(state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== .&lt;&#x2F;span&gt;&lt;span&gt;Pending &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; !&lt;&#x2F;span&gt;&lt;span&gt;cancelled, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;evaluateConditions() was called out-of-order&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= .&lt;&#x2F;span&gt;&lt;span&gt;EvaluatingConditions
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;    OperationConditionEvaluator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;evaluate(conditions, operation: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;) { failures &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;_internalErrors&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;extend(failures)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= .&lt;&#x2F;span&gt;&lt;span&gt;Ready
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;éå†å½“å‰ Operation çš„ conditionsï¼Œæ‰§è¡Œå®ƒä»¬çš„ &lt;code&gt;evaluateForOperation&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œç„¶åå°†é”™è¯¯ä¿å­˜åœ¨ &lt;code&gt;_internalErrors&lt;&#x2F;code&gt; é‡Œï¼ŒåŒæ—¶å°†å½“å‰çš„çŠ¶æ€è®¾ç½®ä¸º &lt;code&gt;.Ready&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æˆ–è®¸ä½ ä¼šé—®ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œæ˜¯ä¸æ˜¯è¡¨ç¤ºæ¡ä»¶ä¸æ»¡è¶³ï¼Œå¦‚æœæ¡ä»¶ä¸æ»¡è¶³ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å°†çŠ¶æ€è®¾ç½®ä¸º &lt;code&gt;.Ready&lt;&#x2F;code&gt;ï¼Ÿ è¿™æ˜¯å› ä¸ºå½“çŠ¶æ€è®¾ç½®ä¸º &lt;code&gt;.Ready&lt;&#x2F;code&gt; åï¼Œå°±ä¼šæ‰§è¡Œ &lt;code&gt;main&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œåœ¨é‚£é‡Œä¼šå¯¹ &lt;code&gt;_internalErrors&lt;&#x2F;code&gt; åšç»Ÿä¸€åˆ¤æ–­ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override final func &lt;&#x2F;span&gt;&lt;span&gt;main() {
&lt;&#x2F;span&gt;&lt;span&gt;    assert(state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== .&lt;&#x2F;span&gt;&lt;span&gt;Ready, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;This operation must be performed on an operation queue.&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; _internalErrors&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;isEmpty &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; !&lt;&#x2F;span&gt;&lt;span&gt;cancelled {
&lt;&#x2F;span&gt;&lt;span&gt;        state &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= .&lt;&#x2F;span&gt;&lt;span&gt;Executing
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt; observer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in&lt;&#x2F;span&gt;&lt;span&gt; observers {
&lt;&#x2F;span&gt;&lt;span&gt;            observer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;operationDidStart(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        execute()
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        finish()
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;è¿™é‡Œå‡ºç°äº† observerï¼Œå½“ Operation å¤„äºä¸åŒçŠ¶æ€æ—¶ï¼Œä¼šè°ƒç”¨ observers çš„ä¸åŒæ–¹æ³•&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h5 id=&quot;tian-jia-observers&quot;&gt;æ·»åŠ  Observers&lt;&#x2F;h5&gt;
&lt;p&gt;observer çš„å®ç°è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ª Protocolï¼Œæ‰€æœ‰çš„ observer éƒ½éœ€è¦å®ç°è¿™ä¸ª Protocol é‡Œçš„æ–¹æ³•ï¼Œç„¶å Operation å†…ç½®ä¸€ä¸ªæ•°ç»„ä½œä¸ºå®¹å™¨ï¼Œ&lt;code&gt;addObserver&lt;&#x2F;code&gt; æ—¶ï¼Œå°† observer æ·»åŠ åˆ°å®¹å™¨ï¼Œå½“å¤„äºä¸åŒçŠ¶æ€æ—¶ï¼Œéå†å®¹å™¨é‡Œçš„ observerï¼Œè°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸å…è®©æˆ‘ä»¬æƒ³èµ·äº† delegateï¼Œè·Ÿ delegate ç›¸æ¯”ï¼Œobserver çš„å¥½å¤„å°±åœ¨äºå¯ä»¥æŒ‡å®šå¤šä¸ªè§‚å¯Ÿè€…ï¼Œè€Œ delegate åªèƒ½æŒ‡å®šä¸€ä¸ªã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;tian-jia-condtions&quot;&gt;æ·»åŠ  Condtions&lt;&#x2F;h5&gt;
&lt;p&gt;è·Ÿ observer çš„å®ç°æ€è·¯åŸºæœ¬ä¸€è‡´ã€‚ä½ æˆ–è®¸ä¼šé—®ï¼Œæ·»åŠ çš„è¿™äº› Conditions ä»€ä¹ˆæ—¶å€™ä¼šè¢«è§¦å‘å‘¢ï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯åœ¨å°† Operation æ·»åŠ åˆ° OperationQueue æ—¶ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;operationqueue&quot;&gt;OperationQueue&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;OperationQueue&lt;&#x2F;code&gt; ä¹Ÿæ˜¯ç»§æ‰¿è‡ªç³»ç»Ÿçš„ &lt;code&gt;NSOperationQueue&lt;&#x2F;code&gt;ï¼ŒåŒæ—¶é‡å†™äº† &lt;code&gt;addOperation&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸»è¦åšäº† 3 ä»¶äº‹&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;ç»™ Operation æ·»åŠ  observer&lt;&#x2F;li&gt;
&lt;li&gt;å¤„ç† Operation çš„ dependencies çš„ &lt;code&gt;dependencyForOperation&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;å¤„ç† Operation çš„ dependencies çš„æ’ä»–æ€§&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h5 id=&quot;gei-operation-tian-jia-observer&quot;&gt;ç»™ Operation æ·»åŠ  observer&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; delegate &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; BlockObserver(
&lt;&#x2F;span&gt;&lt;span&gt;    startHandler: nil,
&lt;&#x2F;span&gt;&lt;span&gt;    produceHandler: { [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;weak self&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addOperation($&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    },
&lt;&#x2F;span&gt;&lt;span&gt;    finishHandler: { [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;weak self&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if let&lt;&#x2F;span&gt;&lt;span&gt; q &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2
&lt;&#x2F;span&gt;&lt;span&gt;            q&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;delegate?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;operationQueue?(q, operationDidFinish: $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, withErrors: $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;op&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addObserver(delegate)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œä¸€ä¸ª Operation å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ–°çš„ Operationï¼Œè¿™ä¸ª Operation ç”Ÿæˆåä¹Ÿéœ€è¦è¢«æ”¾åˆ° Queue é‡Œï¼Œè¿™ä¸ªæ”¾ç½®çš„è¿‡ç¨‹å°±æ˜¯åœ¨è¿™ä¸ª delegate é‡Œå®ç°çš„ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;operationQueue è‡ªå·±æœ‰ä¸€ä¸ª delegateï¼Œå½“ queue é‡Œçš„ä¸€ä¸ª operation æ‰§è¡Œå®Œæ—¶ï¼Œä¼šå‘ delegate æŠ¥å‘Šã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h5 id=&quot;chu-li-operation-de-dependencies-de-dependencyforoperation&quot;&gt;å¤„ç† Operation çš„ dependencies çš„ dependencyForOperation&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Extract any dependencies needed by this operation.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; dependencies &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; op&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;conditions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;flatMap {
&lt;&#x2F;span&gt;&lt;span&gt;    $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;dependencyForOperation(op)
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt; dependency &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in&lt;&#x2F;span&gt;&lt;span&gt; dependencies {
&lt;&#x2F;span&gt;&lt;span&gt;    op&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addDependency(dependency)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addOperation(dependency)
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸ªå°±å¾ˆç®€å•äº†ï¼Œè°ƒç”¨ &lt;code&gt;dependencyForOperation&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œæ‹¿åˆ° operationï¼Œç„¶åå°†å½“å‰çš„ op ä¾èµ–è¯¥ operationï¼ŒåŒæ—¶å°†è¿™ä¸ª operation æ”¾åˆ° queue é‡Œï¼Œæ‰€ä»¥åœ¨ conditions çš„ operations æ‰§è¡Œå®Œä¹‹å‰ï¼Œop æ˜¯ä¸ä¼šæ‰§è¡Œçš„ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;chu-li-operation-de-dependencies-de-pai-ta-xing&quot;&gt;å¤„ç† Operation çš„ dependencies çš„æ’ä»–æ€§&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; concurrencyCategories: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; op&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;conditions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;flatMap { condition &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span&gt;condition&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;dynamicType&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;isMutuallyExclusive { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;nil }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;\(condition&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;dynamicType&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span&gt;concurrencyCategories&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;isEmpty {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Set up the mutual exclusivity dependencies.
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; exclusivityController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; ExclusivityController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;sharedExclusivityController
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    exclusivityController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addOperation(op, categories: concurrencyCategories)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    op&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addObserver(BlockObserver { operation, _ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        exclusivityController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;removeOperation(operation, categories: concurrencyCategories)
&lt;&#x2F;span&gt;&lt;span&gt;    })
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åœ¨è¿™é‡Œå¯èƒ½çœ‹ä¸å‡ºã€Œæ’ä»–ã€çš„å®ç°ï¼Œå› ä¸ºæ˜¯åœ¨ &lt;code&gt;exclusivityController&lt;&#x2F;code&gt; é‡Œé¢å®ç°çš„ï¼Œè°ƒç”¨äº†å®ƒçš„ &lt;code&gt;addOperation&lt;&#x2F;code&gt; æ–¹æ³•åï¼Œå®ƒä¼šå»æŸ¥çœ‹è¿™ä¸ªç±»å‹çš„æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œå°±è®©è¿™ä¸ª operation ä¾èµ–æ•°ç»„çš„æœ€åä¸€ä¸ªã€‚è¿™æ ·åœ¨ä¹‹å‰çš„ operation æ‰§è¡Œå®Œä¹‹å‰ï¼Œè¿™ä¸ª operation æ˜¯ä¸ä¼šè¢«æ‰§è¡Œçš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong&quot;&gt;ä½¿ç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;æœ‰äº† Operation å’Œ OperationQueue ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹ç”Ÿäº§ megabot äº†ï¼Œæ¥çœ‹ä¸€ä¸ªã€ŒæŸ¥çœ‹åŸç½‘é¡µã€çš„ Operationï¼Œè¿™ä¸ª Operation çš„ä½œç”¨å°±æ˜¯å±•ç¤ºä¼ å…¥çš„ URLã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Foundation
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SafariServices
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; An `Operation` to display an `NSURL` in an app-modal `SFSafariViewController`.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt; MoreInformationOperation: Operation {
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; URL: NSURL
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;(URL: NSURL) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;URL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; URL
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;super&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;        addCondition(MutuallyExclusive&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;UIViewController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override func &lt;&#x2F;span&gt;&lt;span&gt;execute() {
&lt;&#x2F;span&gt;&lt;span&gt;        dispatch_async(dispatch_get_main_queue()) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;showSafariViewController()
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;private func &lt;&#x2F;span&gt;&lt;span&gt;showSafariViewController() {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if let&lt;&#x2F;span&gt;&lt;span&gt; context &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; UIApplication&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;sharedApplication()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;keyWindow?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;rootViewController {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; safari &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; SFSafariViewController(URL: URL, entersReaderIfAvailable: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;            safari&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;delegate &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self
&lt;&#x2F;span&gt;&lt;span&gt;            context&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;presentViewController(safari, animated: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;, completion: nil)
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;            finish()
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extension&lt;&#x2F;span&gt;&lt;span&gt; MoreInformationOperation: SFSafariViewControllerDelegate {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;func &lt;&#x2F;span&gt;&lt;span&gt;safariViewControllerDidFinish(controller: SFSafariViewController) {
&lt;&#x2F;span&gt;&lt;span&gt;        controller&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;dismissViewControllerAnimated(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;finish()
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;å› ä¸ºè¿™æ˜¯ä¸€ä¸ª &lt;code&gt;ViewController&lt;&#x2F;code&gt; ç›¸å…³çš„ Operationï¼Œæ‰€ä»¥å…¶ä»–åŒç±»å‹çš„ Operationï¼Œéœ€è¦ç­‰æˆ‘å®Œæˆåæ‰èƒ½è¢«æ‰§è¡Œã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å½“è¿™ä¸ª controller è¢«å…³é—­æ—¶ï¼Œè¡¨ç¤ºè¿™ä¸ª Operation ç»“æŸï¼Œè°ƒç”¨ä¸€ä¸‹ &lt;code&gt;finish&lt;&#x2F;code&gt; æ–¹æ³•ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å¦‚æœéœ€è¦çš„è¯ï¼Œå¯ä»¥ç»™è¿™ä¸ª Operation å†åŠ ä¸€ä¸ª &lt;code&gt;ReachabilityCondition&lt;&#x2F;code&gt;ï¼Œå½“æ²¡æœ‰ç½‘ç»œæ—¶å°±ä¸æ‰“å¼€äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹åœ¨ VC å±‚é¢çš„ä½¿ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;swift&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-swift &quot;&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;override func &lt;&#x2F;span&gt;&lt;span&gt;tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; operation &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; BlockOperation {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;performSegueWithIdentifier(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;showEarthquake&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, sender: nil)
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    operation&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addCondition(MutuallyExclusive&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;UIViewController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; blockObserver &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; BlockObserver { _, errors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;*
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;            If the operation errored (ex: a condition failed) then the segue
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;            isn&amp;#39;t going to happen. We shouldn&amp;#39;t leave the row selected.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;        *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span&gt;errors&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;isEmpty {
&lt;&#x2F;span&gt;&lt;span&gt;            dispatch_async(dispatch_get_main_queue()) {
&lt;&#x2F;span&gt;&lt;span&gt;                tableView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;deselectRowAtIndexPath(indexPath, animated: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    operation&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addObserver(blockObserver)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 3
&lt;&#x2F;span&gt;&lt;span&gt;    operationQueue&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addOperation(operation)
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;ç±»ä¼¼ &lt;code&gt;NSBlockOperation&lt;&#x2F;code&gt;ï¼Œ &lt;code&gt;BlockOperation&lt;&#x2F;code&gt; ä¹Ÿå¯ä»¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ª Operationã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;BlockObserver&lt;&#x2F;code&gt; ä¹Ÿæ˜¯ä¸€ä¸ªå¿«é€Ÿç”Ÿæˆ observer çš„æ–¹æ³•ï¼Œè¿™é‡Œæè¿°äº†å½“ Operation å®Œæˆåçš„å¤„ç†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è°ƒç”¨æ–¹éœ€è¦æ–°å»ºä¸€ä¸ª queueï¼Œç„¶åæŠŠ Operation æ”¾åˆ°è¿™ä¸ª queue é‡Œã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ç›¸æ¯”èµ·æ­£å¸¸çš„è°ƒç”¨ï¼Œè¿˜æ˜¯ä¼šå¤šäº†äº›æ­¥éª¤ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;åŸºäº Operation æ¥æ¶æ„çš„æ€æƒ³è¿˜æ˜¯è›®æ–°é¢–çš„ï¼Œå¯ä»¥å°†å¤æ‚çš„ä»»åŠ¡æ‹†åˆ†æˆç²’åº¦æ›´ç»†çš„ Operationï¼Œç„¶åå†ç»„è£…ã€‚ä½†å®é™…ä½¿ç”¨èµ·æ¥ä¹Ÿä¼šæœ‰ä¸å°‘é—®é¢˜ï¼Œæ¯”å¦‚ä¹‹å‰æåˆ°çš„å†™èµ·æ¥ä¼šå¤æ‚äº›ï¼Œè°ƒè¯•æ—¶çœ‹ backtrace ä¼šå¾ˆç´¯ï¼Œä¸ç¡®å®šæ˜¯å¦ä¼šå¸¦æ¥æ›´å¥½çš„å¯ç»´æŠ¤æ€§ç­‰ç­‰ã€‚ä¸è¿‡æ—¢ç„¶è‹¹æœéƒ½å·²ç»æŠŠå®ƒç”¨åˆ°äº†çº¿ä¸Šçš„ Appï¼Œè‡³å°‘è¯´æ˜æ˜¯å¯è¡Œçš„ï¼Œè‡³äºä¸å·²æœ‰çš„æ¶æ„ç›¸æ¯”ä¼šå¸¦æ¥æ€æ ·çš„æå‡ï¼Œå¯èƒ½éœ€è¦å®é™…å†™èµ·æ¥æ‰çŸ¥é“ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>Builder Pattern åœ¨ Objective-C ä¸­çš„ä½¿ç”¨</title>
            <pubDate>Sat, 07 Feb 2015 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/builder-pattern/</link>
            <guid>https://limboy.me/posts/builder-pattern/</guid>
            <description>&lt;p&gt;åœ¨è¯´ Builder Pattern ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€ä¸ªåœºæ™¯ã€‚å‡è®¾æˆ‘ä»¬è¦é¢„å®šä¸€ä¸ª iPhone 6ï¼Œè¦ 64G çš„ï¼Œé‡‘è‰²çš„ï¼Œç”¨ä»£ç è¡¨è¿°å¤§æ¦‚æ˜¯è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; PFX æ˜¯ä¸€ä¸ªå‰ç¼€ï¼Œå› ä¸ºç›´æ¥å†™ iPhone6 ä¸ç¬¦åˆç±»åå¤§å†™çš„ä¹ æƒ¯ï¼Œå†™æˆ IPhone6 æ›´æ˜¯æ€ªå¼‚ â•®(â•¯â–½â•°)â•­
&lt;&#x2F;span&gt;&lt;span&gt;PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;iphone &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;iphone.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;storage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;64&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;iphone.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;color &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[UIColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;goldenColor&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ç§æ–¹å¼&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;iPhone &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithStorage&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;64&lt;&#x2F;span&gt;&lt;span&gt; color&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;[UIColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;goldenColor&lt;&#x2F;span&gt;&lt;span&gt;]];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç¬¬ä¸€ç§æ–¹å¼å¯æ‰©å±•æ€§å¥½äº›ï¼Œä½†æ— æ³•çº¦æŸå¿…é¡»è®¾ç½®æŸäº› propertyã€‚ç¬¬äºŒç§æ–¹å¼ä¿®æ­£äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†æ‰©å±•æ€§ä¹Ÿå·®äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‡å¦‚åˆæœ‰äº†æ–°éœ€æ±‚ï¼Œè¦è®©å®¢æˆ·å¯ä»¥é€‰æ‹©å‘å”®åŒºåŸŸï¼Œæ¯”å¦‚æ¸¯è¡Œï¼Œå›½è¡Œï¼Œç¾ç‰ˆç­‰ç­‰ã€‚å¯¹äºç¬¬ä¸€ç§ï¼Œè‡ªç„¶å¯ä»¥æ–°å¢ä¸€ä¸ªå±æ€§ï¼Œä½†ä½¿ç”¨è€…å¾ˆå¯èƒ½å®Œå…¨ä¸çŸ¥é“æ–°å¢äº†è¿™ä¹ˆä¸ªå±æ€§ã€‚å¯¹äºç¬¬äºŒç§ï¼Œåˆ™åªèƒ½å†æ–°å»ºä¸€ä¸ªåˆå§‹åŒ–æ–¹å¼ï¼Œå¦‚ &lt;code&gt;-[initWithStorage:color:place]&lt;&#x2F;code&gt;ã€‚é‚£å¦‚æœåˆæœ‰æ–°çš„éœ€æ±‚ï¼Œæ¯”å¦‚é€‰æ‹©æ˜¯å¦åˆ»å­—ï¼Œä»¥åŠåˆ»å“ªäº›å­—å‘¢ï¼Ÿæˆ–è€…å¯ä»¥é€‰æ‹©å¤–å£³çš„ç§ç±»ç­‰ç­‰ã€‚è¿™ä¸¤ç§æ–¹å¼éƒ½ä¸èƒ½å¾ˆå¥½åœ°å¤„ç†éœ€æ±‚çš„å˜æ›´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ¥è¯´è¯´ Builder Patternï¼Œè¿™ä¸ªæ¨¡å¼å¯ä»¥åœ¨å„ç§è¯­è¨€é‡Œè¢«å¾ˆæ–¹ä¾¿åœ°å®ç°ï¼Œæ¯”å¦‚ javascript&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span&gt;PFXiPhone6Builder()
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.setStorage&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;64&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.setColor&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;golden&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.setPlace&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;HK&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.build&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å½“æœ‰æ–°çš„å±æ€§æ—¶ï¼Œå†åŠ ä¸€ä¸ª &lt;code&gt;setProperty&lt;&#x2F;code&gt; å³å¯ã€‚å¦‚æœæ¼å†™äº†æŸä¸ªå±æ€§ï¼Œå¯ä»¥åœ¨ &lt;code&gt;build&lt;&#x2F;code&gt; é‡Œæ£€æŸ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨ Objective-C é‡Œï¼Œè¿™æ ·çš„é“¾å¼å†™æ³•ä¸æ˜¯å¾ˆæµè¡Œï¼ˆ&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Masonry&#x2F;Masonry&quot;&gt;Masonry&lt;&#x2F;a&gt;é‡Œè¿™ç§å†™æ³•ç”¨çš„æ¯”è¾ƒå¤šï¼‰ï¼Œæ‰€ä»¥ï¼Œåœ¨ OC é‡Œå†™èµ·æ¥å¤§æ¦‚ä¼šæ˜¯è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;PFXiPhone6Builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[PFXiPhone6Builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;storage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;64&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;color &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[UIColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;goldenColor&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;place &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;HK&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;iphone &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;build&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœå°‘äº†ä»€ä¹ˆå±æ€§ï¼Œåœ¨ &lt;code&gt;build&lt;&#x2F;code&gt; æ—¶æ£€æŸ¥ä¸‹å³å¯ã€‚è¿™æ ·æ—¢è§£å†³äº†ä¸æ–¹ä¾¿æ‰©å±•çš„é—®é¢˜ï¼Œå½“æœ‰æ–°çš„å±æ€§æ—¶ä¹Ÿå¯ä»¥çŸ¥é“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸è¿‡çœ‹èµ·æ¥è¿˜æ˜¯ä¸å¤Ÿä¼˜é›…ï¼Œè¿™ä¸ª builder åªæ˜¯ä¸€ä¸ªä¸´æ—¶å·¥å…·ï¼Œç”¨å®Œäº†å°±æ‰”æ‰äº†ï¼Œæ—¢ç„¶è¿™æ ·ï¼Œé‚£æœ‰æ²¡æœ‰å¯èƒ½å†™æ³•ä¸Šç¬¦åˆ OC çš„ä¼ ç»Ÿï¼Œåˆè®©è¿™ä¸ª builder ã€Œä¸´æ—¶å‡ºç°ã€ä¸€ä¸‹ï¼Ÿä¸”çœ‹ä¸‹é¢è¿™æ®µä»£ç &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;iPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createWithBuilder:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(PFXiPhone6Builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;builder){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;storage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;64&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;color &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[UIColor goldenColor];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;place &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;HK&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯çœ‹èµ·æ¥èˆ’æœå¤šäº†ã€‚builder åªæ˜¯åœ¨ block èŒƒå›´å†…èµ·ä½œç”¨ï¼Œä¸ä¼šå½±å“å½“å‰ context çš„å˜é‡ã€‚è¿™ä¸ª &lt;code&gt;+[createWithBuilder:]&lt;&#x2F;code&gt; çš„ä»£ç å¦‚ä¸‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;(instancetype)createWithBuilder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(BuilderBlock)block {
&lt;&#x2F;span&gt;&lt;span&gt;	NSParameterAssert(block);
&lt;&#x2F;span&gt;&lt;span&gt;	PFXiPhone6Builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[PFXiPhone6Builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;block&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(builder)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;build&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œ &lt;code&gt;build&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œä¹Ÿæœ‰ä¸¤ç§å®ç°ï¼Œç¬¬ä¸€ç§&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; PFXiPhone6Builder
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)build
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initwithBuilder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; PFXiPhone6
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(instancetype)initwithBuilder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(PFXiPhone6Builder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)builder
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;		_storage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;storage&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		_color &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;color&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		_place &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;place&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦å¤–ä¸€ç§æ˜¯æŠŠä¸¤ä¸ªè¿‡ç¨‹åˆå¹¶ä¸ºä¸€ä¸ªè¿‡ç¨‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; PFXiPhone6Builder
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)build
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¯ä»¥åœ¨è¿™é‡Œå¯¹ property åšæ£€æŸ¥
&lt;&#x2F;span&gt;&lt;span&gt;	NSAssert(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;place&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;å‘è¡ŒåŒºåˆ«å¿˜äº†å¡«å“¦&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;iphone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[PFXiPhone6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;	iPhone6.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;storage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;storage&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	iPhone6.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;color &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;color&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	iPhone6.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;place &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;place&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; iPhone6;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸¤ç§æ–¹å¼çš„åŒºåˆ«åœ¨äºå¯¹å‚æ•°çš„å¤„ç†ï¼Œå‰ä¸€ä¸ªæ˜¯åœ¨ç›®æ ‡ Class ä¸­å¤„ç†ï¼Œåä¸€ç§æ˜¯åœ¨ Builder ä¸­å¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨ Facebook çš„ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;facebook&#x2F;pop&quot;&gt;pop&lt;&#x2F;a&gt; ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„ä½¿ç”¨ï¼Œå¦‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;POPAnimatableProperty &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;animatableProperty &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[POPAnimatableProperty &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;propertyWithName:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;property&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;initializer:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(POPMutableAnimatableProperty &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;prop) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    prop.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;writeBlock &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;CGFloat&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; values[]) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    };
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    prop.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;readBlock &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;CGFloat&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; values[]) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    };
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œçš„ &lt;code&gt;initializer&lt;&#x2F;code&gt; å…¶å®å°±æ˜¯ &lt;code&gt;builder&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘åœ¨å†™è˜‘è‡è¡—çš„åŸºç¡€æ¡†æ¶æ—¶ï¼Œä¹Ÿæœ‰ç”¨åˆ°è¿‡å‡ å¤„ï¼Œè§‰å¾—è¿˜æ˜¯è›®æ–¹ä¾¿çš„ï¼Œå°¤å…¶å¯¹ä½¿ç”¨è€…æ¥è¯´ã€‚æ¯”å¦‚è¿™ä¸ªå¯ä»¥æ¨ªå‘æˆ–çºµå‘æ»šåŠ¨çš„åŒ…å«å¯ç‚¹å‡» Items çš„ collectionViewã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;collectionView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[MGJFlowCollectionView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;collectionViewWithBuilder:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(MGJFlowCollectionViewBuilder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;builder) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;scrollDirection &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; UICollectionViewScrollDirectionHorizontal;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;minimumInteritemSpacing &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;minimumLineSpacing &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;sectionInset &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;UIEdgeInsetsMake&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;CGSize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; itemSize &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CGSizeMake&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;81&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;itemSize &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; itemSize;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; @[@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;7&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	builder.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cellBuilder &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;UIView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;number){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		UIView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;view &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[[UIView alloc] initWithFrame&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CGRectMake&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, itemSize.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;width&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, itemSize.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;height&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		view.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;backgroundColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[UIColor mgj_random];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; view;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	};
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·å°±èƒ½é€šè¿‡ç®€å•çš„é…ç½®æ¥ç”Ÿæˆä¸€ä¸ªæ°´å¹³çš„æˆ–å‚ç›´çš„ collectionView äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨ Builder Pattern è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯å¯ä»¥å°†é›¶æ•£çš„é…ç½®ç»Ÿä¸€èµ·æ¥ã€‚æ¯”å¦‚è¦åˆ›å»ºä¸€ä¸ª CollectionViewï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½® layoutï¼Œè¿˜è¦è®¾ç½® layout çš„ä¸€äº›å±æ€§ï¼Œè¿˜è¦è®¾ç½® DataSource &#x2F; Delegate ç­‰ï¼Œç°åœ¨å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹ç»Ÿä¸€è®¾ç½®ï¼Œå¯è¯»æ€§ä¸Šä¹Ÿä¼šå¥½ä¸€äº›ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥å¦‚æœé‡åˆ°éœ€è¦å¤šä¸ªå‚æ•°ï¼Œç”šè‡³æŸä¸ªå‚æ•°è‡ªå·±è¿˜åŒ…å«äº†å„ç§å‚æ•°æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä¸‹ Builder Patternã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;a href=&quot;http:&#x2F;&#x2F;www.annema.me&#x2F;the-builder-pattern-in-objective-c&quot;&gt;http:&#x2F;&#x2F;www.annema.me&#x2F;the-builder-pattern-in-objective-c&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>é˜…è¯»æºç çš„ä¹è¶£</title>
            <pubDate>Wed, 17 Dec 2014 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/the-pleasure-of-reading-source/</link>
            <guid>https://limboy.me/posts/the-pleasure-of-reading-source/</guid>
            <description>&lt;p&gt;é˜…è¯»æºç å°¤å…¶æ˜¯ä¼˜ç§€çš„æºç æ˜¯ä¸€ä»¶å¾ˆæœ‰ä¹è¶£çš„äº‹æƒ…ï¼Œå¯ä»¥æ‹“å®½è§†é‡ï¼Œæé«˜å“ä½ï¼Œé”»ç‚¼æ€ç»´ï¼Œå°±åƒé—´æ¥åœ°åœ¨è·Ÿä½œè€…æ²Ÿé€šä¸€æ ·ã€‚Quora ä¸Šæœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼š&lt;a href=&quot;http:&#x2F;&#x2F;www.quora.com&#x2F;How-did-TJ-Holowaychuk-learn-to-program&quot;&gt;TJ-Holowaychunk æ˜¯å¦‚ä½•å­¦ä¹ ç¼–ç¨‹çš„&lt;&#x2F;a&gt;ï¼Œä»–çš„å›ç­”æ˜¯&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;I don&#x27;t read books, never went to school, I just read other people&#x27;s code and always wonder how things work&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;&#x2F;blockquote&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;å¦‚æœæœ‰è¶³å¤Ÿçš„å¥½å¥‡å¿ƒï¼Œå¹¶ä¸”æ€»æƒ³çŸ¥é“ã€ŒHow Things Workã€ï¼Œé‚£ä¹ˆé˜…è¯»æºç å°±æ˜¯ä¸ªä¸é”™çš„é€”å¾„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æºç çš„å¤æ‚åº¦ä¸åŒï¼Œéœ€è¦æŠ•å…¥çš„æ—¶é—´ã€ä½¿ç”¨çš„æ–¹æ³•ä¹Ÿä¸åŒï¼Œä»¥ä¸€ä¸ªä¸­ç­‰å¤æ‚åº¦çš„é¡¹ç›®ä¸ºä¾‹ï¼Œç®€å•åˆ†äº«ä¸‹æˆ‘é˜…è¯»æºç çš„ä¸€äº›ç»éªŒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;WWDC 2014ï¼Œæœ‰ä¸€ä¸ª Session æ˜¯è®²&lt;a href=&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;videos&#x2F;wwdc&#x2F;2014&#x2F;#232&quot;&gt;ã€ŒAdvanced User Interfaces with Collection Viewsã€&lt;&#x2F;a&gt;ï¼Œä¹‹æ‰€ä»¥é€‰æ‹©è¿™ä¸ªï¼Œæ˜¯å› ä¸ºå®ƒæ˜¯æˆ‘ä»¬è¿˜ç®—ç†Ÿæ‚‰çš„å¯¹è±¡ï¼ˆCollection Viewï¼‰ï¼Œä½†è‹¹æœç”¨äº†ä¸€äº›ã€Œç‰¹æ®Šã€çš„æ¶æ„æ¥åšåˆ°ä»£ç å¤ç”¨ï¼Œå¹¶ä¸”å‡å°‘ VC çš„ä½“ç§¯ï¼Œè€Œä¸”ä½¿ç”¨äº†éƒ¨åˆ† iTunes Connect çš„æºç ï¼Œè€Œä¸æ˜¯ç®€å•çš„æ¼”ç¤ºä»£ç ã€‚æ‰€ä»¥å†³å®šä¸€çª¥ç©¶ç«Ÿã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºäº†æœ‰ä¸€ä¸ªå¤§æ¦‚çš„æ„Ÿå—ï¼Œå…ˆçœ‹ä¸€éè§†é¢‘ï¼Œä¸éœ€è¦é¢†ä¼šæ¯ä¸ªè¦ç‚¹ï¼Œå…ˆè®°å½•ä¸€äº›å…³é”®ä¿¡æ¯ï¼Œæ–¹ä¾¿åˆ°æ—¶ç¿»æºç ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™å¥—ç»“æ„å¯ä»¥å¤„ç†å¤æ‚çš„ DataSource&lt;&#x2F;li&gt;
&lt;li&gt;å¯ä»¥åŒæ—¶é€‚é… iPhone &#x2F; iPad&lt;&#x2F;li&gt;
&lt;li&gt;æœ‰ä¸€ä¸ªç»Ÿä¸€çš„ loading indicator&lt;&#x2F;li&gt;
&lt;li&gt;å¯ä»¥è®¾ç½®æŸä¸ª Header æ˜¯å¦ç½®é¡¶&lt;&#x2F;li&gt;
&lt;li&gt;å¯ä»¥æœ‰ä¸€ä¸ªå…¨å±€çš„ Header&lt;&#x2F;li&gt;
&lt;li&gt;é€šè¿‡èšåˆ DataSource çš„æ–¹æ³•æ¥è¾¾åˆ°ä»£ç å¤ç”¨ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä¸ª VC&lt;&#x2F;li&gt;
&lt;li&gt;å¯ä»¥è®¾ç½®èšåˆå½¢å¼ä¸º Segmented &#x2F; Composed&lt;&#x2F;li&gt;
&lt;li&gt;layout ä¿¡æ¯å¯ä»¥é…ç½®ï¼Œä¸”å¯ä»¥è¦†ç›–&lt;&#x2F;li&gt;
&lt;li&gt;ä½¿ç”¨äº†æœ‰é™çŠ¶æ€æœº&lt;&#x2F;li&gt;
&lt;li&gt;å­ DataSource åœ¨æ•°æ®è½½å…¥å®Œæˆåä¼šæœ‰ä¸€ä¸ª blockï¼Œæ‰€éœ€çš„ DataSource éƒ½è½½å…¥å®Œæˆæ—¶ï¼Œè¿™äº› block ä¼šè¢«ç»Ÿä¸€æ‰§è¡Œ&lt;&#x2F;li&gt;
&lt;li&gt;Section Metrics å¯ä»¥è®¾ç½® Section çš„å…·ä½“è¡¨ç°&lt;&#x2F;li&gt;
&lt;li&gt;layout çš„ä¿¡æ¯ä¼šåœ¨å†…éƒ¨è¢«ä¿å­˜ï¼Œé¿å…é‡å¤è®¡ç®— (Snapshot Metrics)&lt;&#x2F;li&gt;
&lt;li&gt;Optional Layout Methods ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„å¥½æ•ˆæœ&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;äº§ç”Ÿäº†ä¸€äº›ç–‘é—®ï¼Œæ¯”å¦‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;å¤šä¸ªå­ DataSource è¢«ç»„åˆæˆä¸€ä¸ª Composed DataSource æ—¶ï¼Œå¦‚ä½•é€šè¿‡ IndexPath æ‰¾åˆ°å¯¹åº”çš„ DataSourceï¼Ÿ&lt;&#x2F;li&gt;
&lt;li&gt;æ‰¾åˆ°ä¹‹åå¦‚ä½•å¤„ç†ï¼Ÿ&lt;&#x2F;li&gt;
&lt;li&gt;æ˜¯å¦ç½®é¡¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚ä½•é€šè¿‡æœ‰é™çŠ¶æ€æœºæ¥ç®¡ç† Loading çŠ¶æ€ï¼Ÿ&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœæœ‰æŒ‰é’®ï¼Œé‚£ä¹ˆæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶å¦‚ä½•å¤„ç†ï¼Ÿ&lt;&#x2F;li&gt;
&lt;li&gt;Collection View æ²¡æœ‰ headerViewï¼Œè¿™åˆæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ&lt;&#x2F;li&gt;
&lt;li&gt;æ•°æ®æ˜¯æ€ä¹ˆè½½å…¥çš„ï¼Ÿ&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å¤§æ¦‚æœ‰äº†äº›æ¦‚å¿µå’Œç–‘é—®ä¹‹åï¼Œå°±å¯ä»¥æ‰“å¼€æºç ç—›å¿«çœ‹äº†ï¼Œå…ˆæ¥çœ‹çœ‹ç›®å½•ç»“æ„ (å¯ä»¥åœ¨è¿™é‡Œ&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;zwaldowski&#x2F;AAPLAdvancedCollectionView&quot;&gt;åœ¨çº¿æµè§ˆ&lt;&#x2F;a&gt;)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|-&lt;&#x2F;span&gt;&lt;span&gt; Framework
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|-&lt;&#x2F;span&gt;&lt;span&gt; Categories
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|-&lt;&#x2F;span&gt;&lt;span&gt; DataSources
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|-&lt;&#x2F;span&gt;&lt;span&gt; Layouts
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|-&lt;&#x2F;span&gt;&lt;span&gt; ViewControllers
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|-&lt;&#x2F;span&gt;&lt;span&gt; Views
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|-&lt;&#x2F;span&gt;&lt;span&gt; Application
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çœ‹æ¥å…³é”®çš„ä¿¡æ¯éƒ½åœ¨ Framework é‡Œäº†ï¼Œé‚£å¦‚ä½•åˆ‡å…¥å‘¢ï¼Ÿåå…¶é“è€Œè¡Œä¹‹ï¼Œå…ˆæ¥çœ‹çœ‹è¿™äº› Framework æ˜¯æ€ä¹ˆç”¨çš„ï¼Œæœ€ç›´æ¥çš„å°±ä» ViewController å…¥æ‰‹ã€‚é‚£å°±å…ˆæ¥çœ‹çœ‹ AAPLCatListViewController è¿™ä¸ªç±»å§ï¼Œå¦‚æœæ²¡çŒœé”™çš„è¯ï¼Œåº”è¯¥æ˜¯å±•ç¤ºå–µå’ªåˆ—è¡¨ï¼ˆç›´è§‚çš„åå­—å¾ˆé‡è¦ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœç„¶å¾ˆå°ï¼Œå±…ç„¶åªæœ‰ 140 è¡Œï¼Œå¦‚æœä¸åˆ†ç¦»çš„è¯ï¼Œ1400 è¡Œä¹Ÿæ˜¯å¯ä»¥è½»æ¾è¾¾åˆ°çš„ã€‚çœ‹åˆ°å®šä¹‰äº†ä¸€ä¸ª AAPLSegmentedDataSourceï¼Œè„‘æµ·é‡Œå¤§æ¦‚å¯ä»¥æƒ³è±¡å‡ºæ˜¯ä¸€ä¸ªå¯ä»¥åˆ‡æ¢ Tag çš„é¡µé¢ï¼Œæ¥ç€åˆçœ‹åˆ°äº†ä¸¤ä¸ª DataSourceï¼Œé‚£è¿™ä¸¤ä¸ªé¡µé¢çš„æ•°æ®æºåº”è¯¥å°±æ˜¯å®ƒä»¬äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;APPLCatListViewController ()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;strong&lt;&#x2F;span&gt;&lt;span&gt;) AAPLSegmentedDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;segmentedDataSource;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;strong&lt;&#x2F;span&gt;&lt;span&gt;) AAPLCatListDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;catsDataSource;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;strong&lt;&#x2F;span&gt;&lt;span&gt;) AAPLCatListDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;favoriteCatsDataSource;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;strong&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSIndexPath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;selectedIndexPath;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;strong&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;selectedDataSourceObserver;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶ååˆçœ‹åˆ°è¿™ä¹ˆä¸€è¡Œ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)dealloc
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;segmentedDataSource&lt;&#x2F;span&gt;&lt;span&gt; aapl_removeObserver&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;selectedDataSourceObserver&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çœ‹èµ·æ¥æ˜¯è‹¹æœè‡ªå·±å®ç°äº†ä¸€ä¸ª KVO Wrapperï¼Œæœç„¶ä»–ä»¬è‡ªå·±ä¹Ÿæ— æ³•å¿å—åŸç”Ÿçš„ KVOï¼Œå“ˆå“ˆã€‚æ¥ç€åˆ°äº† ViewDidLoadï¼Œæ–°å»ºäº†ä¸¤ä¸ª DataSourceï¼Œé‚£æ–°å»ºçš„æ—¶å€™éƒ½å¹²äº†äº›ä»€ä¹ˆï¼Ÿ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(AAPLCatListDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)newAllCatsDataSource
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    AAPLCatListDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;dataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[AAPLCatListDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;    dataSource.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;showingFavorites &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    dataSource.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;title &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NSLocalizedString(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;All&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Title for available cats list&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    dataSource.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;noContentMessage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NSLocalizedString(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;All the big ...&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;The message to show when no cats are available&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    dataSource.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;noContentTitle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NSLocalizedString(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;No Cats&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;The title to show when no cats are available&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    dataSource.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;errorMessage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NSLocalizedString(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;A problem with the network ....&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Message to show when unable to load cats&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    dataSource.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;errorTitle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NSLocalizedString(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Unable To Load Cats&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Title of message to show when unable to load cats&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; dataSource;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ‰€ä»¥åªæ˜¯åˆå§‹åŒ–ï¼Œç„¶åè®¾ç½®ä¸€äº›ä¿¡æ¯ï¼ŒNothing Specialã€‚ç„¶åçœ‹åˆ°äº† AAPLLayoutSectionMetrics ï¼Œçœ‹èµ·æ¥æ˜¯è®¾ç½® Layout çš„ä¸€äº›æ˜¾ç¤ºä¿¡æ¯ï¼Œå¦‚ height &#x2F; backgroundColor ä¹‹ç±»çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€ååˆ›å»ºäº†ä¸€ä¸ª KVO æ¥ç›‘æµ‹ selectedDataSource çš„å˜åŒ–ï¼Œç•Œé¢ä¸Šåšç›¸åº”çš„è°ƒæ•´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥ä¸‹æ¥çœ‹çœ‹ AAPLCatListDataSource çš„å®ç°ï¼Œä¸€è¿›å»å‘ç°&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;AAPLCatListDataSource : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;AAPLBasicDataSource
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&#x2F; Is this list showing the favorites or all available cats?
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt; showingFavorites;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çœ‹æ¥ AAPLBasicDataSource ä¸€å®šåšäº†å¾ˆå¤šäº‹ï¼Œè¿›å…¥åˆ° AAPLBasicDataSource.m æ–‡ä»¶ï¼Œçœ‹åˆ°è¿™ä¸ªæ–¹æ³•&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)setShowingFavorites&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)showingFavorites
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(showingFavorites &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span&gt; _showingFavorites)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    _showingFavorites &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; showingFavorites;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;resetContent&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setNeedsLoadContent&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(showingFavorites)
&lt;&#x2F;span&gt;&lt;span&gt;        [[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNotificationCenter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;defaultCenter&lt;&#x2F;span&gt;&lt;span&gt;] addObserver&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt; selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;observeFavoriteToggledNotification:&lt;&#x2F;span&gt;&lt;span&gt;) name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;AAPLCatFavoriteToggledNotificationName object&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ³¨æ„åˆ°æœ‰ä¸€ä¸ª &lt;code&gt;setNeedsLoadContent&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œçœ‹èµ·æ¥æ•°æ®çš„è½½å…¥åº”è¯¥æ˜¯é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è§¦å‘çš„ï¼Œè¿›å»çœ‹çœ‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)setNeedsLoadContent
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSObject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cancelPreviousPerformRequestsWithTarget:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;selector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(loadContent) object:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;performSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(loadContent) withObject:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;afterDelay:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªæ–¹æ³•æ²¡æ€ä¹ˆæ¥è§¦è¿‡ï¼ŒæŸ¥ä¸€ä¸‹æ–‡æ¡£å…ˆï¼ŒåŸæ¥æ˜¯å¯ä»¥å–æ¶ˆä¹‹å‰é€šè¿‡ &lt;code&gt;performSelector:withObject:afterDelay:&lt;&#x2F;code&gt; è§¦å‘çš„æ–¹æ³•ï¼Œä¸ºäº†åŠ æ·±å°è±¡ï¼Œé¡ºä¾¿ Google ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•ï¼ŒåŸæ¥ &lt;code&gt;performSelector:withObject:afterDelay&lt;&#x2F;code&gt; åœ¨æ–¹æ³•è¢«æ‰§è¡Œå‰ï¼Œä¼šæŒæœ‰ Objectï¼Œæ–¹æ³•æ‰§è¡Œååœ¨è§£é™¤å¯¹ Object çš„æŒæœ‰ï¼Œå¦‚æœä¸å°å¿ƒå¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±æœ‰å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨æ­¤æ–¹æ³•å‰å…ˆ cancel ä¸€ä¸‹æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹è¿™ä¸ª &lt;code&gt;loadContent&lt;&#x2F;code&gt; éƒ½åšäº†ä»€ä¹ˆ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)loadContent
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; To be implemented by subclassesâ€¦
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çœ‹æ¥éœ€è¦åœ¨å­ç±»å®ç°è¿™ä¸ªæ–¹æ³•ï¼Œé‚£å°±åˆ° AAPLCatListDataSource é‡Œçœ‹çœ‹è¿™ä¸ªæ–¹æ³•éƒ½åšäº†ä»€ä¹ˆ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)loadContent
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;loadContentWithBlock:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(AAPLLoading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;loading) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;handler)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cats, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cats, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Check to make certain a more recent call to load content hasn&amp;#39;t superceded this oneâ€¦
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;loading.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;current&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                [loading ignore];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(error) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                [loading doneWithError:error];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(cats.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;count&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                [loading updateWithContent:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(AAPLCatListDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;me) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                    me.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;items &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; cats;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                }];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                [loading updateWithNoContent:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(AAPLCatListDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;me) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                    me.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;items &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; @[];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                }];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        };
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;showingFavorites&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            [[AAPLDataAccessManager manager] fetchFavoriteCatListWithCompletionHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;handler];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            [[AAPLDataAccessManager manager] fetchCatListWithCompletionHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;handler];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½¿ç”¨äº† &lt;code&gt;loadContentWithBlock:&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œè¿›å»çœ‹çœ‹ï¼Œè¿™ä¸ªæ–¹æ³•åšäº†ä»€ä¹ˆ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)loadContentWithBlock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(AAPLLoadingBlock)block
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;beginLoading&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    __weak &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;typeof&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt; weakself &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    AAPLLoading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;loading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[AAPLLoading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;loadingWithCompletionHandler:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;newState, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error, AAPLLoadingUpdateBlock update){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;newState)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;endLoadingWithState:newState error:error update:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            AAPLDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;me &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; weakself;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(update &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; me)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;update&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(me);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        }];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Tell previous loading instance it&amp;#39;s no longer current and remember this loading instance
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;loadingInstance&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;current &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;loadingInstance &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; loading;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Call the provided block to actually do the load
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;block&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(loading)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç®€å•è¯´æ¥å°±æ˜¯ç”Ÿæˆäº†ä¸€ä¸ª loadingï¼Œç„¶åæŠŠ loading ä¼ ç»™ blockï¼Œé‚£ &lt;code&gt;loadingWithCompletionHandler:&lt;&#x2F;code&gt; è¿™ä¸ªæ–¹æ³•åˆåšäº†ä»€ä¹ˆ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;(instancetype)loadingWithCompletionHandler&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;state, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error, AAPLLoadingUpdateBlock update))handler
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    NSParameterAssert(handler &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    AAPLLoading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;loading &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;    loading.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;block &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; handler;
&lt;&#x2F;span&gt;&lt;span&gt;    loading.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;current &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; loading;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ‰€ä»¥å°±æ˜¯ç”Ÿæˆä¸€ä¸ª loading å®ä¾‹ï¼Œç„¶åæŠŠ handler å­˜åˆ° block å±æ€§é‡Œã€‚æ—¢ç„¶å­˜äº†ï¼Œé‚£å°†æ¥æŸä¸ªæ—¶å€™ä¸€å®šä¼šç”¨åˆ°ï¼Œä»åå­—ä¸Šæ¥çœ‹ï¼Œåº”è¯¥æ˜¯ loading å®Œæˆæ—¶ä¼šè¢«è°ƒç”¨ï¼Œæœç´¢ block å…³é”®å­—ï¼Œå‘ç°åªæœ‰åœ¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•ä¸­ block æ‰ä¼šè¢«è°ƒç”¨&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)_doneWithNewState&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)newState error&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)error update&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(AAPLLoadingUpdateBlock)update
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#if&lt;&#x2F;span&gt;&lt;span&gt; DEBUG
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;OSAtomicCompareAndSwap32&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_complete)&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NSAssert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;completion method called more than once&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#endif
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;block)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;state, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error, AAPLLoadingUpdateBlock update) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; _block;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_async&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_get_main_queue&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;block&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(newState, error, update);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    })&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    _block &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯ _ å¼€å¤´ï¼Œé‚£åº”è¯¥æ˜¯å†…éƒ¨æ–¹æ³•ï¼Œå¯¹å¤–å°è£…äº†å‡ ç§çŠ¶æ€ï¼Œå¦‚ &lt;code&gt;ignore&lt;&#x2F;code&gt;, &lt;code&gt;done&lt;&#x2F;code&gt;, &lt;code&gt;updateWithContent:&lt;&#x2F;code&gt; ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å’¦ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆè¦å…ˆæŠŠ _block èµ‹ç»™ä¸€ä¸ªä¸´æ—¶å˜é‡ blockï¼Œç„¶åå†æŠŠ _block è®¾ä¸º nil å‘¢ï¼Ÿçœ‹èµ·æ¥åƒæ˜¯ä¸ºäº†è§£å†³æŸç§å†…å­˜é—®é¢˜ã€‚å¦‚æœç›´æ¥ &lt;code&gt;_block(newState, error, update)&lt;&#x2F;code&gt; ä¼šæ€æ ·ï¼Ÿå“¦ï¼Œè™½ç„¶è¿™é‡Œæ²¡æœ‰å‡ºç° selfï¼Œä½† _block æ˜¯ä¸€ä¸ª instance å˜é‡ï¼Œæ‰€ä»¥åœ¨ ^{} é‡Œä¼šå¯¹ self è¿›è¡Œå¼ºå¼•ç”¨ã€‚è€Œå¦‚æœèµ‹ç»™ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œé‚£ä¹ˆåªä¼šå¯¹è¿™ä¸ªä¸´æ—¶å˜é‡å¼ºå¼•ç”¨ï¼Œå°±ä¸ä¼šå‡ºç°å¾ªç¯å¼•ç”¨çš„æƒ…å†µã€‚&lt;&#x2F;p&gt;
&lt;p&gt;AAPLLoading çœ‹çš„å·®ä¸å¤šäº†ï¼Œå†å‡ºæ¥çœ‹ &lt;code&gt;loadContentWithBlock:&lt;&#x2F;code&gt; ï¼Œæ³¨æ„åˆ°åœ¨ CompletionHandler é‡Œï¼Œæœ‰è¿™ä¹ˆä¸€æ®µ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;endLoadingWithState:newState error:error update:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	AAPLDataSource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;me &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; weakself;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(update &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; me)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;update&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(me);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œçš„ self æ˜¯ AAPLDataSource ï¼ˆBlock åµŒå¥—å¤šäº†ï¼Œè¿˜çœŸæ˜¯å®¹æ˜“æ™•å•Šï¼‰ï¼Œæ¥çœ‹çœ‹ &lt;code&gt;endLoadingWithState:error:update&lt;&#x2F;code&gt; è¿™ä¸ªæ–¹æ³•éƒ½åšäº†ä»€ä¹ˆ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)endLoadingWithState&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)state error&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)error update&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(dispatch_block_t)update
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;loadingError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; error;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;loadingState &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; state;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;shouldDisplayPlaceholder&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(update)
&lt;&#x2F;span&gt;&lt;span&gt;            [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;enqueuePendingUpdateBlock:update&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;notifyBatchUpdate:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Run pending updates
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;executePendingUpdates];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(update)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;update&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;loadingComplete &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;notifyContentLoadedWithError:error&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è®¾ç½®ä¸€äº›çŠ¶æ€ï¼Œç„¶ååœ¨æ°å½“çš„æ—¶æœºè°ƒç”¨ update blockï¼Œå’¦ï¼Œè¿™é‡Œæœ‰ä¸ª dispatch_block_t æ²¡æ€ä¹ˆè§è¿‡ï¼ŒæŸ¥äº†ä¸€ä¸‹åŸæ¥æ˜¯ä¸€ä¸ªå†…ç½®çš„ç©ºä¼ å€¼å’Œç©ºè¿”å›çš„ blockã€‚&lt;&#x2F;p&gt;
&lt;p&gt;çœ‹äº†ä¸‹ &lt;code&gt;enqueuePendingUpdateBlock&lt;&#x2F;code&gt;ï¼Œä¼šæŠŠç°åœ¨çš„è¿™ä¸ª update ç»“åˆä¹‹å‰çš„ updateBlockï¼Œå½¢æˆä¸€ä¸ªæ–°çš„ updateBlockï¼Œåº”è¯¥å°±æ˜¯è§†é¢‘é‡Œæåˆ°çš„å½“æ‰€æœ‰çš„ DataSource éƒ½è½½å…¥å®Œæ—¶ï¼Œç»Ÿä¸€æ‰§è¡Œä¹‹å‰çš„ update block&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;notifyBatchUpdate:&lt;&#x2F;code&gt; æ‰€åšçš„æ˜¯çœ‹ä¸€ä¸‹ Delegate æ˜¯å¦å“åº” &lt;code&gt;dataSource:performBatchUpdate:complete:&lt;&#x2F;code&gt; å¦‚æœå“åº”åˆ™èµ°ä½ ï¼Œä¸ç„¶æŒ¨ä¸ªæ‰§è¡Œ update &#x2F; completeã€‚&lt;&#x2F;p&gt;
&lt;p&gt;çœ‹å®Œäº† &lt;code&gt;loadContentWithBlock&lt;&#x2F;code&gt; å†æ¥çœ‹çœ‹è¿™ä¸ª Block é‡Œé¢éƒ½åšäº†ä»€ä¹ˆï¼Œå¤§æ„æ˜¯æ ¹æ® self.showingFavorites æ¥åˆ‡æ¢ä¸åŒçš„æ•°æ®æºï¼Œè¿™é‡Œçœ‹åˆ°äº†ä¸€ä¸ªæ–°çš„ç±» AAPLDataAccessManagerï¼Œçœ‹èµ·æ¥åƒæ˜¯ç»Ÿä¸€çš„æ•°æ®å±‚ï¼Œç„ä¸€çœ¼&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@class&lt;&#x2F;span&gt;&lt;span&gt; AAPLCat;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;AAPLDataAccessManager : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (AAPLDataAccessManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;manager&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fetchCatListWithCompletionHandler:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;cats, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error))&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;handler&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fetchFavoriteCatListWithCompletionHandler:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;cats, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error))&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;handler&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fetchDetailForCat:&lt;&#x2F;span&gt;&lt;span&gt;(AAPLCat &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;cat &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;completionHandler:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;)(AAPLCat &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;cat, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error))&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;handler&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fetchSightingsForCat:&lt;&#x2F;span&gt;&lt;span&gt;(AAPLCat &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;cat &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;completionHandler:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;sightings, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error))&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;handler&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æœç„¶å¦‚æ­¤ï¼Œå°†æ¥æ•°æ®çš„è½½å…¥å½¢å¼æœ‰å˜åŒ–ï¼Œæˆ–éœ€è¦åšç¼“å­˜å•¥çš„ï¼Œéƒ½å¯ä»¥åœ¨è¿™ä¸€å±‚å¤„ç†ï¼Œå…¶ä»–éƒ¨åˆ†ä¸ä¼šæ„Ÿè§‰åˆ°å˜åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸€è½®çœ‹ä¸‹æ¥å·²ç»æœ‰ä¸å°‘ä¿¡æ¯é‡äº†ï¼Œæ¥ç®€å•æ‹ä¸€ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;[SegmentedDataSource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; setNeedsLoadContent]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;â†“
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;[CatListDataSource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; loadContent]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;â†“
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;[DataSource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; loadContentWithBlock:]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;â†“
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;åˆ›å»º&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; loadingï¼Œè®¾ç½® loading å®Œæˆåè¦åšçš„äº‹ â†’ æ‹¿åˆ°æ•°æ®åæ”¾åˆ° updateQueue é‡Œï¼Œç­‰å…¨éƒ¨æ‹¿åˆ°å†æ‰§è¡Œ batchUpdate
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;â†“
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;æ‰§è¡Œ&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; loadContentBlock â†’ ä½¿ç”¨ DataAccessManager å»è·å–æ•°æ®ï¼Œæ‹¿åˆ°åäº¤ç»™ loading
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰è¿è¡Œ Project çœ‹æ•ˆæœï¼Œå› ä¸ºæˆ‘è§‰å¾—ä»£ç åŒ…å«çš„ä¿¡æ¯ä¼šæ›´ä¸°å¯Œï¼Œè€Œä¸”è¿™ä¹ˆçœ‹ä¸‹æ¥åï¼Œå¯¹äºç•Œé¢ä¼šé•¿å•¥æ ·ä¹Ÿæœ‰ä¸ªå¤§æ¦‚çš„äº†è§£ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™åªæ˜¯å¼€å§‹ï¼Œç»§ç»­æŒ–æ˜ä¸‹å»è¿˜ä¼šæœ‰ä¸å°‘å¥½ä¸œè¥¿ï¼Œæ¯”å¦‚ Favorite æŒ‰é’®çš„å¤„ç†ï¼Œå®ƒæ˜¯é€šè¿‡ Responder Chain è€Œä¸æ˜¯ Delegate æ¥å®ç°çš„ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ€è·¯ã€‚é€šè¿‡æœ‰é™çŠ¶æ€æœºæ¥ç®¡ç† loading çŠ¶æ€ä¹Ÿæ˜¯å¾ˆæœ‰æ„æ€çš„å®ç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæœ‰å…´è¶£ï¼Œå¯ä»¥çœ‹ä¸‹ ComposedDataSourceï¼Œå…ˆä¸çœ‹å®ç°ï¼Œå¦‚æœè¦è‡ªå·±å†™å¤§æ¦‚ä¼šæ˜¯ä»€ä¹ˆæ€è·¯ï¼Œæ¯”å¦‚å½“è°ƒç”¨ &lt;code&gt;[UICollectionView cellForItemAtIndexPath:]&lt;&#x2F;code&gt; æ—¶ï¼Œå¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„ DataSourceï¼Œæ‰¾åˆ°ä¹‹åå¦‚ä½•æ¸²æŸ“å¯¹åº”çš„ Cell ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥çœ‹æºç çœŸçš„æ˜¯ä¸€ä»¶å¾ˆæœ‰æ„æ€çš„äº‹æƒ…ï¼Œåƒä¸€åœºå†’é™©ï¼Œæ€»æ˜¯ä¼šæœ‰æ„å¤–æ”¶è·ï¼Œå¯èƒ½åœ¨ä¸çŸ¥ä¸è§‰ä¸­ï¼Œèƒ½åŠ›å°±å¾—åˆ°äº†æå‡ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>è¯» Facebook App å¤´æ–‡ä»¶çš„ä¸€äº›æ”¶è·</title>
            <pubDate>Fri, 28 Nov 2014 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/facebook-app-headers/</link>
            <guid>https://limboy.me/posts/facebook-app-headers/</guid>
            <description>&lt;p&gt;æœ€è¿‘åœ¨çœ‹ä¸€äº› App æ¶æ„ç›¸å…³çš„æ–‡ç« ï¼Œä¹Ÿçœ‹äº† Facebook åˆ†äº«çš„ä¸¤ä¸ªä¸åŒæ—¶æœŸçš„æ¶æ„ï¼ˆ2013 å’Œ 2014ï¼‰ï¼Œäºæ˜¯å°±æƒ³ä¸€çª¥ Facebook App çš„å¤´æ–‡ä»¶ï¼Œçœ‹çœ‹ä¼šä¸ä¼šæœ‰æ›´å¤šçš„æ”¶è·ï¼Œç¡®å®æœ‰ï¼Œè¿˜ä¸å°‘ã€‚ç”±äºåœ¨é€‰æ‹© ipa ä¸Šçš„å¤±è¯¯ï¼Œä¸‹äº†ä¸ª 7.0 ç‰ˆçš„ Facebookï¼ˆæœ€æ–°çš„æ˜¯ 18.1ï¼‰ï¼Œä¼šç¨æœ‰è¿‡æ—¶ï¼Œä¸è¿‡åæ¥åˆä¸‹äº†ä¸ª 18.1 çš„çœ‹äº†ä¸‹ï¼Œå‘ç°å˜åŠ¨å…¶å®ä¸å¤§ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»å¤´æ–‡ä»¶ä¸­è·å–åˆ°çš„ä¸€äº›ä¿¡æ¯ï¼ˆ20 å¤šä¸‡è¡Œï¼Œæµè§ˆèµ·æ¥è¿˜æ˜¯æŒºç´¯çš„ï¼‰&lt;&#x2F;p&gt;
&lt;h3 id=&quot;rang-shi-tu-zu-jian-ke-yi-fang-bian-di-pei-zhi&quot;&gt;è®©è§†å›¾ç»„ä»¶å¯ä»¥æ–¹ä¾¿åœ°é…ç½®&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªåœ¨ Facebook çš„æ¼”è®²ä¸­ä¹Ÿæåˆ°è¿‡ï¼Œè‡ªå®šä¹‰çš„ UI ç»„ä»¶åœ¨åˆå§‹åŒ–æ—¶å¯ä»¥ä¼ ä¸€äº›æ•°å€¼æ¥è¡¨ç¤ºæƒ³è¦å‘ˆç°çš„æ•ˆæœï¼Œå°±åƒ HTML å’Œ CSS ä¸€æ ·ï¼ŒDom ç»“æ„è¡¨ç¤ºè¿™æ˜¯ä»€ä¹ˆï¼ŒCSS å¯¹è¯¥ç»“æ„è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ã€‚ Facebook æ˜¯é€šè¿‡ Struct æ¥åšè¿™ä»¶äº‹çš„ï¼Œæ¯”å¦‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;struct &lt;&#x2F;span&gt;&lt;span&gt;FBActionSheetButtonMetrics {
&lt;&#x2F;span&gt;&lt;span&gt;    CDUnknownFunctionPointerType &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;_vptr$FBMetrics;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;_Bool&lt;&#x2F;span&gt;&lt;span&gt; _initialized;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; leftMargin;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; textLeftMargin;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; bottomSeperatorSideMargin;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; bottomSeperatorHeight;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; detailMaxNumLines;
&lt;&#x2F;span&gt;&lt;span&gt;    UIColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;titleColor;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¥½å¤„æ˜¯å‡å°‘äº†ä»£ç é‡ï¼Œè€Œä¸”ç›´è§‚ï¼Œæ–¹ä¾¿å¤ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jin-liang-shi-yong-zu-he-gua-du-shi-yong-ji-cheng&quot;&gt;å°½é‡ä½¿ç”¨ç»„åˆï¼Œé€‚åº¦ä½¿ç”¨ç»§æ‰¿&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœè¿‡åº¦ä½¿ç”¨ç»§æ‰¿ï¼Œå°¤å…¶æ˜¯ç»§æ‰¿å±‚æ¬¡è¿‡æ·±ï¼Œå¾€å¾€ä¼šå¸¦æ¥æ›´å¤§çš„ç»´æŠ¤æˆæœ¬ã€‚æœ‰æ–°éœ€æ±‚æˆ–éœ€æ±‚å˜æ›´æ—¶ï¼Œä¼šèŠ±å¾ˆå¤šæ—¶é—´åœ¨ã€Œæ˜¯å¦éœ€è¦åœ¨åŸºç±»&#x2F;å­ç±»å¢åŠ ä¸€ä¸ªæ–¹æ³•ã€ï¼Œã€Œæ˜¯å¦éœ€è¦æ–°å»ºä¸€ä¸ªå­ç±»ã€ç­‰è®¾è®¡ç›¸å…³çš„é—®é¢˜ä¸Šã€‚è€Œç»„åˆåˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œå¤§ä¸äº†æ¢ä¸€ä¸ªç»„ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸è¿‡ Objective-C å¯¹äºç»„åˆå¹¶æ²¡æœ‰ç‰¹åˆ«çš„æ”¯æŒï¼Œæ‰€ä»¥å®ç°èµ·æ¥ä¼šç•¥éº»çƒ¦&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;People {}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property id &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;Vehicle&amp;gt; vehicle;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;move&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;People
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;initWithVehicle: &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;Vehicle&amp;gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;vehicle &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;vehicle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; vehicle;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;move &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;vehicle&lt;&#x2F;span&gt;&lt;span&gt; move];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœæœ‰å¾ˆå¤šç±»ä¼¼ move è¿™æ ·éœ€è¦äº¤ç»™å¤–éƒ¨çš„ object æ¥åšçš„æ–¹æ³•ï¼Œå°±ä¼šæ˜¾å¾—å†—ä½™ï¼Œå°½ç®¡å¦‚æ­¤ï¼Œæ¯”èµ·ç»§æ‰¿æ¥è¿˜æ˜¯æ›´æ–¹ä¾¿ç»´æŠ¤çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨ç»„åˆçš„è¯ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ã€Œä¾èµ–æ³¨å…¥ã€ï¼Œæ¯”å¦‚è¿™é‡Œçš„ Vehicleï¼Œå¹¶ä¸éœ€è¦ç‰¹åˆ«æŒ‡å‡ºæ˜¯ Bike è¿˜æ˜¯ Carï¼Œåªè¦æœ‰ move æ–¹æ³•å°±å¯ä»¥ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ›¿æ¢ï¼Œå¯¹äº People æ¥è¯´ä¸éœ€è¦åšä»»ä½•æ”¹åŠ¨ã€‚åœ¨ Objective-C é‡Œæ˜¯é€šè¿‡ protocol æ¥å®ç°çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥ Facebook å®šä¹‰äº†ä¸€å¤§å †çš„æ¥å£ï¼ŒåŒ…æ‹¬ Delegate, DataSource å’Œ Protocolï¼ŒViewController æœ‰ Protocolï¼Œä¹Ÿæœ‰ Delegate(å¦‚ FBMediaGalleryViewControllerDelegate)ï¼ŒView &#x2F; Cell ä¹Ÿæœ‰ Delegate(å¦‚ FBMediaGalleryViewDelegate)ï¼Œè¿˜æœ‰å„ç§é›¶é›¶ç¢ç¢çš„ Protocolï¼Œå¦‚ FBDiscoveryCardProtocol, FBEventProtocol ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å®šä¹‰æ¥å£çš„è¿‡ç¨‹ä¹Ÿæ˜¯æ¢³ç†æ¶æ„çš„è¿‡ç¨‹ï¼Œå¦‚æœå¯¹æ¶æ„ç†è§£ä¸å¤Ÿæ·±åˆ»ï¼Œæ˜¯å¾ˆéš¾å°†æ¥å£æ°å½“åœ°æŠ½è±¡å‡ºæ¥çš„ã€‚å¾ˆå¤šäººæ”¾å¼ƒä½¿ç”¨ç»„åˆï¼Œæœ‰ä¸€éƒ¨åˆ†åŸå› ä¹Ÿæ˜¯æ¶æ„ä¸Šçš„ä¸åˆç†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç»„ä»¶çš„ç²’åº¦ä¹Ÿæ˜¯ä¸ªé—®é¢˜ï¼Œè¿‡ç»†ä¼šå¯¼è‡´ç»„ä»¶è¿‡å¤šï¼Œç»„åˆçš„è¿‡ç¨‹å°±ä¼šèŠ±å»å¾ˆå¤šæ—¶é—´ï¼›è¿‡ç²—åˆå¯¼è‡´ç»„ä»¶è‡ƒè‚¿ï¼Œéš¾ä»¥å¤ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ç»„ä»¶çš„æ¥å£å®šä¹‰å®Œä¹‹åï¼Œä½¿ç”¨èµ·æ¥å¤§æ¦‚ä¼šæ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;FBResponseHandler : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;FBTestable, FBReceivedDataBufferDelegate, FBResponseHandlerProtocol&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@interface FBPhotoViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; UIViewController &amp;lt;FBPagingViewDelegate, FBPagingViewDataSource, FBPresentableViewController&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·ä¸€çœ¼å°±å¤§æ¦‚èƒ½çœ‹å‡ºæ¥è¿™ä¸ª Class å¤§æ¦‚ä¼šæœ‰å“ªäº›åŠŸèƒ½ï¼Œå¦‚æœæŸä¸ªç»„ä»¶è¦ä½œè°ƒæ•´ï¼Œåªéœ€ä¿®æ”¹ä¸€å¤„ï¼Œå°±å¯ä»¥å…¨å±€é€šç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é€‚åº¦ä½¿ç”¨ç»§æ‰¿ï¼Œå¯ä»¥åœ¨æ˜“ç»´æŠ¤å’Œä¾¿åˆ©ä¸Šè¾¾åˆ°å¹³è¡¡ï¼Œæ¯”å¦‚ FBTableViewController, FBDialog ç­‰ï¼Œè‡ªå®šä¹‰çš„ç»„ä»¶å¯ä»¥åœ¨å®ƒä»¬çš„åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘ã€‚ç»§æ‰¿çš„å±‚æ¬¡ä¸€èˆ¬ä¸è¶…è¿‡ 2 å±‚ï¼Œæ¯”å¦‚ UITableViewController &amp;lt;- FBTableViewController &amp;lt;- FBFriendsNearbyTableViewController&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yi-lai-zhu-ru&quot;&gt;ä¾èµ–æ³¨å…¥&lt;&#x2F;h3&gt;
&lt;p&gt;å‰é¢è®²è¿‡ï¼Œç»„åˆå¾€å¾€å’Œä¾èµ–æ³¨å…¥æ­é…ä½¿ç”¨ï¼ŒFacebook ä¸»è¦æ˜¯é€šè¿‡ FBProvider, FBProviderMapData, FBProviderMap æ¥å®ç°ä¾èµ–æ³¨å…¥çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Provider ä¼šäº§ç”Ÿä¸€ä¸ª Objectï¼Œæ¯”å¦‚ CameraControllerProvider è°ƒç”¨ get æ–¹æ³•åï¼Œä¼šç”Ÿæˆä¸€ä¸ª MNCameraController çš„å®ä¾‹ã€‚åŒæ—¶ Provider è¿˜æœ‰ä¸¤ä¸ªå­ç±» SingletonProvider å’Œ BlockProviderï¼Œå‰è€…ç”¨æ¥ç”Ÿæˆä¸€ä¸ªå•ä¾‹ï¼Œåè€…ç”¨åœ¨éœ€è¦åˆå§‹åŒ–å‚æ•°çš„æƒ…æ™¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ProviderMap è·Ÿ ProviderMapData æœ‰äº›é‡å¤ï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»æˆ‘ä¹Ÿæ²¡æœ‰æ‹æ¸…ï¼Œæ„Ÿè§‰ ProviderMap åƒæ˜¯ä¸€ä¸ª Managerï¼Œæ³¨å†Œäº†ä¸€å † Providerï¼Œç„¶åå¯ä»¥é€šè¿‡ Provider çš„ ID æ¥æ‰¾åˆ°ä¹‹å‰æ³¨å†Œçš„ Providerã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mo-kuai-hua&quot;&gt;æ¨¡å—åŒ–&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸å…‰æ˜¯åœ¨ Cocoa å¼€å‘é¢†åŸŸï¼Œå…¶ä»–çš„ç¼–ç¨‹é¢†åŸŸä¹Ÿä¸€æ ·ï¼Œæ¨¡å—åŒ–æ˜¯ä¸€ä¸ªç†æƒ³çš„çŠ¶æ€ï¼Œé«˜å†…èšï¼Œä½è€¦åˆã€‚åƒ shell å‘½ä»¤ä¸€æ ·ï¼Œæ¥å—å‚æ•°æˆ–æ ‡å‡†è¾“å…¥ï¼Œç”Ÿæˆæ ¼å¼åŒ–çš„æ ‡å‡†è¾“å‡ºï¼Œé€šè¿‡ç®¡é“ä¼ é€’ç»™å…¶ä»–æ”¯æŒæ ‡å‡†è¾“å…¥çš„å‘½ä»¤è¡Œå·¥å…·ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†ç°å®åœºæ™¯è¦å¤æ‚çš„å¤šï¼Œæ¨¡å—åŒ–çš„å®ç°ä¹Ÿæ›´åŠ å›°éš¾ã€‚Facebook æœ‰ä¸€ä¸ª FBAppModule åè®®&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol &lt;&#x2F;span&gt;&lt;span&gt;FBAppModule &amp;lt;NSObject&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;FBAppModule&amp;gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;instanceForSession:&lt;&#x2F;span&gt;&lt;span&gt;(FBSession &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;providerMap:&lt;&#x2F;span&gt;&lt;span&gt;(FBProviderMap &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;supportedURLSchemes;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;supportedKeys;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;retain&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;FBMenuItem&amp;gt; activeMenuItem;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;defaultIcon;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;ID;
&lt;&#x2F;span&gt;&lt;span&gt;- (UIViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;viewControllerForMenuItem:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;FBMenuItem&amp;gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åˆå§‹åŒ–æ—¶ä¼ å…¥ä¸€ä¸ª FBSession (åé¢ä¼šè®²åˆ°) å’Œ ProviderMapï¼Œç„¶åè®¾ç½®æ”¯æŒçš„ url schemesï¼Œkeys(å…·ä½“ä½œç”¨æœªçŸ¥)ï¼Œå¯¹åº”çš„ menuItemï¼Œicon(ç”¨äºåœ¨ menuItem æ˜¾ç¤º) å’Œ ID&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰äº† Module ï¼Œè‡ªç„¶è¿˜æœ‰ ModuleManagerï¼Œå®ƒçš„ä½œç”¨æ˜¯æ³¨å†Œ Moduleï¼Œå½“ä¸€ä¸ª url è¿‡æ¥æ—¶ï¼Œå¯ä»¥éå† Moduleï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯æœ‰æ¨¡å—å¯ä»¥å¤„ç†è¿™ä¸ª urlï¼Œæœ‰çš„è¯ï¼Œå°±è°ƒç”¨è¯¥ Module çš„ openURL: æ–¹æ³•ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ® ModuleID æ¥è·å– Moduleã€‚&lt;&#x2F;p&gt;
&lt;p&gt;FBAppModule æ˜¯ä¸€ä¸ª Protocolï¼ŒFBNativeAppModule æ˜¯å¯¹è¯¥åè®®çš„å®ç°ï¼Œæ‰€ä»¥å…·ä½“çš„æ¨¡å—éƒ½ç»§æ‰¿è¯¥ç±»ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;dao-hang-guan-li&quot;&gt;å¯¼èˆªç®¡ç†&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ç³»ç»Ÿçš„ UINavigationController å·²ç»å¤Ÿä½¿ç”¨äº†ï¼Œå¦‚æœéœ€è¦æ›´å¤§çš„è‡ªç”±åº¦å’Œæ›´é«˜çš„å¯å®šåˆ¶æ€§ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªå¯¼èˆªç®¡ç†å™¨ï¼ŒFacebook ä½¿ç”¨äº† FBUINavigationController (Protocol) æ¥å®ç°è‡ªå®šä¹‰å¯¼èˆªçš„ç®¡ç†ï¼Œå±æ€§å’Œæ–¹æ³•è·Ÿç³»ç»Ÿçš„å·®ä¸å¤šã€‚ å®ƒæœ‰å¤šä¸ªå®ç°ï¼šFBTariffedNavigationController, FBSwipeNavigationController, FBCustomNavigationController, FBNavigationControllerã€‚å‰é¢è®²è¿‡ç»§æ‰¿ä¸€èˆ¬ä¸è¶…è¿‡ 2 å±‚ï¼Œè¿™é‡Œæ˜¯ä¸€èˆ¬ä¹‹å¤–çš„æƒ…å†µï¼Œæœ‰ 3 å±‚ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mvvm&quot;&gt;MVVM&lt;&#x2F;h3&gt;
&lt;p&gt;MVVM æ˜¯è§£å†³ Massive View Controller çš„ä¸€ä¸ªæœ‰æ•ˆæ–¹æ³•ï¼Œç‹¬ç«‹å‡ºä¸€ä¸ª ViewModel ä½œä¸º View çš„æ•°æ®æºï¼Œä»¥åŠå¤„ç† View çš„ä¸€äº›äº¤äº’æ“ä½œï¼Œè€Œ VC åªéœ€è¦å°† ViewModel å’Œ View å…³è”èµ·æ¥å³å¯ã€‚ä¸€èˆ¬ä¼šæ­é…æŸç§ç»‘å®šçš„å®ç°ï¼ŒKVO æˆ– ReactiveCocoa éƒ½å¯ä»¥ï¼Œè¿™æ · ViewModel çš„æ•°æ®æœ‰å˜åŒ–å°±å¯ä»¥è‡ªåŠ¨æ˜ å°„åˆ° View ä¸Šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Facebook ä¹Ÿé‡‡ç”¨äº†è¿™ç§æ–¹å¼ï¼Œæœ‰ä¸€ä¸ª FBViewModel åŸºç±»&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;FBViewModel : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; çœç•¥äº†ä¸€äº›ç›¸å…³æ€§ä¸å¤§çš„å±æ€§å’Œæ–¹æ³•
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt; __weak FBViewModelManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;viewModelManager; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize viewModelManager=_viewModelManager;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unsigned int&lt;&#x2F;span&gt;&lt;span&gt; viewModelSource; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize viewModelSource=_viewModelSource;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;retain&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) FBViewModelConfiguration &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;viewModelConfiguration; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize viewModelConfiguration=_viewModelConfiguration;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unsigned int&lt;&#x2F;span&gt;&lt;span&gt; viewModelVersion; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize viewModelVersion=_viewModelVersion;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;viewModelUUID; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize viewModelUUID=_viewModelUUID;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;retain&lt;&#x2F;span&gt;&lt;span&gt;) FBMemModelObject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;memModel; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize memModel=_memModel;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setNilValueForKey:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;initWithViewModelUUID:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;viewModelVersion:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unsigned int&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setViewModelVersion:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unsigned int&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;humanDescription&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;loadPermanentDataModelObjectIDFromDataModelObjectID:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;block:&lt;&#x2F;span&gt;&lt;span&gt;(CDUnknownBlockType)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;didUpdateWithChangedProperties:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt; __weak FBViewModelController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;modelController;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; loadState;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Facebook è‡ªå·±å®ç°äº†ä¸€å¥— ViewModel çš„æ›´æ–°é€šçŸ¥æœºåˆ¶ï¼Œå› ä¸º ViewModel éƒ½æ˜¯ Immutable çš„ï¼Œæ‰€ä»¥æ— æ³•æ”¹å˜ï¼Œé‚£ä¹ˆå°±éœ€è¦æœ‰ä¸€ä¸ªåœ°æ–¹å»é›†ä¸­ç®¡ç†è¿™äº› ViewModelï¼Œæœ‰æ›´æ–°æ—¶å¯ä»¥åŠæ—¶é€šçŸ¥åˆ°ï¼Œ FBViewModelController åº”è¯¥å°±æ˜¯å¹²è¿™äº‹çš„ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ–¹æ³• &lt;code&gt;- (void)_notifyViewModel:(id)arg1 didUpdateWithChanges:(id)arg2;&lt;&#x2F;code&gt; ã€‚ä½† FBViewModelManager çœ‹èµ·æ¥æ›´åˆé€‚ï¼ŒäºŒè€…çš„åŠŸèƒ½æ²¡æœ‰å¤ªç†æ¸…æ¥šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;FBViewModelController è¿˜æœ‰ä¸€ä¸ª Delegateï¼Œä¸»è¦æœ‰ 3 ä¸ªæ–¹æ³• &lt;code&gt;didUpdate[Delegate][Insert]ViewModel:&lt;&#x2F;code&gt;ï¼Œå¯ä»¥åšä¸€äº›äº‹åçš„æ“ä½œã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;builder-pattern&quot;&gt;Builder Pattern&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨å®šä¹‰ä¸€ä¸ª ViewController æ—¶ï¼Œå¾€å¾€éœ€è¦æ¥æ”¶å¾ˆå¤šä¸ªå‚æ•°ï¼Œä»¥ &lt;code&gt;initWith:&lt;&#x2F;code&gt; è¿™ç§å½¢å¼å‡ºç°ä¸å¤ªåˆé€‚ï¼Œé™¤éä½ èƒ½å®¹å¿ä¸€ä¸ª 10 è¡Œçš„æ–¹æ³•å£°æ˜ã€‚é€šå¸¸çš„åšæ³•æ˜¯æŠŠè¿™äº›å‚æ•°å£°æ˜ä¸º propertyï¼Œç„¶ååœ¨åˆå§‹åŒ– VC åï¼Œå¯¹è¿™äº› property èµ‹å€¼ï¼Œç„¶ååœ¨ ViewDidLoad é‡Œä½¿ç”¨è¿™äº› propertyã€‚è¿™æ ·åšæœ‰å‡ ä¸ªé—®é¢˜ï¼š1) ä¸çŸ¥é“å“ªäº›æ˜¯éœ€è¦åœ¨ ViewDidLoad å‰è®¾ç½®çš„ï¼Œä¼šå‡ºç°å¿˜äº†è®¾ç½®çš„ç°è±¡ã€‚2) è¿™äº›å±æ€§å¯ä»¥åœ¨å¤–éƒ¨è¢«æ”¹åŠ¨ã€‚ 3) ä»£ç ä¸å¤Ÿä¼˜é›…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Builder Pattern å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œå®ƒè·Ÿå·¥å‚æ¨¡å¼æœ‰ç‚¹åƒã€‚Facebook ä¹Ÿç”¨åˆ°äº†è¿™ä¸ªæ¨¡å¼ï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ª FBMUserFetchStatus ç±»ï¼Œè¯¥ç±»åˆå§‹åŒ–æ—¶éœ€è¦ä¸€äº›å‚æ•°ï¼Œäºæ˜¯å°±æœ‰äº† FBMUserFetchStatusBuilder ç±»&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;FBMUserFetchStatusBuilder : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aMUserFetchStatusFromExistingMUserFetchStatus:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;aMUserFetchStatus&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withIdentifiers:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withImageUrls:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withHasVerifiedPhone:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withCanInstallMessenger:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withHasMessenger:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withIsFriend:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withNickname:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withPhoneticName:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withName:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withUserId:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;build&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æœ€åçš„ build æ–¹æ³•ä¼šç”Ÿæˆä¸€ä¸ª FBMUserFetchStatus å®ä¾‹ï¼Œæœ‰äº†è¿™ä¸ª Builder å°±çŸ¥é“æœ‰å“ªäº›å‚æ•°æ˜¯å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è¿›è¡Œè®¾ç½®çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;data-manager&quot;&gt;Data Manager&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯é‡å¤´æˆï¼Œæ‰€ä»¥çœ‹èµ·æ¥ç•¥ç´¯ï¼Œä¸œè¥¿å¾ˆå¤šï¼Œå¾ˆå¯èƒ½æ¨æ–­é”™è¯¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆæ¥çœ‹çœ‹å®ä½“ç±»ï¼Œé¦–å…ˆæ˜¯ FBEntityRequest&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol &lt;&#x2F;span&gt;&lt;span&gt;FBEntityRequestParse
&lt;&#x2F;span&gt;&lt;span&gt;@optional
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;canParse:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;retain&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;syncError;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;getter&lt;&#x2F;span&gt;&lt;span&gt;=isSyncing) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt; syncing;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unsigned int&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parse:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;request:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;FBRequest&amp;gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg3&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;FBRequest&amp;gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;request&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ‰€ä»¥å®ä½“éƒ½æ˜¯å¯ä»¥è¢«è§£æå’ŒåŒæ­¥çš„ï¼Œè¿˜è‡ªå¸¦äº†ä¸€ä¸ª Requestã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ FBEntity&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol &lt;&#x2F;span&gt;&lt;span&gt;FBEntity &amp;lt;FBEntityRequestParse, NSObject&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSURL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;entityURLForFBID:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSURL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;entityURL;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;getter&lt;&#x2F;span&gt;&lt;span&gt;=isDataStale) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt; dataStale;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;retain&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDate &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;lastSyncTime;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;retain&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;fbid;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@optional
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unsigned int&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;collection:&lt;&#x2F;span&gt;&lt;span&gt;(FBEntityCollection &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parse:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;request:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;FBRequest&amp;gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg4&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;FBRequest&amp;gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;collectionRequest:&lt;&#x2F;span&gt;&lt;span&gt;(FBEntityCollection &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) FBEntityDownloader &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;entityDownloader;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSSet &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parentEdges&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSSet &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parentCollections&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;entityInitializeWithFBID:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¯ä¸ª Entity éƒ½æœ‰ä¸€ä¸ª entityURLï¼Œæˆ–è®¸å¯ä»¥ç”¨æ¥åŒæ­¥ï¼Ÿ dataStale åº”è¯¥æ˜¯ç”¨æ¥è¡¨ç¤ºæ•°æ®æ˜¯å¦ dirtyï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå¯èƒ½éœ€è¦åŒæ­¥ã€‚ è¿˜å¯ä»¥è¯·æ±‚ Collectionã€‚&lt;&#x2F;p&gt;
&lt;p&gt;FBEntityCollection è·Ÿ FBEntity ç±»ä¼¼ï¼Œä¸è¿‡å¤šäº† syncAll &#x2F; memberClass &#x2F; allObjects è¿™äº›å±æ€§&#x2F;æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹æ•°æ®è¯·æ±‚ï¼Œé¦–å…ˆæ˜¯ FBRequestï¼Œä¸å¤ªæ˜ç™½è¿™ä¸ª Class çš„å…·ä½“åŠŸèƒ½ï¼Œå› ä¸ºæ²¡æœ‰ URLï¼Œä¸€ä¸ªæ²¡æœ‰ URL çš„ Request èƒ½åšä»€ä¹ˆï¼Ÿ ç„¶åçœ‹åˆ°äº† FBRequesterï¼Œè¿™ä¸ªçœ‹èµ·æ¥æ˜¯ä¸€ä¸ªæ•°æ®è¯·æ±‚ç±»ï¼Œæœ‰ URL, responseHandler, connection çŠ¶æ€, delegate ç­‰ã€‚ä½†è¿™åªæ˜¯å•ä¸ªçš„è¯·æ±‚ï¼Œå¦‚ä½•å¯¹å¤šä¸ªè¯·æ±‚è¿›è¡Œç®¡ç†å‘¢ï¼Œè¿™æ—¶çœ‹åˆ°äº† FBNetworkerï¼Œå®ƒæœ‰ +sharedNetworker, requestQueue, cancelRequests:, addRequest: æ‰€ä»¥å°±æ˜¯å®ƒäº†ã€‚ç­‰ç­‰ï¼Œä¸ºä»€ä¹ˆä¸‹é¢è¿˜æœ‰ä¸€ä¸ª FBNetworkerRequest ï¼Ÿçœ‹èµ·æ¥åƒæ˜¯ FBNetworker çš„ Delegateï¼Œä½†ä¸ç¡®å®šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºäº†é¿å… URI æ•£è½åœ¨å„å¤„ï¼ŒFacebook è¿˜ä¸“é—¨ä¸º NSURL å†™äº†ä¸ª Category æ¥ç»Ÿä¸€ç®¡ç† URIã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;NSURL (FBFoundation)
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;friendsNearbyURL&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;codeGeneratorURL&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;tagApprovalURLWithTagId:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;tagApprovalURL&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pokesURL&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;personExpandedAboutURLWithFBID:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ª URL ç”Ÿæˆç±»ï¼ŒFBURLRequestGeneratorï¼Œè¯¥ç±»ä¿å­˜äº† appSecret å’Œ appVersionï¼Œç”Ÿæˆçš„ URL ä¼šè‡ªåŠ¨å¸¦ä¸Šè¿™äº›å±æ€§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…¶å®è¿˜æœ‰å¾ˆå¤šï¼Œå®åœ¨çœ‹ä¸ä¸‹æ¥äº†Â·Â·Â·&lt;&#x2F;p&gt;
&lt;h3 id=&quot;smarter-views&quot;&gt;Smarter Views&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ ViewController è‡ªå¸¦äº†ä¸€ä¸ª viewï¼Œå¯ä»¥ç›´æ¥åœ¨è¿™ä¸ª view ä¸Š addSubviewï¼Œæ­£æ˜¯ç”±äºè¿™ä¸ªä¾¿åˆ©æ€§ï¼Œå¾ˆå¤šåˆ›å»º View çš„ä»£ç ä¹ŸæŒ¤åœ¨äº† VC é‡Œï¼Œå®åœ¨æ˜¯ä¸é›…è§‚ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ›´å¥½çš„æ–¹æ³•æ˜¯æ›¿æ¢ VC çš„ view ä¸ºè‡ªå®šä¹‰çš„ Viewï¼Œç„¶åæŠŠè¿™ä¸ªè‡ªå®šä¹‰ View ç‹¬ç«‹å‡ºå»ã€‚æ¯”å¦‚åœ¨ &lt;code&gt;-loadView&lt;&#x2F;code&gt; æ—¶è¦†ç›– view&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;MyProfileViewController
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;loadView &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;view &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[MyProfileView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;new&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥åŒæ—¶é‡å®šä¹‰ view çš„ç±»å‹ï¼Œå¦‚ &lt;code&gt;@property (nonatomic) MyProfileView *view&lt;&#x2F;code&gt;ï¼Œè®©ç¼–è¯‘å™¨æ˜ç™½ view çš„ç±»å‹å·²ç»å˜äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å› ä¸ºçœ‹åˆ°äº†ä¸å°‘ VC ä¸­éƒ½æœ‰ &lt;code&gt;-loadView&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œæ‰€ä»¥æ¨æ–­å¯èƒ½ä½¿ç”¨äº†è¿™é¡¹æŠ€æœ¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fbsession&quot;&gt;FBSession&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨ Web å¼€å‘é¢†åŸŸï¼ŒSession æ˜¯ç”¨æ¥ä¿å­˜ç”¨æˆ·ç›¸å…³çš„ä¿¡æ¯çš„ï¼ŒFBSession è‡ªç„¶ä¹Ÿä¸ä¾‹å¤–ï¼Œä¸è¿‡å®ƒä¿å­˜çš„å†…å®¹è¿˜çœŸæ˜¯å¤šå‘¢ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;FBSession : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;FBInvalidating&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setCurrentSession:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_globalSessionForDebugging&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;DO_NOT_USE_OR_YOU_WILL_BE_FIREDcurrentSession&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;) FBAPISessionStore &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;apiSessionStore; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize apiSessionStore=_apiSessionStore;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;) FBSessionDiskStore &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;sessionDiskStore; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize sessionDiskStore=_sessionDiskStore;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;) FBStore &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;store; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize store=_store;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;appSecret; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; @synthesize appSecret=_appSecret;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;getter&lt;&#x2F;span&gt;&lt;span&gt;=isValid) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt; valid;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt; hasUser;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;userFBID;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;retain&lt;&#x2F;span&gt;&lt;span&gt;) FBViewerContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;viewerContext;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;retain&lt;&#x2F;span&gt;&lt;span&gt;) FBUserPreferences &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;userPreferences;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;retain&lt;&#x2F;span&gt;&lt;span&gt;) FBPreferences &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;sessionPreferences;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;updateAccessToken:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;updateActingViewer:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;clearPreferences&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;invalidate&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;DO_NOT_USE_OR_YOU_WILL_BE_FIREDvalueForKeyRequiresUser:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withInitializer:&lt;&#x2F;span&gt;&lt;span&gt;(CDUnknownBlockType)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;valueForKey:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withInitializer:&lt;&#x2F;span&gt;&lt;span&gt;(CDUnknownBlockType)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;valueForKey:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;initWithAppSecret:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;store:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;apiSessionStore:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg3&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) FBReactionController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;reactionController;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) FBLocationPingback &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;locationPingback;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) FBAppSectionManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;appSectionManager;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;readonly&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) FBBookmarkManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;bookmarkManager;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; and many more...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Session æ˜¯å¯ä»¥ä¿å­˜åˆ°æœ¬åœ°çš„ï¼Œæœ‰ä¸€ä¸ªçŠ¶æ€å˜é‡ç”¨æ¥æ ‡è¯†æ˜¯å¦æœ‰æ•ˆ(valid)ï¼Œæ˜¯å¦å·²ç™»å½•(hasUser)ï¼Œç”¨æˆ·çš„ä¸€äº›è®¾ç½®(è¿™äº›è®¾ç½®ä¼šä¿å­˜åˆ°æœ¬åœ°)ï¼Œå¯ä»¥æ›´æ–° AccessTokenï¼Œè¿˜å¸¦äº†å„ç§ Controller å’Œ Managerï¼Œæ‰€ä»¥ä¸œè¥¿è¿˜æ˜¯æŒºå¤šçš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸¤ä¸ªç‰¹æ®Šæ–¹æ³•ï¼Œä½¿ç”¨åä¼šè¢« FireÂ·Â·Â·&lt;&#x2F;p&gt;
&lt;h3 id=&quot;services&quot;&gt;Services&lt;&#x2F;h3&gt;
&lt;p&gt;Service é¡¾åæ€ä¹‰ï¼Œæä¾›æŸç§æœåŠ¡ï¼Œå¾€å¾€è·Ÿç•Œé¢æ— å…³ã€‚ä»ç›®å½•å±‚çº§ä¸Šçœ‹ï¼ŒService å¹¶ä¸åœ¨ Module é‡Œé¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äºŒè€…æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯”å¦‚ FBTimelineModule å¹¶ä¸åŒ…å« FBTimelineServiceã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Service ä¹‹é—´å¯ä»¥æœ‰ä¾èµ–ï¼Œè¿™é‡Œæ˜¯é€šè¿‡ &lt;code&gt;startAppServiceWithDependencies:&lt;&#x2F;code&gt; æ¥å®ç°çš„ï¼Œä¸è¿‡ä¸æ¸…æ¥š Service è‡ªèº«å¦‚ä½•å£°æ˜ä¾èµ–å“ªäº›å…¶ä»–çš„ Servicesã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;style&quot;&gt;Style&lt;&#x2F;h3&gt;
&lt;p&gt;App çš„ Style æ˜¯ä¸€ä¸ªå®¹æ˜“è¢«å¿½è§†çš„åœ°æ–¹ï¼Œå¼€å‘å¾€å¾€çœ‹ç€è®¾è®¡å›¾å°±å¼€å§‹å†™äº†ï¼Œè¿™æ ·å¾ˆå®¹æ˜“é€ æˆæ ·å¼ä¸ç»Ÿä¸€ï¼Œä¸”å°†æ¥è°ƒæ•´èµ·æ¥ä¹Ÿä¸æ–¹ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Facebook æ˜¯é€šè¿‡ Category æ¥è‡ªå®šä¹‰æ ·å¼çš„ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;UIButton (FBMediaKit)
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fb_buttonTypeSystemWithTitle:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fb_buttonWithNormalImage:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;highlightedImage:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;selectedImage:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg3&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fb_buttonWithTemplateImage:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fb_buttonWithStyle:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;title:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;UIButton (FBUIKit)
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fb_moreOptionsNavBarButton&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fb_backArrowButtonWithText&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fb_backArrowButtonWithRightPadding:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;arg1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fb_backArrowButton&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;UIButton (MNLoginFormAppearanceHelpers)
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;phoneFormHeaderButton&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;singleSignOnButton&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;skipButton&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;formFieldButtonInvertedColors&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·ä¹Ÿä¸ç”¨å…³å¿ƒ fontColorï¼Œmarginï¼ŒbackgroundColor ç­‰ï¼Œç›´æ¥æ‹¿æ¥ç”¨å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-ta&quot;&gt;å…¶ä»–&lt;&#x2F;h3&gt;
&lt;p&gt;ä»ç›®å½•ç»“æ„ä¸Šæ¥çœ‹ï¼ŒFacebook æœ‰ FBUIKit, FBFoundation, FBAppKit, Moduleã€‚å…¶ä¸­ FBUIKit å’Œ FBFoundation æ˜¯ä¸šåŠ¡æ— å…³çš„ï¼Œå¯ä»¥ç”¨åœ¨å…¶ä»– App ä¸Šï¼ŒFBAppKit å’Œ Module æ˜¯ä¸šåŠ¡ç›¸å…³çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Module è‡ªå¸¦èµ„æºï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ª mini appã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨äº† EGODatabase, SDWebImage, SSZipArchive, CocoaLumberjack è¿™å‡ ä¸ªå¼€æºç±»åº“ï¼ˆå¯èƒ½è¿˜æœ‰æ›´å¤šï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ—¶é—´å’Œèƒ½åŠ›æœ‰é™ï¼Œåªèƒ½æŒ–æ˜å‡ºè¿™äº›ä¿¡æ¯ï¼Œå¸Œæœ›èƒ½å¸¦æ¥äº›å¸®åŠ©ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ReactiveCocoa2å®æˆ˜</title>
            <pubDate>Fri, 06 Jun 2014 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/deep-into-reactivecocoa2/</link>
            <guid>https://limboy.me/posts/deep-into-reactivecocoa2/</guid>
            <description>&lt;p&gt;ä¹‹å‰å·²ç»å†™è¿‡ä¸¤ç¯‡å…³äº ReactiveCocoa(ä»¥ä¸‹ç®€ç§° RAC)çš„æ–‡ç« äº†ï¼Œä½†ä¸»è¦ä¹Ÿæ˜¯åœ¨é˜è¿°åŸºæœ¬çš„æ¦‚å¿µå’Œä½¿ç”¨ï¼Œè¿™ç¯‡æ–‡ç« å°†ä¼šä»å®æˆ˜çš„è§’åº¦æ¥çœ‹çœ‹ RAC åˆ°åº•è§£å†³äº†å“ªäº›é—®é¢˜ï¼Œå¸¦æ¥äº†å“ªäº›æ–¹ä¾¿ï¼Œä»¥åŠé‡åˆ°çš„ä¸€äº›å‘ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;gai-shu&quot;&gt;æ¦‚è¿°&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;wei-shi-yao-yao-shi-yong-rac&quot;&gt;ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ RACï¼Ÿ&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸€ä¸ªæ€ªæ€ªçš„ä¸œè¥¿ï¼Œä» Demo çœ‹ä¹Ÿæ²¡æœ‰è®©ä»£ç å˜å¾—æ›´å¥½ã€æ›´çŸ­ï¼Œç›¸åè¿˜é€ æˆç†è§£ä¸Šçš„å›°éš¾ï¼ŒçœŸçš„æœ‰å¿…è¦å»å­¦å®ƒä¹ˆï¼Ÿç›¸ä¿¡è¿™æ˜¯å¤§å¤šæ•°äººåœ¨æ¥è§¦ RAC æ—¶çš„æƒ³æ³•ã€‚RAC ä¸æ˜¯å•ä¸€åŠŸèƒ½çš„æ¨¡å—ï¼Œå®ƒæ˜¯ä¸€ä¸ª Frameworkï¼Œæä¾›äº†ä¸€æ•´å¥—è§£å†³æ–¹æ¡ˆã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ã€Œå“åº”æ•°æ®çš„å˜åŒ–ã€ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šæœ‰äº† Signal çš„æ¦‚å¿µï¼Œè¿›è€Œå¯ä»¥å¸®åŠ©å‡å°‘çŠ¶æ€å˜é‡(å¯ä»¥å‚è€ƒ jspahrsummers çš„&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;jspahrsummers&#x2F;enemy-of-the-state&quot;&gt;PPT&lt;&#x2F;a&gt;)ï¼Œä½¿ç”¨ MVVM æ¶æ„ï¼Œç»Ÿä¸€çš„å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆ RAC æ›´åŠ é€‚åˆç¼–å†™ Cocoa Appï¼Ÿè¯´è¿™ä¸ªä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ Web å‰ç«¯ç¼–ç¨‹ï¼Œå› ä¸ºæœ‰äº›ç›¸ä¼¼ä¹‹å¤„ã€‚ç›®å‰å¾ˆç«çš„ AngularJS æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§ï¼šæ•°æ®ä¸è§†å›¾ç»‘å®šã€‚å°±æ˜¯å½“æ•°æ®å˜åŒ–æ—¶ï¼Œè§†å›¾ä¸éœ€è¦é¢å¤–çš„å¤„ç†ï¼Œä¾¿å¯æ­£ç¡®åœ°å‘ˆç°æœ€æ–°çš„æ•°æ®ã€‚è€Œè¿™ä¹Ÿæ˜¯ RAC çš„äº®ç‚¹ä¹‹ä¸€ã€‚RAC ä¸ Cocoa çš„ç¼–ç¨‹æ¨¡å¼ï¼Œæœ‰ç‚¹åƒ AngularJS å’Œ jQueryã€‚æ‰€ä»¥è¦äº†è§£ RACï¼Œéœ€è¦å…ˆåœ¨è§‚å¿µä¸Šåšè°ƒæ•´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»¥ä¸‹é¢è¿™ä¸ª Cell ä¸ºä¾‹&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;deep-into-reactivecocoa2&amp;#x2F;rac-demo.png&quot;
        width=&quot;321&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ­£å¸¸çš„å†™æ³•å¯èƒ½æ˜¯è¿™æ ·ï¼Œå¾ˆç›´è§‚ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)configureWithItem&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(HBItem &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)item
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; item.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;text&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;avatarImageView&lt;&#x2F;span&gt;&lt;span&gt; setImageWithURL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; item.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;avatarURL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å…¶ä»–çš„ä¸€äº›è®¾ç½®
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½†å¦‚æœç”¨ RACï¼Œå¯èƒ½å°±æ˜¯è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)init
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;		@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;weakify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACObserve&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, viewModel)&lt;&#x2F;span&gt;&lt;span&gt; subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(HBItemViewModel &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;viewModel) {
&lt;&#x2F;span&gt;&lt;span&gt;			@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;strongify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; viewModel.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;item&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;text&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;			[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;avatarImageView&lt;&#x2F;span&gt;&lt;span&gt; setImageWithURL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; viewModel.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;item&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;avatarURL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å…¶ä»–çš„ä¸€äº›è®¾ç½®
&lt;&#x2F;span&gt;&lt;span&gt;		}];
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯å…ˆæŠŠæ•°æ®ç»‘å®šï¼Œæ¥ä¸‹æ¥åªè¦æ•°æ®æœ‰å˜åŒ–ï¼Œå°±ä¼šè‡ªåŠ¨å“åº”å˜åŒ–ã€‚åœ¨è¿™é‡Œï¼Œæ¯æ¬¡ viewModel æ”¹å˜æ—¶ï¼Œå†…å®¹å°±ä¼šè‡ªåŠ¨å˜æˆè¯¥ viewModel çš„å†…å®¹ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;signal&quot;&gt;Signal&lt;&#x2F;h4&gt;
&lt;p&gt;Signal æ˜¯ RAC çš„æ ¸å¿ƒï¼Œä¸ºäº†å¸®åŠ©ç†è§£ï¼Œç”»äº†è¿™å¼ ç®€åŒ–å›¾&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;deep-into-reactivecocoa2&amp;#x2F;rac-signal.png&quot;
        width=&quot;743&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œçš„æ•°æ®æºå’Œ sendXXXï¼Œå¯ä»¥ç†è§£ä¸ºå‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ã€‚å½“ Signal å¤„ç†å®Œæ•°æ®åï¼Œå¯ä»¥å‘ä¸‹ä¸€ä¸ª Signal æˆ– Subscriber ä¼ é€æ•°æ®ã€‚å¯ä»¥çœ‹åˆ°ä¸ŠåŠéƒ¨åˆ†çš„ä¸¤ä¸ª Signal æ˜¯å†·çš„(cold)ï¼Œç›¸å½“äºå®ç°äº†æŸä¸ªå‡½æ•°ï¼Œä½†è¯¥å‡½æ•°æ²¡æœ‰è¢«è°ƒç”¨ã€‚åŒæ—¶ä¹Ÿè¯´æ˜äº† Signal å¯ä»¥è¢«ç»„åˆä½¿ç”¨ï¼Œæ¯”å¦‚&lt;code&gt;RACSignal *signalB = [signalA map:^id(id x){return x}]&lt;&#x2F;code&gt;ï¼Œæˆ–&lt;code&gt;RACSignal *signalB = [signalA take:1]&lt;&#x2F;code&gt;ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ signal è¢« subscribe æ—¶ï¼Œå°±ä¼šå¤„äºçƒ­(hot)çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯¥å‡½æ•°ä¼šè¢«æ‰§è¡Œã€‚æ¯”å¦‚ä¸Šé¢çš„ç¬¬äºŒå¼ å›¾ï¼Œé¦–å…ˆ signalA å¯èƒ½å‘äº†ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œæ‹¿åˆ°ç»“æœåï¼ŒæŠŠæ•°æ®é€šè¿‡&lt;code&gt;sendNext&lt;&#x2F;code&gt;æ–¹æ³•ä¼ é€’åˆ°ä¸‹ä¸€ä¸ª signalï¼ŒsignalB å¯ä»¥æ ¹æ®éœ€è¦åšè¿›ä¸€æ­¥å¤„ç†ï¼Œæ¯”å¦‚è½¬æ¢æˆç›¸åº”çš„ Modelï¼Œè½¬æ¢å®Œåå†&lt;code&gt;sendNext&lt;&#x2F;code&gt;åˆ° subscriberï¼Œsubscriber æ‹¿åˆ°æ•°æ®åï¼Œå†æ”¹å˜ ViewModelï¼ŒåŒæ—¶å› ä¸º View å·²ç»ç»‘å®šäº† ViewModelï¼Œæ‰€ä»¥æ‹¿åˆ°çš„æ•°æ®ä¼šè‡ªåŠ¨åœ¨ View é‡Œå‘ˆç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿˜æœ‰ï¼Œä¸€ä¸ª signal å¯ä»¥è¢«å¤šä¸ª subscriber è®¢é˜…ï¼Œè¿™é‡Œæ€•æ˜¾å¾—å¤ªä¹±å°±æ²¡æœ‰ç”»å‡ºæ¥ï¼Œä½†æ¯æ¬¡è¢«æ–°çš„ subscriber è®¢é˜…æ—¶ï¼Œéƒ½ä¼šå¯¼è‡´æ•°æ®æºçš„å¤„ç†é€»è¾‘è¢«è§¦å‘ä¸€æ¬¡ï¼Œè¿™å¾ˆæœ‰å¯èƒ½å¯¼è‡´æ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“æ•°æ®ä» signal ä¼ é€åˆ° subscriber æ—¶ï¼Œè¿˜å¯ä»¥é€šè¿‡&lt;code&gt;doXXX&lt;&#x2F;code&gt;æ¥åšç‚¹äº‹æƒ…ï¼Œæ¯”å¦‚æ‰“å°æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é€šè¿‡è¿™å¼ å›¾å¯ä»¥çœ‹åˆ°ï¼Œè¿™éå¸¸åƒä¸­å­¦æ—¶å­¦çš„å‡½æ•°ï¼Œæ¯”å¦‚ &lt;code&gt;f(x) = y&lt;&#x2F;code&gt;ï¼ŒæŸä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºåˆå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ï¼Œæ¯”å¦‚ &lt;code&gt;f(f(x)) = z&lt;&#x2F;code&gt;ï¼Œè¿™ä¹Ÿæ­£æ˜¯ã€Œå‡½æ•°å“åº”å¼ç¼–ç¨‹ã€(FRP)çš„æ ¸å¿ƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰äº›åœ°æ–¹éœ€è¦æ³¨æ„ä¸‹ï¼Œæ¯”å¦‚æŠŠ signal ä½œä¸º local å˜é‡æ—¶ï¼Œå¦‚æœæ²¡æœ‰è¢« subscribeï¼Œé‚£ä¹ˆæ–¹æ³•æ‰§è¡Œå®Œåï¼Œè¯¥å˜é‡ä¼šè¢« deallocã€‚ä½†å¦‚æœ signal æœ‰è¢« subscribeï¼Œé‚£ä¹ˆ subscriber ä¼šæŒæœ‰è¯¥ signalï¼Œç›´åˆ° signal sendCompleted æˆ– sendError æ—¶ï¼Œæ‰ä¼šè§£é™¤æŒæœ‰å…³ç³»ï¼Œsignal æ‰ä¼šè¢« deallocã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;raccommand&quot;&gt;RACCommand&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;RACCommand&lt;&#x2F;code&gt;æ˜¯ RAC å¾ˆé‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œå¯ä»¥èŠ‚çœå¾ˆå¤šæ—¶é—´å¹¶ä¸”è®©ä½ çš„ App å˜å¾—æ›´ Robustï¼Œ&lt;a href=&quot;http:&#x2F;&#x2F;codeblog.shape.dk&#x2F;blog&#x2F;2013&#x2F;12&#x2F;05&#x2F;reactivecocoa-essentials-understanding-and-using-raccommand&#x2F;&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;å¯ä»¥å¸®åŠ©ä½ æ›´æ·±å…¥çš„ç†è§£ï¼Œè¿™é‡Œç®€å•åšä¸€ä¸‹ä»‹ç»ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;RACCommand&lt;&#x2F;code&gt; é€šå¸¸ç”¨æ¥è¡¨ç¤ºæŸä¸ª Action çš„æ‰§è¡Œï¼Œæ¯”å¦‚ç‚¹å‡» Buttonã€‚å®ƒæœ‰å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„å±æ€§ï¼šexecutionSignals &#x2F; errors &#x2F; executingã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;executionSignals&lt;&#x2F;code&gt;æ˜¯ signal of signalsï¼Œå¦‚æœç›´æ¥ subscribe çš„è¯ä¼šå¾—åˆ°ä¸€ä¸ª signalï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ valueï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šé…åˆ&lt;code&gt;switchToLatest&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;errors&lt;&#x2F;code&gt;ã€‚è·Ÿæ­£å¸¸çš„ signal ä¸ä¸€æ ·ï¼Œ&lt;code&gt;RACCommand&lt;&#x2F;code&gt;çš„é”™è¯¯ä¸æ˜¯é€šè¿‡&lt;code&gt;sendError&lt;&#x2F;code&gt;æ¥å®ç°çš„ï¼Œè€Œæ˜¯é€šè¿‡&lt;code&gt;errors&lt;&#x2F;code&gt;å±æ€§ä¼ é€’å‡ºæ¥çš„ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;executing&lt;&#x2F;code&gt;è¡¨ç¤ºè¯¥ command å½“å‰æ˜¯å¦æ­£åœ¨æ‰§è¡Œã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å‡è®¾æœ‰è¿™ä¹ˆä¸ªéœ€æ±‚ï¼šå½“å›¾ç‰‡è½½å…¥å®Œåï¼Œåˆ†äº«æŒ‰é’®æ‰å¯ç”¨ã€‚é‚£ä¹ˆå¯ä»¥è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;imageAvailableSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACObserve&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, imageView.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;image&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt; map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;x){&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;?&lt;&#x2F;span&gt;&lt;span&gt; @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;shareButton&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_command &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[RACCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithEnabled&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;imageAvailableSignal signalBlock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;input) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; do share logic
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é™¤äº†ä¸&lt;code&gt;UIControl&lt;&#x2F;code&gt;ç»‘å®šä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ‰§è¡ŒæŸä¸ª commandï¼Œæ¯”å¦‚åŒå‡»å›¾ç‰‡ç‚¹èµï¼Œå°±å¯ä»¥è¿™ä¹ˆå®ç°ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ViewModel.m
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(instancetype)init
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;updatePinLikeStatus)() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= ^&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pin&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;likedCount &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pin&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;hasLiked &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pin&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;likedCount &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pin&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;likedCount &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pin&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;hasLiked &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= !&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pin&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;hasLiked&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        _likeCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[RACCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithSignalBlock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;input) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å…ˆå±•ç¤ºæ•ˆæœï¼Œå†å‘é€è¯·æ±‚
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;updatePinLikeStatus&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[HBAPIManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sharedManager&lt;&#x2F;span&gt;&lt;span&gt;] likePinWithPinID&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pin&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pinID&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        }];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        [_likeCommand.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;errors&lt;&#x2F;span&gt;&lt;span&gt; subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;x) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å‘ç”Ÿé”™è¯¯æ—¶ï¼Œå›æ»š
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;updatePinLikeStatus&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        }];
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ViewController.m
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)viewDidLoad
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;viewDidLoad&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;weakify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACObserve&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, viewModel.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;hasLiked&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt; subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;x){
&lt;&#x2F;span&gt;&lt;span&gt;        @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;strongify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pinLikedCountLabel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;likedCount&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;likePinImageView&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;image &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[UIImage &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;imageNamed:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;hasLiked &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;pin_liked&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;pin_like&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    UITapGestureRecognizer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;tapGesture &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[UITapGestureRecognizer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;    tapGesture.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;numberOfTapsRequired &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    [[tapGesture &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_gestureSignal&lt;&#x2F;span&gt;&lt;span&gt;] subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;x) {
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;likeCommand&lt;&#x2F;span&gt;&lt;span&gt; execute&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å†æ¯”å¦‚æŸä¸ª App è¦é€šè¿‡ Twitter ç™»å½•ï¼ŒåŒæ—¶å…è®¸å–æ¶ˆç™»å½•ï¼Œå°±å¯ä»¥è¿™ä¹ˆåš (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveCocoa&#x2F;issues&#x2F;1326&quot;&gt;source&lt;&#x2F;a&gt;)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;_twitterLoginCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[RACCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithSignalBlock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;_) {
&lt;&#x2F;span&gt;&lt;span&gt;      @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;strongify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self
&lt;&#x2F;span&gt;&lt;span&gt;          twitterSignInSignal]
&lt;&#x2F;span&gt;&lt;span&gt;          takeUntil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cancelCommand&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;executionSignals&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RAC&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;authenticatedUser&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;twitterLoginCommand&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;executionSignals&lt;&#x2F;span&gt;&lt;span&gt; switchToLatest];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;chang-yong-de-mo-shi&quot;&gt;å¸¸ç”¨çš„æ¨¡å¼&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;map-switchtolatest&quot;&gt;map + switchToLatest&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;switchToLatest:&lt;&#x2F;code&gt; çš„ä½œç”¨æ˜¯è‡ªåŠ¨åˆ‡æ¢ signal of signals åˆ°æœ€åä¸€ä¸ªï¼Œæ¯”å¦‚ä¹‹å‰çš„ command.executionSignals å°±å¯ä»¥ä½¿ç”¨&lt;code&gt;switchToLatest:&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;map:&lt;&#x2F;code&gt;çš„ä½œç”¨å¾ˆç®€å•ï¼Œå¯¹&lt;code&gt;sendNext&lt;&#x2F;code&gt;çš„ value åšä¸€ä¸‹å¤„ç†ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å€¼ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæŠŠè¿™ä¸¤ä¸ªç»“åˆèµ·æ¥å°±æœ‰æ„æ€äº†ï¼Œæƒ³è±¡è¿™ä¹ˆä¸ªåœºæ™¯ï¼Œå½“ç”¨æˆ·åœ¨æœç´¢æ¡†è¾“å…¥æ–‡å­—æ—¶ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œè¯·æ±‚è¿”å›ç›¸åº”çš„ hintsï¼Œæ¯å½“æ–‡å­—æœ‰å˜åŠ¨æ—¶ï¼Œéœ€è¦å–æ¶ˆä¸Šä¸€æ¬¡çš„è¯·æ±‚ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªé…æ­ã€‚è¿™é‡Œç”¨å¦ä¸€ä¸ª Demoï¼Œç®€å•æ¼”ç¤ºä¸€ä¸‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;pins &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; @[@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;172230988&lt;&#x2F;span&gt;&lt;span&gt;, @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;172230947&lt;&#x2F;span&gt;&lt;span&gt;, @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;172230899&lt;&#x2F;span&gt;&lt;span&gt;, @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;172230777&lt;&#x2F;span&gt;&lt;span&gt;, @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;172230707&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;__block &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSInteger&lt;&#x2F;span&gt;&lt;span&gt; index &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;signal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[[[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;interval:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0.1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;onScheduler:[RACScheduler scheduler]&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;						take&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;pins.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;count&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;						map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;value) {
&lt;&#x2F;span&gt;&lt;span&gt;							&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[[HBAPIManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sharedManager&lt;&#x2F;span&gt;&lt;span&gt;] fetchPinWithPinID&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;[pins[index&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;] intValue]] doNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;x) {
&lt;&#x2F;span&gt;&lt;span&gt;								&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;è¿™é‡Œåªä¼šæ‰§è¡Œä¸€æ¬¡&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;							}];
&lt;&#x2F;span&gt;&lt;span&gt;						}]
&lt;&#x2F;span&gt;&lt;span&gt;						switchToLatest];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[signal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;subscribeNext:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(HBPin &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pin) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;pinID:&lt;&#x2F;span&gt;&lt;span&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, pin.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pinID&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;} completed:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;completed&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; output
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2014-06-05 17:40:49.851 è¿™é‡Œåªä¼šæ‰§è¡Œä¸€æ¬¡
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2014-06-05 17:40:49.851 pinID:172230707
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2014-06-05 17:40:49.851 completed
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;takeuntil&quot;&gt;takeUntil&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;takeUntil:someSignal&lt;&#x2F;code&gt; çš„ä½œç”¨æ˜¯å½“ someSignal sendNext æ—¶ï¼Œå½“å‰çš„ signal å°±&lt;code&gt;sendCompleted&lt;&#x2F;code&gt;ï¼ŒsomeSignal å°±åƒä¸€ä¸ªæ‹³å‡»è£åˆ¤ï¼Œå“¨å£°å“èµ·å°±æ„å‘³ç€æ¯”èµ›ç»ˆæ­¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å®ƒçš„å¸¸ç”¨åœºæ™¯ä¹‹ä¸€æ˜¯å¤„ç† cell çš„ button çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ¯”å¦‚ç‚¹å‡» Cell çš„è¯¦æƒ…æŒ‰é’®ï¼Œéœ€è¦ push ä¸€ä¸ª VCï¼Œå°±å¯ä»¥è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[[[cell.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;detailButton
&lt;&#x2F;span&gt;&lt;span&gt;	rac_signalForControlEvents&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;UIControlEventTouchUpInside]
&lt;&#x2F;span&gt;&lt;span&gt;	takeUntil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;cell.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_prepareForReuseSignal&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;	subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;x) {
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; generate and push ViewController
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœä¸åŠ &lt;code&gt;takeUntil:cell.rac_prepareForReuseSignal&lt;&#x2F;code&gt;ï¼Œé‚£ä¹ˆæ¯æ¬¡ Cell è¢«é‡ç”¨æ—¶ï¼Œè¯¥ button éƒ½ä¼šè¢«&lt;code&gt;addTarget:selector&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ti-huan-delegate&quot;&gt;æ›¿æ¢ Delegate&lt;&#x2F;h4&gt;
&lt;p&gt;å‡ºç°è¿™ç§éœ€æ±‚ï¼Œé€šå¸¸æ˜¯å› ä¸ºéœ€è¦å¯¹ Delegate çš„å¤šä¸ªæ–¹æ³•åšç»Ÿä¸€çš„å¤„ç†ï¼Œè¿™æ—¶å°±å¯ä»¥é€ ä¸€ä¸ª signal å‡ºæ¥ï¼Œæ¯æ¬¡è¯¥ Delegate çš„æŸäº›æ–¹æ³•è¢«è§¦å‘æ—¶ï¼Œè¯¥ signal å°±ä¼š&lt;code&gt;sendNext&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;UISearchDisplayController (RAC)
&lt;&#x2F;span&gt;&lt;span&gt;- (RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_isActiveSignal &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;delegate &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;signal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;objc_getAssociatedObject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_cmd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(signal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; signal;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* Create two signals and merge them *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;    RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;didBeginEditing &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_signalForSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(searchDisplayControllerDidBeginSearch:)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                                        fromProtocol:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(UISearchDisplayDelegate)&lt;&#x2F;span&gt;&lt;span&gt;] mapReplace&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;didEndEditing &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_signalForSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(searchDisplayControllerDidEndSearch:)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                                      fromProtocol:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(UISearchDisplayDelegate)&lt;&#x2F;span&gt;&lt;span&gt;] mapReplace&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    signal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;merge:@[didBeginEditing, didEndEditing]&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;objc_setAssociatedObject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_cmd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, signal, OBJC_ASSOCIATION_RETAIN_NONATOMIC)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; signal;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä»£ç æºäº&lt;a href=&quot;http:&#x2F;&#x2F;spin.atomicobject.com&#x2F;2014&#x2F;02&#x2F;03&#x2F;objective-c-delegate-pattern&#x2F;&quot;&gt;æ­¤æ–‡&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;shi-yong-reactiveviewmodel-de-didbecomactivesignal&quot;&gt;ä½¿ç”¨ ReactiveViewModel çš„ didBecomActiveSignal&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveViewModel&quot;&gt;ReactiveViewModel&lt;&#x2F;a&gt;æ˜¯å¦ä¸€ä¸ª projectï¼Œ åé¢çš„ MVVM ä¸­ä¼šè®²åˆ°ï¼Œé€šå¸¸çš„åšæ³•æ˜¯åœ¨ VC é‡Œè®¾ç½® VM çš„&lt;code&gt;active&lt;&#x2F;code&gt;å±æ€§(RVMViewModel è‡ªå¸¦è¯¥å±æ€§)ï¼Œç„¶ååœ¨ VM é‡Œ subscribeNext &lt;code&gt;didBecomActiveSignal&lt;&#x2F;code&gt;ï¼Œæ¯”å¦‚å½“ Active æ—¶ï¼Œè·å– TableView çš„æœ€æ–°æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;racsubject-de-shi-yong-chang-jing&quot;&gt;RACSubject çš„ä½¿ç”¨åœºæ™¯&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸€èˆ¬ä¸æ¨èä½¿ç”¨&lt;code&gt;RACSubject&lt;&#x2F;code&gt;ï¼Œå› ä¸ºå®ƒè¿‡äºçµæ´»ï¼Œæ»¥ç”¨çš„è¯å®¹æ˜“å¯¼è‡´å¤æ‚åº¦çš„å¢åŠ ã€‚ä½†æœ‰ä¸€äº›åœºæ™¯ç”¨ä¸€ä¸‹è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œæ¯”å¦‚ ViewModel çš„ errorsã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ViewModel ä¸€èˆ¬ä¼šæœ‰å¤šä¸ª&lt;code&gt;RACCommand&lt;&#x2F;code&gt;ï¼Œé‚£è¿™äº› commands å¦‚æœå‡ºç° error äº†è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•å¦‚ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; HBCViewModel.h
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;RVMViewModel.h&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@class&lt;&#x2F;span&gt;&lt;span&gt; RACSubject;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;HBCViewModel : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;RVMViewModel
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) RACSubject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;errors;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; HBCViewModel.m
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;HBCViewModel.h&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;ReactiveCocoa.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;HBCViewModel
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (instancetype)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        _errors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSubject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;subject&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dealloc
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [_errors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sendCompleted&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Some Other ViewModel inherit HBCViewModel
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(instancetype)init
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	_fetchLatestCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithSignalBlock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;input){
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; fetch latest data
&lt;&#x2F;span&gt;&lt;span&gt;	}];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	_fetchMoreCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithSignalBlock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;input){
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; fetch more data
&lt;&#x2F;span&gt;&lt;span&gt;	}];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;didBecomeActiveSignal&lt;&#x2F;span&gt;&lt;span&gt; subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;x) {
&lt;&#x2F;span&gt;&lt;span&gt;		[_fetchLatestCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;execute:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;	}];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	[[RACSignal
&lt;&#x2F;span&gt;&lt;span&gt;		merge&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;@[
&lt;&#x2F;span&gt;&lt;span&gt;				_fetchMoreCommand.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;errors&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;				_fetchLatestCommand.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;errors
&lt;&#x2F;span&gt;&lt;span&gt;				]] subscribe&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;errors&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;rac-signalforselector&quot;&gt;rac_signalForSelector&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;rac_signalForSelector:&lt;&#x2F;code&gt; è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ª signalï¼Œå½“ selector æ‰§è¡Œå®Œæ—¶ï¼Œä¼š sendNextï¼Œä¹Ÿå°±æ˜¯å½“æŸä¸ªæ–¹æ³•è°ƒç”¨å®Œåå†é¢å¤–åšä¸€äº›äº‹æƒ…ã€‚ç”¨åœ¨ category ä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œå› ä¸º Category é‡å†™çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œä¸èƒ½å†é€šè¿‡&lt;code&gt;[super XXX]&lt;&#x2F;code&gt;æ¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ‰‹å†™ Swizzle æ¥å®ç°ï¼Œä¸è¿‡æœ‰äº†&lt;code&gt;rac_signalForSelector:&lt;&#x2F;code&gt;å°±æ–¹ä¾¿å¤šäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;rac_signalForSelector: fromProtocol:&lt;&#x2F;code&gt; å¯ä»¥ç›´æ¥å®ç°å¯¹ protocol çš„æŸä¸ªæ–¹æ³•çš„å®ç°ï¼ˆå¬ç€æœ‰ç‚¹åˆ«æ‰­å‘¢ï¼‰ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³å®ç° UIScrollViewDelegate çš„æŸäº›æ–¹æ³•ï¼Œå¯ä»¥è¿™ä¹ˆå†™&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_signalForSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(scrollViewDidEndDecelerating:) fromProtocol:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(UIScrollViewDelegate)&lt;&#x2F;span&gt;&lt;span&gt;] subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(RACTuple &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;tuple) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; do something
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_signalForSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(scrollViewDidScroll:) fromProtocol:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(UIScrollViewDelegate)&lt;&#x2F;span&gt;&lt;span&gt;] subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(RACTuple &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;tuple) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; do something
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;scrollView&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;delegate &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;scrollView&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;delegate &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¿™é‡Œçš„ delegate éœ€è¦å…ˆè®¾ç½®ä¸º nilï¼Œå†è®¾ç½®ä¸º selfï¼Œè€Œä¸èƒ½ç›´æ¥è®¾ç½®ä¸º selfï¼Œå¦‚æœ self å·²ç»æ˜¯è¯¥ scrollView çš„ Delegate çš„è¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œæˆ‘ä»¬æƒ³å¯¹ selector çš„è¿”å›å€¼åšä¸€äº›å¤„ç†ï¼Œä½†å¾ˆé—æ†¾ RAC ä¸æ”¯æŒï¼Œå¦‚æœçœŸçš„æœ‰éœ€è¦çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;steipete&#x2F;Aspects&quot;&gt;Aspects&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mvvm&quot;&gt;MVVM&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå¤§è¯é¢˜ï¼Œå¦‚æœæœ‰è€å¿ƒï¼Œä¸”è‹±æ–‡è¿˜ä¸é”™çš„è¯ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ Cocoa Samurai çš„è¿™&lt;a href=&quot;http:&#x2F;&#x2F;cocoasamurai.blogspot.fr&#x2F;2013&#x2F;03&#x2F;basic-mvvm-with-reactivecocoa.html&quot;&gt;ä¸¤ç¯‡&lt;&#x2F;a&gt;&lt;a href=&quot;http:&#x2F;&#x2F;cocoamanifest.net&#x2F;articles&#x2F;2013&#x2F;10&#x2F;mvc-mvvm-frp-and-building-bridges.html&quot;&gt;æ–‡ç« &lt;&#x2F;a&gt;ã€‚PS: Facebook Paper å°±æ˜¯åŸºäº MVVM æ„å»ºçš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;MVVM æ˜¯ Model-View-ViewModel çš„ç®€ç§°ï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;camo.githubusercontent.com&#x2F;3999b9fdff783edb6cee9117a08524f3b2e7c653&#x2F;68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f3433323533362f3836373938342f32393165643338302d663736302d313165322d393130362d6433313538333230616633392e706e67&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ° View(å…¶å®æ˜¯ ViewController)æŒæœ‰ ViewModelï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ ViewModel æ›´åŠ ç‹¬ç«‹ä¸”å¯æµ‹è¯•ï¼ŒViewModel é‡Œä¸åº”åŒ…å«ä»»ä½• View ç›¸å…³çš„å…ƒç´ ï¼Œå“ªæ€•æ¢äº†ä¸€ä¸ª View ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚è€Œä¸”è¿™æ ·ä¹Ÿèƒ½è®© View&#x2F;ViewControllerã€Œç˜¦ã€ä¸‹æ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ViewModel ä¸»è¦åšçš„äº‹æƒ…æ˜¯ä½œä¸º View çš„æ•°æ®æºï¼Œæ‰€ä»¥é€šå¸¸ä¼šåŒ…å«ç½‘ç»œè¯·æ±‚ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ–è®¸ä½ ä¼šç–‘æƒ‘ï¼ŒViewController å“ªå»äº†ï¼Ÿåœ¨ MVVM çš„ä¸–ç•Œé‡Œï¼ŒViewController å·²ç»æˆä¸ºäº† View çš„ä¸€éƒ¨åˆ†ã€‚å®ƒçš„ä¸»è¦èŒè´£æ˜¯å°† VM ä¸ View ç»‘å®šã€å“åº” VM æ•°æ®çš„å˜åŒ–ã€è°ƒç”¨ VM çš„æŸä¸ªæ–¹æ³•ã€ä¸å…¶ä»–çš„ VC æ‰“äº¤é“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è€Œ RAC ä¸º MVVM å¸¦æ¥å¾ˆå¤§çš„ä¾¿åˆ©ï¼Œæ¯”å¦‚&lt;code&gt;RACCommand&lt;&#x2F;code&gt;, UIKit çš„ RAC Extension ç­‰ç­‰ã€‚ä½¿ç”¨ MVVM ä¸ä¸€å®šèƒ½å‡å°‘ä»£ç é‡ï¼Œä½†èƒ½é™ä½ä»£ç çš„å¤æ‚åº¦ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»¥ä¸‹é¢è¿™ä¸ªéœ€æ±‚ä¸ºä¾‹ï¼Œè¦æ±‚å¤§å›¾æ»‘åŠ¨ç»“æŸæ—¶ï¼Œåº•éƒ¨çš„ç¼©ç•¥å›¾æ»šåŠ¨åˆ°å¯¹åº”çš„ä½ç½®ï¼Œå¹¶é«˜äº®è¯¥ç¼©ç•¥å›¾ï¼›åŒæ—¶åº•éƒ¨çš„ç¼©ç•¥å›¾è¢«é€‰ä¸­æ—¶ï¼Œå¤§å›¾ä¹Ÿè¦å˜æˆè¯¥ç¼©ç•¥å›¾çš„å¤§å›¾ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;deep-into-reactivecocoa2&amp;#x2F;rac-mvvm.png&quot;
        width=&quot;320&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘çš„æ€è·¯æ˜¯æ¨ªå‘æ»šåŠ¨çš„å¤§å›¾æ˜¯ä¸€ä¸ª collectionViewï¼Œè¯¥ collectionView æ˜¯å½“å‰é¡µé¢ VC çš„ä¸€ä¸ª propertyã€‚åº•éƒ¨å¯ä»¥æ»‘åŠ¨çš„ç¼©ç•¥å›¾æ˜¯ä¸€ä¸ª childVC çš„ collectionViewï¼Œè¿™ä¸¤ä¸ª collectionView å…±ç”¨ä¸€å¥— VMï¼Œå¹¶ä¸”å„è‡ª RACObserve æ„Ÿå…´è¶£çš„ propertyã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚å¤§å›¾æ»‘åˆ°ä¸‹ä¸€é¡µæ—¶ï¼Œä¼šæ”¹å˜ VM çš„ indexPath å±æ€§ï¼Œè€Œåº•éƒ¨çš„ collectionView æ‰€åœ¨çš„ VC æ­£å¥½å¯¹è¯¥ indexPath æ„Ÿå…´è¶£ï¼Œåªè¦ indexPath å˜åŒ–å°±æ»šåŠ¨åˆ°ç›¸åº”çš„ Item&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; childVC
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)viewDidLoad
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;viewDidLoad&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;weakify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACObserve&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, viewModel.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;indexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt; subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;index) {
&lt;&#x2F;span&gt;&lt;span&gt;        @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;strongify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;scrollToIndexPath&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)scrollToIndexPath
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;collectionView&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;subviews&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;count&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSIndexPath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;indexPath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;indexPath&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;collectionView&lt;&#x2F;span&gt;&lt;span&gt; scrollToItemAtIndexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;indexPath atScrollPosition&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;UICollectionViewScrollPositionCenteredHorizontally animated&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;collectionView&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;subviews&lt;&#x2F;span&gt;&lt;span&gt; enumerateObjectsUsingBlock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(UIView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;view, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSUInteger&lt;&#x2F;span&gt;&lt;span&gt; idx, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;stop) {
&lt;&#x2F;span&gt;&lt;span&gt;            view.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;layer&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;borderWidth &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        }];
&lt;&#x2F;span&gt;&lt;span&gt;        UIView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;view &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;collectionView&lt;&#x2F;span&gt;&lt;span&gt; cellForItemAtIndexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;indexPath];
&lt;&#x2F;span&gt;&lt;span&gt;        view.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;layer&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;borderWidth &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;kHBPinsNaviThumbnailPadding;
&lt;&#x2F;span&gt;&lt;span&gt;        view.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;layer&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;borderColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[UIColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;whiteColor&lt;&#x2F;span&gt;&lt;span&gt;].&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CGColor&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å½“ç‚¹å‡»åº•éƒ¨çš„ç¼©ç•¥å›¾æ—¶ï¼Œä¸Šé¢çš„å¤§å›¾ä¹Ÿè¦åšå‡ºå˜åŒ–ï¼Œä¹ŸåŒæ ·å¯ä»¥é€šè¿‡ RACObserve indexPath æ¥å®ç°&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; PinsViewController.m
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)viewDidLoad
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;viewDidLoad&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;	@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;weakify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    [[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACObserve&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, viewModel.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;indexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        skip&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;        subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSIndexPath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;indexPath) {
&lt;&#x2F;span&gt;&lt;span&gt;            @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;strongify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;            [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;collectionView&lt;&#x2F;span&gt;&lt;span&gt; scrollToItemAtIndexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;indexPath atScrollPosition&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;UICollectionViewScrollPositionCenteredHorizontally animated&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸€ä¸ªå°æŠ€å·§ï¼Œå½“ Cell é‡Œçš„å…ƒç´ æ¯”è¾ƒå¤æ‚æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ Cell ä¹Ÿå‡†å¤‡ä¸€ä¸ª ViewModelï¼Œè¿™ä¸ª CellViewModel å¯ä»¥ç”±ä¸Šä¸€å±‚çš„ ViewModel æä¾›ï¼Œè¿™æ · Cell å¦‚æœéœ€è¦ç›¸åº”çš„æ•°æ®ï¼Œç›´æ¥è·Ÿ CellViewModel è¦å³å¯ï¼ŒCellViewModel ä¹Ÿå¯ä»¥åŒ…å«ä¸€äº› commandï¼Œæ¯”å¦‚ likeCommandã€‚å‡å¦‚ç‚¹å‡» Cell æ—¶ï¼Œè¦åšä¸€äº›å¤„ç†ï¼Œä¹Ÿå¾ˆæ–¹ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; CellViewModelå·²ç»åœ¨ViewModelé‡Œå‡†å¤‡å¥½äº†
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(UICollectionViewCell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)collectionView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UICollectionView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)collectionView cellForItemAtIndexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSIndexPath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)indexPath
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    HBPinsCell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;cell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[collectionView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;dequeueReusableCellWithReuseIdentifier:cellIdentifier forIndexPath:indexPath&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    cell.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cellViewModels&lt;&#x2F;span&gt;&lt;span&gt;[indexPath.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;row&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; cell;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)collectionView&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UICollectionView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)collectionView didSelectItemAtIndexPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSIndexPath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)indexPath
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    HBCellViewModel &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;cellViewModel &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cellViewModels&lt;&#x2F;span&gt;&lt;span&gt;[indexPath.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;row&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¯¹cellViewModelæ‰§è¡ŒæŸäº›æ“ä½œï¼Œå› ä¸ºCellå·²ç»ä¸cellViewModelç»‘å®šï¼Œæ‰€ä»¥cellViewModelçš„æ”¹å˜ä¹Ÿä¼šåæ˜ åˆ°Cellä¸Š
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æˆ–æ‹¿åˆ°cellViewModelçš„æ•°æ®æ¥æ‰§è¡ŒæŸäº›æ“ä½œ
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;viewmodel-zhong-signal-property-command-de-shi-yong&quot;&gt;ViewModel ä¸­ signal, property, command çš„ä½¿ç”¨&lt;&#x2F;h4&gt;
&lt;p&gt;åˆæ¬¡ä½¿ç”¨ RAC+MVVM æ—¶ï¼Œå¾€å¾€ä¼šç–‘æƒ‘ï¼Œä»€ä¹ˆæ—¶å€™ç”¨ signalï¼Œä»€ä¹ˆæ—¶å€™ç”¨ propertyï¼Œä»€ä¹ˆæ—¶å€™ç”¨ commandï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´å¯ä»¥ä½¿ç”¨ property çš„å°±ç›´æ¥ä½¿ç”¨ï¼Œæ²¡å¿…è¦å†è½¬æ¢æˆ signalï¼Œå¤–éƒ¨ RACObserve å³å¯ã€‚ä½¿ç”¨ signal çš„åœºæ™¯ä¸€èˆ¬æ˜¯æ¶‰åŠåˆ°å¤šä¸ª property æˆ–å¤šä¸ª signal åˆå¹¶ä¸ºä¸€ä¸ª signalã€‚command å¾€å¾€ä¸ UIControl&#x2F;ç½‘ç»œè¯·æ±‚æŒ‚é’©ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;chang-jian-chang-jing-de-chu-li&quot;&gt;å¸¸è§åœºæ™¯çš„å¤„ç†&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;jian-cha-ben-di-huan-cun-ru-guo-shi-xiao-ze-qu-qing-qiu-wang-luo-shu-ju-bing-huan-cun-dao-ben-di&quot;&gt;æ£€æŸ¥æœ¬åœ°ç¼“å­˜ï¼Œå¦‚æœå¤±æ•ˆåˆ™å»è¯·æ±‚ç½‘ç»œæ•°æ®å¹¶ç¼“å­˜åˆ°æœ¬åœ°&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveCocoa&#x2F;issues&#x2F;1166&quot;&gt;æ¥æº&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)loadData {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[RACSignal
&lt;&#x2F;span&gt;&lt;span&gt;        createSignal&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;RACSubscriber&amp;gt; subscriber) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; If the cache is valid then we can just immediately send the
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; cached data and be done.
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cacheValid&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;                [subscriber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sendNext:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cachedData&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;                [subscriber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sendCompleted&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;            } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;                [subscriber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sendError:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;staleCacheError&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;        }]
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Do the subscription work on some random scheduler, off the main
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; thread.
&lt;&#x2F;span&gt;&lt;span&gt;        subscribeOn&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;[RACScheduler &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;scheduler&lt;&#x2F;span&gt;&lt;span&gt;]];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)update {
&lt;&#x2F;span&gt;&lt;span&gt;    [[[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self
&lt;&#x2F;span&gt;&lt;span&gt;        loadData]
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Catch the error from -loadData. It means our cache is stale. Update
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; our cache and save it.
&lt;&#x2F;span&gt;&lt;span&gt;        catch&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;updateCachedData&lt;&#x2F;span&gt;&lt;span&gt;] doNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;data) {
&lt;&#x2F;span&gt;&lt;span&gt;                [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cacheData:data&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;            }];
&lt;&#x2F;span&gt;&lt;span&gt;        }]
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Our work up until now has been on a background scheduler. Get our
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; results delivered on the main thread so we can do UI work.
&lt;&#x2F;span&gt;&lt;span&gt;        deliverOn&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;RACScheduler.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mainThreadScheduler&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;        subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;data) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Update your UI based on `data`.
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Update again after `updateInterval` seconds have passed.
&lt;&#x2F;span&gt;&lt;span&gt;            [[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;interval:updateInterval&lt;&#x2F;span&gt;&lt;span&gt;] take&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;_) {
&lt;&#x2F;span&gt;&lt;span&gt;                [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;update&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;            }];
&lt;&#x2F;span&gt;&lt;span&gt;        }];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;jian-ce-yong-hu-ming-shi-fou-ke-yong&quot;&gt;æ£€æµ‹ç”¨æˆ·åæ˜¯å¦å¯ç”¨&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveCocoa&#x2F;issues&#x2F;1236&quot;&gt;æ¥æº&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)setupUsernameAvailabilityChecking {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RAC&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, availabilityStatus) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACObserve&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;userTemplate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, username)
&lt;&#x2F;span&gt;&lt;span&gt;                                      throttle&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;kUsernameCheckThrottleInterval] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;throttleè¡¨ç¤ºintervalæ—¶é—´å†…å¦‚æœæœ‰sendNextï¼Œåˆ™æ”¾å¼ƒè¯¥nextValue
&lt;&#x2F;span&gt;&lt;span&gt;                                      map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;username) {
&lt;&#x2F;span&gt;&lt;span&gt;                                          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(username.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;length &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;return:@(UsernameAvailabilityCheckStatusEmpty)&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;                                          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[[[[FIBAPIClient &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sharedInstance&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;                                                getUsernameAvailabilityFor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;username ignoreCache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;                                              map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;result) {
&lt;&#x2F;span&gt;&lt;span&gt;                                                  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;existsNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; result[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;exists&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;                                                  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span&gt;existsNumber) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; @(UsernameAvailabilityCheckStatusFailed);
&lt;&#x2F;span&gt;&lt;span&gt;                                                  UsernameAvailabilityCheckStatus status &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[existsNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;boolValue&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;?&lt;&#x2F;span&gt;&lt;span&gt; UsernameAvailabilityCheckStatusUnavailable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; UsernameAvailabilityCheckStatusAvailable;
&lt;&#x2F;span&gt;&lt;span&gt;                                                  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; @(status);
&lt;&#x2F;span&gt;&lt;span&gt;                                              }]
&lt;&#x2F;span&gt;&lt;span&gt;                                             catch&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error) {
&lt;&#x2F;span&gt;&lt;span&gt;                                                  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;return:@(UsernameAvailabilityCheckStatusFailed)&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;                                              }] startWith&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;@(UsernameAvailabilityCheckStatusChecking)];
&lt;&#x2F;span&gt;&lt;span&gt;                                      }]
&lt;&#x2F;span&gt;&lt;span&gt;                                      switchToLatest];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°è¿™é‡Œä¹Ÿä½¿ç”¨äº†&lt;code&gt;map&lt;&#x2F;code&gt; + &lt;code&gt;switchToLatest&lt;&#x2F;code&gt;æ¨¡å¼ï¼Œè¿™æ ·å°±å¯ä»¥è‡ªåŠ¨å–æ¶ˆä¸Šä¸€æ¬¡çš„ç½‘ç»œè¯·æ±‚ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;startWith&lt;&#x2F;code&gt;çš„å†…éƒ¨å®ç°æ˜¯&lt;code&gt;concat&lt;&#x2F;code&gt;ï¼Œè¿™é‡Œè¡¨ç¤ºå…ˆå°†çŠ¶æ€ç½®ä¸º checkingï¼Œç„¶åå†æ ¹æ®ç½‘ç»œè¯·æ±‚çš„ç»“æœè®¾ç½®çŠ¶æ€ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;shi-yong-takeuntil-lai-chu-li-cell-de-button-dian-ji&quot;&gt;ä½¿ç”¨ takeUntil:æ¥å¤„ç† Cell çš„ button ç‚¹å‡»&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¸ªä¸Šé¢å·²ç»æåˆ°è¿‡äº†ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;token-guo-qi-hou-zi-dong-huo-qu-xin-de&quot;&gt;token è¿‡æœŸåè‡ªåŠ¨è·å–æ–°çš„&lt;&#x2F;h4&gt;
&lt;p&gt;å¼€å‘ APIClient æ—¶ï¼Œä¼šç”¨åˆ° AccessTokenï¼Œè¿™ä¸ª Token è¿‡ä¸€æ®µæ—¶é—´ä¼šè¿‡æœŸï¼Œéœ€è¦å»è¯·æ±‚æ–°çš„ Tokenã€‚æ¯”è¾ƒå¥½çš„ç”¨æˆ·ä½“éªŒæ˜¯å½“ token è¿‡æœŸåï¼Œè‡ªåŠ¨å»è·å–æ–°çš„ Tokenï¼Œæ‹¿åˆ°åç»§ç»­ä¸Šä¸€æ¬¡çš„è¯·æ±‚ï¼Œè¿™æ ·å¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;requestSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createSignal:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;RACDisposable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;RACSubscriber&amp;gt; subscriber) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; suppose first time send request, access token is expired or invalid
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; and next time it is correct.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; the block will be triggered twice.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static BOOL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; isFirstTime &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;url &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;http:&#x2F;&#x2F;httpbin.org&#x2F;ip&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;isFirstTime) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            url &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;http:&#x2F;&#x2F;nonexists.com&#x2F;error&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            isFirstTime &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;url:&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, url);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [[AFHTTPRequestOperationManager manager] GET&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;url parameters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; success&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(AFHTTPRequestOperation &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;operation, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;responseObject) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            [subscriber sendNext:responseObject];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            [subscriber sendCompleted];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        } failure&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(AFHTTPRequestOperation &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;operation, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            [subscriber sendError:error];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        }];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    self.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;statusLabel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;sending request...&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    [[requestSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;catch:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;statusLabel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;oops, invalid access token&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; simulate network request, and we fetch the right access token
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[[RACSignal createSignal:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;RACDisposable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;RACSubscriber&amp;gt; subscriber) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;double&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; delayInSeconds &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1.0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            dispatch_time_t popTime &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_time&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(DISPATCH_TIME_NOW, (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int64_t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)(delayInSeconds &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; NSEC_PER_SEC));
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_after&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(popTime, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_get_main_queue&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                [subscriber sendNext:@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                [subscriber sendCompleted];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            });
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        }] concat&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;requestSignal];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;] subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;x) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;([x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;isKindOfClass:[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;class]&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;statusLabel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;stringWithFormat:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;result:&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, x[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;origin&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    } completed&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;completed&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    }];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;zhu-yi-shi-xiang&quot;&gt;æ³¨æ„äº‹é¡¹&lt;&#x2F;h3&gt;
&lt;p&gt;RAC æˆ‘è‡ªå·±æ„Ÿè§‰é‡åˆ°çš„å‡ ä¸ªéš¾ç‚¹æ˜¯: 1) ç†è§£ RAC çš„ç†å¿µã€‚ 2) ç†Ÿæ‚‰å¸¸ç”¨çš„ APIã€‚3) é’ˆå¯¹æŸäº›ç‰¹å®šçš„åœºæ™¯ï¼Œæƒ³å‡ºæ¯”è¾ƒåˆç†çš„ RAC å¤„ç†æ–¹å¼ã€‚ä¸è¿‡çœ‹å¤šäº†ï¼Œå†™å¤šäº†ï¼Œæƒ³å¤šäº†å°±ä¼šæ…¢æ…¢é€‚åº”ã€‚ä¸‹é¢æ˜¯æˆ‘åœ¨å®è·µè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›å°å‘ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;reactivecocoalayout&quot;&gt;ReactiveCocoaLayout&lt;&#x2F;h4&gt;
&lt;p&gt;æœ‰æ—¶ Cell çš„å†…å®¹æ¶‰åŠåˆ°åŠ¨æ€çš„é«˜åº¦ï¼Œå°±ä¼šæƒ³åˆ°ç”¨ Autolayout æ¥å¸ƒå±€ï¼Œä½† RAC å·²ç»ä¸ºæˆ‘ä»¬å‡†å¤‡å¥½äº†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveCocoaLayout&quot;&gt;ReactiveCocoaLayout&lt;&#x2F;a&gt;ï¼Œæ‰€ä»¥æˆ‘æƒ³ä¸å¦¨å°±æ‹¿æ¥ç”¨ä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;ReactiveCocoaLayout&lt;&#x2F;code&gt;çš„ä½¿ç”¨å¥½æ¯”ã€Œæ‰¹åœ°ã€å’Œã€Œç›–æˆ¿ã€ï¼Œå…ˆé€šè¿‡&lt;code&gt;insetWidth:height:nullRect&lt;&#x2F;code&gt;ä»æŸä¸ª View ä¸­åˆ’å‡ºä¸€å°å—ï¼Œæ‹¿åˆ°ä¹‹åè¿˜å¯ä»¥é€šè¿‡&lt;code&gt;divideWithAmount:padding:fromEdge&lt;&#x2F;code&gt; å†åˆ†æˆä¸¤å—ï¼Œæˆ–&lt;code&gt;sliceWithAmount:fromEdge&lt;&#x2F;code&gt;å†åˆ†å‡ºä¸€å—ã€‚è¿™äº›æ–¹æ³•è¿”å›çš„éƒ½æ˜¯ signalï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡&lt;code&gt;RAC(self.view, frame) = someRectSignal&lt;&#x2F;code&gt; è¿™æ ·æ¥å®ç°ç»‘å®šã€‚ä½†åœ¨å®è·µä¸­å‘ç°æ€§èƒ½ä¸æ˜¯å¾ˆå¥½ï¼Œå¤šæ‰¹äº†å‡ å—åœ°å°±å®¹æ˜“é€ æˆä¸»çº¿ç¨‹å¡é¡¿ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥&lt;code&gt;ReactiveCocoaLayout&lt;&#x2F;code&gt;æœ€å¥½ä¸ç”¨æˆ–å°‘ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;diao-shi&quot;&gt;è°ƒè¯•&lt;&#x2F;h4&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;deep-into-reactivecocoa2&amp;#x2F;rac-debug.png&quot;
        width=&quot;276&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;åˆšå¼€å§‹å†™ RAC æ—¶ï¼Œå¾€å¾€ä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Œæ»¡å±çš„è°ƒç”¨æ ˆä¿¡æ¯éƒ½æ˜¯ RAC çš„ï¼Œè¦æ‰¾å‡ºçœŸæ­£å‡ºç°é—®é¢˜çš„åœ°æ–¹ä¸å®¹æ˜“ã€‚æ›¾ç»æœ‰ä¸€æ¬¡åœ¨ä½¿ç”¨&lt;code&gt;[RACSignal combineLatest: reduce:^id{}]&lt;&#x2F;code&gt;æ—¶ï¼Œå¿˜äº†åœ¨ Block é‡Œè¿”å› valueï¼Œè€Œ Xcode ä¹Ÿæ²¡æœ‰æç¤º warningï¼Œç„¶åå°±æ˜¯è«åå…¶å¦™åœ°æŒ‚èµ·äº†ï¼Œè·³åˆ°äº†æ±‡ç¼–ä¸Šï¼Œä¹Ÿæ²¡æœ‰è°ƒç”¨æ ˆä¿¡æ¯ï¼Œè¿™æ—¶å°±åªèƒ½é€šè¿‡æœ€å¤è€çš„æ³¨é‡Šä»£ç çš„æ–¹å¼æ¥æ‰¾åˆ°é—®é¢˜çš„æ ¹æºã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸è¿‡å†™å¤šäº†ä¹‹åï¼Œä¸€èˆ¬ä¸å¤ªä¼šçŠ¯è¿™ç§ä½çº§é”™è¯¯ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;strongify-weakify-dance&quot;&gt;strongify &#x2F; weakify dance&lt;&#x2F;h4&gt;
&lt;p&gt;å› ä¸º RAC å¾ˆå¤šæ“ä½œéƒ½æ˜¯åœ¨ Block ä¸­å®Œæˆçš„ï¼Œè¿™å—æœ€å¸¸è§çš„é—®é¢˜å°±æ˜¯åœ¨ block ç›´æ¥æŠŠ self æ‹¿æ¥ç”¨ï¼Œé€ æˆ block å’Œ self çš„ retain cycleã€‚æ‰€ä»¥éœ€è¦é€šè¿‡&lt;code&gt;@strongify&lt;&#x2F;code&gt;å’Œ&lt;code&gt;@weakify&lt;&#x2F;code&gt;æ¥æ¶ˆé™¤å¾ªç¯å¼•ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰äº›åœ°æ–¹å¾ˆå®¹æ˜“è¢«å¿½ç•¥ï¼Œæ¯”å¦‚&lt;code&gt;RACObserve(thing, keypath)&lt;&#x2F;code&gt;ï¼Œçœ‹ä¸Šå»å¹¶æ²¡æœ‰å¼•ç”¨ selfï¼Œæ‰€ä»¥åœ¨&lt;code&gt;subscribeNext&lt;&#x2F;code&gt;æ—¶å°±å¿˜è®°äº† weakify&#x2F;strongifyã€‚ä½†äº‹å®ä¸Š&lt;code&gt;RACObserve&lt;&#x2F;code&gt;æ€»æ˜¯ä¼šå¼•ç”¨ selfï¼Œå³ä½¿ target ä¸æ˜¯ selfï¼Œæ‰€ä»¥åªè¦æœ‰&lt;code&gt;RACObserve&lt;&#x2F;code&gt;çš„åœ°æ–¹éƒ½è¦ä½¿ç”¨ weakify&#x2F;strongifyã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;ä»¥ä¸Šæ˜¯æˆ‘åœ¨åšèŠ±ç“£å®¢æˆ·ç«¯å’Œ side project æ—¶æ€»ç»“çš„ä¸€äº›ç»éªŒï¼Œä½†æ„¿èƒ½å¸¦æ¥ä¸€äº›å¸®åŠ©ï¼Œæœ‰è¯¯çš„åœ°æ–¹ä¹Ÿæ¬¢è¿æŒ‡æ­£å’Œæ¢è®¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¨èä¸€ä¸‹ jspahrsummers çš„&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;jspahrsummers&#x2F;GroceryList&quot;&gt;è¿™ä¸ª project&lt;&#x2F;a&gt;ï¼Œè™½ç„¶æ˜¯ç”¨ RAC3.0 å†™çš„ï¼Œä½†å¾ˆå¤šç†å¿µä¹Ÿå¯ä»¥ç”¨åˆ° RAC2 ä¸Šé¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€åæ„Ÿè°¢ Github çš„ iOS å·¥ç¨‹å¸ˆä»¬ï¼Œæ„Ÿè°¢ä½ ä»¬å¸¦æ¥äº† RACï¼Œä»¥åŠåœ¨ Issues é‡Œçš„è€å¿ƒè§£ç­”ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ä½¿ç”¨objectionæ¥æ¨¡å—åŒ–å¼€å‘iOSé¡¹ç›®</title>
            <pubDate>Tue, 15 Apr 2014 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/use-objection-to-decouple-ios-project/</link>
            <guid>https://limboy.me/posts/use-objection-to-decouple-ios-project/</guid>
            <description>&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;atomicobject&#x2F;objection&quot;&gt;objection&lt;&#x2F;a&gt; æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼Œå—&lt;a href=&quot;https:&#x2F;&#x2F;code.google.com&#x2F;p&#x2F;google-guice&#x2F;&quot;&gt;Guice&lt;&#x2F;a&gt;çš„å¯å‘ï¼Œ&lt;a href=&quot;http:&#x2F;&#x2F;www.google.com&#x2F;wallet&#x2F;&quot;&gt;Google Wallet&lt;&#x2F;a&gt; ä¹Ÿæ˜¯ä½¿ç”¨çš„è¯¥é¡¹ç›®ã€‚ã€Œä¾èµ–æ³¨å…¥ã€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”¨æ¥å‡å°‘ä»£ç ä¹‹é—´çš„è€¦åˆåº¦ã€‚é€šå¸¸åŸºäºæ¥å£æ¥å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸éœ€è¦ new ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡ç›¸å…³çš„æ§åˆ¶å™¨æ¥è·å–å¯¹è±¡ã€‚2013 å¹´æœ€ç«çš„ PHP æ¡†æ¶ &lt;a href=&quot;http:&#x2F;&#x2F;laravel.com&quot;&gt;laravel&lt;&#x2F;a&gt; å°±æ˜¯å…¶ä¸­çš„å…¸å‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‡è®¾æœ‰ä»¥ä¸‹åœºæ™¯ï¼šViewControllerA.view é‡Œæœ‰ä¸€ä¸ª buttonï¼Œç‚¹å‡»ä¹‹å push ä¸€ä¸ª ViewControllerBï¼Œæœ€ç®€å•çš„å†™æ³•ç±»ä¼¼è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)viewDidLoad
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;viewDidLoad&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    UIButton &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;button &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[UIButton &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;buttonWithType:UIButtonTypeSystem&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    button.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;frame &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CGRectMake&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    [button &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setTitle:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Button&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;forState:UIControlStateNormal&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    [button &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addTarget:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;action:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(buttonTapped) forControlEvents:UIControlEventTouchUpInside&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;view&lt;&#x2F;span&gt;&lt;span&gt; addSubview&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;button];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)buttonTapped
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	ViewControllerB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;vc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[ViewControllerB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;navigationController&lt;&#x2F;span&gt;&lt;span&gt; pushViewController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;vc animated&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·å†™çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼ŒViewControllerA éœ€è¦ import ViewControllerBï¼Œä¹Ÿå°±æ˜¯å¯¹ ViewControllerB äº§ç”Ÿäº†ä¾èµ–ã€‚ä¾èµ–çš„ä¸œè¥¿è¶Šå¤šï¼Œç»´æŠ¤èµ·æ¥å°±è¶Šéº»çƒ¦ï¼Œä¹Ÿå®¹æ˜“å‡ºç°å¾ªç¯ä¾èµ–çš„é—®é¢˜ï¼Œè€Œ objection æ­£å¥½å¯ä»¥å¤„ç†è¿™äº›é—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å®ç°æ–¹æ³•æ˜¯ï¼šå…ˆå®šä¹‰ä¸€ä¸ªåè®®(protocol)ï¼Œç„¶åé€šè¿‡ objection æ¥æ³¨å†Œè¿™ä¸ªåè®®å¯¹åº”çš„ classï¼Œéœ€è¦çš„æ—¶å€™ï¼Œå¯ä»¥è·å–è¯¥åè®®å¯¹åº”çš„ objectã€‚å¯¹äºä½¿ç”¨æ–¹æ— éœ€å…³å¿ƒåˆ°åº•ä½¿ç”¨çš„æ˜¯å“ªä¸ª Classï¼Œåæ­£è¯¥æœ‰çš„æ–¹æ³•ã€å±æ€§éƒ½æœ‰äº†(åœ¨åè®®ä¸­æŒ‡å®š)ã€‚è¿™æ ·å°±å»é™¤äº†å¯¹æŸä¸ªç‰¹å®š Class çš„ä¾èµ–ã€‚ä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„ã€Œé¢å‘æ¥å£ç¼–ç¨‹ã€ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;JSObjectionInjector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;injector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[JSObjection &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;defaultInjector&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; [1]
&lt;&#x2F;span&gt;&lt;span&gt;UIViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;ViewControllerAProtocol&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; *&lt;&#x2F;span&gt;&lt;span&gt;vc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[injector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getObject:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(ViewControllerAProtocol)&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; [2]
&lt;&#x2F;span&gt;&lt;span&gt;vc.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;backgroundColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[UIColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;lightGrayColor&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; [3]
&lt;&#x2F;span&gt;&lt;span&gt;UINavigationController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;nc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[UINavigationController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithRootViewController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;vc];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;window&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rootViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; nc;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;[1] è·å–é»˜è®¤çš„ injectorï¼Œè¿™ä¸ª injector å·²ç»æ³¨å†Œè¿‡&lt;code&gt;ViewControllerAProtocol&lt;&#x2F;code&gt;äº†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;[2] è·å–&lt;code&gt;ViewControllerAProtocol&lt;&#x2F;code&gt;å¯¹åº”çš„ Objectã€‚&lt;&#x2F;li&gt;
&lt;li&gt;[3] æ‹¿åˆ° VC åï¼Œè®¾ç½®å®ƒçš„æŸäº›å±æ€§ï¼Œæ¯”å¦‚è¿™é‡Œçš„ backgroundColorï¼Œå› ä¸ºåœ¨&lt;code&gt;ViewControllerAProtocol&lt;&#x2F;code&gt;é‡Œæœ‰å®šä¹‰è¿™ä¸ªå±æ€§ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ warningã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°è¿™é‡Œæ²¡æœ‰å¼•ç”¨ ViewControllerAã€‚å†æ¥çœ‹çœ‹è¿™ä¸ª&lt;code&gt;ViewControllerAProtocol&lt;&#x2F;code&gt;æ˜¯å¦‚ä½•æ³¨å†Œåˆ° injector ä¸­çš„ï¼Œè¿™é‡Œæ¶‰åŠåˆ°äº†&lt;code&gt;Module&lt;&#x2F;code&gt;ï¼Œå¯¹ Protocol çš„æ³¨å†Œéƒ½æ˜¯åœ¨ Module ä¸­å®Œæˆçš„ã€‚Module åªè¦ç»§æ‰¿&lt;code&gt;JSObjectionModule&lt;&#x2F;code&gt;è¿™ä¸ª Class å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;ViewControllerAModule : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;JSObjectionModule
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;ViewControllerAModule
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;configure
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;bindClass:[ViewControllerA class] toProtocol:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(ViewControllerAProtocol)&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç»‘å®šæ“ä½œæ˜¯åœ¨&lt;code&gt;configure&lt;&#x2F;code&gt;æ–¹æ³•é‡Œè¿›è¡Œçš„ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨è¢«æ·»åŠ åˆ° injector é‡Œæ—¶ä¼šè¢«è‡ªåŠ¨è§¦å‘ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;JSObjectionInjector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;injector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[JSObjection &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;defaultInjector&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; [1]
&lt;&#x2F;span&gt;&lt;span&gt;injector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; injector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? : &lt;&#x2F;span&gt;&lt;span&gt;[JSObjection &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createInjector&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; [2]
&lt;&#x2F;span&gt;&lt;span&gt;injector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[injector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;withModule:[[ViewControllerAModule alloc] init]&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; [3]
&lt;&#x2F;span&gt;&lt;span&gt;[JSObjection &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setDefaultInjector:injector&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; [4]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;[1] è·å–é»˜è®¤çš„ injector&lt;&#x2F;li&gt;
&lt;li&gt;[2] å¦‚æœé»˜è®¤çš„ injector ä¸å­˜åœ¨ï¼Œå°±æ–°å»ºä¸€ä¸ª&lt;&#x2F;li&gt;
&lt;li&gt;[3] å¾€è¿™ä¸ª injector é‡Œæ³¨å†Œæˆ‘ä»¬çš„ Module&lt;&#x2F;li&gt;
&lt;li&gt;[4] è®¾ç½®è¯¥ injector ä¸ºé»˜è®¤çš„ injector&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;è¿™æ®µä»£ç å¯ä»¥ç›´æ¥æ”¾åˆ° &lt;code&gt;+ (void)load&lt;&#x2F;code&gt;é‡Œæ‰§è¡Œï¼Œè¿™æ ·å°±å¯ä»¥é¿å…åœ¨ AppDelegate é‡Œ import å„ç§ Moduleã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä»¬æ— æ³•ç›´æ¥è·å¾—å¯¹åº”çš„ Classï¼Œæ‰€ä»¥å¿…é¡»è¦åœ¨åè®®é‡Œå®šä¹‰å¥½å¯¹å¤–æš´éœ²çš„æ–¹æ³•å’Œå±æ€§ï¼Œç„¶åè¯¥ Class ä¹Ÿè¦å®ç°è¯¥åè®®ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@protocol &lt;&#x2F;span&gt;&lt;span&gt;ViewControllerAProtocol &amp;lt;NSObject&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSUInteger&lt;&#x2F;span&gt;&lt;span&gt; currentIndex;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;) UIColor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;backgroundColor;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;ViewControllerA : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;UIViewController &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;ViewControllerAProtocol&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é€šè¿‡ objection å®ç°ä¾èµ–æ³¨å…¥åï¼Œå°±èƒ½æ›´å¥½åœ°å®ç° SRP(Single Responsibility Principle)ï¼Œä»£ç æ›´ç®€æ´ï¼Œå¿ƒæƒ…æ›´èˆ’ç•…ï¼Œç”Ÿæ´»æ›´ç¾å¥½ã€‚æ‹¿ Pinterest æ¥è¯´ï¼Œä¸‹é¢çš„é¡µé¢å°±å¯ä»¥åˆ’åˆ†ä¸º 3 ä¸ª Sectionã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;use-objection-to-decouple-ios-project&amp;#x2F;demo_4_objection.png&quot;
        width=&quot;320&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å„ä¸ª Section å¯ä»¥ç”±ä¸åŒçš„äººè´Ÿè´£ï¼Œç„¶åä¸²åˆ°ä¸€èµ·å°±è¡Œï¼Œä¹Ÿèƒ½ä¸€å®šç¨‹åº¦åœ°é¿å… MVC(Mess View Controller)çš„å‡ºç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ª lib è¿˜æ˜¯æŒºé è°±çš„ï¼Œå·²ç»ç»´æŠ¤äº†ä¸¤å¹´å¤šï¼Œä¹Ÿæœ‰ä¸€äº›é¡¹ç›®åœ¨ç”¨ï¼Œå¯¹äºæé«˜å¼€å‘æˆå‘˜çš„æ•ˆç‡ä¹Ÿä¼šæœ‰ä¸å°‘çš„å¸®åŠ©ï¼Œå¯ä»¥è€ƒè™‘å°è¯•ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;---- update (2014-04-30) ----&lt;&#x2F;p&gt;
&lt;p&gt;å†™äº†ä¸ªå£çº¸çš„ demoï¼Œ&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;bizhi&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;bizhi&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>å¼€å‘æ–°ç‰ˆèŠ±ç“£iPhoneå®¢æˆ·ç«¯</title>
            <pubDate>Sun, 23 Mar 2014 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/huaban-app-redesign/</link>
            <guid>https://limboy.me/posts/huaban-app-redesign/</guid>
            <description>&lt;p&gt;èŠ±ç“£ä¸»å®¢æˆ·ç«¯å·²ç»æœ‰äº›æ—¥å­æ²¡æœ‰æ›´æ–°äº†ï¼Œè¿™æ¬¡çš„æ–°ç‰ˆ iPhone å®¢æˆ·ç«¯ä¼šå¸¦æ¥ä¸å°‘çš„å˜åŠ¨å’Œæ”¹è¿›ï¼Œäºæ˜¯ç´¢æ€§é‡æ–°å¼€ä¸ªé¡¹ç›®ï¼Œä»å¤´å¼€å§‹ã€‚è™½è¿˜æ²¡å¼€å‘å®Œæˆï¼Œä½†æœ‰äº›ä¸œè¥¿è¿˜æ˜¯æƒ³è·Ÿå¤§å®¶åˆ†äº«ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ru-he-rang-duo-ren-kai-fa-geng-jia-gao-xiao&quot;&gt;å¦‚ä½•è®©å¤šäººå¼€å‘æ›´åŠ é«˜æ•ˆ&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœæ˜¯ä¸€ä¸ªäººå¼€å‘ï¼Œé‚£æ€ä¹ˆæŠ˜è…¾éƒ½è¡Œã€‚ä¸ç”¨è€ƒè™‘å†²çªã€ä¸ç”¨è€ƒè™‘ä»£ç é£æ ¼çš„å·®å¼‚ã€å®Œå…¨æŒ‰è‡ªå·±çš„å–œå¥½è®¾ç½®ç›®å½•ç»“æ„ã€ç”šè‡³åœ¨æ¥å£çš„è®¾è®¡ä¸Šä¹Ÿå¯ä»¥è‡ªç”±ä¸€äº›ã€‚ä½†å‚ä¸çš„äººä¸€å¤šè¿™äº›é—®é¢˜å°±ä¼šæš´éœ²å‡ºæ¥ï¼Œå¦‚æœå¤„ç†ä¸å¥½ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç° 1+1&amp;lt;2ï¼Œç”šè‡³ 1+1&amp;lt;1 çš„æƒ…å†µã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ­£å¥½åœ¨å‰äº›æ—¥å­çœ‹åˆ°äº†è¿™ç¯‡ã€Œ&lt;a href=&quot;http:&#x2F;&#x2F;dev.hubspot.com&#x2F;blog&#x2F;architecting-a-large-ios-app-with-cocoapods&quot;&gt;ä½¿ç”¨ CocoaPods æ¥è¿›è¡Œæ¨¡å—åŒ–å¼€å‘&lt;&#x2F;a&gt;ã€æ–‡ç« ï¼Œç»†ç»†å“äº†å‡ éï¼Œå‘ç°é€šè¿‡è¿™ç§æ–¹å¼ç¡®å®å¯ä»¥å¼¥è¡¥å¤šäººå¼€å‘å¸¦æ¥çš„ä¸€äº›é—®é¢˜ã€‚ç®€å•è¯´æ¥å°±æ˜¯æŠŠä¸€ä¸ªå¤§é¡¹ç›®æŒ‰ç…§åŠŸèƒ½æ¨¡å—åˆ’åˆ†ä¸ºå¤šä¸ªå­é¡¹ç›®ï¼Œç„¶ååœ¨ä¸€ä¸ªä¸»é¡¹ç›®é‡Œï¼Œé€šè¿‡ CocoaPods æŠŠè¿™äº›å­é¡¹ç›®ä¸²èµ·æ¥ï¼Œå°±å˜æˆäº†ä¸€ä¸ªå®Œæ•´çš„ Projectã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ji-ben-jia-gou&quot;&gt;åŸºæœ¬æ¶æ„&lt;&#x2F;h3&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;huaban-app-redesign&amp;#x2F;huaban-app-arch.png&quot;
        width=&quot;700&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä¸­æœ€åº•å±‚æ˜¯å…¶ä»–é¡¹ç›®ä¹Ÿä¼šå¼•ç”¨çš„åŸºç¡€ç±»åº“ã€‚&lt;code&gt;HBToolkit&lt;&#x2F;code&gt;åŒ…å«äº†ä¸€äº›å¸¸ç”¨ã€å¥½ç”¨çš„ Categoriesï¼Œå¦‚å›¾ç‰‡ç¼©æ”¾ã€UIView Layout ç­‰ç­‰ï¼›&lt;code&gt;HBBussiness&lt;&#x2F;code&gt;æ˜¯è·Ÿä¸šåŠ¡ç›¸å…³çš„ä¸€äº›ç±»åº“ï¼Œå¦‚å¼¹å‡ºæ–°ç‰ˆæœ¬æç¤ºã€ç™»å½•ç­‰ç­‰ï¼›&lt;code&gt;HBAPI&lt;&#x2F;code&gt;æ˜¯èŠ±ç“£ä¸»ç«™ç‚¹çš„ API æ¥å£ã€‚è¿™äº›ç±»åº“éƒ½æ˜¯ç§æœ‰çš„ pod æºï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;pod install&lt;&#x2F;code&gt;å®‰è£…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;AppCommon&lt;&#x2F;code&gt;æ˜¯ä¸€ä¸ª xcode projectï¼ŒåŒ…å«äº†è¯¥é¡¹ç›®ä¼šç”¨åˆ°çš„ä¸€äº›å…¬å…±å†…å®¹ï¼Œå¦‚é¢œè‰²å€¼ã€æŒ‰é’®æ ·å¼ã€å›¾ç‰‡ã€APIKey ç­‰ç­‰ï¼ŒåŒæ ·ï¼Œä¹Ÿæ˜¯ç§æœ‰ pod æºã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†ä¸Šå±‚å°±æ˜¯å„ä¸ª sub app äº†ã€‚æ‰€è°“ sub appï¼Œå°±æ˜¯åŠŸèƒ½å•ä¸€ï¼Œå¯ç‹¬ç«‹è¿è¡Œçš„ appã€‚åŒæ ·ï¼Œæ¯ä¸ª sub app ä¼šæä¾›ç›¸åº”çš„ podspec æ–‡ä»¶ï¼Œå¯ä»¥åœ¨è¿™ä¸ª podspec é‡ŒæŒ‡å®šæœ€åä¼šç”¨åˆ°çš„ Classesã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;huaban-app-redesign&amp;#x2F;huaban-app-subapps.png&quot;
        width=&quot;320&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿›å»ä¹‹åä¼šæ˜¯è¿™æ ·&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;huaban-app-redesign&amp;#x2F;huaban-app-subapp-index.png&quot;
        width=&quot;640&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºä½¿ç”¨è€…æ¥è¯´ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹ demoï¼Œå¾ˆå¿«åœ°äº†è§£æ¥å£çš„ä½¿ç”¨ã€‚å¯¹æµ‹è¯•äººå‘˜ï¼Œä¹Ÿå¯ä»¥åœ¨ App è¿˜æ²¡æœ‰å¼€å‘å®Œæˆçš„æƒ…å†µä¸‹ï¼Œå¯¹å„ä¸ªå­æ¨¡å—è¿›è¡Œæµ‹è¯•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å„ä¸ª sub app éƒ½å®Œæˆäº†çš„è¯ï¼Œå°±å¯ä»¥ç»„è£…æˆæœ€ç»ˆçš„ App äº†ï¼Œè¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ª URL Route ç±»ï¼š&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;joeldev&#x2F;JLRoutes&quot;&gt;JLRoutes&lt;&#x2F;a&gt;ï¼Œå®ƒçš„ä½œç”¨æ˜¯è®©æŒ‰é’®çš„ç‚¹å‡»åƒç½‘é¡µé‡Œçš„é“¾æ¥ä¸€æ ·ï¼Œåªæ˜¯è§¦å‘äº†æŸä¸ª URLï¼Œè€Œæ²¡æœ‰åƒ pushViewController è¿™æ ·çš„è¡Œä¸ºã€‚è¿™æ ·å¦‚æœç‚¹å‡» A æ¨¡å—çš„æŸä¸ªæŒ‰é’®ï¼Œä¼š push ä¸€ä¸ª B æ¨¡å—çš„ ViewControllerï¼Œä¹Ÿä¸éœ€è¦åœ¨ A æ¨¡å—é‡Œ import æ¨¡å— B çš„ ViewControllerï¼Œè€Œåªæ˜¯&lt;code&gt;[JLRoutes routeURL:parameters]&lt;&#x2F;code&gt;å³å¯ï¼Œä¹Ÿå°±å®ç°äº†è§£è€¦ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¯ä¸ª sub app éœ€è¦æ³¨å†Œè‡ªå·±æ„Ÿå…´è¶£çš„ URLï¼Œè¿™æ ·å½“æŸä¸ª URL è¢«è§¦å‘æ—¶ï¼Œå°±èƒ½æ•è·åˆ°å¹¶åšé€‚å½“çš„å¤„ç†ã€‚å¦‚æœæ³¨å†Œçš„è¡Œä¸ºç»Ÿä¸€æ”¾åˆ°æœ€ç»ˆçš„ App é‡Œå»åšï¼Œä¼šä¸å¤Ÿçµæ´»ï¼Œä¸”æ˜¾å¾—æ‚ä¹±ã€‚æ‰€ä»¥æœ€å¥½æ˜¯åœ¨ç±»åŠ è½½çš„è¿‡ç¨‹ä¸­å°±å®Œæˆæ³¨å†Œã€‚ è€Œ Class æ­£å¥½æœ‰ä¸€ä¸ª&lt;code&gt;+ (void)load&lt;&#x2F;code&gt;æ–¹æ³•ï¼Œä¼šåœ¨è¯¥ Class è¢«åŠ å…¥åˆ°è¿è¡Œæ—¶è§¦å‘ï¼Œä¸”åªè§¦å‘ä¸€æ¬¡ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;tips&quot;&gt;Tips&lt;&#x2F;h4&gt;
&lt;p&gt;æ¯æ¬¡æ–°å»ºä¸€ä¸ª sub project è¿˜è›®éº»çƒ¦çš„ï¼Œæ¯”å¦‚è¦æ–°å»º podfileï¼Œç„¶åæ‰§è¡Œ&lt;code&gt;pod install&lt;&#x2F;code&gt;(çœŸå¿ƒæ…¢å•Š)ï¼Œç„¶åè¦å†™&lt;code&gt;XXX.podspec&lt;&#x2F;code&gt;ï¼Œç­‰ç­‰ã€‚äºæ˜¯å†™äº†ä¸€ä¸ª template projectï¼Œå¹¶æä¾›äº†è„šæœ¬å®‰è£…ï¼Œç„¶åæ¯æ¬¡è¦æ–°å»ºä¸€ä¸ª project æ—¶ï¼Œåªéœ€æ‰§è¡Œ&lt;code&gt;genproj XXX&lt;&#x2F;code&gt;å°±å¥½äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šå‡ºç°ä¾èµ–çš„ pod æœ‰æ›´æ–°ï¼ˆæ¯”å¦‚ Common åˆæ·»åŠ äº†ä¸€äº›å›¾ç‰‡ç´ æï¼‰ï¼Œç„¶åå°±å¾—å†æ‰§è¡Œä¸€æ¬¡&lt;code&gt;pod update&lt;&#x2F;code&gt;ï¼Œäºæ˜¯æ‰€æœ‰ä¾èµ–çš„ pod éƒ½å¾— update ä¸€ä¸‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹æ…¢ï¼Œç›®å‰è¿˜æ²¡æƒ³åˆ°å¤ªå¥½çš„åŠæ³•ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;2014-03-25-geng-xin&quot;&gt;2014&#x2F;03&#x2F;25 æ›´æ–°&lt;&#x2F;h4&gt;
&lt;p&gt;ç”¨&lt;code&gt;pod update --verbose&lt;&#x2F;code&gt; çœ‹äº†ä¸‹ï¼Œä¸»è¦çš„æ—¶é—´éƒ½æ˜¯èŠ±åœ¨äº†è·å–ç¬¬ä¸‰æ–¹ pod çš„ meta ä¿¡æ¯ä¸Šï¼Œæ‰€ä»¥ï¼Œä½¿ç”¨æ—¶åŠ ä¸Š&lt;code&gt; --no-repo-update&lt;&#x2F;code&gt;å°±å¾ˆå¿«äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;reactivecocoa&quot;&gt;ReactiveCocoa&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ¬¡æ”¹ç‰ˆçš„å¦ä¸€ä¸ªå°è¯•å°±æ˜¯ä½¿ç”¨ RAC å’Œ MVVMï¼Œè¿˜æ˜¯æŒºæœ‰äº›æŒ‘æˆ˜çš„ã€‚ä¹‹å‰çš„å­¦ä¹ æ›´å¤šçš„æ˜¯ç†è®ºï¼Œå¹¶æ²¡æœ‰å¤ªå¤šå®é™…çš„ä½¿ç”¨ï¼Œæ‰€ä»¥ä¹Ÿé‡åˆ°äº†ä¸å°‘é—®é¢˜ã€‚æ¯”å¦‚ä½•æ—¶ä½¿ç”¨ propertyï¼Œä½•æ—¶ä½¿ç”¨ signalï¼›å¤šä¸ª Controller å…±ç”¨ä¸€ä¸ª VMï¼Œä½†å…¶ä¸­ä¸€ä¸ªåˆæœ‰ä¸€äº›ç‹¬æœ‰çš„ propertyï¼›æ½œæ„è¯†é‡Œä¼šä½¿ç”¨åŸæœ‰çš„ cocoa ç¼–ç¨‹æ¨¡å¼ï¼›å‡ºç°é—®é¢˜ï¼Œè°ƒè¯•èµ·æ¥æœ‰ç‚¹éº»çƒ¦ç­‰ç­‰ã€‚å°½ç®¡å¦‚æ­¤ï¼ŒRAC è¿˜æ˜¯å¾ˆå€¼å¾—å°è¯•çš„ï¼Œå°±åƒä¸€åŒ¹çƒˆé©¬ï¼Œå¾ˆéš¾è¢«é©¯æœï¼Œä½†ä¸€æ—¦è¢«é©¾é©­ï¼Œè¿™ç§æˆå°±æ„Ÿä¹Ÿæ˜¯æ— å¯æ¯”æ‹Ÿçš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-ta&quot;&gt;å…¶ä»–&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ levelDB æ¥åšæŒä¹…åŒ–ï¼Œæ”¾å¼ƒ CoreDataã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä½¿ç”¨&lt;a href=&quot;http:&#x2F;&#x2F;blog.leezhong.com&#x2F;ios&#x2F;2014&#x2F;01&#x2F;04&#x2F;class-cluster.html&quot;&gt;ç±»æ—(class cluster)&lt;&#x2F;a&gt;æ¥å®ç°ç»“æ„å’ŒåŠŸèƒ½åŸºæœ¬ä¸€æ ·ï¼Œä½†æ•°æ®æºä¸åŒçš„åœºæ™¯ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ— æ„ä¸­å‘ç°&lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=OJ94KqmsxiI&quot;&gt;Facebook&lt;&#x2F;a&gt;ä¹Ÿç”¨äº†ç±»ä¼¼çš„æ¶æ„ï¼Œä¸è¿‡æ˜¯é€šè¿‡ workspace æ¥å®ç°çš„ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>åŸºäºAFNetworking2.0å’ŒRACçš„iOS REST Client</title>
            <pubDate>Sun, 05 Jan 2014 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/ios-rest-client-implementation/</link>
            <guid>https://limboy.me/posts/ios-rest-client-implementation/</guid>
            <description>&lt;p&gt;åœ¨å¼€å‘ iOS App æ—¶ç»å¸¸ä¼šé‡åˆ°è·Ÿåç«¯ REST API é€šä¿¡çš„æƒ…å†µã€‚è¿™å°±æ¶‰åŠåˆ°é”™è¯¯å¤„ç†ï¼ŒNSDictionary ä¸ Model çš„æ˜ å°„ï¼Œç”¨æˆ·ç™»å½•ä¸ç™»å‡ºï¼Œæƒé™éªŒè¯ï¼ŒArchive&#x2F;UnArchiveï¼ŒCopyï¼ŒAccessToken è¿‡æœŸå¤„ç†ç­‰ç­‰ï¼Œå¦‚æœæ²¡æœ‰å¾ˆå¥½åœ°å¤„ç†è¿™äº›ç‚¹ï¼Œå°±å®¹æ˜“å‡ºç°ä»£ç å¤æ‚åº¦å¢å¤§ï¼Œç»“æ„æ•£ä¹±ï¼Œä¸æ–¹ä¾¿åæœŸç»´æŠ¤çš„ç°è±¡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ­£å¥½æœ€è¿‘åœ¨çœ‹ AFNetworking2.0 å’Œ ReactiveCocoa2.1ï¼Œå‚è€ƒäº† github çš„&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;octokit&#x2F;octokit.objc&quot;&gt;octokit&lt;&#x2F;a&gt;ï¼Œé‡å†™äº†èŠ±ç“£çš„ iOS REST APIï¼Œåˆ†äº«äº›å¿ƒå¾—ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ji-ben-jie-gou&quot;&gt;åŸºæœ¬ç»“æ„&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; HBPAPI.h
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; Classes
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; HBPAPIManager.h
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; HBPAPIManager.m
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; Models
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; HBPObject.h
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; HBPObject.m
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; HBPUser.h
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; HBPUser.m
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½¿ç”¨æ—¶ï¼Œç›´æ¥å¼•ç”¨&lt;code&gt;HBPAPI.h&lt;&#x2F;code&gt;å³å¯ï¼Œé‡Œé¢åŒ…å«äº†æ‰€æœ‰çš„ Classã€‚å› ä¸ºä½¿ç”¨äº† AFNetworking2.0ï¼Œæ‰€ä»¥ä¸å†æ˜¯ HBPClientï¼Œè€Œæ˜¯ HBPManagerã€‚ HBPAPIManager åŒ…å«äº†æ‰€æœ‰çš„è·ŸæœåŠ¡ç«¯é€šä¿¡çš„æ–¹æ³•ï¼Œé€šè¿‡ Category æ¥åŒºåˆ†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma mark &lt;&#x2F;span&gt;&lt;span&gt;- HBPAPIManager (Private)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;HBPAPIManager (Private)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å†…éƒ¨ç»Ÿä¸€ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; resultClass - ä»æœåŠ¡ç«¯è·å–åˆ°JSONæ•°æ®åï¼Œä½¿ç”¨å“ªä¸ªClassæ¥å°†JSONè½¬æ¢ä¸ºOCçš„Model
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; listKey - å¦‚æœä¸æŒ‡å®šï¼Œè¡¨ç¤ºè¿”å›çš„æ˜¯ä¸€ä¸ªobjectï¼Œå¦‚userï¼Œå¦‚æœæŒ‡å®šè¡¨ç¤ºè¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒlistKeyå°±è¡¨ç¤ºè¿™ä¸ªåˆ—è¡¨çš„keynameï¼Œå¦‚{&amp;#39;users&amp;#39;:[]}, é‚£ä¹ˆlistNameå°±ä¸º&amp;#39;user&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;- (RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;requestWithMethod:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;method &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;relativePath:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;relativePath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parameters:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;parameters &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;resultClass:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;resultClass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;listKey:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;listKey&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma mark &lt;&#x2F;span&gt;&lt;span&gt;- HBPAPIManager (User)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;HBPAPIManager (User)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; signalä¼šsend userï¼Œå¦‚æœæ²¡æœ‰userï¼Œå°±ä¼šsendError
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¿…é¡»å½“å‰ç”¨æˆ·å·²ç»ç™»å½•çš„æƒ…å†µä¸‹è°ƒç”¨
&lt;&#x2F;span&gt;&lt;span&gt;- (RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fetchUserInfo&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma mark &lt;&#x2F;span&gt;&lt;span&gt;- HBPAPIManager (Friendship)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Models Group åŒ…å«äº†æ‰€æœ‰è·ŸæœåŠ¡ç«¯ API å¯¹åº”çš„ Modelï¼Œæ¯”å¦‚&lt;code&gt;HBPComment&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;HBPComment.h&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;HBPObject.h&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@class&lt;&#x2F;span&gt;&lt;span&gt; HBPUser;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;HBPComment : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;HBPObject
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;assign&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSInteger&lt;&#x2F;span&gt;&lt;span&gt; commentID;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;copy&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;createdAt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;nonatomic&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;strong&lt;&#x2F;span&gt;&lt;span&gt;) HBPUser &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;user;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;HBPComment.m&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;HBPComment.h&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;HBPComment
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;JSONKeysToPropertyKeys
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; @{
&lt;&#x2F;span&gt;&lt;span&gt;             &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;comment_id&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;commentID&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;             &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;user_id&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;userID&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;             &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;created_at&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;createdAt&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;			 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;             };
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;archive-unarchive-copy&quot;&gt;Archive &#x2F; UnArchive &#x2F; Copy&lt;&#x2F;h3&gt;
&lt;p&gt;æ¯ä¸€ä¸ª Object éƒ½è¦æ”¯æŒ Archive &#x2F; UnArchive &#x2F; Copyï¼Œä¹Ÿå°±æ˜¯è¦å®ç°&lt;code&gt;&amp;lt;NSCoding&amp;gt;&lt;&#x2F;code&gt;å’Œ&lt;code&gt;&amp;lt;NSCopying&amp;gt;&lt;&#x2F;code&gt;åè®®ï¼Œè¿™ä¸¤ä¸ªåè®®çš„å†…å®¹å…¶å®å°±æ˜¯å¯¹ Object çš„ Property åšäº›å¤„ç†ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥åœ¨åŸºç±»é‡ŒæŠŠè¿™äº›äº‹éƒ½ç»Ÿä¸€å¤„ç†ï¼Œå°±ä¼šæ–¹ä¾¿è®¸å¤šã€‚octokit ä½¿ç”¨&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;MantleFramework&#x2F;Mantle&quot;&gt;Mantle&lt;&#x2F;a&gt;æ¥åšè¿™äº›äº‹æƒ…ï¼Œä¸è¿‡æˆ‘è§‰å¾— Mantle è¿˜æ˜¯æœ‰äº›éº»çƒ¦ï¼Œäºæ˜¯å†™äº†ä¸ªé€šè¿‡è¿è¡Œæ—¶æ¥è·å– propertyï¼Œå¹¶å®ç°&lt;code&gt;&amp;lt;NSCoding&amp;gt;&lt;&#x2F;code&gt; å’Œ &lt;code&gt;&amp;lt;NSCopying&amp;gt;&lt;&#x2F;code&gt;çš„åŸºç±»ï¼Œåªæœ‰ä¸¤ä¸ªå…¬å…±æ–¹æ³•ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;Foundation&#x2F;Foundation.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;HBPObject : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject &lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;NSCopying, NSCoding&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è§£æAPIè¿”å›çš„JSONï¼Œè¿”å›å¯¹åº”çš„Model
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;initWithDictionary:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;JSON&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; JSON keyåˆ°propertyçš„æ˜ å°„å…³ç³»
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;JSONKeysToPropertyKeys&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;- (id)initWithDictionary:(NSDictionary *)JSON&lt;&#x2F;code&gt;çš„ä½œç”¨æ˜¯éå† Object çš„ Propertyï¼Œå¦‚æœ Property çš„ Class æ˜¯&lt;code&gt;HBPObject&lt;&#x2F;code&gt;ï¼Œé‚£ä¹ˆå°±è°ƒç”¨&lt;code&gt;- (id)initWithDictionary:(NSDictionary *)JSO&lt;&#x2F;code&gt;ï¼Œä¸ç„¶å°±é€šè¿‡ KVC çš„&lt;code&gt;setValue:forKey:&lt;&#x2F;code&gt;æ¥è®¾å®šå€¼ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;- (NSDictionary *)JSONKeysToPropertyKeys&lt;&#x2F;code&gt;çš„å†…å®¹å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)JSONKeysToPropertyKeys
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; @{
&lt;&#x2F;span&gt;&lt;span&gt;             &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;id&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;ID&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;             &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;nav_link&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;navLink&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;             };
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·é€šè¿‡ä¸€ä¸ª&lt;code&gt;HBPObject&lt;&#x2F;code&gt;åŸºç±»å°±å®Œæˆäº† Archive &#x2F; UnArchive &#x2F; Copy ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yong-hu-de-deng-lu-yu-deng-chu&quot;&gt;ç”¨æˆ·çš„ç™»å½•ä¸ç™»å‡º&lt;&#x2F;h3&gt;
&lt;p&gt;å…ˆæ¥è¯´è¯´ç™»å½•ï¼Œç”±äºä½¿ç”¨ RACï¼Œåœ¨æ„é€  API æ—¶ï¼Œå°±ä¸éœ€è¦ä¼ å…¥ Block äº†ï¼Œéšä¹‹è€Œæ¥çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯éœ€è¦åœ¨æ³¨é‡Šä¸­è¯´æ˜&lt;code&gt;sendNext&lt;&#x2F;code&gt;æ—¶ä¼šå‘é€ä»€ä¹ˆå†…å®¹ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;(RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)signInUsingUsername&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)username passowrd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)password
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    NSAssert(API_CLIENT_ID &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt; API_CLIENT_SECRET, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;API_CLIENT_ID and API_CLIENT_SECRET must be setted&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;parameters &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; @{
&lt;&#x2F;span&gt;&lt;span&gt;                                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;grant_type&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;password&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;                                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;username&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; username,
&lt;&#x2F;span&gt;&lt;span&gt;                                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;password&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; password,
&lt;&#x2F;span&gt;&lt;span&gt;                                 };
&lt;&#x2F;span&gt;&lt;span&gt;    HBPAPIManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;manager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createManager&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[manager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fetchTokenWithParameters:parameters&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;            setNameWithFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;+signInUsingUsername:&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; password:&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, username, password];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çœ‹ç€è¿˜æŒºç®€å•çš„å§ï¼Œå› ä¸ºä¸»è¦å·¥ä½œéƒ½æ˜¯&lt;code&gt;+fetchMoreData:parameters&lt;&#x2F;code&gt;åœ¨åšï¼Œçœ‹çœ‹å®ƒçš„å®ç°&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)fetchTokenWithParameters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)parameters
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[[[[[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_POST:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;oauth&#x2F;access_token&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parameters:parameters&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;             &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; reduceEachçš„ä½œç”¨æ˜¯ä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œè¿”å›å•ä¸ªå‚æ•°ï¼Œæ˜¯åŸºäº`map`çš„ä¸€ç§å®ç°
&lt;&#x2F;span&gt;&lt;span&gt;             reduceEach&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(AFHTTPRequestOperation &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;operation, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;response){
&lt;&#x2F;span&gt;&lt;span&gt;			     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ‹¿åˆ°tokenåï¼Œå°±è®¾ç½®token property
&lt;&#x2F;span&gt;&lt;span&gt;				 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; setToken:æ–¹æ³•ä¼šè¢«è§¦å‘ï¼Œåœ¨é‚£é‡Œä¼šè®¾ç½®è¯·æ±‚çš„å¤´ä¿¡æ¯ï¼Œå¦‚Authorizationã€‚
&lt;&#x2F;span&gt;&lt;span&gt;                 HBPAccessToken &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;token &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[HBPAccessToken &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithDictionary&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;response];
&lt;&#x2F;span&gt;&lt;span&gt;                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;token &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; token;
&lt;&#x2F;span&gt;&lt;span&gt;                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;             }]
&lt;&#x2F;span&gt;&lt;span&gt;             catch&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error) {
&lt;&#x2F;span&gt;&lt;span&gt;			     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¯¹Errorè¿›è¡Œå¤„ç†ï¼Œæ–¹ä¾¿å¤–éƒ¨è¯†åˆ«
&lt;&#x2F;span&gt;&lt;span&gt;                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSInteger&lt;&#x2F;span&gt;&lt;span&gt; code &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; error.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;code &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== -&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1001 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;?&lt;&#x2F;span&gt;&lt;span&gt; HBPAPIManagerErrorConnectionFailed &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; HBPAPIManagerErrorAuthenticatedFailed;
&lt;&#x2F;span&gt;&lt;span&gt;                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;apiError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithDomain&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;HBPAPIManagerErrorDomain code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;code userInfo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error:apiError&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;             }]
&lt;&#x2F;span&gt;&lt;span&gt;             then&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;			     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä¸€åˆ‡æ­£å¸¸çš„è¯ï¼Œé¡ºä¾¿è·å–ç”¨æˆ·ä¿¡æ¯
&lt;&#x2F;span&gt;&lt;span&gt;                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fetchUserInfo&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;             }]
&lt;&#x2F;span&gt;&lt;span&gt;             doNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(HBPUser &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;user) {
&lt;&#x2F;span&gt;&lt;span&gt;			     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; doNextç›¸å½“äºä¸€ä¸ªé’©å­ï¼Œæ˜¯åœ¨sendNextæ—¶ä¼šè¢«æ‰§è¡Œçš„ä¸€æ®µä»£ç 
&lt;&#x2F;span&gt;&lt;span&gt;                 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;user &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; user;
&lt;&#x2F;span&gt;&lt;span&gt;             }]
&lt;&#x2F;span&gt;&lt;span&gt;			 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æŠŠå‘é€å†…å®¹æ¢æˆself
&lt;&#x2F;span&gt;&lt;span&gt;             mapReplace&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;			 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; é¿å…side effect
&lt;&#x2F;span&gt;&lt;span&gt;             replayLazily];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œå¯¹ signal è¿›è¡Œäº† chain &#x2F; modify &#x2F; hook ç­‰æ“ä½œï¼Œä¸»è¦ä½œç”¨æ˜¯è·å– access token å’Œç”¨æˆ·ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç”¨æˆ·çš„ç™»å‡ºå°±ç®€å•äº†ï¼Œç›´æ¥è®¾ç½®&lt;code&gt;user&lt;&#x2F;code&gt;å’Œ&lt;code&gt;token&lt;&#x2F;code&gt;ä¸º&lt;code&gt;nil&lt;&#x2F;code&gt;å°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;she-zhi-chao-shi-shi-jian-he-huan-cun-ce-lue&quot;&gt;è®¾ç½®è¶…æ—¶æ—¶é—´å’Œç¼“å­˜ç­–ç•¥&lt;&#x2F;h3&gt;
&lt;p&gt;å› ä¸º AF2.0 ä½¿ç”¨äº†æ–°çš„æ¶æ„ï¼Œå¯¼è‡´è¦è®¾ç½® Request çš„è¶…æ—¶å’Œç¼“å­˜ç¨å¾®æœ‰äº›éº»çƒ¦ï¼Œéœ€è¦æ–°å»ºä¸€ä¸ªç»§æ‰¿è‡ª&lt;code&gt;AFHTTPRequestSerializer&lt;&#x2F;code&gt;çš„ Class&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;HBPAPIRequestSerializer : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;AFHTTPRequestSerializer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;HBPAPIRequestSerializer
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSMutableURLRequest &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;requestWithMethod:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;method &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;URLString:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;URLString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parameters:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;parameters
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSMutableURLRequest &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;request &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;requestWithMethod:method URLString:URLString parameters:parameters&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    request.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;timeoutInterval &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    request.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cachePolicy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NSURLRequestReloadIgnoringLocalCacheData;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; request;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åå°†è¿™ä¸ª class è®¾ç½®ä¸º manager.requestSerializer&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;HBPAPIManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;manager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[HBPAPIManager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithBaseURL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSURL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;URLWithString:API_SERVER&lt;&#x2F;span&gt;&lt;span&gt;]];
&lt;&#x2F;span&gt;&lt;span&gt;manager.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;requestSerializer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[HBPAPIRequestSerializer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;serializer&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·å°±è¡Œäº†&lt;&#x2F;p&gt;
&lt;h3 id=&quot;quan-xian-yan-zheng&quot;&gt;æƒé™éªŒè¯&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªæ¯”è¾ƒç®€å•äº›ï¼Œç›´æ¥åœ¨æ–¹æ³•é‡Œé¢åŠ ä¸Šåˆ¤æ–­&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)createCommentWithPinID&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSInteger&lt;&#x2F;span&gt;&lt;span&gt;)pinID text&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)text
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;isAuthenticated&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error:[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; authenticatedError]&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;requestWithMethod:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;POST&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;relativePath:[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;stringWithFormat:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;pins&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&#x2F;comments&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, pinID] parameters:@{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;text&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; text} resultClass:[HBPComment class] listKey:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;comment&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;accesstoken-guo-qi-de-chu-li&quot;&gt;AccessToken è¿‡æœŸçš„å¤„ç†&lt;&#x2F;h3&gt;
&lt;p&gt;AccessToken è¿‡æœŸå’Œè·å–æ–°çš„ AccessToken å¯ä»¥äº¤ç»™ä½¿ç”¨è€…æ¥åšï¼Œä½†æ˜¯ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯è¿‡æœŸåè‡ªåŠ¨å»è·å–æ–°çš„ AccessTokenï¼Œæ‹¿åˆ° Token åè‡ªåŠ¨å»æ‰§è¡Œä¹‹å‰å¤±è´¥çš„è¯·æ±‚ï¼Œè¿™å—æˆ‘æ˜¯è¿™ä¹ˆå¤„ç†çš„&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)requestWithMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)method relativePath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)relativePath parameters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)parameters resultClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span&gt;)resultClass listKey&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)listKey
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;requestSignal;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; create requestSignal
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[requestSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;catch:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(error.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;code &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; HBPAPIManagerErrorInvalidAccessToken) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;refreshToken] ignoreValues] concat&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;requestSignal];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[RACSignal error:error];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;hbpobject-subclass&quot;&gt;HBPObject SubClass&lt;&#x2F;h3&gt;
&lt;p&gt;é‚£äº›ç»§æ‰¿è‡ª&lt;code&gt;HBPObject&lt;&#x2F;code&gt;çš„å­ç±»ï¼Œæœ‰äº›äº‹æƒ…æ˜¯&lt;code&gt;HBPObject&lt;&#x2F;code&gt;æ— æ³•å¤„ç†çš„ï¼Œæ¯”å¦‚ NSArray çš„ Propertyï¼Œå› ä¸º Objective-C ä¸æ”¯æŒ genericï¼Œæ‰€ä»¥æ— æ³•çŸ¥é“è¿™ä¸ªæ•°ç»„åŒ…å«çš„ç©¶ç«Ÿæ˜¯æ€æ ·çš„ Classï¼Œè¿™æ—¶å°±éœ€è¦åœ¨å­ç±»å¯¹è¿™äº› property åšå¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚ç”»æ¿(HBPBoard)æœ‰ä¸€ä¸ªå«&lt;code&gt;pins&lt;&#x2F;code&gt;çš„ NSArray å±æ€§ï¼Œå› ä¸ºåœ¨&lt;code&gt;HBPObject&lt;&#x2F;code&gt;ä¸­ä½¿ç”¨äº† KVCï¼Œæ‰€ä»¥å¦‚æœå­ç±»æœ‰ç±»ä¼¼&lt;code&gt;setXXX:&lt;&#x2F;code&gt;çš„æ–¹æ³•çš„è¯ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå°±å¯ä»¥å¤„ç†é‚£äº›ç‰¹æ®Šæƒ…å†µã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;HBPBoard
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setPins:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;pins
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    _pins &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[pins.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_sequence&lt;&#x2F;span&gt;&lt;span&gt; map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;value) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[HBPPin &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithDictionary&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;value];
&lt;&#x2F;span&gt;&lt;span&gt;    }] array];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å†æ¯”å¦‚ï¼Œè¿”å›çš„ JSON å†…å®¹ä¸­ï¼Œæœ‰ä¸€ä¸ªå«&lt;code&gt;content&lt;&#x2F;code&gt;çš„ keyï¼Œå…¶ä¸­æœ‰ type &#x2F; date &#x2F; color ç­‰ sub keyï¼Œè€Œä½ åªæƒ³è¦&lt;code&gt;type&lt;&#x2F;code&gt;ä¿¡æ¯ï¼Œåªéœ€æ·»åŠ ä¸€ä¸ª&lt;code&gt;type&lt;&#x2F;code&gt; propertyï¼Œç„¶ååœ¨&lt;code&gt;setContent&lt;&#x2F;code&gt;æ—¶ï¼Œè®¾ç½®ä¸€ä¸‹&lt;code&gt;type&lt;&#x2F;code&gt;å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)setContent&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSDictionary &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)content
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    _type &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; content[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;type&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯æˆ‘åœ¨ä½¿ç”¨ AFNetworking2.0 å’Œ ReactiveCocoa2.1 æ„å»º iOS REST Client æ—¶çš„ä¸€äº›å°å¿ƒå¾—ï¼Œç¡®å®èƒ½æ„Ÿè§‰åˆ° RAC å¸¦äº†ä¸å°‘æ–¹ä¾¿ï¼Œè™½ç„¶ä¹ŸåŒæ—¶å¸¦æ¥äº†ä¸€äº›å¼Šç«¯ï¼ˆå¦‚è¿”å›çš„å†…å®¹ä¸æ˜ç¡®ï¼Œå­¦ä¹ æˆæœ¬é«˜ï¼‰ï¼Œä½†è¿˜æ˜¯åˆ©å¤§äºå¼Šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰ä»€ä¹ˆé—®é¢˜å’Œæƒ³æ³•ï¼Œæ¬¢è¿äº¤æµã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ç±»ç°‡åœ¨iOSå¼€å‘ä¸­çš„åº”ç”¨</title>
            <pubDate>Sat, 04 Jan 2014 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/class-cluster/</link>
            <guid>https://limboy.me/posts/class-cluster/</guid>
            <description>&lt;p&gt;ç±»ç°‡(class cluster)æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œåœ¨ Foundation Framework ä¸­è¢«å¹¿æ³›ä½¿ç”¨ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;arr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;arrayWithObjects:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;foo&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;bar&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;arr class:&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, [arr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt;]);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; output: __NSArrayI
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ˜¾ç„¶&lt;code&gt;__NSArrayI&lt;&#x2F;code&gt;æ˜¯ä¸€ä¸ªç§æœ‰ç±»ï¼Œæ¥çœ‹çœ‹è¿™ä¸ªç±»çš„å¤´æ–‡ä»¶&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;__NSArrayI : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unsigned int&lt;&#x2F;span&gt;&lt;span&gt; _used;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡º&lt;code&gt;__NSArrayI&lt;&#x2F;code&gt;ç»§æ‰¿äº†&lt;code&gt;NSArray&lt;&#x2F;code&gt;ã€‚ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡å‘¢ï¼Ÿæ‹¿ NSNumber æ¥ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ NSNumber å¯ä»¥å­˜å‚¨å¤šç§ç±»å‹çš„æ•°å­—ï¼Œå¦‚ Int&#x2F;Float&#x2F;Double ç­‰ç­‰ï¼Œä¸€ç§æ–¹å¼æ˜¯æŠŠ NSNumber ä½œä¸ºåŸºç±»ï¼Œç„¶ååˆ†åˆ«å»å®ç°å„è‡ªçš„å­ç±»ï¼Œåƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;ios&#x2F;documentation&#x2F;general&#x2F;conceptual&#x2F;CocoaEncyclopedia&#x2F;Art&#x2F;cluster1.gif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;åˆçœ‹èµ·æ¥ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†å¦‚æœå­ç±»å¾ˆå¤šï¼Œåƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;ios&#x2F;documentation&#x2F;general&#x2F;conceptual&#x2F;CocoaEncyclopedia&#x2F;Art&#x2F;cluster2.gif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™å¯¹ä½¿ç”¨è€…æ¥è¯´æ˜¾ç„¶ä¸å¤Ÿæ–¹ä¾¿ï¼Œå¾—è®°ä½è¿™ä¹ˆå¤šç±»ã€‚å¦‚æœä½¿ç”¨ç±»ç°‡ï¼Œé—®é¢˜å°±å˜å¾—ç®€å•äº†ï¼ŒæŠŠ Number ä½œä¸ºæŠ½è±¡åŸºç±»ï¼Œå­ç±»å„è‡ªå®ç°å­˜å–æ–¹å¼ï¼Œç„¶ååœ¨åŸºç±»ä¸­å®šä¹‰å¤šä¸ªåˆå§‹åŒ–æ–¹å¼ï¼Œåƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;ios&#x2F;documentation&#x2F;general&#x2F;conceptual&#x2F;CocoaEncyclopedia&#x2F;Art&#x2F;cluster3.gif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç°åœ¨åªéœ€è¦è®°ä½ä¸€ä¸ªç±»å°±å¯ä»¥äº†ã€‚&lt;code&gt;NSNumber&lt;&#x2F;code&gt;çš„åˆå§‹åŒ–ä¼ªä»£ç å¤§æ¦‚åƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)initWithBool
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[__NSCFBoolean &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;]init];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)initWithLong
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[__NSCFNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;]init];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;zai-ios-xiang-mu-zhong-de-ying-yong&quot;&gt;åœ¨ iOS é¡¹ç›®ä¸­çš„åº”ç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨å¼€å‘ app æ—¶ç»å¸¸ä¼šé‡åˆ°è¡¨ç°å’Œè¡Œä¸ºå®Œå…¨ä¸€æ ·ï¼Œä½†æ•°æ®æºä¸ä¸€æ ·çš„æƒ…å†µã€‚ä»¥èŠ±ç“£ app ä¸ºä¾‹ï¼ŒåŒæ ·æ˜¯ç€‘å¸ƒæµï¼Œå¯èƒ½æ¥è‡ªæˆ‘å–œæ¬¢çš„å›¾ç‰‡ã€æŸä¸ªç”»æ¿ä¸‹çš„å›¾ç‰‡ã€æŸä¸ªç”¨æˆ·çš„å›¾ç‰‡ç­‰ç­‰ã€‚å¦‚æœä¸ºæ¯ä¸€ç§è¡¨ç°æ–¹å¼éƒ½æ–°å»ºä¸€ä¸ª Controllerï¼Œå¹¶ä¸”ä½¿ç”¨è¿™ä¸ª Controller æ¥åˆå§‹åŒ–ï¼Œé‚£ä¹ˆå°±ä¼šé‡åˆ°æœ€å¼€å§‹æåˆ°çš„é—®é¢˜ï¼šå­ç±»å¤ªå¤šï¼Œä½¿ç”¨ä¸ä¾¿ã€‚è¿™æ­£å¥½å¯ä»¥é€šè¿‡ç±»ç°‡æ¥å¾ˆæ–¹ä¾¿åœ°æå®šã€‚æ¯”å¦‚è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;HBWaterfallViewController
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;initWithLiked
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[HBLikedViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;]init];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;initWithBoardID:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSInteger&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;boardID
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[[HBBoardViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;]initWithBoardID&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;boardID];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma mark &lt;&#x2F;span&gt;&lt;span&gt;- é€šç”¨çš„æ–¹æ³•
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (PSUICollectionViewCell &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;collectionView:&lt;&#x2F;span&gt;&lt;span&gt;(PSUICollectionView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;collectionView
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cellForItemAtIndexPath:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSIndexPath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;indexPath
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#pragma mark &lt;&#x2F;span&gt;&lt;span&gt;- æ¯ä¸ªå­ç±»éœ€è¦å®ç°çš„æ–¹æ³•
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fetchMoreData
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    NSAssert(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NO&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;å­ç±»éœ€è¦å®ç°æ­¤æ–¹æ³•&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½¿ç”¨èµ·æ¥ç±»ä¼¼è¿™æ ·&lt;code&gt;[[HBWaterfallViewController alloc]initWithBoardID:9527]&lt;&#x2F;code&gt; æˆ– &lt;code&gt;[[HBWaterfallViewController alloc]initWithLiked]&lt;&#x2F;code&gt;ã€‚å¦‚æœæœ‰æ–°çš„ DataSourceï¼Œæ–°åŠ ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•å³å¯ï¼Œå¯¹äºä½¿ç”¨è€…æ¥è¯´ï¼Œæ‰“å¼€å¤´æ–‡ä»¶ï¼Œçœ‹ä¸‹ init å¼€å¤´çš„æ–¹æ³•å°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨å¾ˆå¤šåº”ç”¨éœ€è¦åŒæ—¶å…¼é¡¾ iOS6 å’Œ iOS7ï¼Œåœ¨è¡¨ç°ä¸Šéœ€è¦ä¸ºä¸åŒçš„ç³»ç»ŸåŠ è½½ä¸åŒçš„å›¾ç‰‡èµ„æºï¼Œæœ€ç®€å•ç²—æš´çš„æ–¹æ³•å°±æ˜¯å„ç§ if&#x2F;else åˆ¤æ–­ï¼Œåƒè¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;([[UIDevice &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;currentDevice&lt;&#x2F;span&gt;&lt;span&gt;]systemMajorVersion] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;7&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* iOS 6 and previous versions *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* iOS 7 and above *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¸å¤Ÿä¼˜é›…ï¼Œå¯ä»¥ä½¿ç”¨ç±»ç°‡çš„æ€æƒ³æ¥å»æ‰ if&#x2F;else åˆ¤æ–­ï¼ŒæŠŠè·Ÿè§†å›¾å…·ä½“å…ƒç´ æ— å…³çš„ä»£ç æ”¾åœ¨åŸºç±»ï¼Œè·Ÿç³»ç»Ÿç‰ˆæœ¬ç›¸å…³çš„ä»£ç æ‹†æˆä¸¤ä¸ªå­ç±»ï¼Œç„¶ååœ¨å„è‡ªçš„ç±»ä¸­åŠ è½½ç›¸åº”çš„èµ„æºã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* TestView.h *&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;TestView: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;UIView
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* Common method *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;- ( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;test&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* TestView.m *&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;TestView
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;[TestView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;class&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;([[UIDevice &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;currentDevice&lt;&#x2F;span&gt;&lt;span&gt;] systemMajorVersion] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;7&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[TestViewIOS6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;        {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[TestViewIOS7 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- ( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;test
&lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œ&lt;code&gt;alloc&lt;&#x2F;code&gt;æ—¶å¹¶æ²¡æœ‰è¿”å›&lt;code&gt;TestView&lt;&#x2F;code&gt;ç±»ï¼Œè€Œæ˜¯æ ¹æ®ç³»ç»Ÿç‰ˆæœ¬è¿”å›&lt;code&gt;TestViewIOS6&lt;&#x2F;code&gt; æˆ– &lt;code&gt;TestViewIOS7&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* TestViewIOS6.m *&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;TestViewIOS6: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;TestView
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;drawRect: &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;CGRect&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;rect
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* Custom iOS6 drawing code *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* TestViewIOS7.m *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;@implementation TestViewIOS7
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;drawRect: &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;CGRect&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;rect
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* Custom iOS7 drawing code *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;ç±»ç°‡çš„æœ¬è´¨å…¶å®æ˜¯&lt;a href=&quot;http:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82&quot;&gt;æŠ½è±¡å·¥å‚&lt;&#x2F;a&gt;ï¼Œç±»ç°‡ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªåŸºç±»ï¼Œå¦‚&lt;code&gt;NSArray&lt;&#x2F;code&gt;, &lt;code&gt;NSMutableArray&lt;&#x2F;code&gt;, åè€…å°±æ˜¯ç»§æ‰¿çš„å‰è€…ã€‚å®ƒå¯¹ä¸€äº›ã€Œå¤§åŒå°å¼‚ã€çš„é—®é¢˜ï¼Œå¾€å¾€ä¼šæœ‰ä¸é”™çš„æ•ˆæœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;mac&#x2F;documentation&#x2F;general&#x2F;conceptual&#x2F;devpedia-cocoacore&#x2F;ClassCluster.html&quot;&gt;Cocoa Core Competencies&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.noxeos.com&#x2F;2013&#x2F;06&#x2F;18&#x2F;strategies-support-ios7-ui&#x2F;&quot;&gt;Strategies to support iOS7 UI&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;ios&#x2F;documentation&#x2F;general&#x2F;conceptual&#x2F;CocoaEncyclopedia&#x2F;ClassClusters&#x2F;ClassClusters.html&quot;&gt;Class Cluster Concepts in Objective-C&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>è¯´è¯´ReactiveCocoa 2</title>
            <pubDate>Fri, 27 Dec 2013 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/reactivecocoa-2/</link>
            <guid>https://limboy.me/posts/reactivecocoa-2/</guid>
            <description>&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveCocoa&quot;&gt;ReactiveCocoa&lt;&#x2F;a&gt;æ˜¯&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;blog&#x2F;1107-reactivecocoa-for-a-better-world&quot;&gt;Github&lt;&#x2F;a&gt;å¼€æºçš„ä¸€æ¬¾ cocoa FRP æ¡†æ¶ï¼Œæˆ‘åœ¨&lt;a href=&quot;http:&#x2F;&#x2F;blog.leezhong.com&#x2F;ios&#x2F;2013&#x2F;06&#x2F;19&#x2F;frp-reactivecocoa.html&quot;&gt;ä¹‹å‰çš„æ–‡ç« &lt;&#x2F;a&gt;é‡Œæœ‰è¿‡ä»‹ç»(å½“æ—¶è¿˜æ˜¯ 1.x ç‰ˆæœ¬ï¼Œ2.x ç‰ˆæœ¬æœ‰äº†æ–°çš„å˜åŒ–ï¼ŒAPI ä¹Ÿæœ‰éƒ¨åˆ†ä¸å…¼å®¹) è¿™é‡Œå†ç®€å•åœ°æä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Native app æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†çš„æ—¶é—´æ˜¯åœ¨ç­‰å¾…äº‹ä»¶å‘ç”Ÿï¼Œç„¶åå“åº”äº‹ä»¶ï¼Œæ¯”å¦‚ç­‰å¾…ç½‘ç»œè¯·æ±‚å®Œæˆï¼Œç­‰å¾…ç”¨æˆ·çš„æ“ä½œï¼Œç­‰å¾…æŸäº›çŠ¶æ€å€¼çš„æ”¹å˜ç­‰ç­‰ï¼Œç­‰è¿™äº›äº‹ä»¶å‘ç”Ÿåï¼Œå†åšè¿›ä¸€æ­¥å¤„ç†ã€‚ ä½†æ˜¯è¿™äº›ç­‰å¾…å’Œå“åº”ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„å¤„ç†æ–¹å¼ã€‚Delegate, Notification, Block, KVO, å¸¸å¸¸ä¼šä¸çŸ¥é“è¯¥ç”¨å“ªä¸ªæœ€åˆé€‚ã€‚æœ‰æ—¶éœ€è¦ chain æˆ–è€… compose æŸå‡ ä¸ªäº‹ä»¶ï¼Œå°±éœ€è¦å¤šä¸ªçŠ¶æ€å˜é‡ï¼Œè€ŒçŠ¶æ€å˜é‡ä¸€å¤šï¼Œå¤æ‚åº¦ä¹Ÿå°±ä¸Šæ¥äº†ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒGithub çš„å·¥ç¨‹å¸ˆä»¬å¼€å‘äº† ReactiveCocoaã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ji-ge-chang-jian-de-gai-nian&quot;&gt;å‡ ä¸ªå¸¸è§çš„æ¦‚å¿µ&lt;&#x2F;h2&gt;
&lt;p&gt;åœ¨é˜…è¯» ReactiveCocoa(ä»¥ä¸‹ç®€ç§° RAC)çš„ç›¸å…³æ–‡ç« æˆ–ä»£ç æ—¶ï¼Œç»å¸¸ä¼šå‡ºç°ä¸€äº›åè¯ï¼Œç†è§£å®ƒä»¬å¯¹äºç†è§£ RAC æœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼Œä¸‹é¢å°±ç®€è¦æ¥è¯´è¯´è¿™äº›å¸¸è§çš„æ¦‚å¿µã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;signal-and-subscriber&quot;&gt;Signal and Subscriber&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯ RAC æœ€æ ¸å¿ƒçš„å†…å®¹ï¼Œè¿™é‡Œæˆ‘æƒ³ç”¨æ’å¤´å’Œæ’åº§æ¥æè¿°ï¼Œæ’åº§æ˜¯ Signalï¼Œæ’å¤´æ˜¯ Subscriberã€‚æƒ³è±¡æŸä¸ªé¥è¿œçš„æ˜Ÿçƒï¼Œä»–ä»¬çš„ç”µåƒæŸç§ç‰©è´¨ä¸€æ ·è¢«é›†ä¸­å­˜å‚¨ï¼Œä¸”å¾ˆçè´µã€‚æ’åº§è´Ÿè´£å»è·å–ç”µï¼Œæ’å¤´è´Ÿè´£ä½¿ç”¨ç”µï¼Œè€Œä¸”ä¸€ä¸ªæ’åº§å¯ä»¥æ’ä»»æ„æ•°é‡çš„æ’å¤´ã€‚å½“ä¸€ä¸ªæ’åº§(Signal)æ²¡æœ‰æ’å¤´(Subscriber)æ—¶ä»€ä¹ˆä¹Ÿä¸å¹²ï¼Œä¹Ÿå°±æ˜¯å¤„äºå†·(Cold)çš„çŠ¶æ€ï¼Œåªæœ‰æ’äº†æ’å¤´æ—¶æ‰ä¼šå»è·å–ï¼Œè¿™ä¸ªæ—¶å€™å°±å¤„äºçƒ­(Hot)çš„çŠ¶æ€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Signal è·å–åˆ°æ•°æ®åï¼Œä¼šè°ƒç”¨ Subscriber çš„ sendNext, sendComplete, sendError æ–¹æ³•æ¥ä¼ é€æ•°æ®ç»™ Subscriberï¼ŒSubscriber è‡ªç„¶ä¹Ÿæœ‰æ–¹æ³•æ¥è·å–ä¼ è¿‡æ¥çš„æ•°æ®ï¼Œå¦‚ï¼š[signal subscribeNext:error:completed]ã€‚è¿™æ ·åªè¦æ²¡æœ‰ sendComplete å’Œ sendErrorï¼Œæ–°çš„å€¼å°±ä¼šé€šè¿‡ sendNext æºæºä¸æ–­åœ°ä¼ é€è¿‡æ¥ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACObserve&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, username)&lt;&#x2F;span&gt;&lt;span&gt; subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: ^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;newName){
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;newName:&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, newName);
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;RACObserve&lt;&#x2F;code&gt;ä½¿ç”¨äº† KVO æ¥ç›‘å¬ property çš„å˜åŒ–ï¼Œåªè¦ username è¢«è‡ªå·±æˆ–å¤–éƒ¨æ”¹å˜ï¼Œblock å°±ä¼šè¢«æ‰§è¡Œã€‚ä½†ä¸æ˜¯æ‰€æœ‰çš„ property éƒ½å¯ä»¥è¢«&lt;code&gt;RACObserve&lt;&#x2F;code&gt;ï¼Œè¯¥ property å¿…é¡»æ”¯æŒ KVOï¼Œæ¯”å¦‚ NSURLCache çš„ currentDiskUsage å°±ä¸èƒ½è¢«&lt;code&gt;RACObserve&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Signal æ˜¯å¾ˆçµæ´»çš„ï¼Œå®ƒå¯ä»¥è¢«ä¿®æ”¹(map)ï¼Œè¿‡æ»¤(filter)ï¼Œå åŠ (combine)ï¼Œä¸²è”(chain)ï¼Œè¿™æœ‰åŠ©äºåº”å¯¹æ›´åŠ å¤æ‚çš„æƒ…å†µï¼Œæ¯”å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RAC&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;logInButton&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, enabled) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal
&lt;&#x2F;span&gt;&lt;span&gt;        combineLatest&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;@[
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;usernameTextField&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_textSignal&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;passwordTextField&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_textSignal&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACObserve&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(LoginManager.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;sharedManager&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, loggingIn)&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACObserve&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, loggedIn)
&lt;&#x2F;span&gt;&lt;span&gt;        ] reduce&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;username, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;password, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;loggingIn, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;loggedIn) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; @(username.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;length &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt; password.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;length &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; !&lt;&#x2F;span&gt;&lt;span&gt;loggingIn.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;boolValue &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; !&lt;&#x2F;span&gt;&lt;span&gt;loggedIn.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;boolValue&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;        }];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ®µä»£ç çœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œæ¥ç»†ç»†è¯´ä¸€ä¸‹ï¼Œé¦–å…ˆæ˜¯å·¦è¾¹çš„&lt;code&gt;RAC(...)&lt;&#x2F;code&gt;ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†&lt;code&gt;self.logInButton.enabled&lt;&#x2F;code&gt;å±æ€§ä¸å³è¾¹çš„ signal çš„ sendNext å€¼ç»‘å®šã€‚ä¹Ÿå°±æ˜¯å¦‚æœå³è¾¹çš„ reduce çš„è¿”å›å€¼ä¸º NOï¼Œé‚£ä¹ˆ enabled å°±ä¸º NOã€‚å³è¾¹çš„&lt;code&gt;combineLatest&lt;&#x2F;code&gt;æ˜¯è·å–è¿™ 4 ä¸ª signal çš„ next å€¼ã€‚å…¶ä¸­å¯ä»¥çœ‹åˆ°&lt;code&gt;self.usernameTextField.rac_textSignal&lt;&#x2F;code&gt;è¿™ä¹ˆä¸ªä¸œä¸œï¼Œ&lt;code&gt;rac_textSignal&lt;&#x2F;code&gt;æ˜¯ RAC ä¸º UITextField æ·»åŠ çš„ categoryï¼Œåªè¦ usernameTextField çš„å€¼æœ‰å˜åŒ–ï¼Œè¿™ä¸ªå€¼å°±ä¼šè¢«è¿”å›(sendNext)ã€‚combineLatest éœ€è¦æ¯ä¸ª signal è‡³å°‘éƒ½æœ‰è¿‡ä¸€æ¬¡ sendNextã€‚reduce çš„ä½œç”¨æ˜¯æ ¹æ®æ¥æ”¶åˆ°çš„å€¼ï¼Œå†è¿”å›ä¸€ä¸ªæ–°çš„å€¼ï¼Œè¿™é‡Œæ˜¯@(YES)å’Œ@(NO)ï¼Œå¿…é¡»æ˜¯ objectã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸Šé¢è¿™æ®µä»£ç ç”¨åˆ°äº† Signal çš„ç»„åˆï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯ä¼ ç»Ÿçš„æ–¹å¼ï¼Œå†™èµ·æ¥è¿˜æ˜¯æŒºå¤æ‚çš„ï¼Œè€Œä¸”éšç€åŠŸèƒ½çš„å¢åŠ ï¼Œè°ƒæ•´èµ·æ¥ä¼šæ›´åŠ éº»çƒ¦ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;leng-xin-hao-cold-he-re-xin-hao-hot&quot;&gt;å†·ä¿¡å·(Cold)å’Œçƒ­ä¿¡å·(Hot)&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸Šé¢æåˆ°è¿‡è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œå†·ä¿¡å·é»˜è®¤ä»€ä¹ˆä¹Ÿä¸å¹²ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;signal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createSignal:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; RACDisposable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;RACSubscriber&amp;gt; subscriber) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;triggered&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	[subscriber sendNext:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;foobar&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    [subscriber sendCompleted];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª Signalï¼Œä½†å› ä¸ºæ²¡æœ‰è¢« subscribeï¼Œæ‰€ä»¥ä»€ä¹ˆä¹Ÿä¸ä¼šå‘ç”Ÿã€‚åŠ äº†ä¸‹é¢è¿™æ®µä»£ç åï¼Œsignal å°±å¤„äº Hot çš„çŠ¶æ€äº†ï¼Œblock é‡Œçš„ä»£ç å°±ä¼šè¢«æ‰§è¡Œã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[signal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;subscribeCompleted:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;subscription &lt;&#x2F;span&gt;&lt;span&gt;%u&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, subscriptions);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æˆ–è®¸ä½ ä¼šé—®ï¼Œé‚£å¦‚æœè¿™æ—¶åˆæœ‰ä¸€ä¸ªæ–°çš„ subscriber äº†ï¼Œsignal çš„ block è¿˜ä¼šè¢«æ‰§è¡Œå—ï¼Ÿè¿™å°±ç‰µæ‰¯åˆ°äº†å¦ä¸€ä¸ªæ¦‚å¿µï¼šSide Effect&lt;&#x2F;p&gt;
&lt;h3 id=&quot;side-effect&quot;&gt;Side Effect&lt;&#x2F;h3&gt;
&lt;p&gt;è¿˜æ˜¯ä¸Šé¢é‚£æ®µä»£ç ï¼Œå¦‚æœæœ‰å¤šä¸ª subscriberï¼Œé‚£ä¹ˆ signal å°±ä¼šåˆä¸€æ¬¡è¢«è§¦å‘ï¼Œæ§åˆ¶å°é‡Œä¼šè¾“å‡ºä¸¤æ¬¡&lt;code&gt;triggered&lt;&#x2F;code&gt;ã€‚è¿™æˆ–è®¸æ˜¯ä½ æƒ³è¦çš„ï¼Œæˆ–è®¸ä¸æ˜¯ã€‚å¦‚æœè¦é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;replay&lt;&#x2F;code&gt; æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¿è¯ signal åªè¢«è§¦å‘ä¸€æ¬¡ï¼Œç„¶åæŠŠ sendNext çš„ value å­˜èµ·æ¥ï¼Œä¸‹æ¬¡å†æœ‰æ–°çš„ subscriber æ—¶ï¼Œç›´æ¥å‘é€ç¼“å­˜çš„æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;cocoa-categories&quot;&gt;Cocoa Categories&lt;&#x2F;h2&gt;
&lt;p&gt;ä¸ºäº†æ›´åŠ æ–¹ä¾¿åœ°ä½¿ç”¨ RACï¼ŒRAC ç»™ Cocoa æ·»åŠ äº†å¾ˆå¤š categoryï¼Œä¸ç³»ç»Ÿé›†æˆåœ°è¶Šç´§å¯†ï¼Œä½¿ç”¨èµ·æ¥è‡ªç„¶ä¹Ÿå°±è¶Šæ–¹ä¾¿ã€‚ä¸‹é¢æ˜¯æˆ‘è®¤ä¸ºæ¯”è¾ƒå¸¸ç”¨çš„ categoriesã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;uiview-categories&quot;&gt;UIView Categories&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸Šé¢çœ‹åˆ°çš„&lt;code&gt;rac_textSignal&lt;&#x2F;code&gt;æ˜¯åŠ åœ¨ UITextField ä¸Šçš„(UITextField+RACSignalSupport.h)ï¼Œå…¶ä»–å¸¸ç”¨çš„ UIView ä¹Ÿéƒ½æœ‰æ·»åŠ ç›¸åº”çš„ categoryï¼Œæ¯”å¦‚ UIAlertViewï¼Œå°±ä¸éœ€è¦å†ç”¨ Delegate äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;UIAlertView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;alertView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[UIAlertView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithTitle&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; message&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Alert&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; delegate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt; cancelButtonTitle&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;YES&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; otherButtonTitles&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;NO&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;[[alertView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_buttonClickedSignal&lt;&#x2F;span&gt;&lt;span&gt;] subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;indexNumber) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;([indexNumber &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;intValue&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;you touched NO&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;	} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;you touched YES&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;span&gt;[alertView &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;show&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æœ‰äº†è¿™äº› Categoryï¼Œå¤§éƒ¨åˆ†çš„ Delegate éƒ½å¯ä»¥ä½¿ç”¨ RAC æ¥åšã€‚æˆ–è®¸ä½ ä¼šæƒ³ï¼Œå¯ä¸å¯ä»¥ subscribe NSMutableArray.rac_sequence.signalï¼Œè¿™æ ·æ¯æ¬¡æœ‰æ–°çš„ object æˆ–æ—§çš„ object è¢«ç§»é™¤æ—¶éƒ½èƒ½çŸ¥é“ï¼ŒUITableViewController å°±å¯ä»¥æ ¹æ® dataSource çš„å˜åŒ–ï¼Œæ¥ reloadDataã€‚ä½†å¾ˆå¯æƒœè¿™æ ·ä¸è¡Œï¼Œå› ä¸º RAC æ˜¯åŸºäº KVO çš„ï¼Œè€Œ NSMutableArray å¹¶ä¸ä¼šåœ¨è°ƒç”¨ addObject æˆ– removeObject æ—¶å‘é€é€šçŸ¥ï¼Œæ‰€ä»¥ä¸å¯è¡Œã€‚ä¸è¿‡å¯ä»¥ä½¿ç”¨ NSArray ä½œä¸º UITableView çš„ dataSourceï¼Œåªè¦ dataSource æœ‰å˜åŠ¨å°±æ¢æˆæ–°çš„ Arrayï¼Œè¿™æ ·å°±å¯ä»¥äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¯´åˆ° UITableViewï¼Œå†è¯´ä¸€ä¸‹ UITableViewCellï¼ŒRAC ç»™ UITableViewCell æä¾›äº†ä¸€ä¸ªæ–¹æ³•ï¼š&lt;code&gt;rac_prepareForReuseSignal&lt;&#x2F;code&gt;ï¼Œå®ƒçš„ä½œç”¨æ˜¯å½“ Cell å³å°†è¦è¢«é‡ç”¨æ—¶ï¼Œå‘Šè¯‰ Cellã€‚æƒ³è±¡ Cell ä¸Šæœ‰å¤šä¸ª buttonï¼ŒCell åœ¨åˆå§‹åŒ–æ—¶ç»™æ¯ä¸ª button éƒ½&lt;code&gt;addTarget:action:forControlEvents&lt;&#x2F;code&gt;ï¼Œè¢«é‡ç”¨æ—¶éœ€è¦å…ˆç§»é™¤è¿™äº› targetï¼Œä¸‹é¢è¿™æ®µä»£ç å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cancelButton
&lt;&#x2F;span&gt;&lt;span&gt;	rac_signalForControlEvents&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;UIControlEventTouchUpInside]
&lt;&#x2F;span&gt;&lt;span&gt;	takeUntil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_prepareForReuseSignal&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;	subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(UIButton &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;x) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; do other things
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„ category å°±æ˜¯&lt;code&gt;UIButton+RACCommandSupport.h&lt;&#x2F;code&gt;ï¼Œå®ƒæä¾›äº†ä¸€ä¸ª propertyï¼š&lt;code&gt;rac_command&lt;&#x2F;code&gt;ï¼Œå°±æ˜¯å½“ button è¢«æŒ‰ä¸‹æ—¶ä¼šæ‰§è¡Œçš„ä¸€ä¸ªå‘½ä»¤ï¼Œå‘½ä»¤è¢«æ‰§è¡Œå®Œåå¯ä»¥è¿”å›ä¸€ä¸ª signalï¼Œæœ‰äº† signal å°±æœ‰äº†çµæ´»æ€§ã€‚æ¯”å¦‚ç‚¹å‡»æŠ•ç¥¨æŒ‰é’®ï¼Œå…ˆåˆ¤æ–­ä¸€ä¸‹æœ‰æ²¡æœ‰ç™»å½•ï¼Œå¦‚æœæœ‰å°±å‘ HTTP è¯·æ±‚ï¼Œæ²¡æœ‰å°±å¼¹å‡ºç™»é™†æ¡†ï¼Œå¯ä»¥è¿™ä¹ˆå®ç°ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;voteButton.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_command &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[RACCommand &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithEnabled&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;voteCommand&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;enabled&lt;&#x2F;span&gt;&lt;span&gt; signalBlock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;input) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Assume that we&amp;#39;re logged in at first. We&amp;#39;ll replace this signal later if not.
&lt;&#x2F;span&gt;&lt;span&gt;	RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;authSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;empty&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;([[PXRequest &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;apiHelper&lt;&#x2F;span&gt;&lt;span&gt;] authMode] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span&gt; PXAPIHelperModeNoAuth) {
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Not logged in. Replace signal.
&lt;&#x2F;span&gt;&lt;span&gt;		authSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createSignal:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;RACDisposable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;RACSubscriber&amp;gt; subscriber) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;			@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;strongify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;			FRPLoginViewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;viewController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[[FRPLoginViewController alloc] initWithNibName&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;FRPLoginViewController&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; bundle&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;			UINavigationController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;navigationController &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[[UINavigationController alloc] initWithRootViewController&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;viewController];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;			[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;presentViewController:navigationController animated:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;completion:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;				[subscriber sendCompleted];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;			}];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		}&lt;&#x2F;span&gt;&lt;span&gt;]];
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[authSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;then:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;strongify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;viewModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;voteCommand&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; execute&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;] ignoreValues];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;span&gt;[voteButton.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_command&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;errors&lt;&#x2F;span&gt;&lt;span&gt; subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;x) {
&lt;&#x2F;span&gt;&lt;span&gt;	[x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;subscribeNext:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		[SVProgressHUD showErrorWithStatus:[error localizedDescription]];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ®µä»£ç èŠ‚é€‰è‡ª AshFurrow çš„&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;AshFurrow&#x2F;FunctionalReactivePixels&quot;&gt;FunctionalReactivePixels&lt;&#x2F;a&gt;ï¼Œæœ‰åˆ å‡ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;data-structure-categories&quot;&gt;Data Structure Categories&lt;&#x2F;h3&gt;
&lt;p&gt;å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¦‚ NSArray, NSDictionary ä¹Ÿéƒ½æœ‰æ·»åŠ ç›¸åº”çš„ categoryï¼Œæ¯”å¦‚&lt;code&gt;NSArray&lt;&#x2F;code&gt;æ·»åŠ äº†&lt;code&gt;rac_sequence&lt;&#x2F;code&gt;ï¼Œå¯ä»¥å°†&lt;code&gt;NSArray&lt;&#x2F;code&gt;è½¬æ¢ä¸º&lt;code&gt;RACSequence&lt;&#x2F;code&gt;ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹&lt;code&gt;RACSequence&lt;&#x2F;code&gt;, &lt;code&gt;RACSequence&lt;&#x2F;code&gt;æ˜¯ä¸€ç»„ immutable ä¸”æœ‰åºçš„ valuesï¼Œä¸è¿‡è¿™äº› values æ˜¯è¿è¡Œæ—¶è®¡ç®—çš„ï¼Œæ‰€ä»¥å¯¹æ€§èƒ½æå‡æœ‰ä¸€å®šçš„å¸®åŠ©ã€‚&lt;code&gt;RACSequence&lt;&#x2F;code&gt;æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œå¦‚&lt;code&gt;array&lt;&#x2F;code&gt;è½¬æ¢ä¸º&lt;code&gt;NSArray&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;any:&lt;&#x2F;code&gt;æ£€æŸ¥æ˜¯å¦æœ‰ Value ç¬¦åˆè¦æ±‚ï¼Œ&lt;code&gt;all:&lt;&#x2F;code&gt;æ£€æŸ¥æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ value éƒ½ç¬¦åˆè¦æ±‚ï¼Œè¿™é‡Œçš„ç¬¦åˆè¦æ±‚çš„ï¼Œblock è¿”å› YESï¼Œä¸ç¬¦åˆè¦æ±‚çš„å°±è¿”å› NOã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;notificationcenter-category&quot;&gt;NotificationCenter Category&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;code&gt;NSNotificationCenter&lt;&#x2F;code&gt;, é»˜è®¤æƒ…å†µä¸‹&lt;code&gt;NSNotificationCenter&lt;&#x2F;code&gt;ä½¿ç”¨&lt;code&gt;Target-Action&lt;&#x2F;code&gt;æ–¹å¼æ¥å¤„ç† Notificationï¼Œè¿™æ ·å°±éœ€è¦å¦å¤–å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™å°±æ¶‰åŠåˆ°ç¼–ç¨‹é¢†åŸŸçš„ä¸¤å¤§éš¾é¢˜ä¹‹ä¸€ï¼šèµ·åå­—ã€‚æœ‰äº† RACï¼Œå°±æœ‰ Signalï¼Œæœ‰äº† Signal å°±å¯ä»¥ subscribeï¼Œäºæ˜¯&lt;code&gt;NotificationCenter&lt;&#x2F;code&gt;å°±å¯ä»¥è¿™ä¹ˆæ¥å¤„ç†ï¼Œè¿˜ä¸ç”¨æ‹…å¿ƒç§»é™¤ observer çš„é—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNotificationCenter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;defaultCenter&lt;&#x2F;span&gt;&lt;span&gt;] rac_addObserverForName&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;MyNotification&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; object&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;] subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NSNotification &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;notification) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Notification Received&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;nsobject-categories&quot;&gt;NSObject Categories&lt;&#x2F;h3&gt;
&lt;p&gt;NSObject æœ‰ä¸å°‘çš„ Categoryï¼Œæˆ‘è§‰å¾—æ¯”è¾ƒæœ‰ç”¨çš„æœ‰è¿™ä¹ˆå‡ ä¸ª&lt;&#x2F;p&gt;
&lt;h4 id=&quot;nsobject-racdeallocating-h&quot;&gt;NSObject+RACDeallocating.h&lt;&#x2F;h4&gt;
&lt;p&gt;é¡¾åæ€ä¹‰å°±æ˜¯åœ¨ä¸€ä¸ª object çš„ dealloc è¢«è§¦å‘æ—¶ï¼Œæ‰§è¡Œçš„ä¸€æ®µä»£ç ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;array &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; @[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;foo&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;[[array &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_willDeallocSignal&lt;&#x2F;span&gt;&lt;span&gt;] subscribeCompleted&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;oops, i will be gone&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;span&gt;array &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;nsobject-raclifting-h&quot;&gt;NSObject+RACLifting.h&lt;&#x2F;h4&gt;
&lt;p&gt;æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æŸä¸ªæ–¹æ³•ï¼Œæœ‰äº†è¿™ä¸ª category å°±å¯ä»¥è¿™ä¹ˆåŠ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)test
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;signalA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createSignal:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;RACDisposable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;RACSubscriber&amp;gt; subscriber) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;double&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; delayInSeconds &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2.0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        dispatch_time_t popTime &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_time&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(DISPATCH_TIME_NOW, (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;int64_t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)(delayInSeconds &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; NSEC_PER_SEC));
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_after&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(popTime, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_get_main_queue&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;            [subscriber sendNext:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;A&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        });
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;signalB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;createSignal:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;RACDisposable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;&amp;lt;RACSubscriber&amp;gt; subscriber) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [subscriber sendNext:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;B&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [subscriber sendNext:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Another B&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        [subscriber sendCompleted];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;rac_liftSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(doA:withB:) withSignals:signalA, signalB, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)doA&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)A withB&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)B
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;A:&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; and B:&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, A, B);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œçš„&lt;code&gt;rac_liftSelector:withSignals&lt;&#x2F;code&gt; å°±æ˜¯å¹²è¿™ä»¶äº‹çš„ï¼Œå®ƒçš„æ„æ€æ˜¯å½“ signalA å’Œ signalB éƒ½è‡³å°‘ sendNext è¿‡ä¸€æ¬¡ï¼Œæ¥ä¸‹æ¥åªè¦å…¶ä¸­ä»»æ„ä¸€ä¸ª signal æœ‰äº†æ–°çš„å†…å®¹ï¼Œ&lt;code&gt;doA:withB&lt;&#x2F;code&gt;è¿™ä¸ªæ–¹æ³•å°±ä¼šè‡ªåŠ¨è¢«è§¦å‘ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥æƒ³æƒ³ä¸Šé¢è¿™æ®µä»£ç ä¼šè¾“å‡ºä»€ä¹ˆã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;nsobject-racselectorsignal-h&quot;&gt;NSObject+RACSelectorSignal.h&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¸ª category æœ‰&lt;code&gt;rac_signalForSelector:&lt;&#x2F;code&gt;å’Œ&lt;code&gt;rac_signalForSelector:fromProtocol:&lt;&#x2F;code&gt; è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚å…ˆæ¥çœ‹å‰ä¸€ä¸ªï¼Œå®ƒçš„æ„æ€æ˜¯å½“æŸä¸ª selector è¢«è°ƒç”¨æ—¶ï¼Œå†æ‰§è¡Œä¸€æ®µæŒ‡å®šçš„ä»£ç ï¼Œç›¸å½“äº hookã€‚æ¯”å¦‚ç‚¹å‡»æŸä¸ªæŒ‰é’®åï¼Œè®°ä¸ªæ—¥å¿—ã€‚åè€…è¡¨ç¤ºè¯¥ selector å®ç°äº†æŸä¸ªåè®®ï¼Œæ‰€ä»¥å¯ä»¥ç”¨å®ƒæ¥å®ç° Delegateã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;mvvm&quot;&gt;MVVM&lt;&#x2F;h2&gt;
&lt;p&gt;RAC å¸¦æ¥çš„å˜åŒ–è¿˜ä¸ä»…ä»…æ˜¯è¿™äº›ï¼Œå®ƒè¿˜å¸¦æ¥äº†æ¶æ„å±‚é¢çš„å˜åŒ–ã€‚æˆ‘ä»¬éƒ½çŸ¥é“è‹¹æœæ¨èçš„æ˜¯ MVC æ¶æ„ï¼Œé‚£ MVVM åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;f.cloud.github.com&#x2F;assets&#x2F;432536&#x2F;867984&#x2F;291ed380-f760-11e2-9106-d3158320af39.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è·Ÿ MVC æœ€å¤§çš„åŒºåˆ«æ˜¯å¤šäº†ä¸ª&lt;code&gt;ViewModel&lt;&#x2F;code&gt;ï¼Œå®ƒç›´æ¥ä¸ View ç»‘å®šï¼Œè€Œä¸”å¯¹ View ä¸€æ— æ‰€çŸ¥ã€‚æ‹¿åšèœæ‰“æ¯”æ–¹çš„è¯ï¼ŒViewModel å°±æ˜¯è°ƒæ–™ï¼Œå®ƒä¸å…³å¿ƒåšçš„åˆ°åº•æ˜¯ä»€ä¹ˆèœã€‚è¿™ä¸æ˜¯è·Ÿ&lt;code&gt;Model&lt;&#x2F;code&gt;å¾ˆåƒå—ï¼Ÿæ˜¯çš„ï¼Œå®ƒå¯ä»¥æ‰®æ¼” Model çš„èŒè´£ï¼Œä½†å…¶å®å®ƒæ˜¯ Model çš„ä¸­ä»‹ï¼Œè¿™æ ·å½“ Model çš„ API æœ‰å˜åŒ–ï¼Œæˆ–è€…ç”±æœ¬åœ°å­˜å‚¨å˜ä¸ºè¿œç¨‹ API è°ƒç”¨æ—¶ï¼ŒViewModel çš„ public API å¯ä»¥ä¿æŒä¸å˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨ ViewModel çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥è®© Controller æ›´åŠ ç®€å•å’Œè½»ä¾¿ï¼Œè€Œä¸” ViewModel ç›¸å¯¹ç‹¬ç«‹ï¼Œä¹Ÿæ›´åŠ æ–¹ä¾¿æµ‹è¯•å’Œé‡ç”¨ã€‚é‚£ Controller è¿™æ—¶åˆè¯¥åšå“ªäº›äº‹å‘¢ï¼Ÿåœ¨ MVVM ä½“ç³»ä¸­ï¼ŒController å¯ä»¥è¢«çœ‹æˆ Viewï¼Œæ‰€ä»¥å®ƒçš„ä¸»è¦å·¥ä½œæ˜¯å¤„ç†å¸ƒå±€ã€åŠ¨ç”»ã€æ¥æ”¶ç³»ç»Ÿäº‹ä»¶ã€å±•ç¤º UIã€‚&lt;&#x2F;p&gt;
&lt;p&gt;MVVM è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µæ˜¯ &lt;code&gt;data binding&lt;&#x2F;code&gt;ï¼Œview çš„å‘ˆç°éœ€è¦ dataï¼Œè¿™ä¸ª data å°±æ˜¯ç”± ViewModel æä¾›çš„ï¼Œå°† view çš„ data ä¸ ViewModel çš„ data ç»‘å®šåï¼Œå°†æ¥åŒæ–¹çš„æ•°æ®åªè¦ä¸€æ–¹æœ‰å˜åŒ–ï¼Œå¦ä¸€æ–¹å°±èƒ½æ”¶åˆ°ã€‚&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveViewModel&quot;&gt;è¿™é‡Œ&lt;&#x2F;a&gt;æœ‰ Github å¼€æºçš„ä¸€ä¸ª ViewModel Base Classã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;qi-ta&quot;&gt;å…¶ä»–&lt;&#x2F;h2&gt;
&lt;p&gt;RAC åœ¨ä½¿ç”¨æ—¶æœ‰ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹çš„&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveCocoa&#x2F;blob&#x2F;master&#x2F;Documentation&#x2F;DesignGuidelines.md&quot;&gt;DesignGuildLines&lt;&#x2F;a&gt;ï¼Œè¿™é‡Œç®€å•è¯´ä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ä¸€ä¸ª signal è¢«ä¸€ä¸ª subscriber subscribe åï¼Œè¿™ä¸ª subscriber ä½•æ—¶ä¼šè¢«ç§»é™¤ï¼Ÿç­”æ¡ˆæ˜¯å½“ subscriber è¢« sendComplete æˆ– sendError æ—¶ï¼Œæˆ–è€…æ‰‹åŠ¨è°ƒç”¨[disposable dispose]ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ subscriber è¢« dispose åï¼Œæ‰€æœ‰è¯¥ subscriber ç›¸å…³çš„å·¥ä½œéƒ½ä¼šè¢«åœæ­¢æˆ–å–æ¶ˆï¼Œå¦‚ http è¯·æ±‚ï¼Œèµ„æºä¹Ÿä¼šè¢«é‡Šæ”¾ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Signal events æ˜¯çº¿æ€§çš„ï¼Œä¸ä¼šå‡ºç°å¹¶å‘çš„æƒ…å†µï¼Œé™¤éæ˜¾ç¤ºåœ°æŒ‡å®š Schedulerã€‚æ‰€ä»¥&lt;code&gt;-subscribeNext:error:completed:&lt;&#x2F;code&gt;é‡Œçš„ block ä¸éœ€è¦é”å®šæˆ–è€… synchronized ç­‰æ“ä½œï¼Œå…¶ä»–çš„ events ä¼šä¾æ¬¡æ’é˜Ÿï¼Œç›´åˆ° block å¤„ç†å®Œæˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Errors æœ‰ä¼˜å…ˆæƒï¼Œå¦‚æœæœ‰å¤šä¸ª signals è¢«åŒæ—¶ç›‘å¬ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ª signal sendErrorï¼Œé‚£ä¹ˆ error å°±ä¼šç«‹åˆ»è¢«ä¼ é€ç»™ subscriberï¼Œå¹¶å¯¼è‡´ signals ç»ˆæ­¢æ‰§è¡Œã€‚ç›¸å½“äº Exceptionã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç”Ÿæˆ Signal æ—¶ï¼Œæœ€å¥½æŒ‡å®š Name, &lt;code&gt;-setNameWithFormat:&lt;&#x2F;code&gt; æ–¹ä¾¿è°ƒè¯•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;block ä»£ç ä¸­ä¸è¦é˜»å¡ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h2&gt;
&lt;p&gt;å°½ç®¡æ´‹æ´‹æ´’æ´’å†™äº†è¿™ä¹ˆå¤šï¼Œä¹Ÿåªæ˜¯å¯¹ RAC æœ‰äº†ä¸ªå¤§æ¦‚çš„äº†è§£ï¼Œå¦‚æœè¦æ›´æ·±å…¥åœ°äº†è§£ RAC è¿˜æ˜¯éœ€è¦å¤šè¯»æ–‡æ¡£ã€ä»£ç å’Œç›¸å…³é¡¹ç›®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;RAC å­¦ä¹ èµ·æ¥ç¨æ˜¾åƒåŠ›ï¼Œä¸”ç›¸å…³çš„æ–‡ç« ç›®å‰è¿˜ä¸å¤šï¼Œä¸­æ–‡çš„å°±æ›´å°‘äº†ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸¦ç»™ä½ äº›å¸®åŠ©ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯æˆ‘è§‰å¾—è¿˜ä¸é”™çš„ RAC ç›¸å…³èµ„æº&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;AshFurrow&#x2F;FunctionalReactivePixels&quot;&gt;FunctionalReactivePixels&lt;&#x2F;a&gt; ä½œè€…åŒæ—¶è¿˜å‡ºäº†ä¸€æœ¬ FRP ç›¸å…³çš„ä¹¦ï¼Œä¸ªäººè§‰å¾—çœ‹æºç å°±è¶³å¤Ÿäº†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;jspahrsummers&#x2F;GroceryList&quot;&gt;GroceryList&lt;&#x2F;a&gt; RAC çš„ä½œè€…ä¹‹ä¸€ jspahrsummers çš„ä¸€ä¸ªé¡¹ç›®&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;codeblog.shape.dk&#x2F;blog&#x2F;2013&#x2F;12&#x2F;05&#x2F;reactivecocoa-essentials-understanding-and-using-raccommand&#x2F;&quot;&gt;ReactiveCocoa Essentilas: Understanding and Using RACCommand&lt;&#x2F;a&gt; ä»‹ç»äº† RACCommand çš„ä½¿ç”¨ï¼ŒåŒæ—¶ä¹Ÿæ¶‰åŠäº† RAC ç›¸å…³çš„ä¸€äº›ç‚¹ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;codeblog.shape.dk&#x2F;blog&#x2F;2013&#x2F;12&#x2F;02&#x2F;transparent-oauth-token-refresh-using-reactivecocoa&#x2F;&quot;&gt;Transparent OAuth Token Refresh Using ReactiveCocoa&lt;&#x2F;a&gt; è¿™ç¯‡æ–‡ç« è®²äº†å¦‚ä½•ä½¿ç”¨ RAC æ¥é€æ˜åœ°è·å– Access Tokenï¼Œç„¶åç»§ç»­å‘é€è¯·æ±‚ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;vimeo.com&#x2F;78749139&quot;&gt;BNR: An Introduction to ReactiveCocoa&lt;&#x2F;a&gt;(è§†é¢‘)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>è¯»ã€Šç¨‹åºå‘˜çš„æ€ç»´ä¿®ç‚¼ã€‹</title>
            <pubDate>Sun, 06 Oct 2013 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/pragmatic-thinking-and-learning/</link>
            <guid>https://limboy.me/posts/pragmatic-thinking-and-learning/</guid>
            <description>&lt;p&gt;è™½ç„¶å† ä»¥ã€Œç¨‹åºå‘˜ã€çš„åå¤´ï¼Œä½†å…¶å®ä¹Ÿé€‚ç”¨äºéç¨‹åºå‘˜ã€‚è¿™æœ¬ä¹¦ä¸»è¦å›´ç»•ã€Œå¦‚ä½•æå‡å…ƒå­¦ä¹ èƒ½åŠ›ã€å±•å¼€ï¼Œæ‰€è°“ã€Œå…ƒå­¦ä¹ ã€å°±æ˜¯å­¦ä¹ å¦‚ä½•å­¦ä¹ ã€‚æŒæ¡äº†è¿™ç§èƒ½åŠ›ååœ¨å…¶ä»–é¢†åŸŸä¹Ÿå¯ä»¥å¦‚é±¼å¾—æ°´ã€‚è¿˜ä»‹ç»äº† L å‹å’Œ R å‹åŒ CPU æ¨¡å¼ï¼Œé˜…è¯»çš„æŠ€å·§ï¼Œç›®æ ‡çš„è®¾å®šç­‰ç­‰ã€‚è¯»èµ·æ¥ä¸ç´¯ï¼ŒåŒæ—¶åˆä¼šæœ‰ä¸å°‘æ”¶è·ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç®€å•æ‘˜å½•äº†å‡ å¥ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åŸ¹å…»å¹½é»˜æ„Ÿï¼Œä»¥å»ºç«‹æ›´å¼ºå¤§çš„éšå–»ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ä¸¤ä¸ªæƒ³æ³•ç›¸è·è¶Šè¿œï¼Œè¶Šéš¾ä»¥é€šè¿‡æœ‰æ•ˆçš„éšå–»è”ç³»èµ·æ¥ã€‚ä½†æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªæ ¼å¤–å…·æœ‰åˆ›é€ æ€§çš„éšå–»ï¼Œä¸”ä¸¤å‚ç…§ç³»è·ç¦»é€‚ä¸­ï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸å‡ ç™¾å¹´æ¥ä¸€ç›´æ­Œé¢‚è¿™ä½ä½œè€…ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¢åŠ æ„Ÿå®˜ä½“éªŒï¼Œä»¥ä¿ƒè¿›å¤§è„‘çš„ä½¿ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ç›´è§‰å’Œæ¨¡å¼åŒ¹é…èƒ½åŠ›è¶…è¶Šäº†æ˜¾æ€§çŸ¥è¯†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ä½ çš„ä»·å€¼å–å†³äºä½ ä¸ºå›¢é˜Ÿå¸¦æ¥çš„ä»·å€¼ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¤§è„‘ä¸æ˜¯è½¯ä»¶ï¼Œè½¯ä»¶ä¸ä¼šè€åŒ–ï¼Œä¸ä¼šé€€åŒ–ã€‚ä½†æ˜¯å¤§è„‘å¿…é¡»åˆ·æ–°ï¼Œå¿…é¡»ä½¿ç”¨ï¼Œå¦åˆ™å°±ä¼šä¸¢å¤±è®°å¿†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;R å‹åœ¨å­˜å‚¨è¾“å…¥æ–¹é¢éå¸¸å–åŠ›ï¼Œäº‹å®ä¸Šå¯èƒ½ä½ çš„æ¯æ¬¡ç»å†ï¼Œæ— è®ºå¤šä¹ˆå¹³æ·¡ä¹å‘³ï¼Œéƒ½ä¼šè¢«å­˜å‚¨ã€‚ä½†æ˜¯å®ƒä¸ä¸€å®šè¢«ç´¢å¼•ã€‚å½“ä½ åŠªåŠ›è§£å†³ä¸€ä¸ªé—®é¢˜æ—¶ï¼ŒR å‹è¿›ç¨‹ä¼šæœç´¢ä½ çš„æ‰€æœ‰è®°å¿†ä»¥å¯»æ‰¾è§£å†³æ–¹æ¡ˆã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;L å‹å¤„ç†è¯­è¨€ã€åˆ†æã€ç¬¦å·ã€æŠ½è±¡ã€æ—¶é—´ã€æ¨ç†ã€æ•°å­—ã€é€»è¾‘ã€ç°è±¡æ€ç»´ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;R å‹å¤„ç†ç›´è§‰ã€ç»¼åˆã€æƒ³è±¡ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ç§¯æçš„æƒ…æ„Ÿå¯¹å­¦ä¹ å’Œåˆ›é€ æ€§æ€ç»´éå¸¸å…³é”®ã€‚å½“ä½ å……æ»¡äº†æ¶ˆææƒ…ç»ªæ—¶ï¼Œä½ çš„å¤§è„‘å°±å¼€å§‹åœæ­¢æä¾›å¤šä½™çš„èµ„æºã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ç¾å­¦å¯ä»¥æ”¹å˜è¿™äº›ï¼Œä¸è®ºæ˜¯ç”¨æˆ·ç•Œé¢ã€ä»£ç å’Œæ³¨é‡Šçš„å¸ƒå±€ï¼Œè¿˜æ˜¯å˜é‡åçš„é€‰æ‹©æˆ–æ¡Œé¢çš„æ•´ç†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å½“ä½ åŠªåŠ›è§£å†³ä¸€ä¸ªé—®é¢˜æ—¶ï¼Œä½ çš„æ‰€æœ‰è®°å¿†éƒ½ä¼šè¢«æ‰«æâ€”â€”ç”šè‡³é‚£äº›ä½ æ— æ³•ä¸»åŠ¨å”¤é†’çš„è®°å¿†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å…»æˆä¸€ç§æ”¶é›†æ€ç»´é¹…åµçŸ³çš„ä¹ æƒ¯ï¼Œä¸€æ—¦æœ‰äº†ç§¯ç´¯ï¼Œé€ å¢™çš„è¿‡ç¨‹å°±ä¼šå¾ˆå®¹æ˜“ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ä½ æ˜¯å¦æ³¨æ„åˆ°ä¼Ÿå¤§çš„æƒ³æ³•æˆ–è€…é¢†æ‚Ÿå¯èƒ½ä¼šåœ¨æœ€å‡ºä¹æ„æ–™çš„æ—¶å€™é™ä¸´ï¼Ÿæ¯”å¦‚æ´—æ¾¡ã€åˆ·ç›˜å­æˆ–å…¶ä»–ä¸€äº›æ¯ç‡¥ã€çç¢çš„å·¥ä½œæ—¶ã€‚è¿™æ˜¯å› ä¸º L å‹æœ‰ç‚¹åŒå€¦äº†è¿™ç§å¸¸è§„ä»»åŠ¡ï¼Œèµ°äº†ç¥ï¼Œè¿™æ‰è®© R å‹å¾—ä»¥è‡ªç”±åœ°å±•ç¤ºè‡ªå·±åœ°å‘ç°ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æ”¹å˜è§£å†³é—®é¢˜çš„è§’åº¦ï¼ˆè§’è‰²æ‰®æ¼”ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åŸ¹å…»å¿«é€Ÿçš„æ´å¯ŸåŠ›ï¼Œå¯»æ‰¾ä¸ç›¸å…³äº‹ç‰©ä¹‹é—´çš„å…³ç³»æˆ–ç±»æ¯”ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¤§è„‘ä¸æ˜¯ä¸€ä¸ªç”¨äºå¡«å……çš„å®¹å™¨ï¼Œè€Œæ˜¯ä¸€æŸéœ€è¦ç‚¹ç‡ƒçš„ç«ç„°ã€‚è¿™ä¸æ˜¯åˆ«äººå¯ä»¥å¸®ä½ åšçš„ï¼Œè€Œæ˜¯ä¸€ä»¶ä½ å¿…é¡»è‡ªå·±åšçš„äº‹æƒ…ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å»ºç«‹ SMART ä»»åŠ¡å®ç°ä½ çš„ç›®æ ‡ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰çš„çŸ¥è¯†æŠ•èµ„éƒ½æœ‰ä»·å€¼ã€‚å³ä½¿ä½ ä»æ¥ä¸ä¼šåœ¨å·¥ä½œä¸­ä½¿ç”¨æŸé¡¹æŠ€æœ¯ï¼Œå®ƒä¹Ÿä¼šå½±å“ä½ æ€è€ƒå’Œè§£å†³é—®é¢˜çš„æ–¹å¼ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è€ƒè™‘æŠ•èµ„çš„å›æŠ¥ç‡ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å½“ä½ ç§èœæ—¶ï¼Œå¦‚æœèœé•¿çš„ä¸å¥½ï¼Œä½ ä¸ä¼šæ€ªè´£èœï¼Œä½ ä¼šå¯»æ‰¾å…¶ä»–ç†ç”±ã€‚èœå¯èƒ½éœ€è¦æ›´å¤šçš„è‚¥æ–™æˆ–è€…æ°´ï¼Œæˆ–è€…å°‘æ™’å¤ªé˜³ï¼Œä½ å†³ä¸ä¼šæ€ªè´£èœã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;SQ3R ä¸»åŠ¨å­¦ä¹ æ³•(Survy, Question, Read, Recite, Review)ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨æ€ç»´å¯¼å›¾åšç¬”è®°ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ä»¥æ•™ä»£å­¦ï¼ˆæ©¡çš®é¸­è°ƒè¯•æ³•ï¼‰ï¼Œå‘ä½ æ‰€åœ¨é¢†åŸŸä¹‹å¤–çš„äººè§£é‡Šã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æŠŠäº‹ç‰©åˆ†æˆå¤§è„‘è¶³ä»¥å®¹çº³çš„å‡ éƒ¨åˆ†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;L å‹æ¨¡å¼çš„ CPU æœ‰ä¸€ç§ã€Œç©ºé—²å¾ªç¯ã€ç¨‹åºï¼Œå¦‚æœæ²¡æœ‰æ›´ç´§è¿«çš„äº‹æƒ…å€¼å¾—ä½ å»æ³¨æ„ï¼Œé—²ç½®ç¨‹åºå°†ä¼šåœç•™åœ¨ä¸€äº›ä½ç­‰çº§çš„å›°æ‰°æˆ–ç´§æ€¥çš„é—®é¢˜ä¸Šï¼Œè€Œè¿™ä¼šå¹²æ‰° R å‹çš„å¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¤§éƒ¨åˆ†å†¥æƒ³ã€ç‘œä¼½ä»¥åŠç±»ä¼¼çš„ç»ƒä¹ éƒ½æ˜¯ä¸ºäº†è¿™ä¸ªç›¸åŒçš„ç›®æ ‡ï¼šç¼“å’Œå¤§è„‘é‡Œ L å‹å˜ˆæ‚çš„å£°éŸ³æ‰€å¸¦æ¥çš„ç—›è‹¦ï¼Œç”Ÿæ´»åœ¨æ­¤åˆ»ï¼Œä¸è¦å°†ä½ çš„ç²¾åŠ›ä¸å¿…è¦çš„åˆ†æ•£ï¼Œå› ä¸ºå†…å¿ƒä¸­å–‹å–‹ä¸ä¼‘çš„äº‹æƒ…ä¼šå‡»å€’æˆ‘ä»¬ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ wiki æ¥ç®¡ç†ä¿¡æ¯å’ŒçŸ¥è¯†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ã€Œä¸ä½œä¸ºã€æ˜¯æ•Œäººï¼Œã€Œé”™è¯¯ã€ä¸æ˜¯ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ç»™æ–°ä¹ æƒ¯é€‚åº”çš„æ—¶é—´ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åˆ¶å®šä¸€æ®µæ—¶é—´è®¡åˆ’ï¼Œç„¶ååŠªåŠ›å®ç°ã€‚è·Ÿè¸ªä½ çš„è¿›åº¦ï¼Œå½“ä½ æ„Ÿè§‰åšå¾—ä¸å¤Ÿæ—¶ï¼Œé‡æ–°å®¡è§†ä½ çš„æˆæœã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ä¿¡å¿µæ˜¯çœŸå®çš„ï¼Œä½ å¿…é¡»ç›¸ä¿¡è¿™ç§æ”¹å˜æ˜¯å¯èƒ½çš„ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;é‡‡å–æ­¥æ­¥ä¸ºè¥çš„ç»†å°æ­¥éª¤ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æ–°æ‰‹çš„å¤§è„‘æœ‰å¾ˆå¤šå¯èƒ½æ€§ï¼Œä½†æ˜¯ä¸“å®¶çš„å´å¾ˆå°‘ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æŠ“ä½æ–¹å‘ç›˜ï¼Œä¸è¦è‡ªåŠ¨é©¾é©¶ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>iOSé¡¹ç›®çš„ç›®å½•ç»“æ„å’Œå¼€å‘æµç¨‹</title>
            <pubDate>Mon, 23 Sep 2013 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/build-ios-application/</link>
            <guid>https://limboy.me/posts/build-ios-application/</guid>
            <description>&lt;p&gt;ç½‘ä¸Šç›¸å…³çš„èµ„æºä¸å¤šï¼Œå¼€æºçš„ä¸”è´¨é‡è¿˜ä¸é”™çš„ iOS é¡¹ç›®ä¹Ÿæ˜¯å°‘ä¹‹åˆå°‘ï¼Œæœ€è¿‘æ­£å¥½è·ŸåŒäº‹åˆä½œäº†ä¸€ä¸ª iOS é¡¹ç›®ï¼Œæ¥è¯´è¯´è‡ªå·±çš„ä¸€äº›æƒ³æ³•ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;mu-lu-jie-gou&quot;&gt;ç›®å½•ç»“æ„&lt;&#x2F;h2&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;AppDelegate
&lt;&#x2F;span&gt;&lt;span&gt;Models
&lt;&#x2F;span&gt;&lt;span&gt;Macro
&lt;&#x2F;span&gt;&lt;span&gt;General
&lt;&#x2F;span&gt;&lt;span&gt;Helpers
&lt;&#x2F;span&gt;&lt;span&gt;Vendors
&lt;&#x2F;span&gt;&lt;span&gt;Sections
&lt;&#x2F;span&gt;&lt;span&gt;Resources
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¸€ä¸ªåˆç†çš„ç›®å½•ç»“æ„é¦–å…ˆåº”è¯¥æ˜¯æ¸…æ™°çš„ï¼Œè®©äººä¸€çœ¼çœ‹ä¸Šå»å°±èƒ½å¤§æ¦‚äº†è§£ç›®å½•çš„èŒè´£ï¼Œä¸”å®¹æ˜“åº”å¯¹æ–°çš„å˜åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;appdelegate&quot;&gt;AppDelegate&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•ä¸‹æ”¾çš„æ˜¯ AppDelegate.h(.m)æ–‡ä»¶ï¼Œæ˜¯æ•´ä¸ªåº”ç”¨çš„å…¥å£æ–‡ä»¶ï¼Œæ‰€ä»¥å•ç‹¬æ‹¿å‡ºæ¥ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;models&quot;&gt;Models&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•ä¸‹æ”¾ä¸€äº›ä¸æ•°æ®ç›¸å…³çš„ Model æ–‡ä»¶ï¼Œé‡Œé¢å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;Models
&lt;&#x2F;span&gt;&lt;span&gt;	|- BaseModel.h
&lt;&#x2F;span&gt;&lt;span&gt;	|- BaseModel.m
&lt;&#x2F;span&gt;&lt;span&gt;	|- CollectionModel.h
&lt;&#x2F;span&gt;&lt;span&gt;	|- CollectionModel.m
&lt;&#x2F;span&gt;&lt;span&gt;	...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;macro&quot;&gt;Macro&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•ä¸‹æ”¾äº†æ•´ä¸ªåº”ç”¨ä¼šç”¨åˆ°çš„å®å®šä¹‰ï¼Œé‡Œé¢å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;Macro
&lt;&#x2F;span&gt;&lt;span&gt;	|- AppMacro.h
&lt;&#x2F;span&gt;&lt;span&gt;	|- NotificationMacro.h
&lt;&#x2F;span&gt;&lt;span&gt;	|- VendorMacro.h
&lt;&#x2F;span&gt;&lt;span&gt;	|- UtilsMacro.h
&lt;&#x2F;span&gt;&lt;span&gt;	...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;appmacro-h-li-fang-app-xiang-guan-de-hong-ding-yi-ru&quot;&gt;AppMacro.h é‡Œæ”¾ app ç›¸å…³çš„å®å®šä¹‰ï¼Œå¦‚:&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¡¨æƒ…ç›¸å…³
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span&gt;EMOTION_CACHE_PATH @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;cachedemotions&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span&gt;EMOTION_RECENT_USED @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;recentusedemotions&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span&gt;EMOTION_CATEGORIES @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;categoryemotions&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span&gt;EMOTION_TOPICS @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;emotiontopics&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ”¶è—ç›¸å…³
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span&gt;COLLECT_CACHE_PATH @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;collected&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; é…å›¾ç›¸å…³
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span&gt;WATERFALL_ITEM_HEIGHT_MAX &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;300
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span&gt;WATERFALL_ITEM_WIDTH &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;146
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;notificationmacro-h-li-fang-de-shi-tong-zhi-xiang-guan-de-hong-ding-yi&quot;&gt;NotificationMacro.h é‡Œæ”¾çš„æ˜¯é€šçŸ¥ç›¸å…³çš„å®å®šä¹‰ã€‚&lt;&#x2F;h4&gt;
&lt;h4 id=&quot;utilsmacro-h-li-fang-de-shi-yi-xie-fang-bian-shi-yong-de-hong-ding-yi-ru&quot;&gt;UtilsMacro.h é‡Œæ”¾çš„æ˜¯ä¸€äº›æ–¹ä¾¿ä½¿ç”¨çš„å®å®šä¹‰ï¼Œå¦‚ï¼š&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;UIColorFromRGB&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;g&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span&gt;) [UIColor \
&lt;&#x2F;span&gt;&lt;span&gt;colorWithRed&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;255.0&lt;&#x2F;span&gt;&lt;span&gt; \
&lt;&#x2F;span&gt;&lt;span&gt;green&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;g&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;255.0&lt;&#x2F;span&gt;&lt;span&gt; \
&lt;&#x2F;span&gt;&lt;span&gt;blue&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;255.0&lt;&#x2F;span&gt;&lt;span&gt; alpha&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSStringFromInt&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;intValue&lt;&#x2F;span&gt;&lt;span&gt;) [NSString stringWithFormat&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,intValue]
&lt;&#x2F;span&gt;&lt;span&gt;{{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &#x2F;&lt;&#x2F;span&gt;&lt;span&gt; highlight &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;}}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#### VendorMacro.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;h&lt;&#x2F;span&gt;&lt;span&gt; é‡Œæ”¾ä¸€äº›ç¬¬ä¸‰æ–¹å¸¸é‡ï¼Œå¦‚ï¼š
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;{{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt; highlight objc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;}}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span&gt;UMENG_KEY @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;xxxxx&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#define &lt;&#x2F;span&gt;&lt;span&gt;UMENG_CHANNEL_ID @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;xxx&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœæœ‰æ–°çš„ç±»å‹çš„å®å®šä¹‰ï¼Œå¯ä»¥å†æ–°å»ºä¸€ä¸ªç›¸å…³çš„ Macro.hã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;general&quot;&gt;General&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•æ”¾ä¼šè¢«é‡ç”¨çš„ Views&#x2F;Classes å’Œ Categoriesã€‚é‡Œé¢å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;General
&lt;&#x2F;span&gt;&lt;span&gt;	|- Views
&lt;&#x2F;span&gt;&lt;span&gt;		|- TPKScollView
&lt;&#x2F;span&gt;&lt;span&gt;		|- TPKPullToRefresh
&lt;&#x2F;span&gt;&lt;span&gt;		...
&lt;&#x2F;span&gt;&lt;span&gt;	|- Classes
&lt;&#x2F;span&gt;&lt;span&gt;		|- TPKBaseViewController
&lt;&#x2F;span&gt;&lt;span&gt;		|- TPKHorizontalView
&lt;&#x2F;span&gt;&lt;span&gt;		...
&lt;&#x2F;span&gt;&lt;span&gt;	| - Categories
&lt;&#x2F;span&gt;&lt;span&gt;		|- UIViewController+Sizzle
&lt;&#x2F;span&gt;&lt;span&gt;		|- UIImageView+Downloader
&lt;&#x2F;span&gt;&lt;span&gt;		...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œçš„&lt;code&gt;TPK&lt;&#x2F;code&gt;æ˜¯é¡¹ç›®çš„é¦–å­—æ¯ç¼©å†™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;helpers&quot;&gt;Helpers&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•æ”¾ä¸€äº›åŠ©æ‰‹ç±»ï¼Œæ–‡ä»¶åä¸åŠŸèƒ½æŒ‚é’©ã€‚é‡Œé¢å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;Helpers
&lt;&#x2F;span&gt;&lt;span&gt;	|- TPKShareHelper
&lt;&#x2F;span&gt;&lt;span&gt;	|- TPDBHelper
&lt;&#x2F;span&gt;&lt;span&gt;	|- TPKEmotionHelper
&lt;&#x2F;span&gt;&lt;span&gt;	...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åŠ©æ‰‹ç±»çš„ä¸»è¦ä½œç”¨æ˜¯å¸®åŠ© Controller ç˜¦èº«ï¼Œä¹Ÿå¯ä»¥æä¾›ä¸€å®šç¨‹åº¦çš„å¤ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;vendors&quot;&gt;Vendors&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•æ”¾ç¬¬ä¸‰æ–¹çš„ç±»åº“&#x2F;SDKï¼Œå¦‚ UMengã€WeiboSDKã€WeixinSDK ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;sections&quot;&gt;Sections&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•ä¸‹é¢çš„æ–‡ä»¶å¯¹åº”çš„æ˜¯ app çš„å…·ä½“å•å…ƒï¼Œå¦‚å¯¼èˆªã€ç€‘å¸ƒæµç­‰ç­‰ã€‚é‡Œé¢å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;Sections
&lt;&#x2F;span&gt;&lt;span&gt;	|- Menu
&lt;&#x2F;span&gt;&lt;span&gt;	|- Setting
&lt;&#x2F;span&gt;&lt;span&gt;	|- Collection
&lt;&#x2F;span&gt;&lt;span&gt;	...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;resources&quot;&gt;Resources&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•ä¸‹æ”¾çš„æ˜¯ app ä¼šç”¨åˆ°çš„ä¸€äº›èµ„æºï¼Œä¸»è¦æ˜¯å›¾ç‰‡ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;cocoapods&quot;&gt;Cocoapods&lt;&#x2F;h2&gt;
&lt;p&gt;ä¸šåŠ¡æ— å…³çš„ç±»åº“å¯ä»¥é€šè¿‡ Cocoapods æ¥æ–¹ä¾¿åœ°ç®¡ç†ï¼Œå¦‚&lt;code&gt;SDWebImage&lt;&#x2F;code&gt;, &lt;code&gt;Reachability&lt;&#x2F;code&gt;ç­‰ç­‰ã€‚è¿˜æœ‰ä¸€äº›æ˜¯å¤šä¸ªåº”ç”¨éƒ½ä¼šç”¨åˆ°çš„åŸºç¡€æ¨¡å—ï¼Œæ¯”å¦‚ HBAPIã€HBSNS ã€HBFoundationï¼ˆHB ä¸ºå…¬å¸åé¦–å­—æ¯ï¼‰ç­‰ç­‰ï¼Œå¯ä»¥å»ºä¸€ä¸ªç§æœ‰çš„ git repoï¼Œç„¶ååŠ åˆ° podfile ä¸­ï¼Œè¿™æ ·å¦‚æœ HBAPI æœ‰æ›´æ–°ï¼Œåªéœ€è¦&lt;code&gt;pod update&lt;&#x2F;code&gt;ä¸€ä¸‹å°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¡ºä¾¿è¯´ä¸€ä¸‹&lt;code&gt;HBFoundation&lt;&#x2F;code&gt;ï¼Œè¿™ä¸ª git ä»“åº“ä¸­å¯ä»¥æ”¾ä¸€äº›è‡ªå·±å†™çš„æ‰€æœ‰åº”ç”¨åŸºæœ¬ä¸Šéƒ½ä¼šç”¨åˆ°çš„å°æ¨¡å—ã€‚å¦‚å¾ˆå¤š app éƒ½ä¼šæœ‰éš”ä¸€æ®µæ—¶é—´è·³å‡ºä¸€ä¸ªæ±‚å¥½è¯„çš„ alertViewï¼Œå°±å¯ä»¥å†™ä¸€ä¸ª&lt;code&gt;HBRating&lt;&#x2F;code&gt;ç±»ï¼Œè¿™æ ·éœ€è¦ä½¿ç”¨è¯¥åŠŸèƒ½çš„ app åªéœ€åŠ ä¸Šä¸€å¥ï¼š&lt;code&gt;[HBRating checkIfShouldPopupWithAppID:(NSInteger)appID]&lt;&#x2F;code&gt;å°±è¡Œäº†ã€‚åˆæ¯”å¦‚ app éƒ½æœ‰æ¥å— push notification çš„éœ€æ±‚ï¼Œå¯ä»¥å†™ä¸€ä¸ª&lt;code&gt;HBAPNS&lt;&#x2F;code&gt;ç±»ï¼Œç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;kai-fa-liu-cheng&quot;&gt;å¼€å‘æµç¨‹&lt;&#x2F;h2&gt;
&lt;p&gt;åœ¨æ‹¿åˆ°è®¾è®¡å›¾åï¼Œå°±å¯ä»¥é’ˆå¯¹è®¾è®¡å›¾æŠ½ç¦»å‡ºå¯å¤ç”¨çš„ Classes&#x2F;Views&#x2F;Helpersï¼Œè€ƒè™‘ä¸€ä¸‹æŸä¸ªæ•ˆæœçš„å…·ä½“å®ç°ï¼Œä½¿ç”¨åˆé€‚çš„è®¾è®¡æ¨¡å¼æ¥é¿å…å¤§é‡çš„ if&#x2F;else åµŒå¥—ï¼Œç­‰ç­‰ã€‚ä¸è¦ä¸€ä¸‹å­å°±é’»åˆ° Sections ä¸­å»å®ç°é¡µé¢æ•ˆæœå’ŒåŠŸèƒ½ï¼Œåˆçœ‹èµ·æ¥å¯èƒ½ä¼šå¿«ä¸€ç‚¹ï¼Œä½†åªè¦æœ‰ç‚¹å¤æ‚åº¦çš„é¡¹ç›®ï¼Œè¿™ç§åšæ³•åˆ°åæ¥åªä¼šåƒå°½è‹¦å¤´ï¼Œä»£ç ä¼šå˜çš„è¶Šæ¥è¶Šéš¾ç»´æŠ¤ã€‚æ‰€ä»¥å‰æœŸä¸€å®šè¦åšå¥½å……è¶³çš„å‡†å¤‡å·¥ä½œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç»éªŒæœ‰é™ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„æƒ³æ³•ï¼Œæ¬¢è¿äº¤æµï¼šï¼‰&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>(è¯‘)KVOçš„å†…éƒ¨å®ç°</title>
            <pubDate>Thu, 15 Aug 2013 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/internal-implementation-of-kvo/</link>
            <guid>https://limboy.me/posts/internal-implementation-of-kvo/</guid>
            <description>&lt;p&gt;09 å¹´çš„&lt;a href=&quot;http:&#x2F;&#x2F;www.mikeash.com&#x2F;pyblog&#x2F;friday-qa-2009-01-23.html&quot;&gt;ä¸€ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ï¼Œæ¯”è¾ƒæ·±å…¥åœ°é˜è¿°äº† KVO çš„å†…éƒ¨å®ç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;KVO æ˜¯å®ç° Cocoa Bindings çš„åŸºç¡€ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œå½“æŸä¸ªå±æ€§æ”¹å˜æ—¶ï¼Œç›¸åº”çš„ objects ä¼šè¢«é€šçŸ¥åˆ°ã€‚åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œè¿™ç§è§‚å¯Ÿè€…æ¨¡å¼é€šå¸¸éœ€è¦å•ç‹¬å®ç°ï¼Œè€Œåœ¨ Objective-C ä¸­ï¼Œé€šå¸¸æ— é¡»å¢åŠ é¢å¤–ä»£ç å³å¯ä½¿ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;###æ¦‚è§ˆ
è¿™æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿå…¶å®è¿™éƒ½æ˜¯é€šè¿‡ Objective-C å¼ºå¤§çš„è¿è¡Œæ—¶(runtime)å®ç°çš„ã€‚å½“ä½ ç¬¬ä¸€æ¬¡è§‚å¯ŸæŸä¸ª object æ—¶ï¼Œruntime ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç»§æ‰¿åŸå…ˆ class çš„ subclassã€‚åœ¨è¿™ä¸ªæ–°çš„ class ä¸­ï¼Œå®ƒé‡å†™äº†æ‰€æœ‰è¢«è§‚å¯Ÿçš„ keyï¼Œç„¶åå°† object çš„&lt;code&gt;isa&lt;&#x2F;code&gt;æŒ‡é’ˆæŒ‡å‘æ–°åˆ›å»ºçš„ classï¼ˆè¿™ä¸ªæŒ‡é’ˆå‘Šè¯‰ Objective-C è¿è¡Œæ—¶æŸä¸ª object åˆ°åº•æ˜¯å“ªç§ç±»å‹çš„ objectï¼‰ã€‚æ‰€ä»¥ object ç¥å¥‡åœ°å˜æˆäº†æ–°çš„å­ç±»çš„å®ä¾‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™äº›è¢«é‡å†™çš„æ–¹æ³•å®ç°äº†å¦‚ä½•é€šçŸ¥è§‚å¯Ÿè€…ä»¬ã€‚å½“æ”¹å˜ä¸€ä¸ª key æ—¶ï¼Œä¼šè§¦å‘&lt;code&gt;setKey&lt;&#x2F;code&gt;æ–¹æ³•ï¼Œä½†è¿™ä¸ªæ–¹æ³•è¢«é‡å†™äº†ï¼Œå¹¶ä¸”åœ¨å†…éƒ¨æ·»åŠ äº†å‘é€é€šçŸ¥æœºåˆ¶ã€‚ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ä¸èµ° setXXX æ–¹æ³•ï¼Œæ¯”å¦‚ç›´æ¥ä¿®æ”¹ iVarï¼Œä½†ä¸æ¨èè¿™ä¹ˆåšï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰æ„æ€çš„æ˜¯ï¼šè‹¹æœä¸å¸Œæœ›è¿™ä¸ªæœºåˆ¶æš´éœ²åœ¨å¤–éƒ¨ã€‚é™¤äº† settersï¼Œè¿™ä¸ªåŠ¨æ€ç”Ÿæˆçš„å­ç±»åŒæ—¶ä¹Ÿé‡å†™äº†&lt;code&gt;-class&lt;&#x2F;code&gt;æ–¹æ³•ï¼Œä¾æ—§è¿”å›åŸå…ˆçš„ classï¼å¦‚æœä¸ä»”ç»†çœ‹çš„è¯ï¼Œè¢« KVO è¿‡çš„ object çœ‹èµ·æ¥å’ŒåŸå…ˆçš„ object æ²¡ä»€ä¹ˆä¸¤æ ·ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;###æ·±å…¥æ¢ç©¶
ä¸‹é¢æ¥çœ‹çœ‹è¿™äº›æ˜¯å¦‚ä½•å®ç°çš„ã€‚æˆ‘å†™äº†ä¸ªç¨‹åºæ¥æ¼”ç¤ºéšè—åœ¨ KVO èƒŒåçš„æœºåˆ¶ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; gcc -o kvoexplorer -framework Foundation kvoexplorer.m
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;Foundation&#x2F;Foundation.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;objc&#x2F;runtime.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;TestClass : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; x;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; y;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; z;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property int&lt;&#x2F;span&gt;&lt;span&gt; x;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property int&lt;&#x2F;span&gt;&lt;span&gt; y;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@property int&lt;&#x2F;span&gt;&lt;span&gt; z;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;TestClass
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@synthesize&lt;&#x2F;span&gt;&lt;span&gt; x, y, z;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ClassMethodNames&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;c&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSMutableArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;array &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSMutableArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unsigned int&lt;&#x2F;span&gt;&lt;span&gt; methodCount &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;Method \&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;methodList &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class_copyMethodList&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(c, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;methodCount)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;unsigned int&lt;&#x2F;span&gt;&lt;span&gt; i;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt;(i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt; methodCount; i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;[array &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addObject: NSStringFromSelector(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;method_getName&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(methodList[i]))&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;free(methodList)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; array;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;PrintDescription&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;obj&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;str &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;stringWithFormat:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n\t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;NSObject class &lt;&#x2F;span&gt;&lt;span&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n\t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;libobjc class &lt;&#x2F;span&gt;&lt;span&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n\t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;implements methods &amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;name,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;obj,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class_getName&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;([obj class]),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class_getName&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(obj-&amp;gt;isa),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ClassMethodNames&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(obj-&amp;gt;isa) componentsJoinedByString&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, [str UTF8String])&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;argc&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;char&lt;&#x2F;span&gt;&lt;span&gt; \&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;argv&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSAutoreleasePool &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;new&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;TestClass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[TestClass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;TestClass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[TestClass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;TestClass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;xy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[TestClass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;TestClass \&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;control &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[TestClass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;[x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addObserver:x forKeyPath:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;x&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;options:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;[xy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addObserver:xy forKeyPath:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;x&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;options:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;[y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addObserver:y forKeyPath:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;y&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;options:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;[xy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addObserver:xy forKeyPath:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;y&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;options:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;context:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;PrintDescription&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;control&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, control)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;PrintDescription&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;x&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, x)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;PrintDescription&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;y&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, y)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;PrintDescription&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;xy&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, xy)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Using NSObject methods, normal setX: is &lt;&#x2F;span&gt;&lt;span&gt;%p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;, overridden setX: is &lt;&#x2F;span&gt;&lt;span&gt;%p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[control methodForSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(setX:)],
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[x methodForSelector:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(setX:)])&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Using libobjc functions, normal setX: is &lt;&#x2F;span&gt;&lt;span&gt;%p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;, overridden setX: is &lt;&#x2F;span&gt;&lt;span&gt;%p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;method_getImplementation&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class_getInstanceMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;object_getClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(control),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(setX:))),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;method_getImplementation&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class_getInstanceMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;object_getClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(x),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(setX:))))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æˆ‘ä»¬ä»å¤´åˆ°å°¾ç»†ç»†çœ‹æ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ª&lt;code&gt;TestClass&lt;&#x2F;code&gt;çš„ç±»ï¼Œå®ƒæœ‰ 3 ä¸ªå±æ€§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åå®šä¹‰äº†ä¸€äº›æ–¹ä¾¿è°ƒè¯•çš„æ–¹æ³•ã€‚&lt;code&gt;ClassMethodNames&lt;&#x2F;code&gt;ä½¿ç”¨ Objective-C è¿è¡Œæ—¶æ–¹æ³•æ¥éå†ä¸€ä¸ª classï¼Œå¾—åˆ°æ–¹æ³•åˆ—è¡¨ã€‚æ³¨æ„ï¼Œè¿™äº›æ–¹æ³•ä¸åŒ…æ‹¬çˆ¶ç±»çš„æ–¹æ³•ã€‚&lt;code&gt;PrintDescription&lt;&#x2F;code&gt;æ‰“å° object çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬ class ä¿¡æ¯ï¼ˆåŒ…æ‹¬&lt;code&gt;-class&lt;&#x2F;code&gt;å’Œé€šè¿‡è¿è¡Œæ—¶å¾—åˆ°çš„ classï¼‰ï¼Œä»¥åŠè¿™ä¸ª class å®ç°çš„æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶ååˆ›å»ºäº† 4 ä¸ª&lt;code&gt;TestClass&lt;&#x2F;code&gt;å®ä¾‹ï¼Œæ¯ä¸€ä¸ªéƒ½ä½¿ç”¨äº†ä¸åŒçš„è§‚å¯Ÿæ–¹å¼ã€‚&lt;code&gt;x&lt;&#x2F;code&gt;å®ä¾‹æœ‰ä¸€ä¸ªè§‚å¯Ÿè€…è§‚å¯Ÿ&lt;code&gt;x&lt;&#x2F;code&gt;keyï¼Œ&lt;code&gt;y&lt;&#x2F;code&gt;, &lt;code&gt;xy&lt;&#x2F;code&gt;ä¹Ÿç±»ä¼¼ã€‚ä¸ºäº†åšæ¯”è¾ƒï¼Œ&lt;code&gt;z&lt;&#x2F;code&gt;key æ²¡æœ‰è§‚å¯Ÿè€…ã€‚æœ€å&lt;code&gt;control&lt;&#x2F;code&gt;å®ä¾‹æ²¡æœ‰ä»»ä½•è§‚å¯Ÿè€…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åæ‰“å°å‡º 4 ä¸ª objects çš„ descriptionã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¹‹åç»§ç»­æ‰“å°è¢«é‡å†™çš„ setter å†…å­˜åœ°å€ï¼Œä»¥åŠæœªè¢«é‡å†™çš„ setter çš„å†…å­˜åœ°å€åšæ¯”è¾ƒã€‚è¿™é‡Œåšäº†ä¸¤æ¬¡ï¼Œæ˜¯å› ä¸º&lt;code&gt;-methodForSelector:&lt;&#x2F;code&gt;æ²¡èƒ½å¾—åˆ°é‡å†™çš„æ–¹æ³•ã€‚KVO è¯•å›¾æ©ç›–å®ƒå®é™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ subclass è¿™ä¸ªäº‹å®ï¼ä½†æ˜¯ä½¿ç”¨è¿è¡Œæ—¶çš„æ–¹æ³•å°±åŸå½¢æ¯•éœ²äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;###è¿è¡Œä»£ç 
çœ‹çœ‹è¿™æ®µä»£ç çš„è¾“å‡º&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;control&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;TestClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x104b20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSObject&lt;&#x2F;span&gt;&lt;span&gt; class TestClass
&lt;&#x2F;span&gt;&lt;span&gt;libobjc class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;TestClass
&lt;&#x2F;span&gt;&lt;span&gt;implements methods &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;setX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;, x, setY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;, y, setZ&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;, z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;x&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;TestClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x103280&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSObject&lt;&#x2F;span&gt;&lt;span&gt; class TestClass
&lt;&#x2F;span&gt;&lt;span&gt;libobjc class NSKVONotifying_TestClass
&lt;&#x2F;span&gt;&lt;span&gt;implements methods &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;setY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;, setX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;, class, dealloc, \_isKVOA&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;y&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;TestClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x104b00&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSObject&lt;&#x2F;span&gt;&lt;span&gt; class TestClass
&lt;&#x2F;span&gt;&lt;span&gt;libobjc class NSKVONotifying_TestClass
&lt;&#x2F;span&gt;&lt;span&gt;implements methods &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;setY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;, setX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;, class, dealloc, \_isKVOA&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;xy&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;TestClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x104b10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSObject&lt;&#x2F;span&gt;&lt;span&gt; class TestClass
&lt;&#x2F;span&gt;&lt;span&gt;libobjc class NSKVONotifying_TestClass
&lt;&#x2F;span&gt;&lt;span&gt;implements methods &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;setY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;, setX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;, class, dealloc, \_isKVOA&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;Using &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSObject&lt;&#x2F;span&gt;&lt;span&gt; methods, normal setX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x195e&lt;&#x2F;span&gt;&lt;span&gt;, overridden setX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x195e
&lt;&#x2F;span&gt;&lt;span&gt;Using libobjc functions, normal setX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x195e&lt;&#x2F;span&gt;&lt;span&gt;, overridden setX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x96a1a550
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é¦–å…ˆï¼Œå®ƒè¾“å‡ºäº†&lt;code&gt;control&lt;&#x2F;code&gt;objectï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œå®ƒçš„ class æ˜¯&lt;code&gt;TestClass&lt;&#x2F;code&gt;ï¼Œå¹¶ä¸”å®ç°äº† 6 ä¸ª set&#x2F;get æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åæ˜¯ 3 ä¸ªè¢«è§‚å¯Ÿçš„ objectsã€‚æ³¨æ„&lt;code&gt;-class&lt;&#x2F;code&gt;ä»ç„¶æ˜¾ç¤ºçš„æ˜¯&lt;code&gt;TestClass&lt;&#x2F;code&gt;ï¼Œä½¿ç”¨&lt;code&gt;object_getClass&lt;&#x2F;code&gt;æ˜¾ç¤ºäº†è¿™ä¸ª object çš„çœŸé¢ç›®ï¼šå®ƒæ˜¯&lt;code&gt;NSKVONotifying_TestClass&lt;&#x2F;code&gt;çš„ä¸€ä¸ªå®ä¾‹ã€‚è¿™ä¸ª&lt;code&gt;NSKVONotifying_TestClass&lt;&#x2F;code&gt;å°±æ˜¯åŠ¨æ€ç”Ÿæˆçš„ subclassï¼&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨æ„ï¼Œå®ƒæ˜¯å¦‚ä½•å®ç°è¿™ä¸¤ä¸ªè¢«è§‚å¯Ÿçš„ setters çš„ã€‚ä½ ä¼šå‘ç°ï¼Œå®ƒå¾ˆèªæ˜ï¼Œæ²¡æœ‰é‡å†™&lt;code&gt;-setZ:&lt;&#x2F;code&gt;ï¼Œè™½ç„¶å®ƒä¹Ÿæ˜¯ä¸ª setterï¼Œå› ä¸ºå®ƒæ²¡æœ‰è¢«è§‚å¯Ÿã€‚åŒæ—¶æ³¨æ„åˆ°ï¼Œ3 ä¸ªå®ä¾‹å¯¹åº”çš„æ˜¯åŒä¸€ä¸ª classï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ª setters éƒ½è¢«é‡å†™äº†ï¼Œå°½ç®¡å…¶ä¸­çš„ä¸¤ä¸ªå®ä¾‹åªè§‚å¯Ÿäº†ä¸€ä¸ªå±æ€§ã€‚è¿™ä¼šå¸¦æ¥ä¸€ç‚¹æ•ˆç‡ä¸Šçš„é—®é¢˜ï¼Œå› ä¸ºå³ä½¿æ²¡æœ‰è¢«è§‚å¯Ÿçš„ property ä¹Ÿä¼šèµ°è¢«é‡å†™çš„ setterï¼Œä½†è‹¹æœæ˜¾ç„¶è§‰å¾—è¿™æ¯”åˆ†å¼€ç”ŸæˆåŠ¨æ€çš„ subclass æ›´å¥½ï¼Œæˆ‘ä¹Ÿè§‰å¾—è¿™æ˜¯ä¸ªæ­£ç¡®çš„é€‰æ‹©ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½ ä¼šçœ‹åˆ° 3 ä¸ªå…¶ä»–çš„æ–¹æ³•ã€‚æœ‰ä¹‹å‰æåˆ°è¿‡çš„è¢«é‡å†™çš„&lt;code&gt;-class&lt;&#x2F;code&gt;æ–¹æ³•ï¼Œå‡è£…è‡ªå·±è¿˜æ˜¯åŸæ¥çš„ classã€‚è¿˜æœ‰&lt;code&gt;-dealloc&lt;&#x2F;code&gt;æ–¹æ³•å¤„ç†ä¸€äº›æ”¶å°¾å·¥ä½œã€‚è¿˜æœ‰ä¸€ä¸ª&lt;code&gt;_isKVOA&lt;&#x2F;code&gt;æ–¹æ³•ï¼Œçœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªç§æœ‰æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¾“å‡º&lt;code&gt;-setX:&lt;&#x2F;code&gt;çš„å®ç°ã€‚ä½¿ç”¨&lt;code&gt;-methodForSelector:&lt;&#x2F;code&gt;è¿”å›çš„æ˜¯ç›¸åŒçš„å€¼ã€‚å› ä¸º&lt;code&gt;-setX:&lt;&#x2F;code&gt;å·²ç»åœ¨å­ç±»è¢«é‡å†™äº†ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€&lt;code&gt;methodForSelector:&lt;&#x2F;code&gt;åœ¨å†…éƒ¨å®ç°ä¸­ä½¿ç”¨äº†&lt;code&gt;-class&lt;&#x2F;code&gt;ï¼Œäºæ˜¯å¾—åˆ°äº†é”™è¯¯çš„ç»“æœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€åæˆ‘ä»¬é€šè¿‡è¿è¡Œæ—¶å¾—åˆ°äº†ä¸åŒçš„è¾“å‡ºç»“æœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªä¼˜ç§€çš„æ¢ç´¢è€…ï¼Œæˆ‘ä»¬è¿›å…¥ debugger æ¥çœ‹çœ‹è¿™ç¬¬äºŒä¸ªæ–¹æ³•çš„å®ç°åˆ°åº•æ˜¯æ€æ ·çš„ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;(gdb) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;IMP&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x96a1a550
&lt;&#x2F;span&gt;&lt;span&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;IMP&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0x96a1a550 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;\_NSSetIntValueAndNotify&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå†…éƒ¨æ–¹æ³•ï¼Œå¯¹&lt;code&gt;Foundation&lt;&#x2F;code&gt;ä½¿ç”¨&lt;code&gt;nm -a&lt;&#x2F;code&gt;å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„ç§æœ‰æ–¹æ³•åˆ—è¡¨ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;df80&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetBoolValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;000&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;a0480&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetCharValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e120&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetDoubleValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e1&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;f0&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetFloatValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;000e3550&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetIntValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e390&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetLongLongValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e2&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;c0&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetLongValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;000&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;89df0&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetObjectValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e6&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;f0&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetPointValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e7&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;d0&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetRangeValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e8&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;b0&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetRectValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e550&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetShortValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;000&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;8ab20&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetSizeValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e050&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetUnsignedCharValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;000&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;9fcd0&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetUnsignedIntValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e470&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetUnsignedLongLongValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;000&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;9fc00&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetUnsignedLongValueAndNotify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0013e620&lt;&#x2F;span&gt;&lt;span&gt; t __NSSetUnsignedShortValueAndNotify
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸ªåˆ—è¡¨ä¹Ÿèƒ½å‘ç°ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿ã€‚æ¯”å¦‚è‹¹æœä¸ºæ¯ä¸€ç§ primitive type éƒ½å†™äº†å¯¹åº”çš„å®ç°ã€‚Objective-C çš„ object ä¼šç”¨åˆ°çš„å…¶å®åªæœ‰&lt;code&gt;__NSSetObjectValueAndNotify&lt;&#x2F;code&gt;ï¼Œä½†éœ€è¦ä¸€æ•´å¥—æ¥å¯¹åº”å‰©ä¸‹çš„ï¼Œè€Œä¸”çœ‹èµ·æ¥ä¹Ÿæ²¡æœ‰å®ç°å®Œå…¨ï¼Œæ¯”å¦‚&lt;code&gt;long dobule&lt;&#x2F;code&gt;æˆ–&lt;code&gt;_Bool&lt;&#x2F;code&gt;éƒ½æ²¡æœ‰ã€‚ç”šè‡³æ²¡æœ‰ä¸ºé€šç”¨æŒ‡é’ˆç±»å‹(generic pointer type)æä¾›æ–¹æ³•ã€‚æ‰€ä»¥ï¼Œä¸åœ¨è¿™ä¸ªæ–¹æ³•åˆ—è¡¨é‡Œçš„å±æ€§å…¶å®æ˜¯ä¸æ”¯æŒ KVO çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;KVO æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„å·¥å…·ï¼Œæœ‰æ—¶å€™è¿‡äºå¼ºå¤§äº†ï¼Œå°¤å…¶æ˜¯æœ‰äº†è‡ªåŠ¨è§¦å‘é€šçŸ¥æœºåˆ¶ã€‚ç°åœ¨ä½ çŸ¥é“å®ƒå†…éƒ¨æ˜¯æ€ä¹ˆå®ç°çš„äº†ï¼Œè¿™äº›çŸ¥è¯†æˆ–è®¸èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ä½¿ç”¨å®ƒï¼Œæˆ–åœ¨å®ƒå‡ºé”™æ—¶æ›´æ–¹ä¾¿è°ƒè¯•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœä½ æ‰“ç®—ä½¿ç”¨ KVOï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« &lt;a href=&quot;http:&#x2F;&#x2F;www.mikeash.com&#x2F;?page=pyblog&#x2F;key-value-observing-done-right.html&quot;&gt;Key-Value Observing Done Right&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>(è¯‘)Objective-Cçš„åŠ¨æ€ç‰¹æ€§</title>
            <pubDate>Sat, 03 Aug 2013 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/dynamic-tips-and-tricks-with-objective-c/</link>
            <guid>https://limboy.me/posts/dynamic-tips-and-tricks-with-objective-c/</guid>
            <description>&lt;p&gt;è¿™æ˜¯ä¸€ç¯‡è¯‘æ–‡ï¼ŒåŸæ–‡&lt;a href=&quot;http:&#x2F;&#x2F;pilky.me&#x2F;view&#x2F;21&quot;&gt;åœ¨æ­¤&lt;&#x2F;a&gt;ï¼Œä¸Šä¸€ç¯‡æ–‡ç« å°±æ˜¯å—è¿™ç¯‡æ–‡ç« å¯å‘ï¼Œè¿™æ¬¡å¹²è„†éƒ½ç¿»è¯‘è¿‡æ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿‡å»çš„å‡ å¹´ä¸­æ¶Œç°äº†å¤§é‡çš„ Objective-C å¼€å‘è€…ã€‚æœ‰äº›æ˜¯ä»åŠ¨æ€è¯­è¨€è½¬è¿‡æ¥çš„ï¼Œæ¯”å¦‚ Ruby æˆ– Pythonï¼Œæœ‰äº›æ˜¯ä»å¼ºç±»å‹è¯­è¨€è½¬è¿‡æ¥çš„ï¼Œå¦‚ Java æˆ– C#ï¼Œå½“ç„¶ä¹Ÿæœ‰ç›´æ¥ä»¥ Objective-C ä½œä¸ºå…¥é—¨è¯­è¨€çš„ã€‚ä¹Ÿå°±æ˜¯è¯´æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†å¼€å‘è€…éƒ½æ²¡æœ‰ä½¿ç”¨ Objective-C å¤ªé•¿æ—¶é—´ã€‚å½“ä½ æ¥è§¦ä¸€é—¨æ–°è¯­è¨€æ—¶ï¼Œæ›´å¤šåœ°ä¼šå…³æ³¨åŸºç¡€çŸ¥è¯†ï¼Œå¦‚è¯­æ³•å’Œç‰¹æ€§ç­‰ã€‚ä½†é€šå¸¸æœ‰ä¸€äº›æ›´é«˜çº§çš„ï¼Œæ›´é²œä¸ºäººçŸ¥åˆæœ‰å¼ºå¤§åŠŸèƒ½çš„ç‰¹æ€§ç­‰å¾…ä½ å»å¼€æ‹“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯æ¥é¢†ç•¥ä¸‹ Objective-C çš„è¿è¡Œæ—¶(runtime)ï¼ŒåŒæ—¶è§£é‡Šæ˜¯ä»€ä¹ˆè®© Objective-C å¦‚æ­¤åŠ¨æ€ï¼Œç„¶åæ„Ÿå—ä¸‹è¿™äº›åŠ¨æ€åŒ–çš„æŠ€æœ¯ç»†èŠ‚ã€‚å¸Œæœ›è¿™å›è®©ä½ å¯¹ Objective-C å’Œ Cocoa æ˜¯å¦‚ä½•è¿è¡Œçš„æœ‰æ›´å¥½çš„äº†è§£ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-runtime&quot;&gt;The Runtime&lt;&#x2F;h2&gt;
&lt;p&gt;Objective-C æ˜¯ä¸€é—¨ç®€å•çš„è¯­è¨€ï¼Œ95%æ˜¯ Cã€‚åªæ˜¯åœ¨è¯­è¨€å±‚é¢ä¸ŠåŠ äº†äº›å…³é”®å­—å’Œè¯­æ³•ã€‚çœŸæ­£è®© Objective-C å¦‚æ­¤å¼ºå¤§çš„æ˜¯å®ƒçš„è¿è¡Œæ—¶ã€‚å®ƒå¾ˆå°ä½†å´å¾ˆå¼ºå¤§ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯æ¶ˆæ¯åˆ†å‘ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;messages&quot;&gt;Messages&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœä½ æ˜¯ä»åŠ¨æ€è¯­è¨€å¦‚ Ruby æˆ– Python è½¬è¿‡æ¥çš„ï¼Œå¯èƒ½çŸ¥é“ä»€ä¹ˆæ˜¯æ¶ˆæ¯ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡è¿›å…¥ä¸‹ä¸€èŠ‚ã€‚é‚£äº›ä»å…¶ä»–è¯­è¨€è½¬è¿‡æ¥çš„ï¼Œç»§ç»­çœ‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰§è¡Œä¸€ä¸ªæ–¹æ³•ï¼Œæœ‰äº›è¯­è¨€ï¼Œç¼–è¯‘å™¨ä¼šæ‰§è¡Œä¸€äº›é¢å¤–çš„ä¼˜åŒ–å’Œé”™è¯¯æ£€æŸ¥ï¼Œå› ä¸ºè°ƒç”¨å…³ç³»å¾ˆç›´æ¥ä¹Ÿå¾ˆæ˜æ˜¾ã€‚ä½†å¯¹äºæ¶ˆæ¯åˆ†å‘æ¥è¯´ï¼Œå°±ä¸é‚£ä¹ˆæ˜æ˜¾äº†ã€‚åœ¨å‘æ¶ˆæ¯å‰ä¸å¿…çŸ¥é“æŸä¸ªå¯¹è±¡æ˜¯å¦èƒ½å¤Ÿå¤„ç†æ¶ˆæ¯ã€‚ä½ æŠŠæ¶ˆæ¯å‘ç»™å®ƒï¼Œå®ƒå¯èƒ½ä¼šå¤„ç†ï¼Œä¹Ÿå¯èƒ½è½¬ç»™å…¶ä»–çš„ Object æ¥å¤„ç†ã€‚ä¸€ä¸ªæ¶ˆæ¯ä¸å¿…å¯¹åº”ä¸€ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªå¯¹è±¡å¯èƒ½å®ç°ä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†å¤šæ¡æ¶ˆæ¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨ Objective-C ä¸­ï¼Œæ¶ˆæ¯æ˜¯é€šè¿‡&lt;code&gt;objc_msgSend()&lt;&#x2F;code&gt;è¿™ä¸ª runtime æ–¹æ³•åŠç›¸è¿‘çš„æ–¹æ³•æ¥å®ç°çš„ã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦ä¸€ä¸ª targetï¼Œselectorï¼Œè¿˜æœ‰ä¸€äº›å‚æ•°ã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œç¼–è¯‘å™¨åªæ˜¯æŠŠæ¶ˆæ¯åˆ†å‘å˜æˆ&lt;code&gt;objc_msgSend&lt;&#x2F;code&gt;æ¥æ‰§è¡Œã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸¤è¡Œä»£ç æ˜¯ç­‰ä»·çš„ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[array &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;insertObject:foo atIndex:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;objc_msgSend&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(array, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(insertObject:atIndex:), foo, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;objects-classes-metaclasses&quot;&gt;Objects, Classes, MetaClasses&lt;&#x2F;h3&gt;
&lt;p&gt;å¤§å¤šæ•°é¢å‘å¯¹è±¡çš„è¯­è¨€é‡Œæœ‰ classes å’Œ objects çš„æ¦‚å¿µã€‚Objects é€šè¿‡ Classes ç”Ÿæˆã€‚ä½†æ˜¯åœ¨ Objective-C ä¸­ï¼Œclasses æœ¬èº«ä¹Ÿæ˜¯ objects(è¯‘è€…æ³¨ï¼šè¿™ç‚¹è·Ÿ python å¾ˆåƒ)ï¼Œä¹Ÿå¯ä»¥å¤„ç†æ¶ˆæ¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¼šæœ‰ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ã€‚å…·ä½“æ¥è¯´ï¼ŒObjective-C ä¸­çš„ Object æ˜¯ä¸€ä¸ªç»“æ„ä½“(struct)ï¼Œç¬¬ä¸€ä¸ªæˆå‘˜æ˜¯&lt;code&gt;isa&lt;&#x2F;code&gt;ï¼ŒæŒ‡å‘è‡ªå·±çš„ classã€‚è¿™æ˜¯åœ¨ objc&#x2F;objc.h ä¸­å®šä¹‰çš„ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;typedef struct&lt;&#x2F;span&gt;&lt;span&gt; objc_object {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span&gt; isa;
&lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;id;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;object çš„ class ä¿å­˜äº†æ–¹æ³•åˆ—è¡¨ï¼Œè¿˜æœ‰æŒ‡å‘çˆ¶ç±»çš„æŒ‡é’ˆã€‚ä½† classes ä¹Ÿæ˜¯ objectsï¼Œä¹Ÿä¼šæœ‰&lt;code&gt;isa&lt;&#x2F;code&gt;å˜é‡ï¼Œé‚£ä¹ˆå®ƒåˆæŒ‡å‘å“ªå„¿å‘¢ï¼Ÿè¿™é‡Œå°±å¼•å‡ºäº†ç¬¬ä¸‰ä¸ªç±»å‹: &lt;code&gt;metaclasses&lt;&#x2F;code&gt;ã€‚ä¸€ä¸ª metaclass è¢«æŒ‡å‘ classï¼Œclass è¢«æŒ‡å‘ objectã€‚å®ƒä¿å­˜äº†æ‰€æœ‰å®ç°çš„æ–¹æ³•åˆ—è¡¨ï¼Œä»¥åŠçˆ¶ç±»çš„ metaclassã€‚å¦‚æœæƒ³æ›´æ¸…æ¥šåœ°äº†è§£ objects,classes ä»¥åŠ metaclasses æ˜¯å¦‚ä½•ä¸€èµ·å·¥ä½œåœ°ï¼Œå¯ä»¥é˜…è¯»&lt;a href=&quot;http:&#x2F;&#x2F;www.sealiesoftware.com&#x2F;blog&#x2F;archive&#x2F;2009&#x2F;04&#x2F;14&#x2F;objc_explain_Classes_and_metaclasses.html&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;methods-selectors-and-imps&quot;&gt;Methods, Selectors and IMPs&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“äº†è¿è¡Œæ—¶ä¼šå‘æ¶ˆæ¯ç»™å¯¹è±¡ã€‚æˆ‘ä»¬ä¹ŸçŸ¥é“ä¸€ä¸ªå¯¹è±¡çš„ class ä¿å­˜äº†æ–¹æ³•åˆ—è¡¨ã€‚é‚£ä¹ˆè¿™äº›æ¶ˆæ¯æ˜¯å¦‚ä½•æ˜ å°„åˆ°æ–¹æ³•çš„ï¼Œè¿™äº›æ–¹æ³•åˆæ˜¯å¦‚ä½•è¢«æ‰§è¡Œçš„å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªé—®é¢˜çš„ç­”æ¡ˆå¾ˆç®€å•ã€‚class çš„æ–¹æ³•åˆ—è¡¨å…¶å®æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œkey ä¸º selectorsï¼ŒIMPs ä¸º valueã€‚ä¸€ä¸ª IMP æ˜¯æŒ‡å‘æ–¹æ³•åœ¨å†…å­˜ä¸­çš„å®ç°ã€‚å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œselector å’Œ IMP ä¹‹é—´çš„å…³ç³»æ˜¯åœ¨è¿è¡Œæ—¶æ‰å†³å®šçš„ï¼Œè€Œä¸æ˜¯ç¼–è¯‘æ—¶ã€‚è¿™æ ·æˆ‘ä»¬å°±èƒ½ç©å‡ºäº›èŠ±æ ·ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;IMP é€šå¸¸æ˜¯æŒ‡å‘æ–¹æ³•çš„æŒ‡é’ˆï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ selfï¼Œç±»å‹ä¸º idï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯_cmdï¼Œç±»å‹ä¸º SELï¼Œä½™ä¸‹çš„æ˜¯æ–¹æ³•çš„å‚æ•°ã€‚è¿™ä¹Ÿæ˜¯&lt;code&gt;self&lt;&#x2F;code&gt;å’Œ&lt;code&gt;_cmd&lt;&#x2F;code&gt;è¢«å®šä¹‰çš„åœ°æ–¹ã€‚ä¸‹é¢æ¼”ç¤ºäº† Method å’Œ IMP&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)doSomethingWithInt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;)aInt{}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;doSomethingWithInt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SEL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_cmd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; aInt)&lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;qi-ta-yun-xing-shi-de-fang-fa&quot;&gt;å…¶ä»–è¿è¡Œæ—¶çš„æ–¹æ³•&lt;&#x2F;h3&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬çŸ¥é“äº† objects,classes,selectors,IMPs ä»¥åŠæ¶ˆæ¯åˆ†å‘ï¼Œé‚£ä¹ˆè¿è¡Œæ—¶åˆ°åº•èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºã€ä¿®æ”¹ã€è‡ªçœ classes å’Œ objects&lt;&#x2F;li&gt;
&lt;li&gt;æ¶ˆæ¯åˆ†å‘&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ä¹‹å‰å·²ç»æè¿‡æ¶ˆæ¯åˆ†å‘ï¼Œä¸è¿‡è¿™åªæ˜¯ä¸€å°éƒ¨åˆ†åŠŸèƒ½ã€‚æ‰€æœ‰çš„è¿è¡Œæ—¶æ–¹æ³•éƒ½æœ‰ç‰¹å®šçš„å‰ç¼€ã€‚ä¸‹é¢æ˜¯ä¸€äº›æœ‰æ„æ€çš„æ–¹æ³•ï¼š&lt;&#x2F;p&gt;
&lt;h4 id=&quot;class&quot;&gt;class&lt;&#x2F;h4&gt;
&lt;p&gt;class å¼€å¤´çš„æ–¹æ³•æ˜¯ç”¨æ¥ä¿®æ”¹å’Œè‡ªçœ classesã€‚æ–¹æ³•å¦‚&lt;code&gt;class_addIvar&lt;&#x2F;code&gt;, &lt;code&gt;class_addMethod&lt;&#x2F;code&gt;, &lt;code&gt;class_addProperty&lt;&#x2F;code&gt;å’Œ&lt;code&gt;class_addProtocol&lt;&#x2F;code&gt;å…è®¸é‡å»º classesã€‚&lt;code&gt;class_copyIvarList&lt;&#x2F;code&gt;, &lt;code&gt;class_copyMethodList&lt;&#x2F;code&gt;, &lt;code&gt;class_copyProtocolList&lt;&#x2F;code&gt;å’Œ&lt;code&gt;class_copyPropertyList&lt;&#x2F;code&gt;èƒ½æ‹¿åˆ°ä¸€ä¸ª class çš„æ‰€æœ‰å†…å®¹ã€‚è€Œ&lt;code&gt;class_getClassMethod&lt;&#x2F;code&gt;, &lt;code&gt;class_getClassVariable&lt;&#x2F;code&gt;, &lt;code&gt;class_getInstanceMethod&lt;&#x2F;code&gt;, &lt;code&gt;class_getInstanceVariable&lt;&#x2F;code&gt;, &lt;code&gt;class_getMethodImplementation&lt;&#x2F;code&gt;å’Œ&lt;code&gt;class_getProperty&lt;&#x2F;code&gt;è¿”å›å•ä¸ªå†…å®¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¹Ÿæœ‰ä¸€äº›é€šç”¨çš„è‡ªçœæ–¹æ³•ï¼Œå¦‚&lt;code&gt;class_conformsToProtocol&lt;&#x2F;code&gt;, &lt;code&gt;class_respondsToSelector&lt;&#x2F;code&gt;, &lt;code&gt;class_getSuperclass&lt;&#x2F;code&gt;ã€‚æœ€åï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;class_createInstance&lt;&#x2F;code&gt;æ¥åˆ›å»ºä¸€ä¸ª objectã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ivar&quot;&gt;ivar&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™äº›æ–¹æ³•èƒ½è®©ä½ å¾—åˆ°åå­—ï¼Œå†…å­˜åœ°å€å’Œ Objective-C type encodingã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;method&quot;&gt;method&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™äº›æ–¹æ³•ä¸»è¦ç”¨æ¥è‡ªçœï¼Œæ¯”å¦‚&lt;code&gt;method_getName&lt;&#x2F;code&gt;, &lt;code&gt;method_getImplementation&lt;&#x2F;code&gt;, &lt;code&gt;method_getReturnType&lt;&#x2F;code&gt;ç­‰ç­‰ã€‚ä¹Ÿæœ‰ä¸€äº›ä¿®æ”¹çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬&lt;code&gt;method_setImplementation&lt;&#x2F;code&gt;å’Œ&lt;code&gt;method_exchangeImplementations&lt;&#x2F;code&gt;ï¼Œè¿™äº›æˆ‘ä»¬åé¢ä¼šè®²åˆ°ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;objc&quot;&gt;objc&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸€æ—¦æ‹¿åˆ°äº† objectï¼Œä½ å°±å¯ä»¥å¯¹å®ƒåšä¸€äº›è‡ªçœå’Œä¿®æ”¹ã€‚ä½ å¯ä»¥ get&#x2F;set ivar, ä½¿ç”¨&lt;code&gt;object_copy&lt;&#x2F;code&gt;å’Œ&lt;code&gt;object_dispose&lt;&#x2F;code&gt;æ¥ copy å’Œ free object çš„å†…å­˜ã€‚æœ€ NB çš„ä¸ä»…æ˜¯æ‹¿åˆ°ä¸€ä¸ª classï¼Œè€Œæ˜¯å¯ä»¥ä½¿ç”¨&lt;code&gt;object_setClass&lt;&#x2F;code&gt;æ¥æ”¹å˜ä¸€ä¸ª object çš„ classã€‚å¾…ä¼šå°±èƒ½çœ‹åˆ°ä½¿ç”¨åœºæ™¯ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;property&quot;&gt;property&lt;&#x2F;h4&gt;
&lt;p&gt;å±æ€§ä¿å­˜äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ä¿¡æ¯ã€‚é™¤äº†æ‹¿åˆ°åå­—ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨&lt;code&gt;property_getAttributes&lt;&#x2F;code&gt;æ¥å‘ç° property çš„æ›´å¤šä¿¡æ¯ï¼Œå¦‚è¿”å›å€¼ã€æ˜¯å¦ä¸º atomicã€getter&#x2F;setter åå­—ã€æ˜¯å¦ä¸º dynamicã€èƒŒåä½¿ç”¨çš„ ivar åå­—ã€æ˜¯å¦ä¸ºå¼±å¼•ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;protocol&quot;&gt;protocol&lt;&#x2F;h4&gt;
&lt;p&gt;Protocols æœ‰ç‚¹åƒ classesï¼Œä½†æ˜¯ç²¾ç®€ç‰ˆçš„ï¼Œè¿è¡Œæ—¶çš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚ä½ å¯ä»¥è·å– method, property, protocol åˆ—è¡¨, æ£€æŸ¥æ˜¯å¦å®ç°äº†å…¶ä»–çš„ protocolã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;sel&quot;&gt;sel&lt;&#x2F;h4&gt;
&lt;p&gt;æœ€åæˆ‘ä»¬æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥å¤„ç† selectorsï¼Œæ¯”å¦‚è·å–åå­—ï¼Œæ³¨å†Œä¸€ä¸ª selector ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å¯¹ Objective-C çš„è¿è¡Œæ—¶æœ‰äº†å¤§æ¦‚çš„äº†è§£ï¼Œæ¥çœ‹çœ‹å®ƒä»¬èƒ½åšå“ªäº›æœ‰è¶£çš„äº‹æƒ…ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;classes-and-selectors-from-strings&quot;&gt;Classes And Selectors From Strings&lt;&#x2F;h2&gt;
&lt;p&gt;æ¯”è¾ƒåŸºç¡€çš„ä¸€ä¸ªåŠ¨æ€ç‰¹æ€§æ˜¯é€šè¿‡ String æ¥ç”Ÿæˆ Classes å’Œ Selectorsã€‚Cocoa æä¾›äº†&lt;code&gt;NSClassFromString&lt;&#x2F;code&gt;å’Œ&lt;code&gt;NSSelectorFromString&lt;&#x2F;code&gt;æ–¹æ³•ï¼Œä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span&gt; stringclass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSClassFromString&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;NSString&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;äºæ˜¯æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ª string classã€‚æ¥ä¸‹æ¥ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;myString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[stringclass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;stringWithString:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Hello World&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšå‘¢ï¼Ÿç›´æ¥ä½¿ç”¨ Class ä¸æ˜¯æ›´æ–¹ä¾¿ï¼Ÿé€šå¸¸æƒ…å†µä¸‹æ˜¯ï¼Œä½†æœ‰äº›åœºæ™¯ä¸‹è¿™ä¸ªæ–¹æ³•ä¼šå¾ˆæœ‰ç”¨ã€‚é¦–å…ˆï¼Œå¯ä»¥å¾—çŸ¥æ˜¯å¦å­˜åœ¨æŸä¸ª classï¼Œ&lt;code&gt;NSClassFromString&lt;&#x2F;code&gt; ä¼šè¿”å› nilï¼Œå¦‚æœè¿è¡Œæ—¶ä¸å­˜åœ¨è¯¥ class çš„è¯ã€‚æ¯”å¦‚å¯ä»¥æ£€æŸ¥&lt;code&gt;NSClassFromString(@&amp;quot;NSRegularExpression&amp;quot;)&lt;&#x2F;code&gt;æ˜¯å¦ä¸º nil æ¥åˆ¤æ–­æ˜¯å¦ä¸º iOS4.0+ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦ä¸€ä¸ªä½¿ç”¨åœºæ™¯æ˜¯æ ¹æ®ä¸åŒçš„è¾“å…¥è¿”å›ä¸åŒçš„ class æˆ– methodã€‚æ¯”å¦‚ä½ åœ¨è§£æä¸€äº›æ•°æ®ï¼Œæ¯ä¸ªæ•°æ®é¡¹éƒ½æœ‰è¦è§£æçš„å­—ç¬¦ä¸²ä»¥åŠè‡ªèº«çš„ç±»å‹ï¼ˆStringï¼ŒNumberï¼ŒArrayï¼‰ã€‚ä½ å¯ä»¥åœ¨ä¸€ä¸ªæ–¹æ³•é‡Œæå®šè¿™äº›ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªæ–¹æ³•ã€‚å…¶ä¸­ä¸€ä¸ªæ–¹æ³•æ˜¯è·å– typeï¼Œç„¶åä½¿ç”¨ if æ¥è°ƒç”¨åŒ¹é…çš„æ–¹æ³•ã€‚å¦ä¸€ç§æ˜¯æ ¹æ® type æ¥ç”Ÿæˆä¸€ä¸ª selectorï¼Œç„¶åè°ƒç”¨ä¹‹ã€‚ä»¥ä¸‹æ˜¯ä¸¤ç§å®ç°æ–¹å¼ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)parseObject&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)object {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;data in object) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;([[data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span&gt;] isEqualToString&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;String&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;            [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parseString:[data value]&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else if &lt;&#x2F;span&gt;&lt;span&gt;([[data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span&gt;] isEqualToString&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Number&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;            [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parseNumber:[data value]&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else if &lt;&#x2F;span&gt;&lt;span&gt;([[data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span&gt;] isEqualToString&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Array&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;            [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parseArray:[data value]&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)parseObjectDynamic&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)object {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;data in object) {
&lt;&#x2F;span&gt;&lt;span&gt;    	[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;performSelector:NSSelectorFromString([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;stringWithFormat:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;parse&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;:&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, [data type]]) withObject:[data value]&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)parseString&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)aString {}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)parseNumber&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)aNumber {}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)parseArray&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)aArray {}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä¸€çœ‹åˆ°ï¼Œä½ å¯ä»¥æŠŠ 7 è¡Œå¸¦ if çš„ä»£ç å˜æˆ 1 è¡Œã€‚å°†æ¥å¦‚æœæœ‰æ–°çš„ç±»å‹ï¼Œåªéœ€å¢åŠ å®ç°æ–¹æ³•å³å¯ï¼Œè€Œä¸ç”¨å†å»æ·»åŠ æ–°çš„ else ifã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;method-swizzling&quot;&gt;Method Swizzling&lt;&#x2F;h2&gt;
&lt;p&gt;ä¹‹å‰æˆ‘ä»¬è®²è¿‡ï¼Œæ–¹æ³•ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆã€‚Selector ç›¸å½“äºä¸€ä¸ªæ–¹æ³•çš„ idï¼›IMP æ˜¯æ–¹æ³•çš„å®ç°ã€‚è¿™æ ·åˆ†å¼€çš„ä¸€ä¸ªä¾¿åˆ©ä¹‹å¤„æ˜¯ selector å’Œ IMP ä¹‹é—´çš„å¯¹åº”å…³ç³»å¯ä»¥è¢«æ”¹å˜ã€‚æ¯”å¦‚ä¸€ä¸ª IMP å¯ä»¥æœ‰å¤šä¸ª selectors æŒ‡å‘å®ƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è€Œ Method Swizzling å¯ä»¥äº¤æ¢ä¸¤ä¸ªæ–¹æ³•çš„å®ç°ã€‚æˆ–è®¸ä½ ä¼šé—®â€œä»€ä¹ˆæƒ…å†µä¸‹ä¼šéœ€è¦è¿™ä¸ªå‘¢ï¼Ÿâ€ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ Objective-C ä¸­ï¼Œä¸¤ç§æ‰©å±• class çš„é€”å¾„ã€‚é¦–å…ˆæ˜¯ subclassingã€‚ä½ å¯ä»¥é‡å†™æŸä¸ªæ–¹æ³•ï¼Œè°ƒç”¨çˆ¶ç±»çš„å®ç°ï¼Œè¿™ä¹Ÿæ„å‘³ç€ä½ å¿…é¡»ä½¿ç”¨è¿™ä¸ª subclass çš„å®ä¾‹ï¼Œä½†å¦‚æœç»§æ‰¿äº†æŸä¸ª Cocoa classï¼Œè€Œ Cocoa åˆè¿”å›äº†åŸå…ˆçš„ class(æ¯”å¦‚ NSArray)ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½ ä¼šæƒ³æ·»åŠ ä¸€ä¸ªæ–¹æ³•åˆ° NSArrayï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ Categoryã€‚99%çš„æƒ…å†µä¸‹è¿™æ˜¯ OK çš„ï¼Œä½†å¦‚æœä½ é‡å†™äº†æŸä¸ªæ–¹æ³•ï¼Œå°±æ²¡æœ‰æœºä¼šå†è°ƒç”¨åŸå…ˆçš„å®ç°äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Method Swizzling å¯ä»¥æå®šè¿™ä¸ªé—®é¢˜ã€‚ä½ å¯ä»¥é‡å†™æŸä¸ªæ–¹æ³•è€Œä¸ç”¨ç»§æ‰¿ï¼ŒåŒæ—¶è¿˜å¯ä»¥è°ƒç”¨åŸå…ˆçš„å®ç°ã€‚é€šå¸¸çš„åšæ³•æ˜¯åœ¨ category ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•(å½“ç„¶ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå…¨æ–°çš„ class)ã€‚å¯ä»¥é€šè¿‡&lt;code&gt;method_exchangeImplementations&lt;&#x2F;code&gt;è¿™ä¸ªè¿è¡Œæ—¶æ–¹æ³•æ¥äº¤æ¢å®ç°ã€‚æ¥çœ‹ä¸€ä¸ª demoï¼Œè¿™ä¸ª demo æ¼”ç¤ºäº†å¦‚ä½•é‡å†™&lt;code&gt;addObject:&lt;&#x2F;code&gt;æ–¹æ³•æ¥çºªå½•æ¯ä¸€ä¸ªæ–°æ·»åŠ çš„å¯¹è±¡ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;#import  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;objc&#x2F;runtime.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@interface &lt;&#x2F;span&gt;&lt;span&gt;NSMutableArray (LoggingAddObject)
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;logAddObject:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;aObject&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@implementation &lt;&#x2F;span&gt;&lt;span&gt;NSMutableArray (LoggingAddObject)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;+ (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;load &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    Method addobject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class_getInstanceMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(addObject:))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    Method logAddobject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class_getInstanceMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(logAddObject:))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;method_exchangeImplementations&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(addObject, logAddObject)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;- (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;logAddObject:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;aobject &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;logAddObject:aObject&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Added object &lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; to array &lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, aObject, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@end
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æˆ‘ä»¬æŠŠæ–¹æ³•äº¤æ¢æ”¾åˆ°äº†&lt;code&gt;load&lt;&#x2F;code&gt;ä¸­ï¼Œè¿™ä¸ªæ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œè€Œä¸”æ˜¯è¿è¡Œæ—¶è½½å…¥ã€‚å¦‚æœæŒ‡å‘ä¸´æ—¶ç”¨ä¸€ä¸‹ï¼Œå¯ä»¥æ”¾åˆ°åˆ«çš„åœ°æ–¹ã€‚æ³¨æ„åˆ°ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„é€’å½’è°ƒç”¨&lt;code&gt;logAddObject:&lt;&#x2F;code&gt;ã€‚è¿™ä¹Ÿæ˜¯ Method Swizzling å®¹æ˜“æŠŠæˆ‘ä»¬ææ··çš„åœ°æ–¹ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»äº¤æ¢äº†æ–¹æ³•çš„å®ç°ï¼Œæ‰€ä»¥å…¶å®è°ƒç”¨çš„æ˜¯&lt;code&gt;addObject:&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;http:&#x2F;&#x2F;pilky.me&#x2F;static&#x2F;blogmedia&#x2F;objcdynamictips_methodswizzling.png&quot; alt=&quot;Method Swizzling&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;dong-tai-ji-cheng-jiao-huan&quot;&gt;åŠ¨æ€ç»§æ‰¿ã€äº¤æ¢&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ›å»ºæ–°çš„ classï¼Œè¿™ä¸ªç‰¹æ€§ç”¨å¾—ä¸å¤šï¼Œä½†å…¶å®å®ƒè¿˜æ˜¯å¾ˆå¼ºå¤§çš„ã€‚ä½ èƒ½é€šè¿‡å®ƒåˆ›å»ºæ–°çš„å­ç±»ï¼Œå¹¶æ·»åŠ æ–°çš„æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†è¿™æ ·çš„ä¸€ä¸ªå­ç±»æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿåˆ«å¿˜äº† Objective-C çš„ä¸€ä¸ªå…³é”®ç‚¹ï¼šobject å†…éƒ¨æœ‰ä¸€ä¸ªå«åš&lt;code&gt;isa&lt;&#x2F;code&gt;çš„å˜é‡æŒ‡å‘å®ƒçš„ classã€‚è¿™ä¸ªå˜é‡å¯ä»¥è¢«æ”¹å˜ï¼Œè€Œä¸éœ€è¦é‡æ–°åˆ›å»ºã€‚ç„¶åå°±å¯ä»¥æ·»åŠ æ–°çš„ ivar å’Œæ–¹æ³•äº†ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥ä¿®æ”¹ä¸€ä¸ª object çš„ class&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;object_setClass&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(myObject, [MySubclass class])&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™å¯ä»¥ç”¨åœ¨ Key Value Observingã€‚å½“ä½ å¼€å§‹ observing an object æ—¶ï¼ŒCocoa ä¼šåˆ›å»ºè¿™ä¸ª object çš„ class çš„ subclassï¼Œç„¶åå°†è¿™ä¸ª object çš„ isa æŒ‡å‘æ–°åˆ›å»ºçš„ subclassã€‚ç‚¹å‡»&lt;a href=&quot;http:&#x2F;&#x2F;www.mikeash.com&#x2F;pyblog&#x2F;friday-qa-2009-01-23.html&quot;&gt;è¿™é‡Œ&lt;&#x2F;a&gt;æŸ¥çœ‹æ›´è¯¦ç»†çš„è§£é‡Šã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;dong-tai-fang-fa-chu-li&quot;&gt;åŠ¨æ€æ–¹æ³•å¤„ç†&lt;&#x2F;h2&gt;
&lt;p&gt;ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®¨è®ºäº†æ–¹æ³•äº¤æ¢ï¼Œä»¥åŠå·²æœ‰æ–¹æ³•çš„å¤„ç†ã€‚é‚£ä¹ˆå½“ä½ å‘é€äº†ä¸€ä¸ª object æ— æ³•å¤„ç†çš„æ¶ˆæ¯æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿå¾ˆæ˜æ˜¾ï¼Œ&amp;quot;it breaks&amp;quot;ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ç¡®å®å¦‚æ­¤ï¼Œä½† Cocoa å’Œ runtime ä¹Ÿæä¾›äº†ä¸€äº›åº”å¯¹æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯&lt;strong&gt;åŠ¨æ€æ–¹æ³•å¤„ç†&lt;&#x2F;strong&gt;ã€‚é€šå¸¸æ¥è¯´ï¼Œå¤„ç†ä¸€ä¸ªæ–¹æ³•ï¼Œè¿è¡Œæ—¶å¯»æ‰¾åŒ¹é…çš„ selector ç„¶åæ‰§è¡Œä¹‹ã€‚æœ‰æ—¶ï¼Œä½ åªæƒ³åœ¨è¿è¡Œæ—¶æ‰åˆ›å»ºæŸä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚æœ‰äº›ä¿¡æ¯åªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°ã€‚è¦å®ç°è¿™ä¸ªæ•ˆæœï¼Œä½ éœ€è¦é‡å†™&lt;code&gt;+resolveInstanceMethod:&lt;&#x2F;code&gt; å’Œ&#x2F;æˆ– &lt;code&gt;+resolveClassMethod:&lt;&#x2F;code&gt;ã€‚å¦‚æœç¡®å®å¢åŠ äº†ä¸€ä¸ªæ–¹æ³•ï¼Œè®°å¾—è¿”å› YESã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt;)resolveInstanceMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SEL&lt;&#x2F;span&gt;&lt;span&gt;)aSelector {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(aSelector &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;myDynamicMethod&lt;&#x2F;span&gt;&lt;span&gt;)) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class_addMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, aSelector, (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;IMP&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)myDynamicIMP, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;v@:&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;YES&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;super &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;resolveInstanceMethod:aSelector&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é‚£ Cocoa åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä¼šä½¿ç”¨è¿™äº›æ–¹æ³•å‘¢ï¼ŸCore Data ç”¨å¾—å¾ˆå¤šã€‚NSManagedObjects æœ‰è®¸å¤šåœ¨è¿è¡Œæ—¶æ·»åŠ çš„å±æ€§ç”¨æ¥å¤„ç† get&#x2F;set å±æ€§å’Œå…³ç³»ã€‚é‚£å¦‚æœ Model åœ¨è¿è¡Œæ—¶è¢«æ”¹å˜äº†å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xiao-xi-zhuan-fa&quot;&gt;æ¶ˆæ¯è½¬å‘&lt;&#x2F;h2&gt;
&lt;p&gt;å¦‚æœ resolve method è¿”å› NOï¼Œè¿è¡Œæ—¶å°±è¿›å…¥ä¸‹ä¸€æ­¥éª¤ï¼šæ¶ˆæ¯è½¬å‘ã€‚æœ‰ä¸¤ç§å¸¸è§ç”¨ä¾‹ã€‚1) å°†æ¶ˆæ¯è½¬å‘åˆ°å¦ä¸€ä¸ªå¯ä»¥å¤„ç†è¯¥æ¶ˆæ¯çš„ objectã€‚2) å°†å¤šä¸ªæ¶ˆæ¯è½¬å‘åˆ°åŒä¸€ä¸ªæ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¶ˆæ¯è½¬å‘åˆ†ä¸¤æ­¥ã€‚é¦–å…ˆï¼Œè¿è¡Œæ—¶è°ƒç”¨&lt;code&gt;-forwardingTargetForSelector:&lt;&#x2F;code&gt;ï¼Œå¦‚æœåªæ˜¯æƒ³æŠŠæ¶ˆæ¯å‘é€åˆ°å¦ä¸€ä¸ª objectï¼Œé‚£ä¹ˆå°±ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå› ä¸ºæ›´é«˜æ•ˆã€‚å¦‚æœæƒ³è¦ä¿®æ”¹æ¶ˆæ¯ï¼Œé‚£ä¹ˆå°±è¦ä½¿ç”¨&lt;code&gt;-forwardInvocation:&lt;&#x2F;code&gt;ï¼Œè¿è¡Œæ—¶å°†æ¶ˆæ¯æ‰“åŒ…æˆ NSInvocationï¼Œç„¶åè¿”å›ç»™ä½ å¤„ç†ã€‚å¤„ç†å®Œä¹‹åï¼Œè°ƒç”¨&lt;code&gt;invokeWithTarget:&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Cocoa æœ‰å‡ å¤„åœ°æ–¹ç”¨åˆ°äº†æ¶ˆæ¯è½¬å‘ï¼Œä¸»è¦çš„ä¸¤ä¸ªåœ°æ–¹æ˜¯ä»£ç†(Proxies)å’Œå“åº”é“¾(Responder Chain)ã€‚NSProxy æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ classï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯è½¬å‘æ¶ˆæ¯åˆ°å¦ä¸€ä¸ª objectã€‚å¦‚æœæƒ³è¦æƒ°æ€§åŠ è½½ object çš„æŸä¸ªå±æ€§ä¼šå¾ˆæœ‰ç”¨ã€‚NSUndoManager ä¹Ÿæœ‰ç”¨åˆ°ï¼Œä¸è¿‡æ˜¯æˆªå–æ¶ˆæ¯ï¼Œä¹‹åå†æ‰§è¡Œï¼Œè€Œä¸æ˜¯è½¬å‘åˆ°å…¶ä»–çš„åœ°æ–¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å“åº”é“¾æ˜¯å…³äº Cocoa å¦‚ä½•å¤„ç†ä¸å‘é€äº‹ä»¶ä¸è¡Œä¸ºåˆ°å¯¹åº”çš„å¯¹è±¡ã€‚æ¯”å¦‚è¯´ï¼Œä½¿ç”¨ Cmd+C æ‰§è¡Œäº† copy å‘½ä»¤ï¼Œä¼šå‘é€&lt;code&gt;-copy:&lt;&#x2F;code&gt;åˆ°å“åº”é“¾ã€‚é¦–å…ˆæ˜¯ First Responderï¼Œé€šå¸¸æ˜¯å½“å‰çš„ UIã€‚å¦‚æœæ²¡æœ‰å¤„ç†è¯¥æ¶ˆæ¯ï¼Œåˆ™è½¬å‘åˆ°ä¸‹ä¸€ä¸ª&lt;code&gt;-nextResponder&lt;&#x2F;code&gt;ã€‚è¿™ä¹ˆä¸€ç›´ä¸‹å»ç›´åˆ°æ‰¾åˆ°èƒ½å¤Ÿå¤„ç†è¯¥æ¶ˆæ¯çš„ objectï¼Œæˆ–è€…æ²¡æœ‰æ‰¾åˆ°ï¼ŒæŠ¥é”™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shi-yong-block-zuo-wei-method-imp&quot;&gt;ä½¿ç”¨ Block ä½œä¸º Method IMP&lt;&#x2F;h2&gt;
&lt;p&gt;iOS 4.3 å¸¦æ¥äº†å¾ˆå¤šæ–°çš„ runtime æ–¹æ³•ã€‚é™¤äº†å¯¹ properties å’Œ protocols çš„åŠ å¼ºï¼Œè¿˜å¸¦æ¥ä¸€ç»„æ–°çš„ä»¥ imp å¼€å¤´çš„æ–¹æ³•ã€‚é€šå¸¸ä¸€ä¸ª IMP æ˜¯ä¸€ä¸ªæŒ‡å‘æ–¹æ³•å®ç°çš„æŒ‡é’ˆï¼Œå¤´ä¸¤ä¸ªå‚æ•°ä¸º object(self)å’Œ selector(_cmd)ã€‚iOS 4.0 å’Œ Mac OS X 10.6 å¸¦æ¥äº† blockï¼Œ&lt;code&gt;imp_implementationWithBlock()&lt;&#x2F;code&gt; èƒ½è®©æˆ‘ä»¬ä½¿ç”¨ block ä½œä¸º IMPï¼Œä¸‹é¢è¿™ä¸ªä»£ç ç‰‡æ®µå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ block æ¥æ·»åŠ æ–°çš„æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;IMP&lt;&#x2F;span&gt;&lt;span&gt; myIMP &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;imp_implementationWithBlock&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_self, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;string) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Hello &lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, string);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;})&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;class_addMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;([MYclass class], &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(sayHello:), myIMP, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;v@:@&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœæƒ³çŸ¥é“è¿™æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå¯ä»¥æŸ¥çœ‹&lt;a href=&quot;http:&#x2F;&#x2F;www.friday.com&#x2F;bbum&#x2F;2011&#x2F;03&#x2F;17&#x2F;ios-4-3-imp_implementationwithblock&#x2F;&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼ŒObjective-C è¡¨é¢çœ‹èµ·æ¥æŒºç®€å•ï¼Œä½†è¿˜æ˜¯å¾ˆçµæ´»çš„ï¼Œå¯ä»¥å¸¦æ¥å¾ˆå¤šå¯èƒ½æ€§ã€‚åŠ¨æ€è¯­è¨€çš„ä¼˜åŠ¿åœ¨äºåœ¨ä¸æ‰©å±•è¯­è¨€æœ¬èº«çš„æƒ…å†µä¸‹åšå¾ˆå¤šå¾ˆçµå·§çš„äº‹æƒ…ã€‚æ¯”å¦‚ Key Value Observingï¼Œæä¾›äº†ä¼˜é›…çš„ API å¯ä»¥ä¸å·²æœ‰çš„ä»£ç æ— ç¼ç»“åˆï¼Œè€Œä¸éœ€è¦æ–°å¢è¯­è¨€çº§åˆ«çš„ç‰¹æ€§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½è®©ä½ æ›´æ·±å…¥åœ°äº†è§£ Objective-Cï¼Œåœ¨å¼€å‘ app æ—¶ä¹Ÿèƒ½å¼€é˜”æ€è·¯ï¼Œè€ƒè™‘æ›´å¤šçš„å¯èƒ½æ€§ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ReactiveCocoaä¸Functional Reactive Programming</title>
            <pubDate>Wed, 19 Jun 2013 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/frp-reactivecocoa/</link>
            <guid>https://limboy.me/posts/frp-reactivecocoa/</guid>
            <description>&lt;h2 id=&quot;shi-yao-shi-functional-reactive-programming&quot;&gt;ä»€ä¹ˆæ˜¯ Functional Reactive Programming&lt;&#x2F;h2&gt;
&lt;p&gt;Functional Reactive Programming(ä»¥ä¸‹ç®€ç§° FRP)æ˜¯ä¸€ç§å“åº”å˜åŒ–çš„ç¼–ç¨‹èŒƒå¼ã€‚å…ˆæ¥çœ‹ä¸€å°æ®µä»£ç &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt; b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; c is 4
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; now what is the value of c?
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨ FRPï¼Œ&lt;code&gt;c&lt;&#x2F;code&gt;çš„å€¼å°†ä¼šéšç€&lt;code&gt;b&lt;&#x2F;code&gt;çš„å€¼æ”¹å˜è€Œæ”¹å˜ï¼Œæ‰€ä»¥å«åšã€Œå“åº”å¼ç¼–ç¨‹ã€ã€‚æ¯”è¾ƒç›´è§‚çš„ä¾‹å­å°±æ˜¯ Excelï¼Œå½“æ”¹å˜æŸä¸€ä¸ªå•å…ƒæ ¼çš„å†…å®¹æ—¶ï¼Œè¯¥å•å…ƒæ ¼ç›¸å…³çš„è®¡ç®—ç»“æœä¹Ÿä¼šéšä¹‹æ”¹å˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;FRP æä¾›äº†ä¸€ç§ä¿¡å·æœºåˆ¶æ¥å®ç°è¿™æ ·çš„æ•ˆæœï¼Œé€šè¿‡ä¿¡å·æ¥è®°å½•å€¼çš„å˜åŒ–ã€‚ä¿¡å·å¯ä»¥è¢«å åŠ ã€åˆ†å‰²æˆ–åˆå¹¶ã€‚é€šè¿‡å¯¹ä¿¡å·çš„ç»„åˆï¼Œå°±ä¸éœ€è¦å»ç›‘å¬æŸä¸ªå€¼æˆ–äº‹ä»¶ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;frp-reactivecocoa&amp;#x2F;FRP_demo.png&quot;
        width=&quot;706&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™åœ¨é‡äº¤äº’çš„åº”ç”¨é‡Œæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä»¥æ³¨å†Œä¸ºä¾‹ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;frp-reactivecocoa&amp;#x2F;FRP_register_demo.png&quot;
        width=&quot;396&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æäº¤æŒ‰é’®çš„çŠ¶æ€è¦è·Ÿè¾“å…¥æ¡†çš„çŠ¶æ€ç»‘å®šï¼Œæ¯”å¦‚å¿…é€‰çš„è¾“å…¥æ¡†æ²¡æœ‰å¡«å®Œæ—¶ï¼Œæäº¤æŒ‰é’®æ˜¯ç°è‰²çš„ï¼Œä¹Ÿå°±æ˜¯ä¸å¯ç‚¹ï¼›å¦‚æœæäº¤æŒ‰é’®ä¸å¯ç‚¹ï¼Œé‚£ä¹ˆæ–‡å­—å˜æˆç°è‰²ï¼Œä¸ç„¶å˜æˆè“è‰²ï¼›å¦‚æœæ­£åœ¨æäº¤ï¼Œé‚£ä¹ˆè¾“å…¥æ¡†çš„æ–‡å­—é¢œè‰²å˜æˆç°è‰²ï¼Œä¸”ä¸å¯ç‚¹ï¼Œä¸ç„¶å˜æˆé»˜è®¤è‰²ä¸”å¯ç‚¹ï¼›å¦‚æœæ³¨å†ŒæˆåŠŸå°±åœ¨çŠ¶æ€æ æ˜¾ç¤ºæˆåŠŸä¿¡æ¯ï¼Œä¸ç„¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°å…‰æ˜¯æ³¨å†Œé¡µå°±æœ‰è¿™ä¹ˆå¤šçš„è”åŠ¨ï¼Œåœ¨ javascript ä¸­å¯ä»¥é‡‡ç”¨äº‹ä»¶ç›‘å¬æ¥å¤„ç†ï¼ŒiOS ä¸­æ›´å¤šçš„æ˜¯ delegate æ¨¡å¼ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯äº‹ä»¶çš„åˆ†å‘å’Œå“åº”ã€‚è¿™ç§åšæ³•çš„ç¼ºç‚¹æ˜¯ä¸å¤Ÿç›´è§‚ï¼Œå°¤å…¶åœ¨é€»è¾‘æ¯”è¾ƒå¤æ‚çš„æƒ…å†µä¸‹ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå°½ç®¡ nodejs å¾ˆé«˜æ•ˆï¼Œä½†ç”±äº javascript çš„ callback style å’Œå¼‚æ­¥æ¨¡å¼ä¸ç¬¦åˆæ­£å¸¸çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œè®©å¾ˆå¤šäººæœ›è€Œå´æ­¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨ FRP ä¸»è¦æœ‰ä¸¤ä¸ªå¥½å¤„ï¼šç›´è§‚å’Œçµæ´»ã€‚ç›´è§‚çš„ä»£ç å®¹æ˜“ç¼–å†™ã€é˜…è¯»å’Œç»´æŠ¤ï¼Œçµæ´»çš„ç‰¹æ€§ä¾¿äºåº”å¯¹å˜æ€çš„éœ€æ±‚ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;reactivecocoa&quot;&gt;ReactiveCocoa&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveCocoa&quot;&gt;ReactiveCocoa&lt;&#x2F;a&gt;æ˜¯ github å»å¹´å¼€æºçš„ä¸€ä¸ªé¡¹ç›®ï¼Œæ˜¯åœ¨ iOS å¹³å°ä¸Šå¯¹ FRP çš„å®ç°ã€‚FRP çš„æ ¸å¿ƒæ˜¯ä¿¡å·ï¼Œä¿¡å·åœ¨ ReactiveCocoa(ä»¥ä¸‹ç®€ç§° RAC)ä¸­æ˜¯é€šè¿‡&lt;code&gt;RACSignal&lt;&#x2F;code&gt;æ¥è¡¨ç¤ºçš„ï¼Œä¿¡å·æ˜¯æ•°æ®æµï¼Œå¯ä»¥è¢«ç»‘å®šå’Œä¼ é€’ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥æŠŠä¿¡å·æƒ³è±¡æˆæ°´é¾™å¤´ï¼Œåªä¸è¿‡é‡Œé¢ä¸æ˜¯æ°´ï¼Œè€Œæ˜¯ç»ç’ƒçƒ(value)ï¼Œç›´å¾„è·Ÿæ°´ç®¡çš„å†…å¾„ä¸€æ ·ï¼Œè¿™æ ·å°±èƒ½ä¿è¯ç»ç’ƒçƒæ˜¯ä¾æ¬¡æ’åˆ—ï¼Œä¸ä¼šå‡ºç°å¹¶æ’çš„æƒ…å†µ(æ•°æ®éƒ½æ˜¯çº¿æ€§å¤„ç†çš„ï¼Œä¸ä¼šå‡ºç°å¹¶å‘æƒ…å†µ)ã€‚æ°´é¾™å¤´çš„å¼€å…³é»˜è®¤æ˜¯å…³çš„ï¼Œé™¤éæœ‰äº†æ¥æ”¶æ–¹(subscriber)ï¼Œæ‰ä¼šæ‰“å¼€ã€‚è¿™æ ·åªè¦æœ‰æ–°çš„ç»ç’ƒçƒè¿›æ¥ï¼Œå°±ä¼šè‡ªåŠ¨ä¼ é€ç»™æ¥æ”¶æ–¹ã€‚å¯ä»¥åœ¨æ°´é¾™å¤´ä¸ŠåŠ ä¸€ä¸ªè¿‡æ»¤å˜´(filter)ï¼Œä¸ç¬¦åˆçš„ä¸è®©é€šè¿‡ï¼Œä¹Ÿå¯ä»¥åŠ ä¸€ä¸ªæ”¹åŠ¨è£…ç½®ï¼ŒæŠŠçƒæ”¹å˜æˆç¬¦åˆè‡ªå·±çš„éœ€æ±‚(map)ã€‚ä¹Ÿå¯ä»¥æŠŠå¤šä¸ªæ°´é¾™å¤´åˆå¹¶æˆä¸€ä¸ªæ–°çš„æ°´é¾™å¤´(combineLatest:reduce:)ï¼Œè¿™æ ·åªè¦å…¶ä¸­çš„ä¸€ä¸ªæ°´é¾™å¤´æœ‰ç»ç’ƒçƒå‡ºæ¥ï¼Œè¿™ä¸ªæ–°åˆå¹¶çš„æ°´é¾™å¤´å°±ä¼šå¾—åˆ°è¿™ä¸ªçƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•çš„ demo æ¥æ¼”ç¤ºè¿™ä¸ªæ¨¡å‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‡å¦‚å¯¹è±¡çš„æŸä¸ªå±æ€§æƒ³ç»‘å®šæŸä¸ªæ¶ˆæ¯ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;RAC&lt;&#x2F;code&gt;è¿™ä¸ªå®ï¼Œç›¸å½“äºç»™ç»ç’ƒçƒå¥—äº†ä¸€ä¸ªæ°´é¾™å¤´ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RAC&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;submitButton&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, enabled) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;combineLatest:@[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;usernameField&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_textSignal&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;passwordField&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rac_textSignal&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;] reduce:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;userName, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;password) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; @(userName.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;length &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; password.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;length &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·ï¼Œå¦‚æœç”¨æˆ·åå’Œå¯†ç æ¡†çš„é•¿åº¦éƒ½è¶…è¿‡ 6ï¼Œæäº¤æŒ‰é’®å°± enable äº†ã€‚åä¹‹ï¼Œå¦‚æœæ²¡ç¬¦åˆè¦æ±‚ï¼Œå°±ä¼šå¤„äºéå¼€å¯çŠ¶æ€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°&lt;code&gt;usernameField&lt;&#x2F;code&gt;æœ‰äº†ä¸€ä¸ªæ–°çš„å±æ€§&lt;code&gt;rac_textSignal&lt;&#x2F;code&gt;ï¼Œè¿™æ˜¯ RAC åœ¨&lt;code&gt;UITextField&lt;&#x2F;code&gt;category ä¸­æ·»åŠ çš„ï¼Œç›´æ¥ç”¨å³å¯ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;frp-reactivecocoa&amp;#x2F;FRP_combine.png&quot;
        width=&quot;407&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h2 id=&quot;rac-de-da-tong-yi&quot;&gt;RAC çš„å¤§ç»Ÿä¸€&lt;&#x2F;h2&gt;
&lt;p&gt;RAC ç»Ÿä¸€äº†å¯¹ KVOã€UI Eventã€Network requestã€Async work çš„å¤„ç†ï¼Œå› ä¸ºå®ƒä»¬æœ¬è´¨ä¸Šéƒ½æ˜¯å€¼çš„å˜åŒ–(Values over time)ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;kvo&quot;&gt;KVO&lt;&#x2F;h3&gt;
&lt;p&gt;RAC å¯ä»¥ç”¨æ¥ç›‘æµ‹å±æ€§çš„æ”¹å˜ï¼Œè¿™ç‚¹è·Ÿ KVO å¾ˆåƒï¼Œä¸è¿‡ä½¿ç”¨äº† blockï¼Œè€Œä¸æ˜¯&lt;code&gt;-observeValueForKeyPath:ofObject:change:context:&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACAble&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt; subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;newName) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, newName);
&lt;&#x2F;span&gt;&lt;span&gt;}];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½¿ç”¨èµ·æ¥æ˜¯ä¸æ˜¯æ¯” KVO èˆ’æœå¤šäº†ã€‚æ¯” KVO æ›´åŠ å¼ºå¤§çš„æ˜¯ä¿¡å·å¯ä»¥è¢«é“¾èµ·æ¥(chain)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; åªæœ‰å½“åå­—ä»¥&amp;#39;j&amp;#39;å¼€å¤´ï¼Œæ‰ä¼šè¢«è®°å½•
&lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;RACAble&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;username&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;   filter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;newName) {
&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[newName &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;hasPrefix:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;j&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;   }]
&lt;&#x2F;span&gt;&lt;span&gt;   subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;newName) {
&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, newName);
&lt;&#x2F;span&gt;&lt;span&gt;   }];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;ui-event&quot;&gt;UI Event&lt;&#x2F;h3&gt;
&lt;p&gt;RAC è¿˜ä¸ºç³»ç»Ÿ UI æä¾›äº†å¾ˆå¤š categoryï¼Œæ¥æ–¹ä¾¿æ¶ˆæ¯çš„åˆ›å»ºå’Œä¼ é€’ï¼Œæ¯”å¦‚æŒ‰é’®è¢«ç‚¹å‡»æˆ–æ–‡æœ¬æ¡†æœ‰æ”¹åŠ¨ç­‰ç­‰ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­&lt;code&gt;self.firstNameField.rac_textSignal&lt;&#x2F;code&gt;ï¼Œåœ¨å¯¹åº”çš„æ–‡æœ¬æ¡†æœ‰æ”¹åŠ¨æ—¶ï¼Œä¼šè‡ªåŠ¨å‘æ•°æ®æµä¸­æ·»åŠ æ–°çš„æ•°æ®ï¼Œç»‘å®šè¯¥æ¶ˆæ¯çš„å…¶ä»–æ¶ˆæ¯å°±ä¼šæ”¶åˆ°æ–°çš„æ•°æ®ï¼Œå¦‚æœæœ‰ subscriber çš„è¯ï¼Œä¼šè‡ªåŠ¨è§¦å‘ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;network-request-async-work&quot;&gt;Network Request &amp;amp;&amp;amp; Async work&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™äº›å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ä¿¡å·ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;RACSubject&lt;&#x2F;code&gt;(ç»§æ‰¿è‡ª&lt;code&gt;RACSignal&lt;&#x2F;code&gt;ï¼Œå¯ä»¥ç†è§£ä¸ºè‡ªç”±åº¦æ›´é«˜çš„ signal)æ¥æå®šã€‚æ¯”å¦‚ä¸€ä¸ªå¼‚æ­¥ç½‘ç»œæ“ä½œï¼Œå¯ä»¥è¿”å›ä¸€ä¸ª subjectï¼Œç„¶åå°†è¿™ä¸ª subject ç»‘å®šåˆ°ä¸€ä¸ª subscriber æˆ–å¦ä¸€ä¸ªä¿¡å·ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)doTest
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    RACSubject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;subject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;doRequest&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    [subject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;subscribeNext:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;value){
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        NSLog(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;value:&lt;&#x2F;span&gt;&lt;span&gt;%@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, value);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(RACSubject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)doRequest
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    RACSubject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;subject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[RACSubject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;subject&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ¨¡æ‹Ÿ2ç§’åå¾—åˆ°è¯·æ±‚å†…å®¹
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; åªè§¦å‘1æ¬¡
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å°½ç®¡subscribeNextä»€ä¹ˆä¹Ÿæ²¡åšï¼Œä½†å¦‚æœæ²¡æœ‰çš„è¯mapæ˜¯ä¸ä¼šæ‰§è¡Œçš„
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; subscribeNextå°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ¥æ”¶ä½“
&lt;&#x2F;span&gt;&lt;span&gt;    [[[[RACSignal &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;interval:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;] take&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;_){
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; the value is from url request
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;value &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;content fetched from web&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        [subject &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sendNext:value&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }] subscribeNext&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:^&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span&gt;_){}];
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; subject;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;xiao-jie&quot;&gt;å°ç»“&lt;&#x2F;h2&gt;
&lt;p&gt;ç®€å•ç”»äº†ä¸‹å…³ç³»å›¾ï¼Œç½—åˆ—äº†äº›è¦ç‚¹&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;frp-reactivecocoa&amp;#x2F;FRP_ReactiveCocoa_large.png&quot;
        width=&quot;1632&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸Šé¢åªæ˜¯å¤§æ¦‚è¯´äº†ä¸€ä¸‹ RAC çš„ä½¿ç”¨æƒ…æ™¯å’Œç”¨æ³•ï¼Œæ›´å¤šçš„ä¾‹å­å¯ä»¥åˆ°&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ReactiveCocoa&#x2F;ReactiveCocoa&quot;&gt;é¡¹ç›®ä¸»é¡µ&lt;&#x2F;a&gt;ä¸­æŸ¥çœ‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.teehanlax.com&#x2F;blog&#x2F;getting-started-with-reactivecocoa&#x2F;&quot;&gt;http:&#x2F;&#x2F;www.teehanlax.com&#x2F;blog&#x2F;getting-started-with-reactivecocoa&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;speakerdeck.com&#x2F;andrewsardone&#x2F;reactivecocoa-at-mobidevday-2013&quot;&gt;https:&#x2F;&#x2F;speakerdeck.com&#x2F;andrewsardone&#x2F;reactivecocoa-at-mobidevday-2013&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>è¯´è¯´iOSçš„å¤šçº¿ç¨‹Core Data</title>
            <pubDate>Sun, 16 Jun 2013 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/ios-multi-thread-core-data/</link>
            <guid>https://limboy.me/posts/ios-multi-thread-core-data/</guid>
            <description>&lt;p&gt;Core Data æ˜¯ iOS ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªéƒ¨åˆ†ï¼Œå¯ä»¥ç†è§£ä¸ºåŸºäº SQLite(å½“ç„¶ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„ Storageï¼Œå¦‚ In-memoryï¼Œåªæ˜¯ SQLite æ¯”è¾ƒå¸¸è§)çš„ä¸€ä¸ª ORM å®ç°ï¼Œæ‰€ä»¥æœ‰å…³ç³»æ•°æ®åº“çš„ç‰¹æ€§ï¼Œåˆä¸ç”¨å†™ SQLã€‚é¡ºä¾¿åä¸€ä¸‹æ§½ï¼Œå®˜æ–¹è¯´æ³•æ˜¯ä½¿ç”¨ Core Data èƒ½å‡å°‘ 50%-70%çš„ä»£ç é‡ï¼Œä½†ç›¸ä¿¡ç”¨è¿‡çš„äººåº”è¯¥éƒ½å¿ƒé‡Œæ˜ç™½ï¼ŒCore Data ä½¿ç”¨èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœ‰ä¸å°‘çš„ç¬¬ä¸‰æ–¹ç±»åº“æ¥ä»£æ›¿&#x2F;äºŒæ¬¡åŒ…è£… Core Dataã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç¨å¾®å¤æ‚çš„åº”ç”¨å°±æœ‰å¯èƒ½å‡ºç°åŒæ—¶å¤„ç†å¤šä»½æ•°æ®çš„æƒ…å†µï¼Œè¿™å°±éœ€è¦ç”¨åˆ°å¤šçº¿ç¨‹ Core Dataã€‚åœ¨ iOS 5 ä¹‹å‰ï¼Œå®˜æ–¹æ¨èçš„æ˜¯ä½¿ç”¨ã€ŒThread Confinementã€ï¼Œå°±æ˜¯æ¯ä¸ªçº¿ç¨‹ä½¿ç”¨ç‹¬ç«‹çš„ MOC(managed object context)ï¼Œç„¶åå…±äº«ä¸€ä¸ª PSC(persistent store coordinator)ã€‚åŒæ—¶åœ¨çº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®æ—¶ï¼Œè¦ä¼ é€’ objectIDï¼Œè€Œä¸æ˜¯ objectï¼Œå› ä¸ºå‰è€…æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåè€…ä¸æ˜¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœ A çº¿ç¨‹é‡Œï¼Œå¯¹ PSC æ‰§è¡Œäº† CUD(create, update, delete)æ“ä½œï¼Œå…¶ä»–çº¿ç¨‹å¦‚ä½•æ„ŸçŸ¥å‘¢ï¼Ÿè¿™å°±éœ€è¦é€šè¿‡ç›‘å¬äº‹ä»¶æ¥å®ç°ã€‚æ¯”å¦‚åœ¨çº¿ç¨‹ A ä¸­ç›‘å¬ã€ŒNSManagedObjectContextDidSaveNotificationã€äº‹ä»¶ï¼Œå¦‚æœçº¿ç¨‹ B ä¸­æ‰§è¡Œäº† CUD æ“ä½œï¼Œçº¿ç¨‹ A å°±èƒ½æ„ŸçŸ¥åˆ°ï¼Œå¹¶è§¦å‘å“åº”çš„ actionï¼Œè™½ç„¶å¯ä»¥é€šè¿‡ noti userinfo æ¥è·å– managed objectsï¼Œä½†å› ä¸ºå®ƒä»¬æ˜¯å…³è”åˆ°å¦ä¸€ä¸ª MOCï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥æ“ä½œå®ƒä»¬ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯è°ƒç”¨ã€ŒmergeChangesFromContextDidSaveNotification:ã€æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç”¨ä¸€å¼ å›¾æ¥å½¢å®¹çš„è¯ï¼Œå¤§ä½“å°±æ˜¯è¿™æ ·ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;ios-multi-thread-core-data&amp;#x2F;multi_thread_core_data.png&quot;
        width=&quot;510&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)_setupCoreDataStack
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; setup managed object model
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSURL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;modelURL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSBundle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;mainBundle&lt;&#x2F;span&gt;&lt;span&gt;] URLForResource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Database&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; withExtension&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;momd&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;     _managedObjectModel &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[NSManagedObjectModel &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithContentsOfURL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;modelURL];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; setup persistent store coordinator
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSURL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;storeURL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSURL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fileURLWithPath:[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cachesPath] stringByAppendingPathComponent&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Database.db&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSError &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;error &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;     _persistentStoreCoordinator &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[NSPersistentStoreCoordinator &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithManagedObjectModel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;_managedObjectModel];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span&gt;[_persistentStoreCoordinator &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addPersistentStoreWithType:NSSQLiteStoreType configuration:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;URL:storeURL options:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;amp;error&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;   	     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; handle error
&lt;&#x2F;span&gt;&lt;span&gt;   }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; create MOC
&lt;&#x2F;span&gt;&lt;span&gt;     _managedObjectContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[NSManagedObjectContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] init];
&lt;&#x2F;span&gt;&lt;span&gt;     [_managedObjectContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setPersistentStoreCoordinator:_persistentStoreCoordinator&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; subscribe to change notifications
&lt;&#x2F;span&gt;&lt;span&gt;     [[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSNotificationCenter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;defaultCenter&lt;&#x2F;span&gt;&lt;span&gt;] addObserver&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt; selector&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@selector&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_mocDidSaveNotification:&lt;&#x2F;span&gt;&lt;span&gt;) name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;NSManagedObjectContextDidSaveNotification object&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;nil&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ Notification Handlerï¼Œä¸»è¦ä½œç”¨å°±æ˜¯åˆå¹¶æ–°çš„å˜åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)_mocDidSaveNotification&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NSNotification &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)notification
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;     NSManagedObjectContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;savedContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[notification &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ignore change notifications for the main MOC
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(_managedObjectContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span&gt; savedContext) {
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;     }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_sync&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dispatch_get_main_queue&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;      [_managedObjectContext mergeChangesFromContextDidSaveNotification:notification];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;     })&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ç§æ–¹å¼å®ç°èµ·æ¥å’Œç»´æŠ¤èµ·æ¥éƒ½æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥ iOS 5 ä¸­å°±å‡ºç°äº†æ›´åŠ æ–¹ä¾¿å’Œçµæ´»çš„å®ç°ï¼Œä¹Ÿå°±æ˜¯ã€ŒNested MOCã€ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;[[NSManagedObjectContext &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alloc&lt;&#x2F;span&gt;&lt;span&gt;] initWithConcurrencyType&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;NSMainQueueConcurrencyType];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°åœ¨åˆå§‹åŒ–æ—¶å¯ä»¥é€‰æ‹© ConcurrencyTypeï¼Œå¯é€‰çš„æœ‰ 3 ä¸ªï¼š&lt;&#x2F;p&gt;
&lt;h3 id=&quot;nsconfinementconcurrencytype&quot;&gt;NSConfinementConcurrencyType&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯é»˜è®¤é¡¹ï¼Œæ¯ä¸ªçº¿ç¨‹ä¸€ä¸ªç‹¬ç«‹çš„ Contextï¼Œä¸»è¦æ˜¯ä¸ºäº†å…¼å®¹ä¹‹å‰çš„è®¾è®¡ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;nsprivatequeueconcurrencytype&quot;&gt;NSPrivateQueueConcurrencyType&lt;&#x2F;h3&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ª private queue(ä½¿ç”¨ GCD)ï¼Œè¿™æ ·å°±ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;nsmainqueueconcurrencytype&quot;&gt;NSMainQueueConcurrencyType&lt;&#x2F;h3&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ª main queueï¼Œä½¿ç”¨ä¸»çº¿ç¨‹ï¼Œä¼šé˜»å¡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„å˜åŒ–æ˜¯ MOC å¯ä»¥æŒ‡å®š parentã€‚æœ‰äº† parent åï¼ŒCUD æ“ä½œä¼šå†’æ³¡åˆ° parentã€‚ä¸€ä¸ª parent å¯ä»¥æœ‰å¤šä¸ª childã€‚parent è¿˜å¯ä»¥æœ‰ parentã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å› ä¸º UI ç›¸å…³çš„æ•°æ®å¿…é¡»åœ¨ä¸»çº¿ç¨‹è·å–ï¼ŒåŒæ—¶åˆè¦é¿å…æ•°æ®åº“çš„ I&#x2F;O æ“ä½œé˜»å¡ä¸»çº¿ç¨‹ï¼Œæ‰€ä»¥å°±æœ‰äº†ä¸‹é¢è¿™ä¸ªæ¨¡å‹ï¼š&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;ios-multi-thread-core-data&amp;#x2F;multi_thread_core_data_nested.png&quot;
        width=&quot;511&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘å¯¹è¿™ç§å®ç°æ–¹å¼çš„ä¸€ä¸ªå›°æƒ‘æ˜¯ï¼šchild æ— æ³•å¾—çŸ¥ parent çš„å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ NSFetchedResultsController ç»‘å®šäº† Main MOCï¼Œå½“ Background Write MOC save æ—¶ï¼ŒNSFetchedResultsController ä¸ºä½•èƒ½çŸ¥æ™“ï¼Ÿæ±‚æŒ‡ç‚¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§æ–¹å¼æ¯”ã€ŒThread Confinementã€ç¨å¾®ç®€å•äº†ç‚¹ï¼Œä¹Ÿæ›´æ˜äº†ã€‚ä¸è¿‡ä¸ªäººè¿˜æ˜¯æ¨èä½¿ç”¨ MagicalRecordï¼Œå› ä¸ºå®ç°èµ·æ¥æ›´åŠ ç®€å•ï¼Œç­‰æœ‰ç©ºå†å†™ä¸€ç¯‡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†™äº†ä¸€ä¸ªä½¿ç”¨äº†è¿™ä¸ªæ¨¡å‹çš„ demoï¼Œé…åˆ TableView å’Œ NSFetchedResultsControllerï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸‹ï¼š&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;coredata-with-tableview&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;coredata-with-tableview&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;2013-06-17-geng-xin&quot;&gt;2013&#x2F;06&#x2F;17 æ›´æ–°&lt;&#x2F;h3&gt;
&lt;p&gt;ä¹‹å‰çš„å›°æƒ‘å·²æ¶ˆé™¤ï¼Œ&lt;code&gt;NSFetchedResultsController&lt;&#x2F;code&gt;è·Ÿ PSC æ— å…³ï¼Œåªè¦ç»‘å®šçš„ MOC æœ‰äº†&lt;code&gt;save&lt;&#x2F;code&gt;åŠ¨ä½œï¼Œ&lt;code&gt;NSFetchedResultsController&lt;&#x2F;code&gt;å°±ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œæ— è®ºè¿™ä¸ª&lt;code&gt;save&lt;&#x2F;code&gt;æ“ä½œæœ‰æ²¡æœ‰å†™å…¥åˆ°æŒä¹…å±‚ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.cocoanetics.com&#x2F;2012&#x2F;07&#x2F;multi-context-coredata&#x2F;&quot;&gt;http:&#x2F;&#x2F;www.cocoanetics.com&#x2F;2012&#x2F;07&#x2F;multi-context-coredata&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.slideshare.net&#x2F;Inferis&#x2F;adventures-in-multithreaded-core-data&quot;&gt;http:&#x2F;&#x2F;www.slideshare.net&#x2F;Inferis&#x2F;adventures-in-multithreaded-core-data&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>ç®€å•è¯´è¯´iOSçš„å›¾å½¢å’ŒåŠ¨ç”»</title>
            <pubDate>Sat, 08 Jun 2013 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/ios-graphic-animation/</link>
            <guid>https://limboy.me/posts/ios-graphic-animation/</guid>
            <description>&lt;h3 id=&quot;core-graphics&quot;&gt;Core Graphics&lt;&#x2F;h3&gt;
&lt;p&gt;Core Graphics æ˜¯ä¸€ç»„ç”¨æ¥ç»˜åˆ¶ 2D å›¾å½¢çš„ APIï¼Œä½¿ç”¨ CPU è¿›è¡Œè®¡ç®—ã€‚ æ–°å»ºä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œæ¨¡æ¿å·²ç»è‡ªåŠ¨è½½å…¥äº† CoreGraphics.framworkã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;core-animation&quot;&gt;Core Animation&lt;&#x2F;h3&gt;
&lt;p&gt;Core Animation åŒ…å«äº QuartzCore.framwork ä¸­ï¼Œæ˜¯ä¸€ç»„è‡ªç”±åº¦æ›´å¤§çš„å›¾å½¢ç»˜åˆ¶å’ŒåŠ¨ç”» APIï¼Œä½†å®ç°èµ·æ¥ä¹Ÿä¼šæ¯” Core Graphics éº»çƒ¦ä¸€ç‚¹ã€‚iOS ä¸Šçš„ UIKit å’ŒåŠ¨ç”»æ•ˆæœå¤§éƒ¨åˆ†éƒ½æ˜¯é€šè¿‡ Core Animation å®ç°çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;core-image&quot;&gt;Core Image&lt;&#x2F;h3&gt;
&lt;p&gt;Core Image æ˜¯ä¸€ç»„ç”¨äºå›¾åƒã€è§†é¢‘å¤„ç†çš„ APIï¼Œå¦‚æ·»åŠ æ»¤é•œä¹‹ç±»çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;opengl-opengl-es&quot;&gt;OpenGL &#x2F; OpenGL ES&lt;&#x2F;h3&gt;
&lt;p&gt;åº•å±‚çš„å›¾å½¢ç»˜åˆ¶ APIï¼Œè‡ªç”±åº¦æœ€å¤§ï¼Œä½†å­¦ä¹ æˆæœ¬ä¹Ÿå¾ˆé«˜ã€‚å¦‚æœä¸æ˜¯åšå¤§å‹æ¸¸æˆï¼Œæ¨èä½¿ç”¨æ›´é«˜å±‚çš„ APIã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ying-jian-jia-su&quot;&gt;ç¡¬ä»¶åŠ é€Ÿ&lt;&#x2F;h3&gt;
&lt;p&gt;ç¡¬ä»¶åŠ é€Ÿæ˜¯æŒ‡ç”¨åˆ°äº† GPU çš„ APIï¼Œä»¥ä¸‹è¿™äº›æƒ…å†µä¸ä¼šç”¨åˆ°ç¡¬ä»¶åŠ é€Ÿ&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰åœ¨ drawRect ä¸­å®Œæˆçš„å›¾å½¢ç»˜åˆ¶ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;shouldRasterize å±æ€§ä¸º YES çš„ CALayerã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ç”¨åˆ°äº† mask æˆ– drop shadow çš„ CALayerã€‚&lt;&#x2F;li&gt;
&lt;li&gt;Text (åŒ…æ‹¬ UILabels, CATextLayers, Core Text, ç­‰ç­‰)ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä½¿ç”¨ CGContexts ç»˜åˆ¶çš„å›¾å½¢&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;core-animation-1&quot;&gt;Core Animation&lt;&#x2F;h2&gt;
&lt;p&gt;è™½ç„¶æ˜¯ Animationï¼Œä½†å®é™…ä¸Šå®ƒä¹Ÿå¹² Drawing çš„æ´»ï¼Œè¿™å°±éœ€è¦ CALayer çš„å¸®åŠ©ã€‚iOS ä¸­ï¼Œæ‰€æœ‰çš„ UIView éƒ½è‡ªå¸¦äº†ä¸€ä¸ª CALayerï¼ˆå¯ä»¥é€šè¿‡ UIView.layer è®¿é—®ï¼‰ï¼ŒUIView çš„æ¸²æŸ“å’ŒåŠ¨ç”»æœ€ç»ˆä¹Ÿæ˜¯é€šè¿‡ layer æ¥å®ç°çš„ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼ŒUIView å°±æ˜¯ç®€å•çš„ä¸€å±‚å£³ï¼ŒæŠŠå›¾å½¢ç»˜åˆ¶éœ€è¦çš„ä¿¡æ¯ä¼ é€’ç»™ layerã€‚å½“ç„¶ UIView è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„åŠŸèƒ½å°±æ˜¯å¤„ç†äº‹ä»¶ï¼Œå¦‚ç‚¹å‡»æŒ‰é’®ï¼Œæ»‘åŠ¨ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;äº‹å®ä¸Š layer ä¹Ÿæ˜¯ä¸€å±‚å£³(Model Tree)ï¼ŒèƒŒåè¿˜æœ‰å‘ˆç°æ ‘(Presenting Tree)å’Œæ¸²æŸ“æ ‘(Render Tree)ï¼Œæ¸²æŸ“æ ‘å¯¹å‘ˆç°æ ‘çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è·Ÿ view ä¸€æ ·ï¼Œlayer ä¹Ÿå­˜åœ¨ç€ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ã€‚å¯ä»¥ç›´æ¥åˆ›å»ºï¼Œæˆ–é€šè¿‡ view.layer è·å–ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;layer æœ‰å¾ˆå¤šçš„åŠ¨ç”»å±æ€§ï¼Œå¦‚ anchorPoint(view æ²¡æœ‰è¿™ä¸ªå±æ€§)ã€frameã€transform ç­‰ç­‰ï¼Œè¯¦ç»†çš„å±æ€§åˆ—è¡¨&lt;a href=&quot;http:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;ios&#x2F;#documentation&#x2F;Cocoa&#x2F;Conceptual&#x2F;CoreAnimation_guide&#x2F;AnimatableProperties&#x2F;AnimatableProperties.html#&#x2F;&#x2F;apple_ref&#x2F;doc&#x2F;uid&#x2F;TP40004514-CH11-SW1&quot;&gt;è§æ­¤&lt;&#x2F;a&gt;ã€‚é…åˆ Core Animation çš„ API å¯ä»¥å®ç°å¾ˆå¤š UIView Animation æ— æ³•å®ç°çš„æ•ˆæœï¼Œæ¯”å¦‚ 3D åŠ¨ç”»ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;uiview-animation&quot;&gt;UIView Animation&lt;&#x2F;h2&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯æˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°çš„ï¼Œå®ƒå¯¹ Core Animation åšäº†æ›´é«˜å±‚çš„å°è£…ï¼Œæ–¹ä¾¿ä½¿ç”¨ï¼Œå½“ç„¶è‡ªç”±åº¦ä¹Ÿé™ä½äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)animateWithDuration&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSTimeInterval&lt;&#x2F;span&gt;&lt;span&gt;)duration delay&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSTimeInterval&lt;&#x2F;span&gt;&lt;span&gt;)delay options&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(UIViewAnimationOptions)options animations&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;))animations completion&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span&gt;)(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;BOOL&lt;&#x2F;span&gt;&lt;span&gt; finished))completion
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;animation block é‡Œå¯ä»¥è®¾ç½® view çš„åŠ¨ç”»å±æ€§çš„ç»ˆæ­¢å€¼ï¼Œå¦‚ frame, rotation ç­‰ã€‚options å¯ä»¥è®¾ç½®åŠ¨ç”»çš„ç›¸å…³é€‰é¡¹ï¼Œå¦‚ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;enum &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionLayoutSubviews            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionAllowUserInteraction      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionBeginFromCurrentState     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionRepeat                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionAutoreverse               &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionOverrideInheritedDuration &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionOverrideInheritedCurve    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionAllowAnimatedContent      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;7&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionShowHideTransitionViews   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionCurveEaseInOut            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;16&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionCurveEaseIn               &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;16&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionCurveEaseOut              &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;16&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionCurveLinear               &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;16&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionTransitionNone            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionTransitionFlipFromLeft    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionTransitionFlipFromRight   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionTransitionCurlUp          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionTransitionCurlDown        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionTransitionCrossDissolve   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionTransitionFlipFromTop     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;6 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    UIViewAnimationOptionTransitionFlipFromBottom  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;7 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;typedef &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSUInteger &lt;&#x2F;span&gt;&lt;span&gt;UIViewAnimationOptions;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ‰€ä»¥ä¸€èˆ¬çš„åŠ¨ç”» view animation éƒ½å¯ä»¥åº”ä»˜ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;tableview-you-hua&quot;&gt;TableView ä¼˜åŒ–&lt;&#x2F;h2&gt;
&lt;p&gt;TableView æ˜¯ iOS ä¸­éå¸¸é‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œå¦‚æœå¤„ç†ä¸å½“ï¼Œå°±å¾ˆå®¹æ˜“å‡ºç°ä¸æµç•…çš„ç°è±¡ã€‚æ¯”å¦‚ä¸€ä¸ª TableViewCell ä¸­æœ‰å¤šä¸ª subviewã€‚ä¸Šé¢è¯´è¿‡ä¸€ä¸ª view å¯¹åº”äº†ä¸€ä¸ª layerï¼Œå¤šä¸ª view è‡ªç„¶ä¹Ÿå°±å¯¹åº”å¤šä¸ª layerï¼Œå¥½æ¯” photoshop çš„å›¾å±‚ã€‚æ»‘åŠ¨æ—¶ GPU éœ€è¦åˆ†åˆ«å¯¹æ¯ä¸€ä¸ª layer è¿›è¡Œå¤„ç†ï¼Œå¦‚æœä¸èƒ½åœ¨çŸ­æ—¶é—´å†…å®Œæˆï¼Œå°±å®¹æ˜“æ‰å¸§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¦ä¿è¯ TableView çš„æµç•…ï¼Œé¦–å…ˆ TableViewCell çš„ç”Ÿæˆæ—¶é—´è¦çŸ­ï¼ˆå°‘äº 1&#x2F;60 ç§’ï¼‰ï¼Œå…¶æ¬¡ç§»åŠ¨æ—¶å¸§é¢‘å°½é‡ä¿æŒåœ¨ 60ï¼ˆä¹Ÿå°±æ˜¯æ¯ç§’ 60 å¸§ï¼‰ã€‚å‰è€…å–å†³äº CPUï¼Œåè€…å–å†³äº GPUã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»¥ twitter ä¸ºä¾‹ï¼Œå¯ä»¥é€šè¿‡ subviews æ¥å®ç°ï¼Œä¸è¿‡æ€§èƒ½ä¼šæœ‰ç‚¹å½±å“ï¼Œä½†å®ç°èµ·æ¥ç®€å•ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;ios-graphic-animation&amp;#x2F;twitter_tvc_subviews.jpg&quot;
        width=&quot;400&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å› ä¸º cell åœ¨å½¢æ€ä¸Šä¸ä¼šç»å¸¸æ”¹å˜ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥é€šè¿‡ drawRect ç›´æ¥ç»˜åˆ¶ï¼Œåªè¦è¿™ä¸ªæ—¶é—´è¶³å¤ŸçŸ­å°±å¯ä»¥ã€‚å¥½å¤„æ˜¯ layer ä¸ç”¨å¤„ç†å¤šä¸ªå­ layer çš„ç»„åˆå’Œå åŠ ï¼Œå°±åƒä¸€å¼  jpg å›¾ç‰‡ä¸€æ ·ï¼Œæ»‘åŠ¨ä¼šæ›´æµç•…ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;ios-graphic-animation&amp;#x2F;twitter_tvc_drawrect.png&quot;
        width=&quot;400&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h3 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;geeklu.com&#x2F;2012&#x2F;09&#x2F;animation-in-ios&#x2F;&quot;&gt;http:&#x2F;&#x2F;geeklu.com&#x2F;2012&#x2F;09&#x2F;animation-in-ios&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;robots.thoughtbot.com&#x2F;post&#x2F;33427366406&#x2F;designing-for-ios-taming-uibutton&quot;&gt;http:&#x2F;&#x2F;robots.thoughtbot.com&#x2F;post&#x2F;33427366406&#x2F;designing-for-ios-taming-uibutton&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=4645585&quot;&gt;https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=4645585&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;stackoverflow.com&#x2F;q&#x2F;6731545&#x2F;94962&quot;&gt;http:&#x2F;&#x2F;stackoverflow.com&#x2F;q&#x2F;6731545&#x2F;94962&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;giorgiocalderolla.com&#x2F;blog.html#customizing-uitableviewcells-a-better-way&quot;&gt;http:&#x2F;&#x2F;giorgiocalderolla.com&#x2F;blog.html#customizing-uitableviewcells-a-better-way&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;blog.twitter.com&#x2F;2012&#x2F;simple-strategies-smooth-animation-iphone&quot;&gt;https:&#x2F;&#x2F;blog.twitter.com&#x2F;2012&#x2F;simple-strategies-smooth-animation-iphone&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;floriankugler.com&#x2F;blog&#x2F;2013&#x2F;5&#x2F;24&#x2F;layer-trees-vs-flat-drawing-graphics-performance-across-ios-device-generations&quot;&gt;layer trees vs flat drawing graphics performance across ios device generations&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>è¯´è¯´Core Foundation</title>
            <pubDate>Fri, 07 Jun 2013 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/core-foundation/</link>
            <guid>https://limboy.me/posts/core-foundation/</guid>
            <description>&lt;p&gt;å…ˆæ¥è¯´è¯´ã€ŒCore Foundationã€ï¼ˆä»¥ä¸‹ç®€ç§° CFï¼‰çš„å†å²å§ã€‚å½“å¹´ä¹”å¸ƒæ–¯è¢«è‡ªå·±åˆ›åŠçš„å…¬å¸é©±é€åï¼Œæˆç«‹äº†ã€ŒNeXT Computerã€,å…¶å®åšçš„è¿˜æ˜¯è€æœ¬è¡Œï¼šå–ç”µè„‘ï¼Œä½†ä¾æ—§ä¸æ™¯æ°”ã€‚å¥½åœ¨ NeXTSTEP ç³»ç»Ÿè¡¨ç°è¿˜ä¸é”™ï¼ŒäºæŸä¸è‡³äºå¤ªä¸¥é‡ã€‚æ­£å¥½æ­¤æ—¶è‹¹æœçš„å¸‚åœºä»½é¢å¤§è·Œï¼Œæ€¥éœ€ä¸€ä¸ªæ–°çš„æ“ä½œç³»ç»Ÿï¼Œç»“æœå¤§å®¶éƒ½çŸ¥é“äº†ï¼Œä¹”å¸ƒæ–¯å€Ÿæ­¤æ”¶è´­ï¼Œé‡æ–°å›åˆ°äº†è‹¹æœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œå°±ç‰µæ‰¯åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•è®©æ—§æœ‰çš„ç³»ç»Ÿï¼ˆMac OS 9ï¼‰å’Œ NeXTSTEP åˆæˆä¸ºä¸€ä¸ªæ–°ç³»ç»Ÿï¼Ÿè¿™å°±éœ€è¦ä¸€ä¸ªæ›´ä¸ºåº•å±‚çš„æ ¸å¿ƒåº“å¯ä»¥ä¾› Mac Toolbox å’Œ OPENSTEP åŒæ–¹è°ƒç”¨ã€‚CF å°±è¿™ä¹ˆè¯ç”Ÿäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;CF æ˜¯ç”± C è¯­è¨€å®ç°çš„ï¼Œè€Œä¸æ˜¯ Objective-Cï¼Œæ‰€ä»¥å¦‚æœç”¨åˆ°äº† CFï¼Œå°±éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼ŒARC æ˜¯æ— èƒ½ä¸ºåŠ›çš„ã€‚å½“ç„¶å› ä¸º CF å’Œ Foundation ä¹‹é—´çš„å‹å¥½å…³ç³»ï¼Œå®ƒä»¬ä¹‹é—´çš„ç®¡ç†æƒä¹Ÿæ˜¯å¯ä»¥ç§»äº¤çš„ï¼Œè¿™ä¸ªåé¢å†è¯´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;CF æä¾›äº†åŸºç¡€åŠŸèƒ½ï¼Œå¦‚ CFString,CFDate,CFNumber ç­‰ç­‰ï¼Œä»¥ CFString ä¸ºä¾‹ï¼ŒCFString å’Œ NSString ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼ŸNSString å…¶å®æ˜¯ä¸€ä¸ªã€Œç±»ç°‡ã€ï¼Œä¹Ÿå°±æ˜¯æŠ½è±¡æ¥å£ï¼Œæ‰€ä»¥ String Objects å¹¶ä¸æ˜¯ NSString å®ä¾‹ï¼Œè€Œæ˜¯å®ç°äº† NSString æ–¹æ³•çš„ç§æœ‰ç±»çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ CFStringã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSLog&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;NSStringFromClass&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;@&amp;quot;Some Class&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt; class]));
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# output __NSCFConstantString
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åŒæ—¶ NSStrings å’Œ CFStrings ä¹‹é—´å¯ä»¥è‡ªç”±è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯ã€Œtoll free bridgingã€ã€‚æ¯”å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;CFStringRef aCFString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(CFStringRef)aNSString;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;aNSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)aCFString;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å› ä¸ºç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨ç®¡ç† CF çš„å†…å­˜ï¼Œæ‰€ä»¥ CF å¯¹è±¡åœ¨ä½¿ç”¨å®Œåï¼Œéœ€è¦æ‰‹åŠ¨é‡Šæ”¾ï¼ˆCFReleaseï¼‰ã€‚å¦‚æœä½¿ç”¨ ARC æ¥ç®¡ç†å†…å­˜ï¼Œè‹¹æœæä¾›äº† 3 ç§æ–¹æ³•æ¥å¤„ç†ï¼š&lt;&#x2F;p&gt;
&lt;h3 id=&quot;bridge&quot;&gt;__bridge&lt;&#x2F;h3&gt;
&lt;p&gt;__bridge åªæ˜¯åœ¨ CF å’Œ OC ä¹‹é—´ä¼ é€’æŒ‡é’ˆï¼Œå…¶ä»–çš„äº‹å•¥ä¹Ÿæ²¡å¹²ï¼Œæ‰€ä»¥è½¬æ¢æˆ CF æ—¶ï¼Œè¿˜æ˜¯è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span&gt;CFStringRef aCFString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CFStringCreateWithCString&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;test&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span&gt;kCFStringEncodingASCII&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;aNSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(__bridge &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NSString &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;)aCFString;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;)aNSString;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CFRelease&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(aCFString)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;bridge-retained&quot;&gt;__bridge_retained&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;code&gt;__bridge_retained&lt;&#x2F;code&gt; æˆ–è€… &lt;code&gt;CFBridgingRetain()&lt;&#x2F;code&gt;ï¼Œå°† Objective-C å¯¹è±¡è½¬æ¢ä¸º Core Foundation å¯¹è±¡ï¼ŒæŠŠå¯¹è±¡æ‰€æœ‰æƒæ¡¥æ¥ç»™ Core Foundation å¯¹è±¡ï¼ŒåŒæ—¶å‰¥å¤º ARC çš„ç®¡ç†æƒï¼Œåç»­éœ€è¦å¼€å‘è€…ä½¿ç”¨ CFRelease æˆ–è€…ç›¸å…³æ–¹æ³•æ‰‹åŠ¨æ¥é‡Šæ”¾å¯¹è±¡ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;bridge-transfer&quot;&gt;__bridge_transfer&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;code&gt;__bridge_transfer&lt;&#x2F;code&gt; æˆ–è€… &lt;code&gt;CFBridgingRelease()&lt;&#x2F;code&gt; å°†é Objective-C å¯¹è±¡è½¬æ¢ä¸º Objective-C å¯¹è±¡ï¼ŒåŒæ—¶å°†å¯¹è±¡çš„ç®¡ç†æƒäº¤ç»™ ARCï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨ç®¡ç†å†…å­˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€åï¼Œå› ä¸º CF æ˜¯ç”¨ C å®ç°çš„ï¼Œä¸”å¤„äºä¸‹å±‚ï¼Œæ‰€ä»¥æ‰§è¡Œé€Ÿåº¦ä¸Šä¼šæ¯” Foundation ç¨å¾®å¿«ä¸€ç‚¹ï¼Œä¸è¿‡ä¹Ÿå°±æ˜¯ä¸€ç‚¹ç‚¹ï¼Œå‡ ä¹å¯Ÿè§‰ä¸åˆ°ã€‚ç›¸æ¯” Foundation å¸¦æ¥çš„ ARC å†…å­˜ç®¡ç†å’Œæ›´å¤šçš„ APIï¼Œå¼€å‘ä¸Šçš„æ•ˆç‡ä¼šå¤§å¹…æå‡ï¼Œæ‰€ä»¥è¿˜æ˜¯å°½é‡å¤šçš„ä½¿ç”¨ OCã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;ridiculousfish.com&#x2F;blog&#x2F;posts&#x2F;bridge.html&quot;&gt;http:&#x2F;&#x2F;ridiculousfish.com&#x2F;blog&#x2F;posts&#x2F;bridge.html&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;blog.csdn.net&#x2F;yiyaaixuexi&#x2F;article&#x2F;details&#x2F;8553659&quot;&gt;http:&#x2F;&#x2F;blog.csdn.net&#x2F;yiyaaixuexi&#x2F;article&#x2F;details&#x2F;8553659&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>å†™äº†ä¸ªåŸºäºSQLAlchemyçš„ORM</title>
            <pubDate>Fri, 10 Feb 2012 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/introduce-thing-an-sqlalchemy-based-orm/</link>
            <guid>https://limboy.me/posts/introduce-thing-an-sqlalchemy-based-orm/</guid>
            <description>&lt;p&gt;çœ‹ Rails æ—¶ï¼Œè§‰å¾— Rails çš„ ORM ç”¨èµ·æ¥å¥½æ–¹ä¾¿ï¼Œå°±æƒ³æ‰¾æ‰¾ python æœ‰æ²¡æœ‰ç±»ä¼¼çš„ï¼Œæ²¡å‘ç°å¤ªå°½å¦‚äººæ„çš„ï¼Œå°±æŒ‰ç…§è‡ªå·±çš„æ„æ„¿ï¼ŒåŸºäº SQLAlchemy Core é‡æ–°å†™äº†ä¸ªï¼Œå–åä¸º Thingï¼Œé¡¹ç›®ä¸»é¡µ: &amp;quot;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;thing&amp;quot;:https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;thing&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhu-yao-te-xing&quot;&gt;ä¸»è¦ç‰¹æ€§&lt;&#x2F;h3&gt;
&lt;h1 id=&quot;shi-yong-fang-bian-ling-huo&quot;&gt;ä½¿ç”¨æ–¹ä¾¿ï¼Œçµæ´»&lt;&#x2F;h1&gt;
&lt;h1 id=&quot;zhi-chi-yan-zheng&quot;&gt;æ”¯æŒéªŒè¯&lt;&#x2F;h1&gt;
&lt;h1 id=&quot;zhi-chi-shi-jian-hong-fa&quot;&gt;æ”¯æŒäº‹ä»¶è§¦å‘&lt;&#x2F;h1&gt;
&lt;h1 id=&quot;zhi-chi-duo-shu-ju-ku-lian-jie&quot;&gt;æ”¯æŒå¤šæ•°æ®åº“è¿æ¥&lt;&#x2F;h1&gt;
&lt;p&gt;ä¸æƒ³æŠŠ ORM åšå¾—å¤ª magicï¼Œå°†æ¥ä¼˜åŒ–èµ·æ¥ä¼šä¸å¤ªæ–¹ä¾¿ï¼Œæ‰€ä»¥åªæ˜¯ç®€å•åœ°å°è£…äº†ä¸‹ï¼Œæ—¢ä¿è¯äº†ä½¿ç”¨èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œå°†æ¥æ¶‰åŠåˆ°åˆ†åº“åˆ†è¡¨æˆ–ç¼“å­˜æ—¶ä¹Ÿå¯ä»¥ä»å®¹åº”ä»˜ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;an-zhuang&quot;&gt;å®‰è£…&lt;&#x2F;h3&gt;
&lt;p&gt;æ¨èä½¿ç”¨ virtualenvwrapper&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span&gt;mkvirtualenv thing
&lt;&#x2F;span&gt;&lt;span&gt;cdvirtualenv
&lt;&#x2F;span&gt;&lt;span&gt;pip install &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;git+git:&#x2F;&#x2F;github.com&#x2F;lzyy&#x2F;thing.git&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;chuang-jian-mo-xing&quot;&gt;åˆ›å»ºæ¨¡å‹&lt;&#x2F;h3&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªç»§æ‰¿ Thing çš„åŸºç±»ï¼Œä¸»è¦æ˜¯è®¾ç½®æ•°æ®åº“è¿æ¥&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;sqlalchemy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;create_engine
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;thing
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;master_engine &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;create_engine&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;mysql:&#x2F;&#x2F;root:123456@localhost:3306&#x2F;test&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;slave_engine &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;create_engine&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;mysql:&#x2F;&#x2F;root:123456@localhost:3307&#x2F;test&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;BaseThing&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;thing.Thing&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;thing.Thing.__init__(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, {&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;master&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;: master_engine,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;                                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;slave&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;: slave_engine})
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;h5. æ³¨æ„äº‹é¡¹ï¼š&lt;&#x2F;p&gt;
&lt;h1 id=&quot;suo-you-de-mo-xing-lei-du-yao-ji-cheng-basething&quot;&gt;æ‰€æœ‰çš„æ¨¡å‹ç±»éƒ½è¦ç»§æ‰¿ BaseThing&lt;&#x2F;h1&gt;
&lt;h1 id=&quot;ru-guo-mei-you-zai-zi-lei-li-ding-yi-tablename-ze-mo-ren-shi-yong-xiao-xie-de-zi-lei-ming-zuo-wei-biao-ming&quot;&gt;å¦‚æœæ²¡æœ‰åœ¨å­ç±»é‡Œå®šä¹‰_tablenameï¼Œåˆ™é»˜è®¤ä½¿ç”¨å°å†™çš„å­ç±»åä½œä¸ºè¡¨å&lt;&#x2F;h1&gt;
&lt;h1 id=&quot;biao-zi-duan-hui-bei-zi-dong-huo-qu&quot;&gt;è¡¨å­—æ®µä¼šè¢«è‡ªåŠ¨è·å–&lt;&#x2F;h1&gt;
&lt;p&gt;å‡è®¾æœ‰è¿™ä¹ˆä¸ªåœºæ™¯ï¼šä¸€ä¸ªç”¨æˆ·æœ‰å¤šä¸ªç­”æ¡ˆï¼Œæ¯ä¸ªç­”æ¡ˆå¯ä»¥è¢«å¤šäººæŠ•ç¥¨ã€‚æˆ‘ä»¬å¯ä»¥æ–°å»º 3 ä¸ª Model&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;thing
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;sqlalchemy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;create_engine
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;formencode &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;validators
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;blinker &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;signal
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;vote_before_insert &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;signal&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;vote.before_insert&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Member&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;BaseThing&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# éªŒè¯emailå­—æ®µ
&lt;&#x2F;span&gt;&lt;span&gt;    email &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;validators.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Email&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;messages &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;noAt&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;u&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;invalid email&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;})
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;property
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;answers&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Answer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;where&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;member_id&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.id)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Answer&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;BaseThing&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;property
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;votes&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Vote&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;where&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;answer_id&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.id)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    @vote_before_insert.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;connect
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_vote_before_insert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;vote&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;vote.answer.title &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;test&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            vote.errors &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;answer&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;signal test&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Vote&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;BaseThing&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;property
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;member&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Member&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;where&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;id&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.member_id).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;property
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;answer&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Answer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;where&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;id&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.answer_id).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç”¨æˆ·ä¸ç­”æ¡ˆæ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œè¿™é‡Œé€šè¿‡@property è£…é¥°å™¨æ¥å®ç°ï¼Œåœ¨ answers æ–¹æ³•å†…ï¼Œå¯ä»¥å¾ˆçµæ´»åœ°å®ç°ç­”æ¡ˆè·å–çš„æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨ Answer æ¨¡å‹é‡Œæœ‰ä¸€ä¸ª vote_before_insert è£…é¥°å™¨ï¼Œåœ¨ vote æ‰§è¡Œ insert æ“ä½œå‰_vote_before_insert æ–¹æ³•ä¼šè¢«è§¦å‘ï¼Œå¯ä»¥åœ¨è¿™é‡Œåšå¾ˆå¤šäº‹ï¼Œå¦‚ç¼“å­˜çš„å¤„ç†ï¼Œæ•°æ®çš„éªŒè¯ç­‰ç­‰ã€‚å¦‚æœéªŒè¯ä¸é€šè¿‡ï¼Œå¯ä»¥è®¾ç½® sender çš„ errors å±æ€§ï¼Œè¯¥å±æ€§ä¸€æ—¦è¢«è®¾ç½®ï¼Œåç»­çš„æ“ä½œå°†è¢«ä¸­æ–­ï¼Œåœ¨è¿™é‡Œ vote å°±ä¸ä¼šæ‰§è¡Œ insert æ“ä½œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;h5. æ³¨æ„äº‹é¡¹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;# éªŒè¯ä½¿ç”¨çš„æ˜¯formencodeï¼Œè¿™ä¸ªåº“æ”¯æŒå¾ˆå¤šçš„éªŒè¯æ“ä½œï¼Œ&amp;quot;http:&#x2F;&#x2F;www.formencode.org&#x2F;en&#x2F;latest&#x2F;Validator.html&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;# ä¸€å…±æœ‰6ç±»äº‹ä»¶ï¼šmodel.before_validation &#x2F; after_validation &#x2F; before_insert &#x2F; after_insert &#x2F; before_update &#x2F; after_update
&lt;&#x2F;span&gt;&lt;span&gt;# äº‹ä»¶è§¦å‘æ—¶ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºmodelæœ¬èº«ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ•°æ®ï¼Œå¦‚æœåœ¨æŸä¸ªäº‹ä»¶å“åº”å‡½æ•°å¤„ï¼Œè®¾ç½®äº†model.errorså±æ€§ï¼Œåˆ™æ­¤æ¬¡äº‹ä»¶ä¹‹åçš„ä»£ç éƒ½ä¸ä¼šæ‰§è¡Œã€‚
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;shi-yong&quot;&gt;ä½¿ç”¨&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;lie-chu-yi-ge-yong-hu-de-id-10-de-suo-you-hui-da-mei-ci-qu-10-ge&quot;&gt;åˆ—å‡ºä¸€ä¸ªç”¨æˆ·çš„ id&amp;gt;10 çš„æ‰€æœ‰å›ç­”ï¼Œæ¯æ¬¡å– 10 ä¸ª&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span&gt;member &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Member&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;answer &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;member.answers.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;where&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;id&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;findall&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;limit&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;offset&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;answer.title
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;chuang-jian-xin-yong-hu&quot;&gt;åˆ›å»ºæ–°ç”¨æˆ·&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span&gt;member &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Member&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;member.email &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo@bar.com&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;member.password &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;123&amp;#39;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;member.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;save&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;member.saved &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# True
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;member.email &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# foo@bar.com
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;geng-xin-yong-hu-xin-xi&quot;&gt;æ›´æ–°ç”¨æˆ·ä¿¡æ¯&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span&gt;member &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Member&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;member.email &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo@bar.com&amp;#39;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;member.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;save&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;member.saved &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# True
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;member.email &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# foo@bar.com
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;yan-zheng-xin-xi&quot;&gt;éªŒè¯ä¿¡æ¯&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span&gt;member &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Member&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;member.password &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;123&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;member.email &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo&amp;#39;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;member.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;save&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span&gt;member.errors[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;email&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# invalid email
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;duo-shu-ju-ku-lian-jie&quot;&gt;å¤šæ•°æ®åº“è¿æ¥&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span&gt;member &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Member&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;slave&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åœ¨æ‰§è¡Œ find &#x2F; findall &#x2F; save æ“ä½œæ—¶ï¼Œæœ‰ä¸€ä¸ª db_section é€‰é¡¹ï¼Œå¦‚æœå¿½ç•¥ï¼Œåˆ™é»˜è®¤ä½¿ç”¨åˆå§‹åŒ–æ—¶ä¼ å…¥çš„ engide dict çš„ç¬¬ä¸€é¡¹ï¼Œåœ¨è¿™é‡Œå°±æ˜¯ masterï¼Œå¦‚æœæƒ³é€‰æ‹©å…¶ä»–çš„æ•°æ®åº“ï¼Œä¼ å…¥è¯¥æ•°æ®åº“å¯¹åº”çš„ key å°±è¡Œï¼Œæ¯”å¦‚ slave&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-ta&quot;&gt;å…¶ä»–&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;# æŸ¥çœ‹æŸæ¬¡æ’å…¥æˆ–æ›´æ–°æ˜¯å¦æˆåŠŸï¼Œå¯ä»¥æ£€æŸ¥errorså±æ€§ï¼Œå¦‚æœä¸ºç©ºè¡¨ç¤ºæ‰§è¡ŒæˆåŠŸ
&lt;&#x2F;span&gt;&lt;span&gt;# å¦‚æœmodelçš„keyä¸­åŒ…å«ä¸»é”®ï¼Œå¦‚idï¼Œåˆ™æ‰§è¡Œsaveæ—¶æ˜¯ä¸€ä¸ªæ›´æ–°æ“ä½œï¼Œå¦åˆ™ä¸ºæ’å…¥
&lt;&#x2F;span&gt;&lt;span&gt;# æ¬¢è¿fork &#x2F; test &#x2F; feedback
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</description>
        </item>
        
        
        <item>
            <title>pythonçš„ç®€å•MapReduceå®ç°ï¼šè®¡ç®—Ï€</title>
            <pubDate>Sat, 10 Sep 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/python-mapreduce-pi/</link>
            <guid>https://limboy.me/posts/python-mapreduce-pi/</guid>
            <description>&lt;p&gt;MapReduce æ˜¯ Google æå‡ºçš„ä¸€ä¸ªè½¯ä»¶æ¶æ„ï¼Œä¸€èˆ¬ç”¨äºå¤§è§„æ¨¡æ•°æ®é›†çš„å¹¶è¡Œè¿ç®—ã€‚æ ¸å¿ƒæ¦‚å¿µå°±æ˜¯&amp;quot;Mapï¼ˆæ˜ å°„ï¼‰&amp;quot;å’Œ&amp;quot;Reduceï¼ˆåŒ–ç®€ï¼‰&amp;quot;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç®€å•è¯´æ¥å°±æ˜¯æŠŠä¸€ä¸ªä»»åŠ¡åˆ†å‰²æˆå¤šä¸ªç‹¬ç«‹çš„å­ä»»åŠ¡ï¼Œå­ä»»åŠ¡çš„åˆ†å‘ç”± map å®ç°ï¼Œå­ä»»åŠ¡è®¡ç®—ç»“æœçš„åˆå¹¶ç”± reduce å®ç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;mapreduce çš„åº”ç”¨åœºæ™¯å¤šæ˜¯é‚£ç§äº’ä¸ä¾èµ–ï¼Œä¸Šä¸‹æ–‡æ— å…³çš„ä»»åŠ¡ã€‚æ‰€ä»¥ç±»ä¼¼ Fibonacci æ•°åˆ—è¿™ç§å¯¹è¾“å…¥æœ‰ä¾èµ–çš„å°±ä¸é€‚åˆä½¿ç”¨ mapreduceã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å›åˆ°æ­£é¢˜ï¼Œè¦è®¡ç®—åœ†å‘¨ç‡ï¼Œæˆ‘ä»¬å…ˆæ„å»ºè¿™ä¹ˆä¸ªæ¨¡å‹&lt;&#x2F;p&gt;
&lt;img src=&quot;http:&#x2F;&#x2F;code.google.com&#x2F;edu&#x2F;parallel&#x2F;img&#x2F;inscribe.png&quot; &#x2F;&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# å¤–é¢çš„æ­£æ–¹å½¢é¢ç§¯
&lt;&#x2F;span&gt;&lt;span&gt;As &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(2r)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(2r) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;or&lt;&#x2F;span&gt;&lt;span&gt; 4r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;r
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# é‡Œé¢çš„åœ†çš„é¢ç§¯
&lt;&#x2F;span&gt;&lt;span&gt;Ac &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;pi&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;r
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;pi &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Ac &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;(r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;r)
&lt;&#x2F;span&gt;&lt;span&gt;As &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; 4r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;r
&lt;&#x2F;span&gt;&lt;span&gt;r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;r &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;As &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4
&lt;&#x2F;span&gt;&lt;span&gt;pi &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;Ac &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;As
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´åªè¦ç®—å‡ºåœ†çš„é¢ç§¯ä¸æ­£æ–¹å½¢é¢ç§¯çš„æ¯”ï¼Œå°±å¯ä»¥æ±‚å‡ºåœ†å‘¨ç‡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤è®¡ç®— Ac &#x2F; Asï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;éšæœºåœ¨æ­£æ–¹å½¢é‡Œç”Ÿæˆè®¸å¤šç‚¹&lt;&#x2F;li&gt;
&lt;li&gt;è®¡ç®—ç‚¹åœ¨åœ†å†…ä¸åœ¨æ­£æ–¹å½¢å†…çš„æ¯”ä¾‹&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æµ‹è¯•çš„éšæœºç‚¹è¶Šå¤šï¼Œç»“æœè¶Šç²¾ç¡®&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#coding=utf-8
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;random
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;multiprocessing
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;multiprocessing &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;Process
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;MapReduce&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;object&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;__init__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;map_func&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;reduce_func&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;workers_num&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.map_func &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;map_func
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.reduce_func &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;reduce_func
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.workers_num &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;workers_num
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;not &lt;&#x2F;span&gt;&lt;span&gt;workers_num:
&lt;&#x2F;span&gt;&lt;span&gt;            workers_num &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;multiprocessing.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cpu_count&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.pool &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;multiprocessing.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Pool&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(workers_num)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;__call__&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;inputs&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        map_result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.pool.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.map_func, inputs)
&lt;&#x2F;span&gt;&lt;span&gt;        reduce_result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;reduce_func&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(map_result)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;reduce_result
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;calculator&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;multiprocessing.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;current_process&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;.name,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39; processing&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;    points, circle_round &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;args[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    points_in_circle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;range(points)&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;	    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# è¿™é‡Œå…¶å®åªå–äº†1&#x2F;4åœ†
&lt;&#x2F;span&gt;&lt;span&gt;        x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;random.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;random&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;circle_round
&lt;&#x2F;span&gt;&lt;span&gt;        y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;random.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;random&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;circle_round
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(x&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;y&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;circle_round&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            points_in_circle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;points_in_circle
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;count_circle_points&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;points_list&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sum(points_list)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;__name__ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;__main__&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# åŠå¾„
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CIRCLE_ROUND &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# æ€»ç‚¹æ•°
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;POINTS &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10000000
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# æ€»è¿›ç¨‹æ•°
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;WORKERS_NUM &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    map_reduce &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;MapReduce&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(calculator, count_circle_points, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;WORKERS_NUM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    inputs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;POINTS&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;WORKERS_NUM&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CIRCLE_ROUND&lt;&#x2F;span&gt;&lt;span&gt;)] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;WORKERS_NUM
&lt;&#x2F;span&gt;&lt;span&gt;    all_points_in_circle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;map_reduce&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(inputs)
&lt;&#x2F;span&gt;&lt;span&gt;    ac_as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(all_points_in_circle)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;POINTS
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;pi approach to:&lt;&#x2F;span&gt;&lt;span&gt;%7f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;%&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;ac_as)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ˜¯æ¯”è¾ƒç®€å•çš„å•æœº mapreduceï¼Œç”¨å¤šè¿›ç¨‹å°±å¯ä»¥å®ç°ã€‚å¦‚æœæ˜¯å¤šæœºè¿ç®—çš„è¯ï¼Œå°±éº»çƒ¦å¤šäº†ï¼Œç±»ä¼¼è¿™å¼ å›¾ï¼š&lt;&#x2F;p&gt;
&lt;img src=&quot;http:&#x2F;&#x2F;code.google.com&#x2F;edu&#x2F;parallel&#x2F;img&#x2F;mrfigure.png&quot; width=&#x27;700px&#x27;&#x2F;&gt;
&lt;p&gt;å‚è€ƒé“¾æ¥[2]æœ‰å¯¹è¿™å¼ å›¾çš„è§£é‡Š&lt;&#x2F;p&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;[1] &lt;a href=&quot;http:&#x2F;&#x2F;blog.doughellmann.com&#x2F;2009&#x2F;04&#x2F;implementing-mapreduce-with.html&quot;&gt;http:&#x2F;&#x2F;blog.doughellmann.com&#x2F;2009&#x2F;04&#x2F;implementing-mapreduce-with.html&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;[2] &lt;a href=&quot;http:&#x2F;&#x2F;code.google.com&#x2F;edu&#x2F;parallel&#x2F;mapreduce-tutorial.html&quot;&gt;http:&#x2F;&#x2F;code.google.com&#x2F;edu&#x2F;parallel&#x2F;mapreduce-tutorial.html&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>å°å¿ƒPHPçš„ç±»å®šä¹‰é¡ºåºä¸ç»§æ‰¿çš„é—®é¢˜</title>
            <pubDate>Wed, 15 Jun 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/be-careful-with-php-extends/</link>
            <guid>https://limboy.me/posts/be-careful-with-php-extends/</guid>
            <description>&lt;p&gt;ä»¥ä¸‹ä»£ç çš„è¿è¡Œç¯å¢ƒå‡ä¸º PHP5.3.4&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆæ¥çœ‹ä¸€æ®µä»£ç &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;B &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;B &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä»£ç å¾ˆç®€å•ï¼Œä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œã€‚çœ‹èµ·æ¥ PHP çš„ç±»å®šä¹‰ä¸é¡ºåºæ— å…³ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥çœ‹ä¸‹é¢ä¸€æ®µä»£ç &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;B &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;B &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;C &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;C &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çŒœçŒœç»“æœä¼šæ€æ ·ï¼Ÿæœ‰ç‚¹å‡ºä¹æ„æ–™ï¼Œä»£ç æŠ¥ Fatal Errorã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™å°±å¥‡æ€ªäº†ï¼Œä¸Šä¸€æ®µä»£ç ä¹Ÿæ˜¯åœ¨åé¢å£°æ˜çš„ç±» Bï¼Œæ­£å¸¸ã€‚å¤šäº†ä¸€å±‚ç»§æ‰¿å…³ç³»åï¼Œå°±æŠ¥é”™äº†ï¼Œé”™è¯¯ä¿¡æ¯æ˜¯&amp;quot;Fatal Error: class &#x27;B&#x27; not found &amp;quot;ã€‚ è¿™åˆä¸èƒ½ç†è§£äº†ï¼Œä¸ºä»€ä¹ˆä¼šè¯´æ‰¾ä¸åˆ°ç±» B å‘¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥å°è¯•ä¸€ä¸‹æ–°çš„ç»„åˆ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;B &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;C &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;B &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;C &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¥½äº†ï¼Œåˆæ­£å¸¸äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥å°è¯•ä¸€ä¸‹ namespace&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;namespace &lt;&#x2F;span&gt;&lt;span&gt;A {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;\B\B &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;namespace &lt;&#x2F;span&gt;&lt;span&gt;B {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;B &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;\C\C&lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;namespace &lt;&#x2F;span&gt;&lt;span&gt;C {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;C &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç»“æœè·Ÿä¸æ˜¯ç”¨ ns æ˜¯ä¸€æ ·çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§æ—¶å€™ï¼Œåªèƒ½çœ‹çœ‹å®˜æ–¹æ˜¯æ€ä¹ˆè¯´çš„äº† &lt;a href=&quot;http:&#x2F;&#x2F;php.net&#x2F;manual&#x2F;en&#x2F;keyword.extends.php&quot;&gt;http:&#x2F;&#x2F;php.net&#x2F;manual&#x2F;en&#x2F;keyword.extends.php&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;bq. Classes must be defined before they are used! If you want the class Named_Cart to extend the class Cart, you will have to define the class Cart first. If you want to create another class called Yellow_named_cart based on the class Named_Cart you have to define Named_Cart first. To make it short: the order in which the classes are defined is important.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;è¯´å¾—å¾ˆæ˜ç¡®ï¼Œç±»å¿…é¡»å…ˆå®šä¹‰åä½¿ç”¨ï¼Œå“ªæ€•æ˜¯åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œã€‚ä½†è¿™åˆæ— æ³•è§£é‡Šç¬¬ä¸€æ®µä»£ç ä¸ºä»€ä¹ˆå¯ä»¥æ­£å¸¸è¿è¡Œã€‚æ‰€ä»¥åŸºæœ¬å¯ä»¥è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ª php çš„ bugã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¥½åœ¨æœ‰ autoload æœºåˆ¶ï¼Œè¿™ç§æƒ…å†µå®Œå…¨å¯ä»¥é¿å…ã€‚ä¸è¿‡å¯¹é‚£äº›æƒ³é€šè¿‡æŠŠè®¸å¤šç±»æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªæ¥æé«˜ PHP è¿è¡Œæ•ˆç‡çš„ç«¥é‹ä»¬æ¥è¯´ï¼Œè¿™å°±æœ‰ç‚¹éº»çƒ¦å’¯ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ç¼©è¿›è¾“å‡ºç›®å½•ç»“æ„å¹¶è®¡ç®—æ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹å¤§å°</title>
            <pubDate>Fri, 10 Jun 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/calc-tree/</link>
            <guid>https://limboy.me/posts/calc-tree/</guid>
            <description>&lt;p&gt;å¦‚æœæŠŠè¿™ä¸ªå‘½é¢˜åˆ†å¼€æ¥å®ç°ä¼šæ–¹ä¾¿ç‚¹ï¼Œæ¯”å¦‚ç¼©è¿›è¾“å‡ºç›®å½•ç»“æ„å¯ä»¥é€šè¿‡å…ˆåºéå†å®ç°ï¼Œè®¡ç®—æ–‡ä»¶å¤¹å¤§å°å¯ä»¥é€šè¿‡åç»­éå†å®ç°ï¼Œä½†ç»“åˆåˆ°ä¸€å—å°±ç¨å¾®æœ‰ç‚¹éº»çƒ¦äº†ã€‚æ¯”å¦‚æˆ‘ä»¬è¦å¾—åˆ°å¦‚ä¸‹çš„è¾“å‡º&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span&gt;LICENSE (1.040K)
&lt;&#x2F;span&gt;&lt;span&gt;README.md (0.951K)
&lt;&#x2F;span&gt;&lt;span&gt;UPDATE.ja.md (23.951K)
&lt;&#x2F;span&gt;&lt;span&gt;UPDATE.md (19.390K)
&lt;&#x2F;span&gt;&lt;span&gt;autoload.php.dist (0.875K)
&lt;&#x2F;span&gt;&lt;span&gt;check_cs (3.312K)
&lt;&#x2F;span&gt;&lt;span&gt;phpunit.xml.dist (1.160K)
&lt;&#x2F;span&gt;&lt;span&gt;src (8302.127K) &#x2F;&#x2F; æ–‡ä»¶å¤¹
&lt;&#x2F;span&gt;&lt;span&gt;    Symfony (8302.127K) &#x2F;&#x2F; æ–‡ä»¶å¤¹
&lt;&#x2F;span&gt;&lt;span&gt;        Bridge (84.567K) &#x2F;&#x2F; æ–‡ä»¶å¤¹
&lt;&#x2F;span&gt;&lt;span&gt;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ–¹æ³•æ˜¯æŠŠæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„è®¡ç®—å’Œè¾“å‡ºåˆ†å¼€æ¥å®ç°ï¼Œä¸è¿‡è¿™æ ·æ•ˆç‡ä¸é«˜ï¼Œå› ä¸ºæœ‰äº›æ–‡ä»¶ä¼šè¢«å¤šæ¬¡ä½¿ç”¨ filesize æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;get_size&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$file_or_dir&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filesize &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;is_file(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file_or_dir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filesize &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;filesize(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file_or_dir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filesize &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;foreach&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;glob(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file_or_dir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;*&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filesize &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get_size&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filesize&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;tree&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$prefix&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$file_or_dir&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filename &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$prefix&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file_or_dir&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;is_file(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filename&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ¯æ¬¡è¾“å‡ºéƒ½è®¡ç®—ä¸€æ¬¡ï¼Œå¦‚æœæ˜¯æ–‡ä»¶å¤¹çš„è¯ï¼Œæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ä¼šè¢«å¤šæ¬¡è®¡ç®—ï¼Œæµªè´¹ä¹Ÿå°±åœ¨æ­¤
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pad_output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file_or_dir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get_size&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filename&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$handle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;opendir(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filename&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;pad_output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file_or_dir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get_size&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filename&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;while&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;readdir(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$handle&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;			{
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;.&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;..&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;				{
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;tree&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filename&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;				}
&lt;&#x2F;span&gt;&lt;span&gt;			}
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·ï¼Œå‡å¦‚ a&#x2F;b&#x2F;c.txt è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨è·å– c.txt æ–‡ä»¶å¤§å°æ—¶ä¼šè®¡ç®— c.txt ä¸€æ¬¡ï¼Œè·å– b æ–‡ä»¶å¤¹å¤§å°æ—¶è¿˜ä¼šè®¡ç®—ä¸€æ¬¡ï¼Œè·å– a æ–‡ä»¶å¤¹æ—¶ä»ç„¶ä¼šè®¡ç®—ä¸€æ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´æ–‡ä»¶çš„é‡å¤è®¡ç®—æ¬¡æ•°è·Ÿç›®å½•æ·±åº¦æˆæ­£æ¯”ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åæ¥åˆæƒ³äº†ä¸€ä¸ªæ–¹æ³•å¯ä»¥é¿å…é‡å¤è®¡ç®—ï¼Œä¸”å ç”¨ä¸å¤šçš„å†…å­˜ï¼Œè‡ªè®¤ä¸ºæ•ˆç‡è¿˜ç®—é«˜ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cacl&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$data&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;global &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$padding&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$f_pad &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pos &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;strrpos(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$f_pad &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;substr(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pos&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$f_pad &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;str_repeat(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$padding&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$f_pad&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;is_file(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$size &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;filesize(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$data&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$f_pad&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$size&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$data&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$f_pad&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$size &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;foreach&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;glob(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;*&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filename&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$size &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cacl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filename&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$data&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$f_pad&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$size&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;_&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$size&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸ªåªç”¨äº†ä¸€ä¸ªå‡½æ•°ï¼Œæ›´çŸ­ï¼Œæ›´å¿«ã€‚å¼•ç”¨æ•°ç»„è´Ÿè´£æ•°æ®çš„å­˜å‚¨ï¼Œé€’å½’è¿”å›å€¼è´Ÿè´£æ–‡ä»¶çš„å¤§å°ï¼Œä¸ºäº†å‡å°‘å†…å­˜çš„ä½¿ç”¨ï¼Œåœ¨æ–‡ä»¶å¤¹çš„ size åé¢åŠ äº†&amp;quot;&lt;em&gt;&amp;quot;æ¥è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¾“å‡ºæ—¶å»æ‰&amp;quot;&lt;&#x2F;em&gt;&amp;quot;å°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœä½ æœ‰æ›´å¥½çš„æƒ³æ³•ï¼Œæ¬¢è¿äº¤æµ :)&lt;&#x2F;p&gt;
&lt;p&gt;github åœ°å€ï¼š&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;cacl_tree&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;cacl_tree&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ä¸€é“é¢è¯•é¢˜çš„æ€è€ƒ</title>
            <pubDate>Fri, 03 Jun 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/php-xor-find-num/</link>
            <guid>https://limboy.me/posts/php-xor-find-num/</guid>
            <description>&lt;p&gt;å‰å‡ å¤©ä¸‹ç­é€”ä¸­è·ŸåŒäº‹èŠåˆ°äº†ä¸€é“é¢è¯•é¢˜ï¼Œå¤§æ„æ˜¯ï¼Œç»™ä½  1-1000 ä¸ªè¿ç»­è‡ªç„¶æ•°ï¼Œç„¶åä»ä¸­éšæœºå»æ‰ä¸¤ä¸ªï¼Œå†æ‰“ä¹±é¡ºåºï¼Œè¦æ±‚åªéå†ä¸€æ¬¡ï¼Œæ±‚å‡ºè¢«å»æ‰çš„ä¸¤ä¸ªæ•°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é¢˜å…¶å®æŒºä¸ºé¢è¯•è€…çš„ï¼Œå› ä¸ºè¦æ±‚ 1 åˆ†é’Ÿå†…è¯´å‡ºè§£æ³•ï¼Œä¸”ä¸èƒ½ä½¿ç”¨è®¡ç®—æœºã€çº¸å’Œç¬”ã€‚å¦‚æœä¹‹å‰æ²¡æœ‰é‡åˆ°è¿‡ç±»ä¼¼çš„é¢˜ç›®ï¼ŒåŠ ä¸Šé¢è¯•æ—¶çš„ç´§å¼ å¿ƒæƒ…ï¼Œå¾ˆéš¾èƒ½åœ¨é‚£ä¹ˆçŸ­çš„æ—¶é—´é‡Œæƒ³åˆ°è§£å†³æ–¹æ¡ˆï¼Œè‡³å°‘æˆ‘åšä¸åˆ°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¥½åœ¨æˆ‘æœ‰æ—¶é—´ï¼Œä¸Šç½‘çœ‹äº†ä¸€ä¸‹ï¼Œæ¯”è¾ƒå¸¸è§çš„æœ‰ä¸¤ç§æ–¹æ³•&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qiu-fang-cheng-zu-de-jie&quot;&gt;æ±‚æ–¹ç¨‹ç»„çš„è§£&lt;&#x2F;h3&gt;
&lt;p&gt;éå†è¢«æ‰“ä¹±çš„æ•°ç»„æ—¶ï¼Œè®¡ç®— value çš„ç´¯åŠ å€¼å’Œ value å¹³æ–¹çš„ç´¯åŠ å€¼ã€‚ç»“åˆæœªæ‰“ä¹±ä¹‹å‰çš„æ•°ç»„ï¼Œè¿™æ ·å°±èƒ½å¾—å‡º x+y = m ä¸ x&lt;em&gt;x+y&lt;&#x2F;em&gt;y = n ä¸¤ä¸ªæ–¹ç¨‹ï¼Œè§£è¿™ç»„æ–¹ç¨‹å³å¯ç®—å‡ºè¢«å»æ‰çš„ä¸¤ä¸ªæ•°ã€‚è¿™ç§æ–¹æ³•æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong-yi-huo&quot;&gt;ä½¿ç”¨å¼‚æˆ–&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªå°±éº»çƒ¦ç‚¹äº†ã€‚å…ˆæ¥è¯´è¯´å¼‚æˆ–çš„å®šä¹‰ï¼šä¸¤ä¸ªäºŒè¿›åˆ¶ä½ä¸åŒçš„å– 1ã€‚å†æ¥è¯´è¯´å¼‚æˆ–çš„ä¸¤ä¸ªç‰¹æ€§ï¼šé¡ºåºæ— å…³ &#x2F; å¯¹ä¸€ä¸ªæ•°å¼‚æˆ–ä¸¤æ¬¡ç­‰äºæ²¡æœ‰å¼‚æˆ–ã€‚é¡ºåºæ— å…³å°±æ˜¯è¯´å¼‚æˆ–çš„å…ƒç´ å¯ä»¥éšæ„äº¤æ¢é¡ºåºï¼Œè€Œä¸ä¼šå½±å“ç»“æœã€‚å¼‚æˆ–ä¸¤æ¬¡å¯ä»¥ç†è§£ä¸º+x å’Œ-xã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ji-suan-chu-x-y-de-zhi&quot;&gt;è®¡ç®—å‡º x^y çš„å€¼&lt;&#x2F;h4&gt;
&lt;p&gt;é¦–å…ˆï¼Œè¿™ä¸¤ä¸ªæ•°ç»„(æ‰“ä¹±å‰å’Œæ‰“ä¹±å)å„è‡ªå¼‚æˆ–ï¼Œä¹Ÿå°±æ˜¯ 1^2^...^1000ï¼Œå¾—åˆ°ä¸¤ä¸ªå¼‚æˆ–å€¼ã€‚å†å¯¹è¿™ä¸¤ä¸ªå¼‚æˆ–å€¼è¿›è¡Œä¸€æ¬¡å¼‚æˆ–ï¼Œè¿™æ ·å°±å¾—åˆ°äº† x^y çš„æŒ‡(é‡å¤éƒ¨åˆ†äº’ç›¸æŠµæ¶ˆäº†)ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span&gt;&#x2F;&#x2F; å…¶å®å°±æ˜¯æŠŠæ•°ç»„çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œå¼‚æˆ–ï¼Œé‡å¤éƒ¨åˆ†äº’ç›¸æŠµæ¶ˆ
&lt;&#x2F;span&gt;&lt;span&gt;result = 1^2^...^1000^1^2...^1000;
&lt;&#x2F;span&gt;&lt;span&gt;result = 1^1^2^2...^x...^y...^1000^1000;
&lt;&#x2F;span&gt;&lt;span&gt;result = x^y;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;huo-qu-ji-suan-chu-de-yi-huo-zhi-de-1-suo-zai-de-wei-zhi-bing-ji-xu-yi-huo&quot;&gt;è·å–è®¡ç®—å‡ºçš„å¼‚æˆ–å€¼çš„ 1 æ‰€åœ¨çš„ä½ç½®ï¼Œå¹¶ç»§ç»­å¼‚æˆ–&lt;&#x2F;h4&gt;
&lt;p&gt;å› ä¸º x å’Œ y æ˜¯ä¸¤ä¸ªä¸åŒçš„æ•´æ•°ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªæ•°çš„å¼‚æˆ–ç»“æœï¼Œè½¬åŒ–ä¸ºäºŒè¿›åˆ¶çš„è¯ï¼Œä¸€å®šåœ¨æŸä½æ˜¯ 1ï¼Œå‡è®¾åœ¨ç¬¬ 3 ä½ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœæŠŠåŸå§‹æ•°ç»„æŒ‰ç¬¬ 3 ä½æ˜¯å¦ä¸º 0 è¿›è¡Œåˆ’åˆ†ï¼Œå°±å¯ä»¥åˆ†æˆä¸¤ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„å„åŒ…å«ä¸€ä¸ªè¢«æŠ½å–çš„æ•°ã€‚å¦‚æœæ‰“ä¹±åçš„æ•°ç»„ä¹ŸæŒ‰è¿™ä¸ªè§„åˆ™åˆ’åˆ†ä¸ºä¸¤ä¸ªæ•°ç»„ï¼Œè¿™æ ·å°±å¾—åˆ°äº† 4 ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ä¸¤ç»„æ˜¯ç¬¬ 3 ä½ä¸º 0ï¼Œå¦å¤–ä¸¤ç»„æ˜¯ç¬¬ 3 ä½ä¸º 1ã€‚æŠŠç¬¬ 3 ä½ä¸º 0 çš„ä¸¤ä¸ªæ•°ç»„æ‰€æœ‰å…ƒç´ è¿›è¡Œå¼‚æˆ–å°±èƒ½å¾—åˆ°è¢«æŠ½å–çš„ä¸€ä¸ªæ•°ï¼ŒåŒç†ä¹Ÿå°±èƒ½è·å¾—å¦å¤–ä¸€ä¸ªè¢«æŠ½å–çš„æ•°ï¼Œäºæ˜¯é—®é¢˜è§£å†³ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;php-de-shi-xian&quot;&gt;PHP çš„å®ç°&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; èµ·å§‹é•¿åº¦
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;range(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å°†è¦è¢«ç§»é™¤çš„ä¸¤ä¸ªæ•°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä¸¤ä¸ªæ•°ç»„å¼‚æˆ–å†äº’ç›¸å¼‚æˆ–çš„ç»“æœ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1_num2_xor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å­˜æ”¾è¢«posåˆ†å‰²çš„æ•°å­—
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è·å–ä¸€ä¸ªæ•°å­—è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å1æ‰€åœ¨çš„ä½ç½®
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;get_pos&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$num&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pow(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$b&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¿›è¡Œå¼‚æˆ–è®¡ç®—
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;do_xor&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$x&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$y&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$x&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$y&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;global &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num2&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1_num2_xor&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rand_index_1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;mt_rand(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rand_index_2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;mt_rand(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$length&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è·å–ä¸¤ä¸ªéšæœºæ•°ï¼Œç„¶åå»æ‰ä»æ•°ç»„ä¸­å»æ‰å®ƒä»¬
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rand_index_1&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rand_index_2&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;unset(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rand_index_1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;])&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;unset(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rand_index_2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;])&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cacl_num1_num2_xor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;divide_by_pos&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get_pos&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1_num2_xor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get_num&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è·å–ä¸¤ä¸ªæ•°ç»„å„è‡ªå¼‚æˆ–å†äº’ç›¸å¼‚æˆ–çš„ç»“æœ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cacl_num1_num2_xor&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;global &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1_num2_xor&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_xor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array_reduce(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;do_xor&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_xor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array_reduce(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;do_xor&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1_num2_xor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_xor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_xor&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ ¹æ®poså°†ä¸¤ä¸ªæ•°ç»„å†å„è‡ªç»†åˆ†æˆä¸¤ä¸ªæ•°ç»„
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å…¶ä¸­$arr_copy_0å’Œ$arr_copy_1å„è‡ªåŒ…å«äº†ä¸€ä¸ªè¢«æŠ½å–çš„æ•°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;divide_by_pos&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$pos&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;global &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pow(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pos&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;foreach&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$b&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_0&lt;&#x2F;span&gt;&lt;span&gt;[] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_1&lt;&#x2F;span&gt;&lt;span&gt;[] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;foreach&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$b&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_0&lt;&#x2F;span&gt;&lt;span&gt;[] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_1&lt;&#x2F;span&gt;&lt;span&gt;[] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¯¹è¿™4ä¸ªæ•°ç»„è¿›è¡Œå¯¹åº”çš„å¼‚æˆ–æ“ä½œï¼Œå°±å‡ºç»“æœäº†
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;get_num&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;global &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_0_xor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array_reduce(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;do_xor&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_0_xor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array_reduce(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;do_xor&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cacl_num1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_0_xor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_0_xor&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_1_xor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array_reduce(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;do_xor&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_1_xor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array_reduce(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;do_xor&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cacl_num2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_1_xor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr_copy_1_xor&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cacl_num1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39; &#x2F; &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cacl_num2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;. &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;PHP_EOL&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39; &#x2F; &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$num2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</description>
        </item>
        
        
        <item>
            <title>iframeæ— åˆ·æ–°è·¨åŸŸä¸Šä¼ æ–‡ä»¶å¹¶è·å–è¿”å›å€¼</title>
            <pubDate>Fri, 06 May 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/crossdomain-upload/</link>
            <guid>https://limboy.me/posts/crossdomain-upload/</guid>
            <description>&lt;p&gt;é€šå¸¸æˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªç»Ÿä¸€çš„ä¸Šä¼ æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä¼šè¢«å…¶ä»–çš„æœåŠ¡è°ƒç”¨ã€‚å¦‚æœå‡ºç°ä¸åŒåŸŸï¼Œè¿˜éœ€è¦æ— åˆ·æ–°ä¸Šä¼ æ–‡ä»¶ï¼Œå¹¶ä¸”è·å–è¿”å›å€¼ï¼Œè¿™å°±æœ‰ç‚¹éº»çƒ¦äº†ã€‚æ¯”å¦‚ï¼Œæ–°æµªå¾®åšå¯ç”¨äº†æ–°åŸŸåwww.weibo.comï¼Œä½†æ¥å£è¿˜æ˜¯ä½¿ç”¨åŸæ¥çš„åŸŸï¼špicupload.t.sina.com.cnã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç ”ç©¶äº†ä¸€ä¸‹æ–°æµªå¾®åšçš„å¤„ç†æ–¹æ³•ï¼Œè¿™é‡Œå¤§æ¦‚æ¼”ç¤ºä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯ä¸€ä¸ªæ­£å¸¸çš„ä¸Šä¼ é¡µé¢ upload.html&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;html&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-html &quot;&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¿™ä¸ªå‡½æ•°å°†æ¥ä¼šè¢«iframeç”¨åˆ°
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getIframeVal&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;val&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span&gt;val&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&amp;lt;!-- æˆ‘æŠŠupload.comæŒ‡å‘äº†127.0.0.1 --&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;form
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;  method=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;post&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;  target=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;if&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;  enctype=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;multipart&#x2F;form-data&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;  action=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;http:&#x2F;&#x2F;upload.com&#x2F;playground&#x2F;js&#x2F;deal.php?cb=http:&#x2F;&#x2F;localhost&#x2F;playground&#x2F;js&#x2F;deal_cd.html&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;input type=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;file&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;name=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;file&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&#x2F;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;input type=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;SUBMIT&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;value=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;upload&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&#x2F;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;form&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;iframe id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;if&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;if&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;src&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;about:blank&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;frameborder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;0&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;iframe&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®ç‚¹æ˜¯ form çš„ target è¦æŒ‡å‘ iframeï¼ŒåŒæ—¶æŠŠ iframe éšè—èµ·æ¥ï¼Œè¿™æ ·ä¸Šä¼ çš„å¤„ç†ç»“æœå°±ä¼šæ˜¾ç¤ºåœ¨è¯¥ iframe é‡Œã€‚action é‡Œçš„ cb(callback)å‚æ•°è¡¨ç¤ºå¤„ç†å®Œæˆåè¦è·³è½¬çš„ urlï¼Œå› ä¸ºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ iframeï¼Œæ‰€ä»¥åªä¼šæŠŠè·³è½¬çš„é¡µé¢è¾“å‡ºåˆ° iframeï¼Œè€Œä¸ä¼šè®©å½“å‰é¡µé¢è·³è½¬ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç‚¹ï¼Œcallback url è¦å’Œå½“å‰é¡µé¢åŒåŸŸã€‚è·¨åŸŸçš„ iframe æ— æ³•è°ƒç”¨çˆ¶é¡µé¢çš„å†…å®¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ deal.phpï¼Œä¹Ÿå°±æ˜¯ form çš„ action&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; deal upload file
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; and get file id, you can pass other params either
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;header(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;location:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_GET&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;cb&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;?file_id=123&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œå¯ä»¥å¤„ç†æ–‡ä»¶ï¼Œç„¶åå…¥åº“ã€‚æ“ä½œå®Œæˆåï¼ŒæŠŠæ–‡ä»¶çš„ id åŠå…¶ä»–ä¿¡æ¯éƒ½æ”¾åœ¨ url é‡Œï¼Œæœ€åè·³è½¬åˆ°è¿™ä¸ª urlã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€åæ¥çœ‹çœ‹ deal_cd.htmlï¼Œä¹Ÿå°±æ˜¯åˆšåˆš deal.php è·³è½¬åˆ°çš„ urlï¼Œè¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ä¼šå¡«å……åˆ°é¡µé¢çš„ iframe é‡Œã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;html&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-html &quot;&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script type=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;text&#x2F;javascript&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span&gt;rs &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;window&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.location.search.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;?&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;slice&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;window&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.parent.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;getIframeVal&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span&gt;rs&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.toString().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;slice&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œè°ƒç”¨äº†çˆ¶çª—å£çš„ getIframeVal æ–¹æ³•ï¼Œè¿™æ ·çˆ¶é¡µé¢å°±è·å¾—äº†æ–‡ä»¶çš„ idã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>APIçš„è¿”å›å€¼å½¢å¼</title>
            <pubDate>Wed, 04 May 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/api-return-format/</link>
            <guid>https://limboy.me/posts/api-return-format/</guid>
            <description>&lt;p&gt;å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª rest æœåŠ¡ï¼Œè¯¥ rest æœåŠ¡ä¼šè¿”å› json æ ¼å¼çš„ä¿¡æ¯ï¼Œä»¥ twitter ä¸ºä¾‹ï¼šè®¿é—®&lt;code&gt;http:&#x2F;&#x2F;api.twitter.com&#x2F;1&#x2F;users&#x2F;show.json?user_id=12345&lt;&#x2F;code&gt;ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	id_str: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;12345&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;	is_translator: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false
&lt;&#x2F;span&gt;&lt;span&gt;	following: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null
&lt;&#x2F;span&gt;&lt;span&gt;	profile_text_color: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;333333&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;	description: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ID 12345&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;	status: {
&lt;&#x2F;span&gt;&lt;span&gt;		coordinates: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null
&lt;&#x2F;span&gt;&lt;span&gt;		text: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Follow @h&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;a
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ­£å¸¸ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¦‚æœè®¿é—®ä¸€ä¸ªä¸å­˜åœ¨ç”¨æˆ·ï¼Œä¼šè¿”å›ç±»ä¼¼ä¸‹é¢çš„ç»“æœ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  request: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;1&#x2F;users&#x2F;show.json?user_id=12345111&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  error: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Not found&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æœ‰æ²¡æœ‰å‘ç°ï¼Œä¸¤æ¬¡è¯·æ±‚åªæ˜¯ userid ä¸ä¸€æ ·ï¼Œä½†è¿”å›å½¢å¼å´æˆªç„¶ä¸åŒï¼Œè¿™å…¶å®ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ï¼Œå®¢æˆ·ç«¯åªè¦å…ˆæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰ error è¿™ä¸ª keyï¼Œå°±èƒ½çŸ¥é“è¿™æ¬¡è¯·æ±‚æ˜¯å¦å‡ºé”™ã€‚ä¸è¿‡æˆ‘æƒ³äº†ä¸ªå¦ä¸€ä¸ªæ–¹æ³•ï¼Œèƒ½è®©è¿”å›å½¢å¼æœ‰ç›¸åŒçš„ç»“æ„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å€Ÿé‰´äº†ä¸€ä¸‹ http åè®®ï¼ŒæŠŠè¿”å›ç»“æœåˆ†ä¸º header å’Œ body ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªæ­£å¸¸çš„è¯·æ±‚ä¼šè¿”å›å¦‚ä¸‹çš„ä¿¡æ¯&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;status&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;ok&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;content&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;blah&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;blah&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;status ç›¸å½“äº http çš„ status å¤´ä¿¡æ¯ï¼Œé€šè¿‡æ£€æŸ¥è¯¥ä¿¡æ¯å¯ä»¥çŸ¥é“è¯·æ±‚æ˜¯å¦æ­£å¸¸ï¼Œå¦‚æœæ˜¯&#x27;ok&#x27;åˆ™ä¸ºæ­£å¸¸ï¼Œå¦‚ä¸º&#x27;error&#x27;åˆ™ä¸æ­£å¸¸ï¼Œå¦‚æœè¿”å›å‡ºé”™ï¼Œåˆ™ä¼šåœ¨ content å­—æ®µé‡ŒåŒ…å«è¶³å¤Ÿçš„é”™è¯¯ä¿¡æ¯&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;status&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;error&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;content&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;request&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;http:&#x2F;&#x2F;...&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;code&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;404&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;message&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;file not found&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡ŒåªåŒ…å«äº†æœ€åŸºæœ¬çš„ 3 é¡¹ä¿¡æ¯ï¼Œrequest æŒ‡ä»£çš„æ˜¯æœ¬æ¬¡è¯·æ±‚çš„ urlï¼Œcode ç±»ä¼¼ http çŠ¶æ€ç ï¼Œmessage æŒ‡ä»£å‡ºé”™ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ ·æ˜¯ä¸æ˜¯æ›´ä¼˜é›…äº›ï¼Ÿ&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ç”¨php5.3çš„namespaceå®ç°ç±»çš„æ— ç—›ç»§æ‰¿</title>
            <pubDate>Thu, 24 Mar 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/php-namespace-class-extend/</link>
            <guid>https://limboy.me/posts/php-namespace-class-extend/</guid>
            <description>&lt;p&gt;æ ‡é¢˜æœ‰ç‚¹æ€ªå¼‚ï¼Œå…ˆæ¥è¯´è¯´æ­£å¸¸çš„ç»§æ‰¿ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ã€‚å‡è®¾ä½ ä¸€ä¸ªåº”ç”¨çš„ Controller å¤šæ¬¡ç”¨åˆ°äº† View ç±»ï¼Œå°±åƒè¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Controller_Hello
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;action_index&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$view &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;View&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;index.tpl&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$view&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;render&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;action_edit&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span&gt;ï¼‰
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$view &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;View&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;edit.tpl&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$view&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;render&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸ª View æ˜¯æ¡†æ¶æä¾›çš„ï¼Œå‡å¦‚æŸä¸€å¤©å‘ç° View ç±»éœ€è¦æ–°æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯æ–°å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ View ç±»ç»§æ‰¿æ¡†æ¶çš„ View ç±»&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;My_View &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;View
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;newMethod&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ—¶ä»¥å‰ä½¿ç”¨ View ç±»çš„åœ°æ–¹å°±è¦å…¨éƒ¨å˜æˆ My_Viewï¼Œè¿™æ˜¯æ¯”è¾ƒææ€–çš„ã€‚å¾ˆå¤šæ¡†æ¶ä¹Ÿéƒ½æä¾›äº†è§£å†³æ–¹æ³•ï¼Œå¤§ä½“æœ‰ä¸‰ç§&lt;&#x2F;p&gt;
&lt;h3 id=&quot;eval&quot;&gt;eval&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯ Kohana2 é‡‡ç”¨çš„æ–¹æ³•ï¼Œå°±æ˜¯ç³»ç»Ÿç±»å‘½åä¸º XXX_Coreï¼Œç„¶åè°ƒç”¨çš„æ—¶å€™åœ¨ autoload å¤„ï¼ŒåŠ¨æ€ eval å‡ºä¸€ä¸ª XXX classï¼Œå°±åƒè¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; system class
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;View_Core
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; autoload
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;autoload&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; first look into app dir
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; then look into modules dir
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; last look into system dir
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;require &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;path&#x2F;to&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;.php&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;eval(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;class &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39; extends &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;_Core&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœç”¨æˆ·éœ€è¦å¯¹è¯¥ç±»æ·»åŠ æ–°çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨ app&#x2F;classes é‡Œå®šä¹‰æ–°çš„ View ç±»ï¼ŒåŒæ—¶ç»§æ‰¿ View_Core ç±»ï¼Œè¿™æ ·ä½¿ç”¨æ—¶ï¼Œå› ä¸ºä¼˜å…ˆçº§çš„åŸå› ï¼ŒView ç±»åå¯ä»¥ä¿æŒä¸å˜&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;View &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;View_Core
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;newMethod&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å› ä¸ºä½¿ç”¨äº† evalï¼Œæ‰€ä»¥ä¸å¤Ÿä¼˜é›…ï¼Œè€Œä¸”æœ‰å®‰å…¨éšæ‚£&lt;&#x2F;p&gt;
&lt;h3 id=&quot;kong-ke-fa&quot;&gt;ç©ºå£³æ³•&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯ Kohana3 çš„åšæ³•ï¼Œå…·ä½“å¦‚ä¸‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; system&#x2F;classes&#x2F;view.php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ˜¯çš„ï¼Œå°±è¿™ä¹ˆä¸€å¥è¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;View &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Kohana_View &lt;&#x2F;span&gt;&lt;span&gt;{}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; system&#x2F;classes&#x2F;kohana&#x2F;view.php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Kohana_View
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ ¹æ®ä¼˜å…ˆçº§ï¼Œæœ€åä¼šæ‰¾åˆ° system&#x2F;classes&#x2F;view.php å®šä¹‰çš„ View ç±»ã€‚å¦‚æœéœ€è¦è‡ªå·±æ‰©å±• Kohana_View ç±»ï¼Œå¯ä»¥åœ¨ app&#x2F;classes ç›®å½•é‡Œæ–°å»ºä¸€ä¸ª view.php&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;View &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Kohana_View
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; add your method
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·æ¡†æ¶å°±ä¼šå…ˆæ‰¾åˆ° app&#x2F;classes&#x2F;view.php è€Œä¸æ˜¯ system&#x2F;classes&#x2F;view.phpï¼Œè‡ªå®šä¹‰ View ç±»ç”Ÿæ•ˆï¼ŒåŒæ—¶åŸå…ˆä½¿ç”¨çš„ View ç±»ä¹Ÿä¸éœ€è¦åšè°ƒæ•´&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¹ˆåšçš„ç¼ºç‚¹å°±æ˜¯ system&#x2F;classes ç›®å½•ä¸‹ä¼šæœ‰å¤§é‡çš„ç©ºå£³ç±»ï¼Œæœ‰ç‚¹ç´¯èµ˜&lt;&#x2F;p&gt;
&lt;h3 id=&quot;attach-behavior&quot;&gt;attach behavior&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯ yii é‡‡ç”¨çš„æ–¹æ³•ï¼Œç®€å•è¯´æ¥å°±æ˜¯é€šè¿‡ attachBehavior æ–¹æ³•ï¼ŒåŠ¨æ€åœ°ç»™æŸä¸ªç±»æ·»åŠ æ–°çš„åŠŸèƒ½&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SomeComponent &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Component
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SomeBehavior &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;CBehavior
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;addWidth&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$width&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Owner&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;width &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$width&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;SomeComponent&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;attachBehavior&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;sb&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;SomeBehavior&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sc&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;addWidth&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;éœ€è¦å®ä¾‹åŒ–ååŠ¨æ€è°ƒç”¨ attachBehavior æ–¹æ³•ï¼Œæœ‰ç‚¹éº»çƒ¦ã€‚è€Œä¸”ä¸èƒ½ä½¿ç”¨çˆ¶ç±»çš„ protected å±æ€§å’Œæ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yong-namespace-shi-xian-wu-tong-ji-cheng&quot;&gt;ç”¨ namespace å®ç°æ— ç—›ç»§æ‰¿&lt;&#x2F;h3&gt;
&lt;p&gt;æ‰€è°“çš„æ— ç—›ç»§æ‰¿å°±æ˜¯ä¸ç”¨ä¿®æ”¹åŸå…ˆçš„ç±»åï¼Œæ²¡æœ‰å¤šä½™çš„ç©ºå£³ç±»ï¼Œæ²¡æœ‰ evalï¼Œä¸ç”¨ attachBehaviorï¼Œåªè¦ä¿®æ”¹&#x27;use&#x27;å°±è¡Œäº†ã€‚ä»£ç å¦‚ä¸‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; app&#x2F;lib1.php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;namespace &lt;&#x2F;span&gt;&lt;span&gt;App\Lib1;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Controller
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;before&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;lib1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;s before&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å®šä¹‰äº†ä¸€ä¸ª Controller ç±»ï¼Œä½¿ç”¨æ—¶ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;require &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;lib&#x2F;lib1.php&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;use &lt;&#x2F;span&gt;&lt;span&gt;App\Lib1\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Controller&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Controller&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$c&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;before&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; output: lib1&amp;#39;s before
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç°åœ¨è¦æœ‰ä¸€ä¸ªæ–°çš„ controller ç»§æ‰¿ lib1.php çš„ Controllerï¼Œå¦‚ä¸‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;namespace &lt;&#x2F;span&gt;&lt;span&gt;App\Lib2;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;use &lt;&#x2F;span&gt;&lt;span&gt;App\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Lib1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Controller &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Lib1\Controller
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;before&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;lib2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;s before&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½¿ç”¨æ—¶ï¼Œåªè¦å°† use App\Lib1\Controller æ”¹ä¸º use App\Lib2\Controller å°±è¡Œäº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¯ä»¥é€šè¿‡è®¾ç½®autoloadæ¥è§£å†³requireçš„é—®é¢˜
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;require &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;lib&#x2F;lib1.php&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;require &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;lib&#x2F;lib2.php&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;use &lt;&#x2F;span&gt;&lt;span&gt;App\Lib2\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Controller&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Controller&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$c&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;before&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>phpå®ç°å®æ—¶é€šä¿¡</title>
            <pubDate>Mon, 21 Mar 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/php-comet/</link>
            <guid>https://limboy.me/posts/php-comet/</guid>
            <description>&lt;p&gt;å¦‚æœè‹±æ–‡ ok çš„è¯ï¼Œå¯ä»¥ç›´æ¥çœ‹&lt;a href=&quot;http:&#x2F;&#x2F;gonzalo123.wordpress.com&#x2F;2011&#x2F;03&#x2F;14&#x2F;real-time-notifications-with-php&#x2F;&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å®ç°å®æ—¶é€šä¿¡ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼:
socket æˆ– cometã€‚socket æ˜¯æ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œé—®é¢˜åœ¨äºä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½å…¼å®¹ï¼ŒæœåŠ¡å™¨ç«¯å®ç°èµ·æ¥ä¹Ÿç¨å¾®æœ‰ç‚¹éº»çƒ¦ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œcomet(åŸºäº HTTP é•¿è¿æ¥çš„&amp;quot;æœåŠ¡å™¨æ¨&amp;quot;)å®ç°èµ·æ¥æ›´åŠ æ–¹ä¾¿ï¼Œè€Œä¸”å…¼å®¹æ‰€æœ‰çš„æµè§ˆå™¨ã€‚æ‰€ä»¥è¿™æ¬¡å°±æ¥è¯´è¯´ comet çš„ php å®ç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;comet ä¹Ÿæœ‰å¥½å‡ ç§å®ç°æ–¹å¼ï¼Œå¦‚ iframe, http long requestï¼ŒäºŒè€…çš„åŒºåˆ«å¯ä»¥å‚è€ƒ&lt;a href=&quot;http:&#x2F;&#x2F;www.ibm.com&#x2F;developerworks&#x2F;cn&#x2F;web&#x2F;wa-lo-comet&#x2F;&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ã€‚æœ¬æ–‡ä¸»è¦æ¢è®¨ http long request å®ç°å®æ—¶é€šä¿¡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆè¯´è¯´ http é•¿é“¾æ¥æ˜¯æ€ä¹ˆå›äº‹ï¼Œé€šä¿—ç‚¹è®²å°±æ˜¯æœåŠ¡å™¨ä¸æ˜¯ä¸€æ”¶åˆ°è¯·æ±‚å°±ç›´æ¥åæ•°æ®ï¼Œè€Œæ˜¯åœ¨é‚£æ†‹å•Šæ†‹ï¼Œä¸€ç›´æ†‹åˆ°æ†‹ä¸ä½äº†ï¼Œæ‰å‘Šè¯‰ä½ æ‰§è¡Œç»“æœã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$count &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$count&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; do something ...
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sleep(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;æ†‹æ­»æˆ‘äº†&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è‡³äºæ†‹å¤šé•¿æ—¶é—´ï¼Œå°±çœ‹å…·ä½“åº”ç”¨äº†ï¼Œå¦‚æœæ†‹å¤ªä¹…çš„è¯ï¼ŒæœåŠ¡å™¨èµ„æºçš„å ç”¨ä¹Ÿä¼šæ˜¯ä¸ªé—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å°±è¦é€šè¿‡è¿™ç§æ–¹æ³•æ¥å®ç°å®æ—¶é€šä¿¡(å…¶å®æ˜¯å‡†å®æ—¶)ï¼Œå…ˆè¯´ä¸€ä¸‹åŸç†ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ª ajax é•¿é“¾æ¥æŸ¥è¯¢ï¼Œç„¶åæœåŠ¡ç«¯å°±å¼€å§‹æ‰§è¡Œä»£ç ï¼Œä¸»è¦æ˜¯æ£€æŸ¥æŸä¸ªæ–‡ä»¶æ˜¯å¦è¢«æ›´æ–°ï¼Œå¦‚æœæ²¡æœ‰ï¼Œç¡ä¸€ä¼š(sleep)ï¼Œé†’æ¥æ¥ç€æ£€æŸ¥&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœå®¢æˆ·ç«¯åˆå‘èµ·äº†ä¸€ä¸ªæŸ¥è¯¢é“¾æ¥(æ­£å¸¸è¯·æ±‚)ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°åï¼Œå¤„ç†è¯·æ±‚ï¼Œå¤„ç†å®Œæ¯•åæ›´æ–°æŸä¸ªç‰¹å®šæ–‡ä»¶çš„ modify time&lt;&#x2F;li&gt;
&lt;li&gt;è¿™æ—¶ç¬¬ä¸€æ¬¡ ajax æŸ¥è¯¢çš„åå°ä»£ç è¿˜åœ¨æ‰§è¡Œï¼Œå‘ç°æŸä¸ªæ–‡ä»¶è¢«æ›´æ–°ï¼Œè¯´æ˜æ¥äº†æ–°è¯·æ±‚ï¼Œè¾“å‡ºå¯¹åº”çš„ç»“æœ&lt;&#x2F;li&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡ ajax æŸ¥è¯¢çš„ callback è¢«è§¦å‘ï¼Œæ›´æ–°é¡µé¢ï¼Œç„¶åå†å‘èµ·ä¸€ä¸ªæ–°çš„ ajax é•¿é“¾æ¥&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;shi-zhan&quot;&gt;å®æˆ˜&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;ke-hu-duan&quot;&gt;å®¢æˆ·ç«¯&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;html&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-html &quot;&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;meta http-equiv&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Content-Type&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;content&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;text&#x2F;html; charset=utf-8&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&#x2F;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;Comet Test&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;title&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;a class=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;customAlert&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;href=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;#&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;publish customAlert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;a class=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;customAlert2&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;href=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;#&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;publish customAlert2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;      src=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;http:&#x2F;&#x2F;ajax.googleapis.com&#x2F;ajax&#x2F;libs&#x2F;jquery&#x2F;1.5&#x2F;jquery.min.js&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;      type=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;text&#x2F;javascript&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script src=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;NovComet.js&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;type=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;text&#x2F;javascript&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script type=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;text&#x2F;javascript&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;subscribe&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;customAlert&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.log(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;customAlert&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;console.log(data);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;      })&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;subscribe&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;customAlert2&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.log(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;customAlert2&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;console.log(data);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;      })&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;document&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ready&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;() {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;a.customAlert&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;click&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;event&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;publish&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;customAlert&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        });
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;a.customAlert2&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;click&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;event&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;publish&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;customAlert2&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        });
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;      })&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ®µä»£ç è¯´çš„æ˜¯ï¼Œæœ‰ä¸ª NovComet çš„ Objectï¼Œæ³¨å†Œäº† customAlert å’Œ customAlert2 äº‹ä»¶ï¼Œå½“é¡µé¢è½½å…¥å®Œæˆæ—¶ï¼Œå¯¹ä¸¤ä¸ªæŒ‰é’®åˆåŠ äº†ç›‘å¬äº‹ä»¶ï¼Œå½“ç‚¹å‡»æ—¶ NovComet ä¼šå‘å¸ƒ customAlert æˆ– customAlert2 äº‹ä»¶ï¼Œç„¶å NovComet æ‰§è¡Œäº† run æ–¹æ³•ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;novcomet&quot;&gt;NovComet&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;NovComet.js
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  sleepTime: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1000&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  _subscribed: {},
&lt;&#x2F;span&gt;&lt;span&gt;  _timeout: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;undefined&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  _baseurl: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;comet.php&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  _args: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  _urlParam: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;subscribed&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;subscribe&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;callback&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_subscribed&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;      cbk: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;callback&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;      timestamp: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;._getCurrentTimestamp&lt;&#x2F;span&gt;&lt;span&gt;(),
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_refresh&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_timeout &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setTimeout&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.run&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    }, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;sleepTime&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;baseurl&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;baseurl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;undefined&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_baseurl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;baseurl&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_getCurrentTimestamp&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;Math&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.round&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span&gt;Date()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.getTime&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1000&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cometCheckUrl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_baseurl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;?&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_args&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_subscribed&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;currentTimestamp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_subscribed&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;timestamp&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cometCheckUrl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+=
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;amp;&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_urlParam &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;[&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;]=&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;currentTimestamp&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cometCheckUrl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;amp;&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;._getCurrentTimestamp&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.getJSON&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cometCheckUrl&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;switch &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;s&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; sin cambios
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;._refresh&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;break&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; trigger
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;k&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;]) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_subscribed&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;timestamp&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;k&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_subscribed&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.cbk&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;k&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;          }
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;._refresh&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;break&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;    });
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;publish&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cometPublishUrl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_baseurl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;?&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_args&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cometPublishUrl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;amp;publish=&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.getJSON&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cometPublishUrl&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;NovComet çš„ run æ–¹æ³•é¦–å…ˆæŠŠä¹‹å‰æ³¨å†Œçš„å‡ ä¸ªäº‹ä»¶ä¸²æˆä¸€ä¸ª urlï¼Œå¹¶ä¸”å¾ˆç‹¡çŒ¾åœ°ä½¿ç”¨äº†&amp;quot;[]&amp;quot;ï¼Œç±»ä¼¼:
?subscribed[customAlert]=1300016814&amp;amp;subscribed[customAlert2]=1300016814&amp;amp;1300016825ï¼Œè¿™æ · php æ”¶åˆ°åï¼Œå°±ä¼šå¾—åˆ°$_GET[subscribed]æ•°ç»„ï¼Œæœ€åé‚£ä¸ªæ—¶é—´æˆ³æ˜¯ä¸ºäº†é¿å…è¯·æ±‚è¢«ç¼“å­˜ã€‚å¦‚æœæ”¶åˆ°åå°ä¼ è¿‡æ¥çš„æ•°æ® data çš„ s å€¼ä¸º 0ï¼Œè¯´æ˜ä»€ä¹ˆä¹Ÿæ²¡å‘ç”Ÿï¼Œéš” 1 ç§’åç»§ç»­æ‰§è¡Œï¼›å¦‚æœ data.s çš„å€¼ä¸º 1ï¼Œè¯´æ˜ NovComet çš„ publish äº‹ä»¶è¢«è§¦å‘ï¼Œåˆ™è°ƒç”¨å¯¹åº”çš„ callbackã€‚&lt;&#x2F;p&gt;
&lt;p&gt;publish æ–¹æ³•æ‰§è¡Œåï¼Œä¼šæ„é€ ä¸€ä¸ªç±»ä¼¼: ?publish=customAlert è¿™æ ·ä¸€ä¸ª url å‘é€åˆ°åå°ã€‚åå°æ£€æµ‹åˆ° pubish å‚æ•°ï¼Œåˆ™è·å–è¯¥å‚æ•°çš„å€¼ï¼Œå¹¶æ›´æ–°å¯¹åº”æ–‡ä»¶çš„ mtimeã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;fu-wu-duan&quot;&gt;æœåŠ¡ç«¯&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; comet.php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;include&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;NovComet.php&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$comet &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NovComet&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$publish &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;filter_input(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;INPUT_GET&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;publish&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;FILTER_SANITIZE_STRING&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$publish &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$comet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;publish&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$publish&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;foreach &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;filter_var_array(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_GET&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;subscribed&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;], &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;FILTER_SANITIZE_NUMBER_INT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$key &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$value&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$comet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;setVar&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$comet&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœæ”¶åˆ° publish å‚æ•°ï¼Œç›´æ¥è¾“å‡ºï¼Œå¦åˆ™æ‰§è¡Œ run æ–¹æ³•ï¼Œè‡³äº run æ˜¯æ€ä¹ˆå›äº‹ï¼Œä¸”çœ‹ä¸‹ç ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; NovComet.php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;NovComet &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span&gt;COMET_OK &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span&gt;COMET_CHANGED &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;private &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_tries&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;private &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_var&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;private &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_sleep&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;private &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_ids &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;private &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_callback &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;__construct&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$tries &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$sleep &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_tries &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$tries&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_sleep &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sleep&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setVar&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$value&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_vars&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$value&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setTries&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$tries&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_tries &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$tries&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setSleepTime&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$sleep&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_sleep &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sleep&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;setCallbackCheck&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$callback&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_callback &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$callback&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span&gt;DEFAULT_COMET_PATH &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&#x2F;dev&#x2F;shm&#x2F;%s.comet&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;is_null(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_callback&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$defaultCometPAth &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;::DEFAULT_COMET_PATH;
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$callback &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;use &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$defaultCometPAth&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cometFile &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sprintf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$defaultCometPAth&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;is_file(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cometFile&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;) ? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;filemtime(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cometFile&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt; : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;            };
&lt;&#x2F;span&gt;&lt;span&gt;        } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$callback &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_callback&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_tries&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;foreach &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_vars &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$timestamp&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;integer&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$timestamp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$timestamp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;time()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;                }
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fileTimestamp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;callback&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fileTimestamp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$timestamp&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$out&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fileTimestamp&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;                }
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;clearstatcache()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;count(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$out&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;json_encode(array(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;s&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span&gt;COMET_CHANGED&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;k&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$out&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;            }
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sleep(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_sleep&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;json_encode(array(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;s&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span&gt;COMET_OK&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;publish&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;json_encode(touch(sprintf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span&gt;DEFAULT_COMET_PATH&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ° publish æ—¶ï¼Œåˆ›å»ºäº†ä¸€ä¸ªä»¥$idå‘½åçš„æ–‡ä»¶ã€‚runæ—¶ï¼Œå¦‚æœå‘ç°è¯¥$id æ–‡ä»¶å­˜åœ¨ï¼Œä¸”æ—¶é—´æˆ³å¤§äºä¹‹å‰ä¿å­˜çš„è¯¥$idå¯¹åº”çš„æ—¶é—´æˆ³(é€šè¿‡setVarè®¾ç½®çš„)ï¼Œè¯´æ˜$id äº‹ä»¶è¢«è§¦å‘ï¼Œå¤„ç†å®ŒåæŠŠ$idæ”¾åˆ°$out æ•°ç»„ä¸­ï¼Œç„¶ååˆ¤æ–­ä¸€ä¸‹$out æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™è¾“å‡ºä¸€æ®µ jsonã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœä¸€æ®µæ—¶é—´å†…éƒ½æ²¡æœ‰è§¦å‘äº‹ä»¶(for å¾ªç¯æ‰§è¡Œå®Œæ¯•)ï¼Œä¹Ÿè¾“å‡ºä¸€æ®µ jsonï¼Œå‘Šè¯‰å‰ç«¯æ‰§è¡Œå®Œäº†ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•æ–°æƒ…å†µã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;shuo-ming&quot;&gt;è¯´æ˜&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥åœ¨å®¢æˆ·ç«¯ç›‘å¬&#x2F;å‘å¸ƒå¤šä¸ªäº‹ä»¶&lt;&#x2F;li&gt;
&lt;li&gt;ç›‘å¬äº‹ä»¶æ—¶ï¼Œå¯ä»¥ä¼ ä¸€ä¸ª callbackï¼Œè¿™æ ·æ”¶åˆ°æ•°æ®æ—¶å°±ä¼šå‡ºå‘è¯¥ callback&lt;&#x2F;li&gt;
&lt;li&gt;å½“ç›‘å¬äº‹ä»¶æ—¶ï¼Œä¼šä¼ ä¸€ä¸ªæ—¶é—´æˆ³&lt;&#x2F;li&gt;
&lt;li&gt;å½“äº‹ä»¶è¢« publish æ—¶ï¼Œä¼šå‘åå°å‘ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶ä¼ é€’ä¸€ä¸ªæ–°çš„æ—¶é—´æˆ³&lt;&#x2F;li&gt;
&lt;li&gt;æœåŠ¡ç«¯ä¸ä¼šä¸€ç›´æ‰§è¡Œï¼Œå¦‚æœæŒ‡å®šæ—¶é—´å†…ï¼Œæ²¡æœ‰ä»»ä½•è¯·æ±‚è¢«è§¦å‘ï¼Œåˆ™ç»“æŸè¿è¡Œ&lt;&#x2F;li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ä¼šé‡å¤ä¸Šè¿°è¿‡ç¨‹(setTimeout &amp;amp; NovComet.run())&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;æœ€åæ¥ä¸€å¼ å›¾è¯´æ˜ä¸€ä¸‹&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;php-comet&amp;#x2F;comet-firebug.png&quot;
        width=&quot;640&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œä¸€æ®µæ—¶é—´åï¼Œæ²¡æœ‰æ”¶åˆ°ä»»ä½• publish äº‹ä»¶ï¼ŒæœåŠ¡ç«¯ç»“æŸæ‰§è¡Œ&lt;&#x2F;li&gt;
&lt;li&gt;æœåŠ¡ç«¯è¿”å›ä¸€æ®µ json&lt;&#x2F;li&gt;
&lt;li&gt;å®¢æˆ·ç«¯è§¦å‘äº†ä¸€ä¸ªäº‹ä»¶ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº‹ä»¶ï¼Œè¿”å›ä¸€æ®µæ–°çš„ json&lt;&#x2F;li&gt;
&lt;li&gt;callback è¢«è§¦å‘&lt;&#x2F;li&gt;
&lt;li&gt;å®¢æˆ·ç«¯è¿›å…¥ä¸‹ä¸€æ¬¡çš„ ajax é•¿é“¾æ¥æŸ¥è¯¢&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
</description>
        </item>
        
        
        <item>
            <title>javascriptå¤§æ‚çƒ©</title>
            <pubDate>Fri, 04 Mar 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/javascript/</link>
            <guid>https://limboy.me/posts/javascript/</guid>
            <description>&lt;p&gt;èŠ±äº†ç‚¹æ—¶é—´å­¦ä¹ äº†ä¸‹ js åŸºç¡€ï¼Œè·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼Œæœ‰ä¸åˆ°ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡å‡º :)&lt;&#x2F;p&gt;
&lt;h3 id=&quot;guan-yu-dui-xiang&quot;&gt;å…³äºå¯¹è±¡&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;dui-xiang-de-chuang-jian&quot;&gt;å¯¹è±¡çš„åˆ›å»º&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;newObj &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= new &lt;&#x2F;span&gt;&lt;span&gt;Object();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; var newObj = {};
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;newObj&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;someValue&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;val&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;yi-qie-jie-dui-xiang&quot;&gt;ä¸€åˆ‡çš†å¯¹è±¡&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;instanceof &lt;&#x2F;span&gt;&lt;span&gt;Object &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; true
&lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;instanceof &lt;&#x2F;span&gt;&lt;span&gt;Object &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;true
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½†ä¹Ÿæœ‰äº›ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå¦‚ 3, &#x27;str&#x27;, true ç­‰ç­‰ï¼Œä½†å¦‚æœç”¨ instanceof æµ‹è¯•çš„è¯ï¼Œä¼šå‘ç°&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;instanceof &lt;&#x2F;span&gt;&lt;span&gt;Object; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; false
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;instanceof &lt;&#x2F;span&gt;&lt;span&gt;Object; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; false
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;instanceof &lt;&#x2F;span&gt;&lt;span&gt;Object; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; false
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½†å®ƒä»¬çœŸçš„ä¹Ÿæ˜¯å¯¹è±¡&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;.constructor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;String &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; true
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;.constructor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Boolean &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; true
&lt;&#x2F;span&gt;&lt;span&gt;3.constructor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; true
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªç†ç”±&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Number&lt;&#x2F;span&gt;&lt;span&gt;.prototype.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;times &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;index &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;index &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;index&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;func&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.times&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 5 .times(print); &#x2F;&#x2F;also works
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; åŠ ä¸Šæ‹¬å·æ˜¯ä¸ºäº†é¿å…å‡ºç°è§£æé”™è¯¯(jså¼•æ“ä¼šä»¥ä¸ºæ˜¯å°æ•°ç‚¹)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å°±è¿å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {};
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;fn&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;foo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello world&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;fn&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;bar &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;foo&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;dui-xiang-de-chu-shi-hua&quot;&gt;å¯¹è±¡çš„åˆå§‹åŒ–&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;User&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;first&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;first &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39; &amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;user &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= new &lt;&#x2F;span&gt;&lt;span&gt;User(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;John&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Resig&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; var user = User(&amp;#39;John&amp;#39;, &amp;#39;Resig&amp;#39;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¸€ä¸ª functionï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ª Classï¼Œä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæ­£å¸¸çš„å‡½æ•°ï¼Œè¿™å°±éº»çƒ¦äº†ï¼Œå› ä¸ºæ— è®ºåŠ ä¸åŠ ä¸Š new è¿™ä¸ªå…³é”®å­—ï¼Œfunction éƒ½èƒ½æ­£å¸¸è¿è¡Œï¼Œè™½ç„¶ç»“æœä¼šä¸ä¸€æ ·ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœçœ‹æˆ Classï¼Œä½¿ç”¨ new å…³é”®å­—åˆå§‹åŒ–ï¼Œé‚£ä¹ˆ function é‡Œçš„ this æŒ‡å‘å½“å‰çš„ functionã€‚å¦‚æœä¸ä½¿ç”¨ new å…³é”®å­—ï¼Œåˆ™ function é‡Œçš„ this é»˜è®¤æŒ‡å‘ Window&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯å°† Class function çš„é¦–å­—æ¯å¤§å†™ï¼Œå¦‚ Userï¼Œè¿™æ ·å°±èƒ½æ¸…æ¥šåœ°çŸ¥é“å“ªäº› function æ˜¯ Classã€‚ä½†è¿™æ ·è¿˜æ˜¯é¿å…ä¸äº†å†™ç¨‹åºæ—¶ç²—å¿ƒï¼Œå¿˜äº†åŠ  new å…³é”®å­—ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦ä¸€ç§æ–¹æ³•å°±æ˜¯ä¸æ˜¯ç”¨ new å…³é”®å­—ï¼Œåœ¨ function é‡Œè‡ªåŠ¨åˆ¤æ–­ï¼Œä¿è¯è¿”å›çš„ä¸€å®šæ˜¯å½“å‰å¯¹è±¡&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;User&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;first&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;instanceof &lt;&#x2F;span&gt;&lt;span&gt;User) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;first &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39; &amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span&gt;User(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;first&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ›´é€šç”¨çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ª makeClass æ–¹æ³•&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; makeClass - By John Resig (MIT Licensed)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;makeClass&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;instanceof &lt;&#x2F;span&gt;&lt;span&gt;arguments.callee) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;typeof &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;init &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;function&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.apply&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;.callee &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;args &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;arguments&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span&gt;arguments.callee(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;arguments&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å› ä¸ºå‡½æ•°åæœªçŸ¥ï¼Œæ‰€ä»¥ä½¿ç”¨äº† arguments.callee æ¥å®ç°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;makeClass çš„ä½¿ç”¨&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;User &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;makeClass&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;User&lt;&#x2F;span&gt;&lt;span&gt;.prototype.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;first&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;first &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39; &amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;last&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;user &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;User&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;John&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Resig&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;.name;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; =&amp;gt; &amp;quot;John Resig&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;dui-xiang-de-ji-cheng&quot;&gt;å¯¹è±¡çš„ç»§æ‰¿&lt;&#x2F;h4&gt;
&lt;p&gt;æ¯ä¸ª function éƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡&amp;quot;prototype&amp;quot;ï¼Œå½“å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œè¿™ä¸ªå˜é‡ä¸Šçš„å„ä¸ªå±æ€§ä¹Ÿä¼šè¢«é™„åŠ åˆ°å¯¹è±¡ä¸Š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;Car&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;model&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;year&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;miles&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;model &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;model&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;year &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;year&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;miles &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;miles&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Car&lt;&#x2F;span&gt;&lt;span&gt;.prototype &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;info&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;model &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;year &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;miles&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;car &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= new &lt;&#x2F;span&gt;&lt;span&gt;Car(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Benz&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1500&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;car&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.info&lt;&#x2F;span&gt;&lt;span&gt;());
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœä¸ä½¿ç”¨ new å…³é”®å­—ï¼Œprototype å°±å¤±æ•ˆäº†&lt;&#x2F;p&gt;
&lt;p&gt;prototype å±æ€§ä¹Ÿæœ‰ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§&amp;quot;constructor&amp;quot;ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å°±èƒ½å®ç°ç»§æ‰¿äº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Object&lt;&#x2F;span&gt;&lt;span&gt;.prototype.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;inObj &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;inA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span&gt;.prototype.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;inAProto &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span&gt;.prototype &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= new &lt;&#x2F;span&gt;&lt;span&gt;A(); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Hook up A into B&amp;#39;s prototype chain
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span&gt;.prototype.constructor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;inB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span&gt;.prototype.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;inBProto &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= new &lt;&#x2F;span&gt;&lt;span&gt;B();
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;bi-bao-yu-mo-kuai-hua&quot;&gt;é—­åŒ…ä¸æ¨¡å—åŒ–&lt;&#x2F;h3&gt;
&lt;p&gt;é—­åŒ…æ˜¯ä¸€ç§ç°è±¡ï¼Œé€šå¸¸æ˜¯å› ä¸ºä¸€ä¸ª function è¿”å›äº†ä¸€ä¸ªå†…éƒ¨çš„ functionï¼Œå¦‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;f1&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;n &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2011&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;f2&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;n&lt;&#x2F;span&gt;&lt;span&gt;); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 2011
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°å†…éƒ¨ function f2 æˆåŠŸåœ°å¾—åˆ°äº† f1 çš„ local å˜é‡ï¼Œåˆå› ä¸º n è¢« f2 ä½¿ç”¨ï¼Œæ‰€ä»¥å˜é‡ n å°±å¸¸é©»å†…å­˜äº†
ä»è¿™ä¸ªè§’åº¦ä¸Šè¯´ï¼Œå¦‚æœæŠŠ f1 çœ‹æˆä¸€ä¸ª classï¼Œn å°±å˜æˆäº†ç§æœ‰å˜é‡ï¼Œè€Œ f2 æˆä¸ºäº†å…¬å…±æ–¹æ³•ï¼Œæ‰€ä»¥å°±æœ‰äº†æ¨¡å—åŒ–çš„æ¦‚å¿µ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;myNamespace &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;myPrivateVar &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;myPrivateMethod &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;someText&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;someText&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    myPublicVar: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;myPublicFunction&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;bar&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;myPrivateVar&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;myPrivateMethod&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;bar&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    },
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;})();
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;qi-ta&quot;&gt;å…¶ä»–&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;bi-mian-ming-ming-wu-ran-de-fang-fa&quot;&gt;é¿å…å‘½åæ±¡æŸ“çš„æ–¹æ³•&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; self executing
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; if you want some var global accessable, put &amp;quot;window.&amp;quot; ahead
&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;myVar &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;myVar&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  window.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;globalVar &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;})();
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;qiang-da-de-prototype&quot;&gt;å¼ºå¤§çš„ prototype&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Array&lt;&#x2F;span&gt;&lt;span&gt;.prototype.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;contains &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.length; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;stringArray &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;bar&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foobar&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;stringArray&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.contains&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foobar&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;fang-bian-de&quot;&gt;æ–¹ä¾¿çš„&amp;quot;+&amp;quot;&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Quick hex to dec conversion:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;0xFF&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; 255
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Get a timestamp for now, the equivalent of `new Date().getTime()`:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+new &lt;&#x2F;span&gt;&lt;span&gt;Date();
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Safer parsing than parseFloat()&#x2F;parseInt()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parseInt&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;1,000&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; 1, not 1000
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;1,000&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; NaN, much better for testing user input
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;parseInt&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;010&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; 8, because of the octal literal prefix
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;010&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; 10, `Number()` doesn&amp;#39;t parse octal literals
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; A use case for this would be rare, but still useful in cases
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; for shortening something like if (someVar === null) someVar = 0;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; 0;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Boolean to integer
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; 1;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; 0;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Other useful tidbits:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;1e10&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; 10000000000
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;1e-4&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; 0.0001
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;-12&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; -&amp;gt; -12
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ³¨æ„ï¼šå¦‚æœæ˜¯å­—ç¬¦ä¸²ä¸æ•°å­—ç›¸åŠ çš„è¯ï¼Œç»“æœè¿˜æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚&amp;quot;hello&amp;quot; + 3ï¼Œç»“æœä¸º&amp;quot;hello3&amp;quot;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;tong-guo-lai-huo-qu-she-zhi-object-de-shu-xing&quot;&gt;é€šè¿‡[]æ¥è·å–&#x2F;è®¾ç½® Object çš„å±æ€§&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{};
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;class&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; access reversed property
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;have space&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;world&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; has space
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;.class .subclass&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;value&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; can have .
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;string-de-split-he-replace-ke-yi-bao-han-zheng-ze&quot;&gt;String çš„ split å’Œ replace å¯ä»¥åŒ…å«æ­£åˆ™&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello world   with  spaces&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.split&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;\s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;g&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;returns an array: [&amp;quot;hello&amp;quot;, &amp;quot;world&amp;quot;, &amp;quot;with&amp;quot;, &amp;quot;spaces&amp;quot;]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo bar baz &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.replace&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;\s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;g&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;});
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;returns &amp;quot;foo1bar2baz3&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;han-shu-ding-yi-shi-yu-han-shu-biao-da-shi&quot;&gt;å‡½æ•°å®šä¹‰å¼ä¸å‡½æ•°è¡¨è¾¾å¼&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;typeof &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;eve&lt;&#x2F;span&gt;&lt;span&gt;); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ç»“æœ:function
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;typeof &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;walle&lt;&#x2F;span&gt;&lt;span&gt;); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ç»“æœ:undefined
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;eve&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å‡½æ•°å®šä¹‰å¼
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;I am Laruence&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;walle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å‡½æ•°è¡¨è¾¾å¼
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;typeof &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;walle&lt;&#x2F;span&gt;&lt;span&gt;); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ç»“æœ:function
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯¹äºå‡½æ•°å®šä¹‰å¼ï¼Œä¼šå°†å‡½æ•°å®šä¹‰æå‰ï¼Œè€Œå¯¹äºå‡½æ•°è¡¨è¾¾å¼ï¼Œåªæœ‰åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰ä¼šè®¡ç®—&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zuo-yong-yu&quot;&gt;ä½œç”¨åŸŸ&lt;&#x2F;h4&gt;
&lt;p&gt;å¯¹äºä¸‹é¢çš„ demo&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;laruence&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;eve&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;alert&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;age&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¾“å‡ºç»“æœä¸º&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;undefined&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;eve&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ReferenceError&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åŸå› æ˜¯ js åœ¨æ‰§è¡Œå‡½æ•°ä¹‹å‰ï¼Œä¼šæœ‰ä¸€ä¸ªé¢„ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šæŠŠå±€éƒ¨å˜é‡æå–å‡ºæ¥ï¼Œæ”¾åˆ° scope chain ä¸­ï¼Œvalue éƒ½ä¸º undefined(ä¸åŒ…æ‹¬ä¼ é€’è¿‡æ¥çš„å‚æ•°)ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œ echo å‡½æ•°æ—¶ï¼Œname çš„å€¼åœ¨è®¾ç½®ä¸º&amp;quot;eve&amp;quot;å‰ï¼Œä¸º undefined&lt;&#x2F;p&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;ejohn.org&#x2F;blog&#x2F;simple-class-instantiation&#x2F;&quot;&gt;simple class instantiation&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;stackoverflow.com&#x2F;q&#x2F;61088&#x2F;94962&quot;&gt;hidden features of javascript&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;mckoss.com&#x2F;jscript&#x2F;object.htm&quot;&gt;Object Oriented Programming in JavaScript&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;yuiblog.com&#x2F;blog&#x2F;2007&#x2F;06&#x2F;12&#x2F;module-pattern&#x2F;&quot;&gt;module pattern&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.laruence.com&#x2F;2009&#x2F;05&#x2F;28&#x2F;863.html&quot;&gt;javascript çš„ä½œç”¨åŸŸåŸç†&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>gitå¤šäººåä½œå¼€å‘æµç¨‹(ä»¥blogä¸ºä¾‹)</title>
            <pubDate>Fri, 25 Feb 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/git-workflow-with-blog-demo/</link>
            <guid>https://limboy.me/posts/git-workflow-with-blog-demo/</guid>
            <description>&lt;p&gt;æ—¶é—´ä»“ä¿ƒï¼Œèƒ½åŠ›æœ‰é™ï¼Œé”™è¯¯éš¾å…(ä»£ç æ²¡æœ‰ç»è¿‡å®é™…éªŒè¯ï¼Œæ‰€ä»¥å¯èƒ½ä¼šæœ‰é—®é¢˜)ï¼Œæ¬¢è¿æŒ‡æ­£ :)&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ªå¼€å‘æµç¨‹å°±æ˜¯åŸºäº&lt;a href=&quot;http:&#x2F;&#x2F;nvie.com&#x2F;posts&#x2F;a-successful-git-branching-model&#x2F;&quot;&gt;a successful git model&lt;&#x2F;a&gt;è¿™ç¯‡æ–‡ç« è€Œæ¥çš„ï¼Œå¦‚æœå¯¹è‹±æ–‡ä¸æ„Ÿå†’çš„è¯ï¼Œæˆ‘è¿™æœ‰&lt;a href=&quot;http:&#x2F;&#x2F;blog.leezhong.com&#x2F;translate&#x2F;2010&#x2F;10&#x2F;30&#x2F;a-successful-git-branch.html&quot;&gt;ç¿»è¯‘ç‰ˆ&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;é¡¹ç›®èƒŒæ™¯ï¼š&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;å¼ ä¸‰ &#x2F; æå›› &#x2F; ç‹äº” æ‰“ç®—å…±åŒåä½œï¼Œå¼€å‘ä¸€å¥—åšå®¢ç³»ç»Ÿ
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;é¡¹ç›®åˆ†å·¥ï¼š&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;å¼ ä¸‰ &#x2F; æå›› è´Ÿè´£æ–‡ç« ç³»ç»Ÿ
&lt;&#x2F;span&gt;&lt;span&gt;ç‹äº”è´Ÿè´£è¯„è®ºç³»ç»Ÿ
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;jian-li-fu-wu-duan-cang-ku&quot;&gt;å»ºç«‹æœåŠ¡ç«¯ä»“åº“&lt;&#x2F;h3&gt;
&lt;p&gt;git è™½ç„¶æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œä½†ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªä¸­å¿ƒä»“åº“ï¼Œå…ˆåœ¨æœåŠ¡ç«¯å»ºç«‹ä¸¤æ¡åˆ†æ”¯&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;master
&lt;&#x2F;span&gt;&lt;span&gt;develop
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;master ä¿å­˜ç¨³å®šç‰ˆ(production ready)ï¼Œå¼€å‘äººå‘˜å¹³æ—¶çš„ä»£ç éƒ½æäº¤åˆ° develop åˆ†æ”¯ä¸Š&lt;&#x2F;p&gt;
&lt;h3 id=&quot;kai-fa-zhe-de-git-fen-zhi&quot;&gt;å¼€å‘è€…çš„ Git åˆ†æ”¯&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;zhang-san-de-git-fen-zhi&quot;&gt;å¼ ä¸‰çš„ Git åˆ†æ”¯&lt;&#x2F;h4&gt;
&lt;p&gt;å› ä¸ºå¼ ä¸‰å’Œæå››åŒæ—¶å¼€å‘æ–‡ç« ç³»ç»Ÿï¼Œæ‰€ä»¥å°±æœ‰äº†ä¸‹é¢çš„åˆ†æ”¯&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# å¼ ä¸‰çš„Gitåˆ†æ”¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;article&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; (local&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;lisi&#x2F;article&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; (via git remote add lisi http:&#x2F;&#x2F;lisi-server&#x2F;lisi.git&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;origin&#x2F;master&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; (via git remote add origin http:&#x2F;&#x2F;remote-server&#x2F;blog.git&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;origin&#x2F;develop
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;li-si-de-git-fen-zhi&quot;&gt;æå››çš„ Git åˆ†æ”¯&lt;&#x2F;h4&gt;
&lt;p&gt;è·Ÿå¼ ä¸‰ç±»ä¼¼ï¼Œä¸è¿‡ article server å˜æˆäº†å¼ ä¸‰çš„&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# æå››çš„Gitåˆ†æ”¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;article&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; (local&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;zhangsan&#x2F;article&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; (via git remote add zhangsan http:&#x2F;&#x2F;zhangsan-server&#x2F;zhangsan.git&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;origin&#x2F;master&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; (via git remote add origin http:&#x2F;&#x2F;remote-server&#x2F;blog.git&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;origin&#x2F;develop
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;wang-wu-de-git-fen-zhi&quot;&gt;ç‹äº”çš„ Git åˆ†æ”¯&lt;&#x2F;h4&gt;
&lt;p&gt;å› ä¸ºåªæœ‰ç‹äº”ä¸€ä¸ªäººå¼€å‘è¯„è®ºç³»ç»Ÿï¼Œæ‰€ä»¥åªè¦ä¸€æ¡è¿œç¨‹åˆ†æ”¯å°±è¡Œäº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# ç‹äº”çš„Gitåˆ†æ”¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;comment&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; (local&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;origin&#x2F;master&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; (via git remote add origin http:&#x2F;&#x2F;remote-server&#x2F;blog.git&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;origin&#x2F;develop
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;kai-fa-guo-cheng&quot;&gt;å¼€å‘è¿‡ç¨‹&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;zhang-san-he-li-si&quot;&gt;å¼ ä¸‰å’Œæå››&lt;&#x2F;h4&gt;
&lt;p&gt;å‡è®¾å¼ ä¸‰è´Ÿè´£æ–‡ç« çš„ç®¡ç†ï¼ŒåŠå‰ç«¯æ˜¾ç¤ºã€‚æå››è´Ÿè´£æ–‡ç« çš„åˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¼ ä¸‰å¼€å‘å®Œä¸€éƒ¨åˆ†å(n æ¬¡æœ¬åœ° commit)ï¼Œæäº¤åˆ°æœ¬åœ°çš„ git server(ä¹Ÿå°±æ˜¯æå››æ·»åŠ çš„ http:&#x2F;&#x2F;zhangsan-server&#x2F;zhangsan.git)ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æå››å¼€å‘å®Œä¸€éƒ¨åˆ†åï¼Œå› ä¸ºè¦ä¸å¼ ä¸‰å¼€å‘çš„éƒ¨åˆ†åˆå¹¶ï¼Œæ‰€ä»¥éœ€è¦æ‰§è¡Œä¸€ä¸‹ rebase æˆ– merge&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# å½“å‰åœ¨articleåˆ†æ”¯ä¸­
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rebase zhangsan&#x2F;article
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# æäº¤åˆ°æœ¬åœ°çš„git server (ä¹Ÿå°±æ˜¯å¼ ä¸‰æ·»åŠ çš„http:&#x2F;&#x2F;lisi-server&#x2F;lisi.git)ã€‚
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push local&#x2F;article master
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ—¶å¼ ä¸‰åˆå¼€å‘å®Œäº†ä¸€éƒ¨åˆ†ï¼Œä»–ä¹Ÿä¼šèµ°è·Ÿæå››ä¸€æ ·çš„æµç¨‹ï¼Œrebase &amp;amp; push (å¦‚æœæœ‰å†²çªï¼Œè§£å†³ä¹‹)ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‡è®¾ç”±å¼ ä¸‰ç»Ÿä¸€è´Ÿè´£å°†æ¯æ—¥çš„å¼€å‘è¿›åº¦æäº¤åˆ° remote develop åˆ†æ”¯ä¸Šï¼Œå¼ ä¸‰åœ¨æ‰§è¡Œäº†ä¸Šé¢æ‰€è¯´çš„æµç¨‹åï¼Œæäº¤åˆ°æœåŠ¡ç«¯çš„ develop åˆ†æ”¯ã€‚ä½†è¿™æ—¶å¾ˆå¯èƒ½ç‹äº”å·²ç»æŠŠä»–å†™çš„ä»£ç æäº¤äº†ï¼Œæ‰€ä»¥è¦å…ˆæ‰§è¡Œä¸€ä¸‹ rebase&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rebase origin&#x2F;develop
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin develop
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·å¼ ä¸‰å’Œæå››çš„ä»£ç å°±éƒ½æäº¤åˆ°äº†æœåŠ¡ç«¯çš„ develop åˆ†æ”¯ä¸Šã€‚ç‹äº”é‚£è¾¹çš„æµç¨‹ä¹Ÿä¸€æ ·ï¼Œåªæ˜¯å°‘äº†æœ¬åœ°åŒæ­¥çš„è¿‡ç¨‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;kai-fa-wan-bi-jin-ru-ce-shi-jie-duan&quot;&gt;å¼€å‘å®Œæ¯•ï¼Œè¿›å…¥æµ‹è¯•é˜¶æ®µ&lt;&#x2F;h3&gt;
&lt;p&gt;ç»è¿‡å‡ å¤©çš„å¼€å‘ï¼Œå„ä¸ªåŠŸèƒ½éƒ½å·²åŸºæœ¬å®Œæˆï¼Œä¸‹é¢å°±è¦è¿›å…¥æµ‹è¯•é˜¶æ®µã€‚å…·ä½“åšæ³•æ˜¯åœ¨æœåŠ¡ç«¯æ–°æ·»åŠ ä¸€ä¸ªåˆ†æ”¯ï¼Œå‘½åä¸º releaseï¼Œæ‰€ä»¥è¿™æ—¶æœåŠ¡ç«¯å°±æœ‰ 3 ä¸ªåˆ†æ”¯äº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;master
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;develop
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;release
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¸‰ä½åŒå­¦éƒ½åœ¨æœ¬åœ°æ–°å»ºä¸€ä¸ª branchï¼Œå¯¹åº”æœåŠ¡ç«¯çš„ release åˆ†æ”¯&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; checkout&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; release origin&#x2F;release
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åˆ†åˆ«è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœå‘ç°é—®é¢˜ï¼Œåˆ™æ‰§è¡Œ pull &amp;amp; push&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# å½“å‰åœ¨releaseåˆ†æ”¯ä¸‹
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; pull origin release
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin develop
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç»è¿‡å‡ å¤©çš„æµ‹è¯•åï¼Œå‘ç°æ²¡ä»€ä¹ˆé—®é¢˜äº†ï¼Œå°±å¯ä»¥å‘å¸ƒç¨³å®šç‰ˆäº†ï¼Œå‡è®¾ä¸º 0.1&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; checkout master
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rebase origin&#x2F;release
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; tag 0.1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin master&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; --tags
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åŒæ—¶åˆ«å¿˜äº†æŠŠ release åˆ†æ”¯ä¸Šçš„ä»£ç ä¸ develop åˆ†æ”¯åˆå¹¶ï¼Œä¿è¯ develop åˆ†æ”¯ä¸Šä¸ä¼šæœ‰é—ç•™çš„ bugã€‚(æ²¡æœ‰æ‰¾åˆ°å¦‚ä½•ç›´æ¥ merge ä¸¤ä¸ªæœåŠ¡ç«¯ branch çš„æ–¹æ³•)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; checkout develop
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rebase origin&#x2F;release
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin develop
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# åˆ é™¤æœåŠ¡ç«¯çš„releaseåˆ†æ”¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin :release
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°±å¯ä»¥ç»§ç»­åœ¨ develop åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tian-jia-xin-te-xing&quot;&gt;æ·»åŠ æ–°ç‰¹æ€§&lt;&#x2F;h3&gt;
&lt;p&gt;åšå®¢ç³»ç»Ÿéœ€è¦æ·»åŠ  archives åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½çš„å¼€å‘å°±äº¤ç»™äº†æ–°æ¥çš„èµµå…­ã€‚æ­¤æ—¶ï¼Œåœ¨æœåŠ¡ç«¯æ–°å¼€ä¸€ä¸ªåˆ†æ”¯ï¼Œå‘½åä¸º featureï¼Œè¿™æ—¶æœåŠ¡ç«¯çš„åˆ†æ”¯å°±å˜æˆäº†è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;master
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;develop
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;feature&#x2F;archive
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;èµµå…­ä¹Ÿåœ¨æœ¬åœ°å»ºç«‹ä¸€ä¸ª archive åˆ†æ”¯ï¼Œæ¯å¤©æäº¤åˆ°æœåŠ¡ç«¯çš„ feature&#x2F;archiveï¼Œèµµå…­çš„ Git åˆ†æ”¯æ˜¯è¿™æ ·çš„(ä¸ç›¸å…³çš„æœåŠ¡ç«¯ Git å·²çœå»)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;master
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;archive
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;origin&#x2F;feature&#x2F;archive
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç­‰åˆ°è¿™ä¸ª feature å¼€å‘å®Œäº†ï¼Œä¸æœåŠ¡ç«¯çš„ develop åˆ†æ”¯æ‰§è¡Œä¸€ä¸‹ rebaseï¼Œç„¶åå†æäº¤åˆ°æœåŠ¡ç«¯çš„ developï¼Œè¿™æ ·åšå®¢çš„ archive åŠŸèƒ½å°±æœ‰äº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; checkout archive
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rebase origin&#x2F;feature&#x2F;archive
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin feature&#x2F;archive
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# å¦‚æœè¦åˆ é™¤æœåŠ¡ç«¯çš„feature&#x2F;archiveåˆ†æ”¯çš„è¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin :feature&#x2F;archive
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥çš„æµç¨‹è·Ÿä¸Šé¢çš„ä¸€æ ·ï¼šå¼€å‘å®Œæ¯•åï¼Œæ–°å»º release åˆ†æ”¯ï¼Œåœ¨é‚£ä¸Šé¢è¿›è¡Œ bug ä¿®å¤ï¼Œä¿®å¤å®Œæ¯•åï¼Œmerge åˆ°æœåŠ¡ç«¯çš„ master å’Œ develop&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jin-ji-xiu-fu-lou-dong&quot;&gt;ç´§æ€¥ä¿®å¤æ¼æ´&lt;&#x2F;h3&gt;
&lt;p&gt;åšå®¢å‡ºç°äº†ä¸€ä¸ª xss æ¼æ´ï¼Œéœ€è¦å°½å¿«ä¿®å¤ï¼Œè¿™æ—¶æ–°å»ºä¸€ä¸ª hotfix åˆ†æ”¯(ç°åœ¨æœ¬åœ°å»ºï¼Œç„¶åæäº¤åˆ°æœåŠ¡ç«¯)ï¼Œç„¶åå¯¹æ¼æ´è¿›è¡Œä¿®å¤ï¼Œä¿®å¤å®Œåï¼Œæäº¤åˆ°æœåŠ¡ç«¯çš„ master å’Œ develop&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; checkout master
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; pull origin master
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; checkout&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; hotfix
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# æ¼æ´ä¿®å¤...
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# ä¿®å¤å®Œå
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin hotfix
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; checkout master
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rebase hotfix
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin master
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; push origin develop
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</description>
        </item>
        
        
        <item>
            <title>å›¾è§£HTTPS</title>
            <pubDate>Sat, 19 Feb 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/https-workflow/</link>
            <guid>https://limboy.me/posts/https-workflow/</guid>
            <description>&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ HTTPS èƒ½å¤ŸåŠ å¯†ä¿¡æ¯ï¼Œä»¥å…æ•æ„Ÿä¿¡æ¯è¢«ç¬¬ä¸‰æ–¹è·å–ã€‚æ‰€ä»¥å¾ˆå¤šé“¶è¡Œç½‘ç«™æˆ–ç”µå­é‚®ç®±ç­‰ç­‰å®‰å…¨çº§åˆ«è¾ƒé«˜çš„æœåŠ¡éƒ½ä¼šé‡‡ç”¨ HTTPS åè®®ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;https-jian-jie&quot;&gt;HTTPS ç®€ä»‹&lt;&#x2F;h3&gt;
&lt;p&gt;HTTPS å…¶å®æ˜¯æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼šHTTP + SSL &#x2F; TLSï¼Œä¹Ÿå°±æ˜¯åœ¨ HTTP ä¸ŠåˆåŠ äº†ä¸€å±‚å¤„ç†åŠ å¯†ä¿¡æ¯çš„æ¨¡å—ã€‚æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ä¿¡æ¯ä¼ è¾“éƒ½ä¼šé€šè¿‡ TLS è¿›è¡ŒåŠ å¯†ï¼Œæ‰€ä»¥ä¼ è¾“çš„æ•°æ®éƒ½æ˜¯åŠ å¯†åçš„æ•°æ®ã€‚å…·ä½“æ˜¯å¦‚ä½•è¿›è¡ŒåŠ å¯†ï¼Œè§£å¯†ï¼ŒéªŒè¯çš„ï¼Œä¸”çœ‹ä¸‹å›¾ã€‚&lt;&#x2F;p&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;https-workflow&amp;#x2F;https.png&quot;
        width=&quot;648&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;h3 id=&quot;1-ke-hu-duan-fa-qi-https-qing-qiu&quot;&gt;1. å®¢æˆ·ç«¯å‘èµ· HTTPS è¯·æ±‚&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå°±æ˜¯ç”¨æˆ·åœ¨æµè§ˆå™¨é‡Œè¾“å…¥ä¸€ä¸ª https ç½‘å€ï¼Œç„¶åè¿æ¥åˆ° server çš„ 443 ç«¯å£ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;2-fu-wu-duan-de-pei-zhi&quot;&gt;2. æœåŠ¡ç«¯çš„é…ç½®&lt;&#x2F;h3&gt;
&lt;p&gt;é‡‡ç”¨ HTTPS åè®®çš„æœåŠ¡å™¨å¿…é¡»è¦æœ‰ä¸€å¥—æ•°å­—è¯ä¹¦ï¼Œå¯ä»¥è‡ªå·±åˆ¶ä½œï¼Œä¹Ÿå¯ä»¥å‘ç»„ç»‡ç”³è¯·ã€‚åŒºåˆ«å°±æ˜¯è‡ªå·±é¢å‘çš„è¯ä¹¦éœ€è¦å®¢æˆ·ç«¯éªŒè¯é€šè¿‡ï¼Œæ‰å¯ä»¥ç»§ç»­è®¿é—®ï¼Œè€Œä½¿ç”¨å—ä¿¡ä»»çš„å…¬å¸ç”³è¯·çš„è¯ä¹¦åˆ™ä¸ä¼šå¼¹å‡ºæç¤ºé¡µé¢(startssl å°±æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œæœ‰ 1 å¹´çš„å…è´¹æœåŠ¡)ã€‚è¿™å¥—è¯ä¹¦å…¶å®å°±æ˜¯ä¸€å¯¹å…¬é’¥å’Œç§é’¥ã€‚å¦‚æœå¯¹å…¬é’¥å’Œç§é’¥ä¸å¤ªç†è§£ï¼Œå¯ä»¥æƒ³è±¡æˆä¸€æŠŠé’¥åŒ™å’Œä¸€ä¸ªé”å¤´ï¼Œåªæ˜¯å…¨ä¸–ç•Œåªæœ‰ä½ ä¸€ä¸ªäººæœ‰è¿™æŠŠé’¥åŒ™ï¼Œä½ å¯ä»¥æŠŠé”å¤´ç»™åˆ«äººï¼Œåˆ«äººå¯ä»¥ç”¨è¿™ä¸ªé”æŠŠé‡è¦çš„ä¸œè¥¿é”èµ·æ¥ï¼Œç„¶åå‘ç»™ä½ ï¼Œå› ä¸ºåªæœ‰ä½ ä¸€ä¸ªäººæœ‰è¿™æŠŠé’¥åŒ™ï¼Œæ‰€ä»¥åªæœ‰ä½ æ‰èƒ½çœ‹åˆ°è¢«è¿™æŠŠé”é”èµ·æ¥çš„ä¸œè¥¿ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;3-chuan-song-zheng-shu&quot;&gt;3. ä¼ é€è¯ä¹¦&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªè¯ä¹¦å…¶å®å°±æ˜¯å…¬é’¥ï¼Œåªæ˜¯åŒ…å«äº†å¾ˆå¤šä¿¡æ¯ï¼Œå¦‚è¯ä¹¦çš„é¢å‘æœºæ„ï¼Œè¿‡æœŸæ—¶é—´ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;4-ke-hu-duan-jie-xi-zheng-shu&quot;&gt;4. å®¢æˆ·ç«¯è§£æè¯ä¹¦&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™éƒ¨åˆ†å·¥ä½œæ˜¯æœ‰å®¢æˆ·ç«¯çš„ TLS æ¥å®Œæˆçš„ï¼Œé¦–å…ˆä¼šéªŒè¯å…¬é’¥æ˜¯å¦æœ‰æ•ˆï¼Œæ¯”å¦‚é¢å‘æœºæ„ï¼Œè¿‡æœŸæ—¶é—´ç­‰ç­‰ï¼Œå¦‚æœå‘ç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¼¹å‡ºä¸€ä¸ªè­¦å‘Šæ¡†ï¼Œæç¤ºè¯ä¹¦å­˜åœ¨é—®é¢˜ã€‚å¦‚æœè¯ä¹¦æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆå°±ç”Ÿæˆä¸€ä¸ªéšå³å€¼ã€‚ç„¶åç”¨è¯ä¹¦å¯¹è¯¥éšæœºå€¼è¿›è¡ŒåŠ å¯†ã€‚å°±å¥½åƒä¸Šé¢è¯´çš„ï¼ŒæŠŠéšæœºå€¼ç”¨é”å¤´é”èµ·æ¥ï¼Œè¿™æ ·é™¤éæœ‰é’¥åŒ™ï¼Œä¸ç„¶çœ‹ä¸åˆ°è¢«é”ä½çš„å†…å®¹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;5-chuan-song-jia-mi-xin-xi&quot;&gt;5. ä¼ é€åŠ å¯†ä¿¡æ¯&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™éƒ¨åˆ†ä¼ é€çš„æ˜¯ç”¨è¯ä¹¦åŠ å¯†åçš„éšæœºå€¼ï¼Œç›®çš„å°±æ˜¯è®©æœåŠ¡ç«¯å¾—åˆ°è¿™ä¸ªéšæœºå€¼ï¼Œä»¥åå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é€šä¿¡å°±å¯ä»¥é€šè¿‡è¿™ä¸ªéšæœºå€¼æ¥è¿›è¡ŒåŠ å¯†è§£å¯†äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;6-fu-wu-duan-jie-mi-xin-xi&quot;&gt;6. æœåŠ¡ç«¯è§£å¯†ä¿¡æ¯&lt;&#x2F;h3&gt;
&lt;p&gt;æœåŠ¡ç«¯ç”¨ç§é’¥è§£å¯†åï¼Œå¾—åˆ°äº†å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„éšæœºå€¼(ç§é’¥)ï¼Œç„¶åæŠŠå†…å®¹é€šè¿‡è¯¥å€¼è¿›è¡Œå¯¹ç§°åŠ å¯†ã€‚æ‰€è°“å¯¹ç§°åŠ å¯†å°±æ˜¯ï¼Œå°†ä¿¡æ¯å’Œç§é’¥é€šè¿‡æŸç§ç®—æ³•æ··åˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·é™¤éçŸ¥é“ç§é’¥ï¼Œä¸ç„¶æ— æ³•è·å–å†…å®¹ï¼Œè€Œæ­£å¥½å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½çŸ¥é“è¿™ä¸ªç§é’¥ï¼Œæ‰€ä»¥åªè¦åŠ å¯†ç®—æ³•å¤Ÿå½ªæ‚ï¼Œç§é’¥å¤Ÿå¤æ‚ï¼Œæ•°æ®å°±å¤Ÿå®‰å…¨ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;7-chuan-shu-jia-mi-hou-de-xin-xi&quot;&gt;7. ä¼ è¾“åŠ å¯†åçš„ä¿¡æ¯&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™éƒ¨åˆ†ä¿¡æ¯æ˜¯æœåŠ¡æ®µç”¨ç§é’¥åŠ å¯†åçš„ä¿¡æ¯ï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯è¢«è¿˜åŸ&lt;&#x2F;p&gt;
&lt;h3 id=&quot;8-ke-hu-duan-jie-mi-xin-xi&quot;&gt;8. å®¢æˆ·ç«¯è§£å¯†ä¿¡æ¯&lt;&#x2F;h3&gt;
&lt;p&gt;å®¢æˆ·ç«¯ç”¨ä¹‹å‰ç”Ÿæˆçš„ç§é’¥è§£å¯†æœåŠ¡æ®µä¼ è¿‡æ¥çš„ä¿¡æ¯ï¼Œäºæ˜¯è·å–äº†è§£å¯†åçš„å†…å®¹ã€‚æ•´ä¸ªè¿‡ç¨‹ç¬¬ä¸‰æ–¹å³ä½¿ç›‘å¬åˆ°äº†æ•°æ®ï¼Œä¹ŸæŸæ‰‹æ— ç­–ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>ã€Šè½¯ä»¶éšæƒ³å½•ã€‹å°è®°</title>
            <pubDate>Wed, 19 Jan 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/more-joel-on-software/</link>
            <guid>https://limboy.me/posts/more-joel-on-software/</guid>
            <description>&lt;p&gt;éå¸¸æ„Ÿè°¢&lt;a href=&quot;http:&#x2F;&#x2F;www.ruanyifeng.com&#x2F;blog&#x2F;2009&#x2F;12&#x2F;chinese_version_of_mjos_is_on_sale.html&quot;&gt;é˜®ä¸€å³°è€å¸ˆ&lt;&#x2F;a&gt;ç”¨å¿ƒçš„ç¿»è¯‘ã€‚è¯»èµ·æ¥å®Œå…¨æ²¡æœ‰ç”Ÿç¡¬æ„Ÿï¼Œä¸“æœ‰åè¯ç¿»è¯‘åœ°ä¹Ÿå¾ˆåˆ°ä½ï¼Œè¿˜æœ‰å¾ˆå¤šè´´å¿ƒçš„è„šæ³¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¯»å®Œæ­¤ä¹¦ï¼Œå¯¹ Joel çš„æ–‡ç« æœ€å¤§çš„æ„Ÿè§¦æ˜¯ï¼šè§‚ç‚¹é²œæ˜ï¼Œè¯­è¨€é£è¶£ï¼Œè§è§£ç‹¬åˆ°ï¼Œ(è™½ç„¶æœ‰ç‚¹æ‹–æ³¥å¸¦æ°´çš„æ„Ÿè§‰ï¼ŒXDD)ã€‚ç®€å•æ‘˜å½•å‡ æ®µï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¦è®©ç¨‹åºå‘˜é«˜æ•ˆåœ°å·¥ä½œï¼Œä½ å°±å¿…é¡»è¦ç»™äºˆä»–ä»¬å®‰é™å’Œå®½æ•çš„å·¥ä½œç¯å¢ƒï¼Œæ¯”å¦‚ç§äººåŠå…¬å®¤&lt;&#x2F;li&gt;
&lt;li&gt;è®©ç¨‹åºå‘˜å¹²æœ‰è¶£çš„æ´»æ˜¯å¸å¼•ä¼˜ç§€ç¨‹åºå‘˜æœ€å¥½çš„æ–¹æ³•ä¹‹ä¸€&lt;&#x2F;li&gt;
&lt;li&gt;è®©ä¸€æµçš„æ–°å‘˜å·¥æŒ‘é€‰è‡ªå·±çš„å–œæ¬¢çš„é¡¹ç›®&lt;&#x2F;li&gt;
&lt;li&gt;æ€è€ƒä½ å¾—å…¬å¸ä»£è¡¨äº†æ€æ ·çš„è¿½æ±‚ï¼Œè¿™ç§è¿½æ±‚æ˜¯æ€æ ·å½¢æˆçš„ï¼Œåˆæ˜¯æ€æ ·è¢«åˆ«äººæ„Ÿå—åˆ°çš„&lt;&#x2F;li&gt;
&lt;li&gt;ç¨‹åºå‘˜å…¶å®ä¸åœ¨ä¹é’±ï¼Œé™¤éä½ åœ¨å…¶ä»–äº‹æƒ…ä¸Šææ‚äº†ã€‚å¦‚æœæœ‰äººåœ¨æŠ±æ€¨è–ªæ°´ï¼Œè€Œä»¥å‰å¹¶æ²¡æœ‰å‡ºç°è¿™ç§æƒ…å†µï¼Œè¿™ç»å¸¸æ˜¯ä¸€ç§ä¿¡å·ï¼Œè¡¨æ˜äººä»¬å¹¶ä¸çœŸæ­£å–œæ¬¢ä»–ä»¬çš„å·¥ä½œ&lt;&#x2F;li&gt;
&lt;li&gt;å¤§å®¶ååœ¨ä¸€èµ·åƒé¥­ï¼Œæ„Ÿè§‰åƒä¸ªå¤§å®¶åº­ã€‚åˆ›é€ ä¸€ä¸ªæœ‰å‡èšåŠ›çš„åƒèƒ¶æ°´ç²˜åœ¨ä¸€èµ·çš„å›¢é˜Ÿ&lt;&#x2F;li&gt;
&lt;li&gt;æŒ‡é’ˆå’Œé€’å½’çš„çœŸæ­£ä»·å€¼åœ¨äºé‚£ç§ä½ åœ¨å­¦ä¹ å®ƒä»¬çš„è¿‡ç¨‹ä¸­æ‰€å¾—åˆ°çš„æ€ç»´æ·±åº¦&lt;&#x2F;li&gt;
&lt;li&gt;å…¬å¸ä¹‹æ‰€ä»¥éœ€è¦ç®¡ç†ï¼Œå°±æ˜¯ä¸ºäº†ä¸å½±å“èªæ˜äººçš„å·¥ä½œï¼Œè®©ä»–ä»¬æŠŠäº‹æƒ…åšå®Œ&lt;&#x2F;li&gt;
&lt;li&gt;èƒ½ä¸èƒ½æ¸…æ™°åœ°å†™å‡ºæŠ€æœ¯æ–‡ç« ï¼Œå†³å®šäº†ä½ æ˜¯ä¸€ä¸ªå£é½¿ä¸æ¸…çš„ç¨‹åºå‘˜è¿˜æ˜¯ä¸€ä¸ªé¢†è¢–ã€‚å¦‚æœä¸æ˜¯ Linus Torvalds ä¸æ–­åœ°æ•£æ­¥ç¦éŸ³ï¼Œè¯·é—® Linux æ“ä½œç³»ç»Ÿä¼šæˆåŠŸå—ï¼Ÿè™½ç„¶ä»–æ˜¯ä¸€ä¸ªéå¸¸èªæ˜çš„è®¡ç®—æœºå¤©æ‰ã€‚ä½†æ˜¯ Linux å¸å¼•æ¥å…¨ä¸–ç•Œä¸€å¤§æ‰¹å¿—æ„¿è€…çš„çœŸæ­£åŸå› æ˜¯ Linus Torvalds çš„è¡¨è¾¾èƒ½åŠ›&lt;&#x2F;li&gt;
&lt;li&gt;å½“ä½ æ”¹æ­£äº†ä¸€ä¸ªåˆä¸€ä¸ªå°ç»†èŠ‚åï¼Œå½“ä½ ç£¨å…‰ï¼Œå®šå‹ï¼Œæ“¦äº®ï¼Œä¿®é¥°ä½ çš„äº§å“çš„æ¯ä¸€ä¸ªå°è¾¹è§’åï¼Œå°±ä¼šæœ‰ç¥å¥‡çš„äº‹å‘ç”Ÿã€‚ä½ æœ€åæ‹¿å‡ºæ¥çš„æ˜¯ä¸€ä»¶çœŸæ­£ä¼˜ç§€çš„ä½œå“ã€‚å®ƒç¬¬ä¸€çœ¼å°±è®©äººè§‰å¾—éœ‡æ’¼ï¼Œå‡ºç±»æ‹”èƒï¼Œå·¥ä½œèµ·æ¥å®Œå…¨ç¬¦åˆç›´è§‰&lt;&#x2F;li&gt;
&lt;li&gt;ä¸–ç•Œä¸Šåªæœ‰ä¸€ä»¶äº‹æ¯”ä½ è‡ªå·±è®¾è®¡è½¯ä»¶æ›´å›°éš¾ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªå›¢é˜Ÿä¸€èµ·è®¾è®¡è½¯ä»¶&lt;&#x2F;li&gt;
&lt;li&gt;æœ€è®©æˆ‘æŠ“ç‹‚çš„å°±æ˜¯æœ‰äº›å¼€å‘å›¢é˜Ÿå…»æˆäº†ä¸€ä¸ªåä¹ æƒ¯ï¼Œæ¯æ¬¡éœ€è¦åšå†³å®šæ—¶å°±å¼€ä¼š&lt;&#x2F;li&gt;
&lt;li&gt;å¤ªå¤šçš„é€‰æ‹©æœ€ç»ˆé™åˆ¶äº†æˆ‘ä»¬çš„è‡ªç”±ï¼Œè€Œä¸æ˜¯è§£æ”¾äº†æˆ‘ä»¬&lt;&#x2F;li&gt;
&lt;li&gt;é¿å¼€æ”»å‡»çš„æœ€å¥½æ–¹æ³•ä¹‹ä¸€ï¼Œæ˜¯è®©å®ƒçœ‹ä¸Šå»å¥½åƒè·å¾—äº†æˆåŠŸ&lt;&#x2F;li&gt;
&lt;li&gt;è‰¯å¥½çš„ç¤¾ä¼šåŒ–ç•Œé¢è®¾è®¡ä¼šåˆ›é€ æ›´å¤šçš„ä»·å€¼&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœä½ è®©æŸä¸ªåŠŸèƒ½å¾ˆå®¹æ˜“æ“ä½œï¼Œäººä»¬å°±æ„¿æ„ä½¿ç”¨å®ƒã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ èƒ½å¤Ÿæš—ä¸­é¼“åŠ±äººä»¬æŒ‰é¢„æƒ³çš„æ–¹å¼ä½¿ç”¨&lt;&#x2F;li&gt;
&lt;li&gt;ç©ºé…’é¦†æ•ˆåº”&lt;&#x2F;li&gt;
&lt;li&gt;è§£å†³è½»è€Œæ˜“ä¸¾çš„äº‹æƒ…æ˜¯æ‹¿ä¸åˆ°é’±çš„ï¼Œè¦æŒ£é’±ï¼Œå°±åˆ«æ€•è„&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœä½ æƒ³ä¿æŒå¢é•¿ï¼Œä¸ç®¡æ˜¯ä¸ªäººï¼Œè¿˜æ˜¯å…¬å¸ã€‚å”¯ä¸€çš„æ–¹æ³•å°±æ˜¯æ‰©å¼ è‡ªå·±æ“…é•¿å¤„ç†çš„ä¸šåŠ¡è¾¹ç•Œï¼Œé™¤éæ•…æ„è¦ä¿æŒå…¬å¸çš„å°å‹åŒ–&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœæ—¥ç¨‹è§„åˆ’æ˜¯ä»¥&amp;quot;å¤©&amp;quot;ä¸ºå•ä½ï¼Œç”šè‡³ä»¥&amp;quot;å‘¨&amp;quot;ä¸ºå•ä½ï¼Œæˆ‘å°±è®¤å®šå®ƒæ˜¯æ²¡ç”¨çš„ï¼Œä½ å¿…é¡»å°†æ—¥ç¨‹è§„åˆ’åˆ†è§£æˆä¸€äº›éå¸¸å°çš„ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡èƒ½å¤Ÿåœ¨ä»¥&amp;quot;å°æ—¶&amp;quot;ä¸ºå•ä½çš„æ—¶é—´æ®µä¸­å®Œæˆï¼Œä¸èƒ½æœ‰ä»»ä½•ä»»åŠ¡æ‰€éœ€çš„æ—¶é—´è¶…è¿‡ 16 å°æ—¶&lt;&#x2F;li&gt;
&lt;li&gt;æœ€å¥½çš„å·¥ä½œæ¡ä»¶ -&amp;gt; æœ€å¥½çš„ç¨‹åºå‘˜ -&amp;gt; æœ€å¥½çš„è½¯ä»¶ -&amp;gt; åˆ©æ¶¦&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœä½ æƒ³å‹ä½ç¨‹åºå‘˜çš„å·¥èµ„ï¼Œé‚£ä½ å°±ä¼šå¾—åˆ°è´¨é‡å¾ˆåƒåœ¾çš„è½¯ä»¶ï¼Œè€Œè¿™å®é™…ä¸Šä¹Ÿä¸ä¼šä¸ºä½ çœä¸‹å¾ˆå¤šé’±&lt;&#x2F;li&gt;
&lt;li&gt;å¸ƒé²å…‹æ–¯æ³•åˆ™ï¼šå‘ä¸€ä¸ªå·²ç»å»¶è¯¯çš„è½¯ä»¶é¡¹ç›®ä¸­å¢åŠ äººæ‰‹ï¼Œåªä¼šä½¿ä»–æ›´åŠ å»¶è¯¯&lt;&#x2F;li&gt;
&lt;li&gt;ä¸€ä¸ªä¼˜ç§€çš„ç¨‹åºå‘˜ç‹¬è‡ªå®Œæˆä¸€é¡¹ä»»åŠ¡ï¼Œå°±ä¸éœ€è¦é¢å¤–çš„æ²Ÿé€šå’Œåè°ƒã€‚å¦‚æœåŒæ ·çš„ä»»åŠ¡è®© 5 ä¸ªç¨‹åºå‘˜ä¸€èµ·å®Œæˆï¼Œä»–ä»¬ä¹‹é—´å°±å¿…é¡»æ²Ÿé€šå’Œåè°ƒï¼Œè¿™ä¼šèŠ±æ‰å¤§é‡æ—¶é—´&lt;&#x2F;li&gt;
&lt;li&gt;ç”¨è®¸å¤šå¹³åº¸çš„ç¨‹åºå‘˜å–ä»£å°‘æ•°ä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œè¿™ç§åšæ³•çš„çœŸæ­£é—®é¢˜åœ¨äºä¸ç®¡å¹³åº¸çš„ç¨‹åºå‘˜å·¥ä½œå¤šé•¿æ—¶é—´ï¼Œä»–ä»¬åšå‡ºæ¥çš„ä¸œè¥¿æ— æ³•åƒä¼˜ç§€ç¨‹åºå‘˜åšå¾—é‚£æ ·å¥½&lt;&#x2F;li&gt;
&lt;li&gt;ä½ çš„å…¬å¸çš„æˆåŠŸï¼Œä¾èµ–äºç¨‹åºå‘˜çœŸæ­£ä»¥åŠå…¬å®¤ä¸ºå®¶çš„ç¨‹åº¦&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>(è¯‘)facebookæ˜¯å¦‚ä½•ç®¡ç†ä»£ç çš„</title>
            <pubDate>Tue, 18 Jan 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/how-facebook-ships-code/</link>
            <guid>https://limboy.me/posts/how-facebook-ships-code/</guid>
            <description>&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;framethink.wordpress.com&#x2F;2011&#x2F;01&#x2F;17&#x2F;how-facebook-ships-code&#x2F;&quot;&gt;åŸæ–‡åœ¨æ­¤&lt;&#x2F;a&gt;ï¼Œçœ‹å®Œä¹‹åï¼Œç»ˆäºæ˜ç™½ä¸ºä»€ä¹ˆä¼˜ç§€çš„å·¥ç¨‹å¸ˆéƒ½å»äº†&#x2F;æƒ³å» facebookï¼Œå› ä¸ºé‚£é‡Œæ˜¯å·¥ç¨‹å¸ˆä»¬çš„å¤©å ‚ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¯‘æ–‡:&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘å¯¹ facebook çš„è¿è½¬ç€è¿·ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆç‹¬ç‰¹çš„ç¯å¢ƒï¼Œä¸å®¹æ˜“è¢«å¤åˆ¶ï¼ˆä»–ä»¬çš„ä½“ç³»å¹¶ä¸é€‚åˆæ‰€æœ‰çš„å…¬å¸ï¼Œå³ä½¿ä»–ä»¬åŠªåŠ›å°è¯•è¿‡ï¼‰ã€‚ä¸‹é¢æ˜¯æˆ‘å’Œ facebook çš„æœ‹å‹ä»¬å…³äºä»–ä»¬å¦‚ä½•å¼€å‘å’Œç®¡ç†é¡¹ç›®çš„è®°å½•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç°åœ¨è·ç¦»æˆ‘æ”¶é›†çš„è¿™äº›ä¿¡æ¯åˆè¿‡å» 6 ä¸ªæœˆäº†ï¼Œæˆ‘ç›¸ä¿¡ facebook è‚¯å®šåˆå¯¹ä»–ä»¬çš„é¡¹ç›®å¼€å‘å®è·µè¿›è¡Œäº†æ”¹è¿›ã€‚æ‰€ä»¥è¿™äº›è®°å½•å¯èƒ½ä¼šæœ‰ç‚¹è¿‡æ—¶ã€‚åŒæ—¶ facebook çš„å·¥ç¨‹å¸ˆé©±åŠ¨æ–‡åŒ–ä¹Ÿè¶Šæ¥è¶Šä¸ºå¤§ä¼—æ‰€çŸ¥ã€‚éå¸¸æ„Ÿè°¢é‚£äº›å¸®åŠ©æˆ‘æ•´ç†è¿™ç¯‡æ–‡ç« çš„ facebook çš„æœ‹å‹ä»¬ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è®°å½•ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æˆªæ­¢åˆ° 2010 å¹´ 6 æœˆï¼Œfacebook æœ‰å°†è¿‘ 2000 åå‘˜å·¥ï¼Œ10 ä¸ªæœˆå‰åªæœ‰ 1100 åï¼Œä¸€å¹´ä¹‹é—´å·®ä¸å¤šç¿»äº†ä¸€ç•ªã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä¸¤ä¸ªæœ€å¤§çš„éƒ¨é—¨æ˜¯å·¥ç¨‹å¸ˆå’Œè¿ç»´ï¼Œæ¯ä¸ªéƒ¨é—¨å¤§æ¦‚éƒ½æ˜¯ 400-500 äººã€‚è¿™ä¸¤ä¸ªéƒ¨é—¨äººæ•°å¤§çº¦å äº†å…¬å¸çš„ä¸€åŠã€‚&lt;&#x2F;li&gt;
&lt;li&gt;äº§å“ç»ç†ä¸å·¥ç¨‹å¸ˆçš„æ¯”ä¾‹å¤§çº¦ä¸º 1-7 åˆ° 1-10ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ¯ä¸ªå·¥ç¨‹å¸ˆå…¥èŒæ—¶ï¼Œéƒ½è¦æ¥æ”¶ 4-6 å‘¨çš„åŸ¹è®­ï¼Œé€šè¿‡ä¿®è¡¥ bugs å’Œå¬é«˜çº§å¼€å‘å·¥ç¨‹å¸ˆçš„è¯¾ç¨‹æ¥ç†Ÿæ‚‰ facebookã€‚&lt;&#x2F;li&gt;
&lt;li&gt;åŸ¹è®­ç»“æŸåï¼Œæ¯ä¸ªå·¥ç¨‹å¸ˆéƒ½å¯ä»¥æ¥è§¦çº¿ä¸Šçš„æ•°æ®åº“(æ›´å¤§çš„æƒåŠ›æ„å‘³ç€æ›´å¤§çš„è´£ä»»ï¼Œä¹Ÿæœ‰ä¸€ä»½&amp;quot;å‹¿åšæ¸…å•&amp;quot;ï¼Œä¸ç„¶å¯èƒ½ä¼šè¢«å¼€ï¼Œæ¯”å¦‚å…±äº«ç”¨æˆ·çš„éšç§æ•°æ®)ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æœ‰éå¸¸ç‰¢é çš„å®‰å…¨ä½“ç³»ï¼Œä»¥å…æœ‰äººä¸å°å¿ƒ&#x2F;æ•…æ„åšäº†äº›ä¸å¥½çš„äº‹ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ¯ä¸ªå·¥ç¨‹å¸ˆå¯ä»¥ä¿®æ”¹ facebook çš„ä»»ä½•ä»£ç ï¼Œéšæ—¶å¯ä»¥è¿å…¥ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æµ“åšçš„å·¥ç¨‹å¸ˆé©±åŠ¨æ–‡åŒ–ã€‚&amp;quot;äº§å“ç»ç†åŸºæœ¬å¯ä»¥è¢«å¿½ç•¥&amp;quot;ï¼Œè¿™æ˜¯ facebook ä¸€åå‘˜å·¥çš„è¯ã€‚å·¥ç¨‹å¸ˆå¯ä»¥ä¿®æ”¹æµç¨‹çš„ç»†èŠ‚ï¼Œé‡æ–°å®‰æ’å·¥ä½œä»»åŠ¡ï¼Œéšæ—¶æ¤å…¥è‡ªå·±çš„æƒ³æ³•ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;åœ¨æ¯æœˆçš„è·¨éƒ¨é—¨ä¼šè®®ä¸Šï¼Œç”±å·¥ç¨‹å¸ˆæ¥æ±‡æŠ¥å·¥ä½œè¿›åº¦ï¼Œå¸‚åœºéƒ¨å’Œäº§å“ç»ç†ä¼šå‡ºå¸­ä¼šè®®ï¼Œä¹Ÿå¯ä»¥åšäº›ç®€çŸ­çš„å‘è¨€ï¼Œä½†å¦‚æœè¯´å¾—å¤ªå¤šï¼Œå¾ˆå¯èƒ½å°±ä¼šè¢«æ‰“å°æŠ¥å‘Šã€‚ä»–ä»¬ç¡®å®æƒ³è®©å·¥ç¨‹å¸ˆæ¥ä¸»å¯¼äº§å“çš„å¼€å‘ï¼Œå¯¹è‡ªå·±çš„äº§å“è´Ÿè´£ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;é¡¹ç›®éœ€è¦çš„èµ„æºéƒ½æ˜¯è‡ªæ„¿çš„
** ä¸€ä¸ªäº§å“ç»ç†æŠŠå·¥ç¨‹å¸ˆä»¬å¬é›†åˆ°ä¸€èµ·ï¼Œè®©ä»–ä»¬å¯¹ä»–çš„æƒ³æ³•äº§ç”Ÿå…´è¶£ã€‚
** å·¥ç¨‹å¸ˆä»¬å†³å®šå¼€å‘é‚£äº›è®©ä»–ä»¬æ„Ÿå…´è¶£çš„ç‰¹æ€§ã€‚
** å·¥ç¨‹å¸ˆè·Ÿä»–ä»¬çš„ç»ç†è¯´ï¼š&amp;quot;æˆ‘ä¸‹å‘¨æƒ³å¼€å‘è¿™ 5 ä¸ªæ–°ç‰¹æ€§&amp;quot;ã€‚
** ç»ç†ä¼šè®©å·¥ç¨‹å¸ˆç‹¬ç«‹å¼€å‘ï¼Œå¯èƒ½æœ‰æ—¶ä¼šè®©ä»–ä¼˜å…ˆå®Œæˆä¸€äº›ç‰¹æ€§ã€‚
** å·¥ç¨‹å¸ˆç‹¬ç«‹å®Œæˆæ‰€æœ‰çš„ç‰¹æ€§â€”â€”å‰ç«¯&#x2F;åç«¯&#x2F;æ•°æ®åº“ï¼Œç­‰ç­‰æ‰€æœ‰ç›¸å…³çš„éƒ¨åˆ†ã€‚å¦‚æœéœ€è¦å¾—åˆ°è®¾è®¡äººå‘˜çš„å¸®åŠ©ï¼Œéœ€è¦å…ˆè®©è®¾è®¡äººå‘˜å¯¹ä½ çš„æƒ³æ³•äº§ç”Ÿå…´è¶£ã€‚å…¶ä»–å¦‚æ¶æ„ä¹‹ç±»çš„ä¹Ÿä¸€æ ·ã€‚ä½†æ€»ä½“æ¥è¯´ï¼Œå·¥ç¨‹å¸ˆè¦ç‹¬ç«‹å®Œæˆæ‰€æœ‰çš„ä»»åŠ¡ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¯¹äºæŸä¸ªç‰¹æ€§æ˜¯å¦å€¼å¾—å¼€å‘çš„äº‰è®ºï¼Œé€šå¸¸æ˜¯è¿™ä¹ˆè§£å†³çš„ï¼šèŠ±ä¸€ä¸ªæ˜ŸæœŸçš„æ—¶é—´å®Œæˆä»–ï¼Œå¹¶åœ¨å°éƒ¨åˆ†äººç¾¤ä¸­(å¦‚ 1%)è¿›è¡Œæµ‹è¯•ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å·¥ç¨‹å¸ˆå¸¸å¸¸å¸Œæœ›è§£å†³éš¾é¢˜ï¼Œè¿™èƒ½è·å¾—å£°æœ›å’Œå°Šæ•¬ã€‚ä»–ä»¬å¾ˆéš¾å¯¹å‰ç«¯é¡¹ç›®æˆ– UI è®¾è®¡äº§ç”Ÿå¤ªå¤§çš„å…´è¶£ã€‚è¿™è·Ÿå…¶ä»–å…¬å¸å¯èƒ½æ­£å¥½ç›¸åã€‚åœ¨ facebookï¼Œåç«¯ä»»åŠ¡ï¼Œæ¯”å¦‚æ–°çš„ feed ç®—æ³•ï¼Œå¹¿å‘ŠæŠ•æ”¾ç®—æ³•ï¼Œmemcache ä¼˜åŒ–ç­‰ç­‰ï¼Œæ˜¯å·¥ç¨‹å¸ˆçœŸæ­£æ„Ÿå…´è¶£çš„ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ‰€æœ‰çš„ä»£ç ä¿®æ”¹éƒ½è¦è¿›è¡Œå®¡æ ¸(é€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ªå·¥ç¨‹å¸ˆ)ï¼Œä½† News Feed æ˜¯ä¸ªä¾‹å¤–ï¼Œå› ä¸ºå¤ªé‡è¦äº†ï¼ŒZuckerberg ä¼šäº²è‡ª reviewã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ‰€æœ‰çš„ä¿®æ”¹è‡³å°‘è¦è¢«ä¸€ä¸ªäººå®¡æ ¸ï¼Œè€Œä¸”è¿™ä¸ªç³»ç»Ÿå¯ä»¥è®©ä»»ä½•äººå¾ˆæ–¹ä¾¿åœ°å®¡æ ¸å…¶ä»–äººçš„ä»£ç ï¼Œå³ä½¿ä½ æ²¡æœ‰é‚€è¯·ä»–&lt;&#x2F;li&gt;
&lt;li&gt;å·¥ç¨‹å¸ˆè´Ÿè´£æµ‹è¯•ï¼Œä»£ç ä¿®å¤ï¼Œå’Œç»´æŠ¤è‡ªå·±çš„é¡¹ç›®ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ¯ä¸ªåŠå…¬å®¤æˆ–é€šè¿‡ VPN è¿æ¥çš„å‘˜å·¥ä¼šä½¿ç”¨ä¸‹ä¸€ç‰ˆçš„ facebookï¼Œè¿™ä¸ªç‰ˆæœ¬çš„ facebook ä¼šç»å¸¸æ›´æ–°ï¼Œé€šå¸¸æ¯”å…¬å¼€çš„æ—© 1-12 å°æ—¶ã€‚æ‰€æœ‰çš„å‘˜å·¥è¢«å¼ºçƒˆå»ºè®®æäº¤ bugsï¼Œè€Œä¸”é€šå¸¸ä¼šå¾ˆå¿«è¢«ä¿®å¤ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¾ˆå¥‡æ€ªåªæœ‰å¾ˆå°‘çš„ QA æˆ–è‡ªåŠ¨æµ‹è¯•â€”â€”&amp;quot;å¤§éƒ¨åˆ†å·¥ç¨‹å¸ˆéƒ½èƒ½å†™å‡ºåŸºæœ¬æ²¡æœ‰ bug çš„ä»£ç ï¼Œåªæ˜¯åœ¨å…¶ä»–å…¬å¸ä»–ä»¬ä¸éœ€è¦è¿™ä¹ˆåšã€‚å¦‚æœæœ‰ QA éƒ¨é—¨ï¼Œä»–ä»¬åªè¦æŠŠä»£ç å†™å®Œï¼Œæ‰”ç»™ä»–ä»¬å°±è¡Œäº†&amp;quot;&lt;&#x2F;li&gt;
&lt;li&gt;[é’ˆå¯¹ä¸Šä¸€æ¡]æˆ‘ä»¬æœ‰è‡ªåŠ¨æµ‹è¯•ï¼Œä»£ç å‘å¸ƒå‰å¿…é¡»è¦é€šè¿‡æµ‹è¯•ã€‚æˆ‘ä»¬ä¸ç›¸ä¿¡&amp;quot;æ‰€æœ‰çš„å·¥ç¨‹å¸ˆéƒ½èƒ½å†™å‡ºæ²¡æœ‰ bug çš„ä»£ç &amp;quot;ï¼Œæ¯•ç«Ÿè¿™æ˜¯ä¸€ä¸ªå•†ä¸šå…¬å¸ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¾ˆå¥‡æ€ªï¼Œç¼ºå°‘äº§å“ç»ç†çš„å½±å“å’Œæ§åˆ¶â€”â€”äº§å“ç»ç†æ˜¯å¾ˆç‹¬ç«‹çš„å’Œè‡ªç”±çš„ã€‚äº§ç”Ÿå½±å“åŠ›çš„å…³é”®æ˜¯ä¸å·¥ç¨‹å¸ˆå’Œå·¥ç¨‹å¸ˆçš„é¢†å¯¼ä»¬ä»¬æå¥½å…³ç³»ã€‚éœ€è¦å¤§è‡´äº†è§£æŠ€æœ¯ï¼Œä¸è¦æä¸€äº›æ„šè ¢çš„æƒ³æ³•ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ‰€æœ‰æäº¤çš„ä»£ç æ¯å‘¨äºŒæ‰“åŒ…ä¸€æ¬¡ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;åªè¦å¤šä¸€åˆ†åŠªåŠ›ï¼Œç»ˆäºä¸€å¤©ä¼šå‘ç”Ÿæ”¹å˜ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ˜ŸæœŸäºŒçš„ä»£ç å‘å¸ƒï¼Œéœ€è¦æ‰€æœ‰çš„æäº¤è¿‡ä»£ç çš„å·¥ç¨‹å¸ˆåœ¨åœºã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä»£ç æ‰“åŒ…å‰ï¼Œå·¥ç¨‹å¸ˆå¿…é¡»åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ IRC channel ä¸Šã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¿ç»´æ‰§è¡Œæ‰“åŒ…è¿‡ç¨‹
** facebook æœ‰å¤§çº¦ 60000 å°æœåŠ¡å™¨
** æœ‰ 9 ä¸ªä»£ç å‘å¸ƒçº§åˆ«
** æœ€å°çš„çº§åˆ«åªæœ‰ 6 å°æœåŠ¡å™¨
** æ˜ŸæœŸäºŒçš„ä»£ç å‘å¸ƒä¼šå…ˆå‘å¸ƒåˆ° 6 å°æœåŠ¡å™¨ä¸Šï¼Œè¿ç»´ç»„ä¼šæ£€æµ‹è¿™ 6 å°æœåŠ¡å™¨çš„ååº”ï¼Œä¿è¯ä»£ç æ­£å¸¸å·¥ä½œï¼Œç„¶åå†æäº¤åˆ°ä¸‹ä¸€çº§
** å¦‚æœå‘å¸ƒå‡ºç°äº†ä¸€äº›é—®é¢˜ï¼ˆå¦‚æŠ¥é”™ç­‰ç­‰ï¼‰ï¼Œé‚£ä¹ˆå°±åœæ­¢ä¸‹ä¸€çº§çš„éƒ¨ç½²ï¼Œæäº¤å‡ºé”™ä»£ç çš„å·¥ç¨‹å¸ˆè´Ÿè´£ä¿®å¤é—®é¢˜ï¼Œç„¶åä»å¤´ç»§ç»­å‘å¸ƒã€‚
** æ‰€ä»¥ä¸€æ¬¡å‘å¸ƒå¯èƒ½ä¼šç»å†å‡ æ¬¡é‡å¤ï¼š1-2-3-fix. å›åˆ° 1. 1-2-3-4-5-fix. å›åˆ° 1. 1-2-3-4-5-6-7-8-9&lt;&#x2F;li&gt;
&lt;li&gt;è¿ç»´ç»„æ˜¯å—è¿‡ä¸¥æ ¼è®­ç»ƒï¼Œå€å—å°Šæ•¬ï¼Œè€Œä¸”æœ‰å•†ä¸šæ„è¯†çš„ã€‚ä»–ä»¬çš„å·¥ä½œåŒ…æ‹¬åˆ†æé”™è¯¯æ—¥å¿—ï¼Œè´Ÿè½½å’Œå†…å­˜çŠ¶æ€ç­‰ç­‰ã€‚è¿˜åŒ…æ‹¬ç”¨æˆ·è¡Œä¸ºã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä»£ç å‘å¸ƒæœŸé—´ï¼Œè¿ç»´ç»„ä½¿ç”¨ IRC-based é¡µé¢ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡ facebook&#x2F;email&#x2F;irc&#x2F;im&#x2F;sms ping æ¯ä¸€ä¸ªå·¥ç¨‹å¸ˆï¼Œå¦‚æœéœ€è¦ä»–ä»¬æ³¨æ„çš„è¯ã€‚å¯¹è¿ç»´ç»„ä¸åšå›åº”æ˜¯ä¸€ä»¶å¾ˆç¾æ„§çš„äº‹ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ä»£ç ä¸€æ—¦å‘å¸ƒåˆ°ç¬¬ 9 çº§ï¼Œå¹¶ä¸”ç¨³å®šè¿è¡Œï¼Œå°±ç®—å‘å¸ƒæˆåŠŸäº†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœä¸€ä¸ªç‰¹æ€§æ²¡æœ‰æŒ‰æ—¶å®Œæˆï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œä¸‹æ¬¡å®Œæˆæ—¶ä¸€å¹¶å‘å¸ƒå³å¯ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœè¢« svn-blamed,public shamed æˆ–å·¥ä½œç»å¸¸ç–å¿½å°±å¾ˆå¯èƒ½è¢«å¼€é™¤ã€‚&amp;quot;è¿™æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„æ–‡åŒ–&amp;quot;ã€‚ä¸å¤Ÿé«˜æ•ˆæˆ–è€…ä¸å¤Ÿèªæ˜çš„å‘˜å·¥ä¼šè¢«å‰”é™¤ã€‚ç®¡ç†å±‚ä¼šåœ¨ 6 ä¸ªæœˆçš„æ—¶é—´é‡Œè§‚å¯Ÿä½ è¡¨ç°ï¼Œå¦‚æœä¸åˆæ ¼ï¼Œåªèƒ½è¯´å†è§ã€‚æ¯ä¸€çº§éƒ½æ˜¯è¿™ä¸ªå¾…é‡ï¼Œå³ä½¿æ˜¯ C çº§åˆ«å’Œ VP çº§åˆ«ï¼Œå¦‚æœä¸å¤Ÿé«˜æ•ˆï¼Œä¹Ÿä¼šè¢«å¼€é™¤ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è¢«è´£éª‚ä¸ä¼šå¯¼è‡´è§£é›‡ã€‚æˆ‘ä»¬ç‰¹åˆ«å°Šé‡åˆ«äººï¼ŒåŸè°…åˆ«äººã€‚å¤§éƒ¨åˆ†é«˜çº§å·¥ç¨‹å¸ˆéƒ½æˆ–å¤šæˆ–å°‘çŠ¯è¿‡ä¸€äº›ä¸¥é‡çš„é”™è¯¯ï¼ŒåŒ…æ‹¬æˆ‘ã€‚ä½†æ²¡æœ‰äººå› æ­¤è¢«è§£é›‡ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æˆ‘ä¹Ÿæ²¡æœ‰é‡åˆ°è¿‡å› ä¸ºä¸Šé¢æåˆ°è¿‡çš„çŠ¯é”™è¯¯è€Œè¢«è§£é›‡ã€‚æœ‰äº›äººçŠ¯äº†é”™ï¼Œä»–ä»¬ä¼šéå¸¸åŠªåŠ›åœ°å»ä¿®å¤ï¼Œä¹Ÿè®©å…¶ä»–äººå¾—åˆ°äº†å­¦ä¹ ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>è¯´è¯´æ•°æ®åº“æ¶æ„ï¼ŒORMç¼“å­˜å’Œè·¯ç”±</title>
            <pubDate>Tue, 18 Jan 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/orm-cache/</link>
            <guid>https://limboy.me/posts/orm-cache/</guid>
            <description>&lt;h3 id=&quot;wei-shi-yao-zai-orm-ceng-zuo-huan-cun-er-bu-shi-db-ceng&quot;&gt;ä¸ºä»€ä¹ˆåœ¨ ORM å±‚åšç¼“å­˜ï¼Œè€Œä¸æ˜¯ DB å±‚&lt;&#x2F;h3&gt;
&lt;p&gt;ORM èƒ½æœ‰æ•ˆåœ°æé«˜ç¨‹åºå‘˜çš„å¼€å‘æ•ˆç‡ï¼Œç¨‹åºå‘˜æ›´å–œæ¬¢æ“ä½œå¯¹è±¡è€Œä¸æ˜¯æ•°æ®åº“ï¼Œä»–ä»¬ä¸å…³å¿ƒä¹Ÿä¸æƒ³æ‰‹å†™ä¸€å † SQL è¯­å¥ï¼Œæ¯•ç«Ÿä¸€ä¸ªå…¬å¸é‡Œæ™®é€šç¨‹åºå‘˜è¦å å¤šæ•°ï¼Œä»–ä»¬å¹¶ä¸æ˜¯éå¸¸ç†Ÿæ‚‰æ•°æ®åº“ï¼Œå†™å‡ºæ¥çš„ SQL æ‰§è¡Œæ•ˆç‡ä¹Ÿè‚¯å®šä¼šæœ‰è¿™æ ·é‚£æ ·çš„é—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœè®©ç¨‹åºå‘˜å»æ“ä½œå¯¹è±¡ï¼Œè¿™å°±æ˜¯ä»–ä»¬çš„å¼ºé¡¹äº†ï¼šå®šä¹‰å…³ç³»ã€ä½¿ç”¨ ORM çš„æ–¹æ³•å’Œå±æ€§ã€è·å–&#x2F;éå†ç»“æœç­‰ç­‰ã€‚åŒæ—¶ ORM åˆå¯ä»¥åœ¨å†…éƒ¨å¯¹ SQL è¯­å¥åŠå¯¹è±¡ä¹‹é—´çš„å…³ç³»è¿›è¡Œä¼˜åŒ–ï¼Œå°½é‡ä¿è¯ SQL é«˜æ•ˆåœ°æ‰§è¡Œï¼Œç”šè‡³å¯ä»¥é€æ˜åœ°åŠ ä¸ªç¼“å­˜ã€‚è¿™æ ·ä¸€ä¸ªåŒèµ¢çš„ç»“æœï¼Œä½•ä¹è€Œä¸ä¸ºå‘¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæ˜¯ä¸€äº›æ¯”è¾ƒå¤æ‚çš„æŸ¥è¯¢è¯­å¥ï¼Œåªèƒ½é€šè¿‡å†™ SQL è¯­å¥æ¥å®ç°ï¼Œè¿™æ ·çš„è¯ï¼Œå¯ä»¥åœ¨è¯­å¥çš„æ‰§è¡Œæ®µå¤–é¢å¥—ä¸€å±‚ç¼“å­˜åˆ¤æ–­ï¼Œå¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$memcache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;isobamapresident&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; fetch
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; do some database heavy stuff
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;DB&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;getInstance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$votes &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;prepare&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SELECT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;COUNT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;FROM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; VOTES &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;WHERE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; vote &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;OBAMA&amp;#39;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;execute&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$votes &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;(USA_CITIZEN_COUNT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)) ? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Sure is!&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt; : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Nope.&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; well, ideally
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$memcache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;set&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;isobamapresident&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$result&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;tou-ming-di-cha-ru-huan-cun&quot;&gt;é€æ˜åœ°æ’å…¥ç¼“å­˜&lt;&#x2F;h3&gt;
&lt;p&gt;æ‰€è°“é€æ˜ç¼“å­˜ï¼Œå°±æ˜¯ç”¨æˆ·æ­£å¸¸ä½¿ç”¨ ORMï¼Œè·å– ORM çš„æŸ¥è¯¢ç»“æœã€‚è€Œäº‹å®ä¸Š ORM çš„ç»“æœé›†å¾ˆå¯èƒ½æ˜¯æ¥è‡ªç¼“å­˜è€Œä¸æ˜¯æ•°æ®åº“ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;è·å–1å°æ—¶å‰å‘å¸ƒçš„æ–‡ç« 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;time() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;86400&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ORM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;factory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;article&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;where&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;created&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$time&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;findAll&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æ­£å¸¸çš„ç»“æœæ˜¯é€šè¿‡æ‰§è¡Œä»¥ä¸‹SQLè¯­å¥è¿”å›çš„
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;SELECT * FROM article WHERE created &amp;gt; $time
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ä½†å®é™…ä¸Šå¯èƒ½æ˜¯ä»Memcacheä¸­è¯»å–çš„ç»“æœ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$memcache &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Memcache&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$memcache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;connect&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;memcache_host&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11211&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$memcache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;some_key&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·ä¸€æ¥ï¼Œphp ä»£ç ä¸ç”¨æ”¹å˜ï¼Œä½†å› ä¸ºæ˜¯ä»ç¼“å­˜ä¸­è¯»å–ï¼Œæ‰€ä»¥æ•°æ®çš„è·å–é€Ÿåº¦æœ‰ä¿éšœï¼ŒåŒæ—¶ä¹Ÿå‡è½»äº†æ•°æ®åº“çš„å‹åŠ›ï¼Œåˆæ˜¯ä¸€ä¸ªåŒèµ¢çš„å±€é¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“ç„¶æ„¿æœ›æ˜¯ç¾å¥½çš„ï¼Œç°å®æ˜¯æ®‹é…·çš„ï¼Œå¦‚æœè¦è¾¾åˆ°ä¸Šé¢æ‰€è¯´çš„æ•ˆæœï¼Œéœ€è¦è´¹ä¸å°‘å‘¨æŠ˜ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shu-ju-ku-jia-gou&quot;&gt;æ•°æ®åº“æ¶æ„&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨è®¾è®¡ ORM çš„ç¼“å­˜å‰ï¼Œå…ˆäº†è§£ä»¥ä¸‹æ•°æ®åº“çš„å¤§è‡´æ¶æ„ã€‚ä»¥ netlog çš„æ•°æ®åº“æ¶æ„å˜è¿ä¸ºä¾‹ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;å•æ•°æ®åº“&lt;&#x2F;strong&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;orm-cache&amp;#x2F;orm-cache1.jpg&quot;
        width=&quot;500&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;ä¸»åº“+ä»åº“&lt;&#x2F;strong&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;orm-cache&amp;#x2F;orm-cache2.jpg&quot;
        width=&quot;500&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;ä¿æŒä¸»åº“+ä»åº“çš„æ¶æ„ï¼ŒæŠŠè¯»å†™æœ€é¢‘ç¹çš„å‡ ä¸ªè¡¨åˆ†åˆ°å•ç‹¬çš„æ•°æ®åº“æœåŠ¡å™¨&lt;&#x2F;strong&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;orm-cache&amp;#x2F;orm-cache3.jpg&quot;
        width=&quot;500&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;æŠŠé‚£å‡ ä¸ªè¯»å†™æœ€é¢‘ç¹çš„è¡¨ä¹Ÿåˆ†æˆä¸»ä»&lt;&#x2F;strong&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;orm-cache&amp;#x2F;orm-cache4.jpg&quot;
        width=&quot;500&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;å‡ºç°äº† 1040 too many connections&lt;&#x2F;strong&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;orm-cache&amp;#x2F;orm-cache5.jpg&quot;
        width=&quot;500&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Sharding(æ°´å¹³åˆ†åŒº)&lt;&#x2F;strong&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;orm-cache&amp;#x2F;orm-cache6.jpg&quot;
        width=&quot;500&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®åº“æœåŠ¡å™¨&#x2F;æ•°æ®åº“&#x2F;åˆ†åŒº&lt;&#x2F;strong&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;orm-cache&amp;#x2F;orm-cache7.jpg&quot;
        width=&quot;500&quot; &#x2F;&gt;&lt;&#x2F;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ ·åŸºæœ¬ä¸Šå°±å¯ä»¥åº”ä»˜æ­£å¸¸çš„è®¿é—®äº†ï¼Œå¦‚æœå“ªä¸ªè¡¨æ•°æ®é‡è¿‡å¤§æˆ–è¿æ¥è¿‡å¤šï¼Œå°± Sharding ä¸€ä¸‹ã€‚ä½†éšä¹‹è€Œæ¥çš„é—®é¢˜ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ¯”å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æ²¡æœ‰åˆ†åŒºä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢å‡ æ®µä»£ç æ¥è·å–æ•°æ®
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;DB&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;getInstance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;prepare&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SELECT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; title, message &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;FROM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; BLOG_MESSAGES &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;WHERE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; userid &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; {userID}&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;assignInt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;userID&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$userID&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;execute&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$results &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;getResults&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å‡è®¾å°†BLOG_MESSAGESæŒ‰ç…§ç”¨æˆ·idåˆ†é…åˆ°äº†ä¸åŒçš„åˆ†åŒºä¸Šï¼Œä¸Šé¢çš„ä»£ç å°±éœ€è¦åšä¸€äº›æ”¹åŠ¨
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æœ€ç®€å•çš„å°±æ˜¯åœ¨getInstanceæ—¶æŠŠç”¨æˆ·çš„idä¼ è¿‡å»ï¼Œè®©ORMå†…éƒ¨å»æ‰¾åˆ†åŒºï¼Œç›¸å½“äºè·¯ç”±
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;DB&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;getInstance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$userID&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;ru-he-dui-shu-ju-jin-xing-fen-pian&quot;&gt;å¦‚ä½•å¯¹æ•°æ®è¿›è¡Œåˆ†ç‰‡&lt;&#x2F;h3&gt;
&lt;p&gt;å½“è¦å¯¹æ•°æ®è¿›è¡Œåˆ†ç‰‡æ—¶ï¼Œåº”è¯¥è€ƒè™‘è¿™ä¸¤ä¸ªé—®é¢˜ï¼šä½¿ç”¨è¡¨çš„å“ªä¸€åˆ—(sharding key)ä½œä¸ºåˆ†å‰²çš„ä¾æ®ï¼›ä½¿ç”¨æ€æ ·çš„åˆ†å‰²ç®—æ³•(sharding scheme)ã€‚ä½¿ç”¨å“ªä¸ª key è¦çœ‹å…·ä½“çš„åº”ç”¨ã€‚ä»¥åšå®¢ä¸ºä¾‹ï¼Œå¦‚æœæƒ³è¦ç°å®æ¯ä¸ªç”¨æˆ·çš„åšå®¢ï¼Œé‚£ä¹ˆ userID å°±å¯ä»¥ä½œä¸º sharding keyã€‚å¦‚ä½•æ ¹æ® sharding key æ¥æ‰¾åˆ°å¯¹åº”çš„åˆ†åŒºä¸€èˆ¬æœ‰ä¸‰ç§æ–¹æ³•ï¼šå–æ¨¡(æ±‚ä½™)ã€æ•°æ®é‡ã€æ˜ å°„è¡¨ã€‚å‡è®¾é‡‡ç”¨æ˜ å°„è¡¨çš„æ–¹æ³•ï¼Œå¦‚æœè¦è·å–ç”¨æˆ·çš„åšå®¢ï¼Œå…ˆè¦åˆ°æ˜ å°„è¡¨é‡Œæ‰¾åˆ°è¯¥ userID å¯¹åº”çš„åˆ†åŒºï¼Œå†ä»åˆ†åŒºä¸­æ‰¾åˆ° userID å¯¹åº”çš„åšå®¢åˆ—è¡¨ã€‚éšä¹‹è€Œæ¥çš„é—®é¢˜æ˜¯ï¼š&lt;&#x2F;p&gt;
&lt;h4 id=&quot;bu-neng-zhi-xing-kua-fen-qu-cha-xun&quot;&gt;ä¸èƒ½æ‰§è¡Œè·¨åˆ†åŒºæŸ¥è¯¢&lt;&#x2F;h4&gt;
&lt;p&gt;å¦‚æœè¦ä»ä¸åŒçš„åˆ†åŒºè·å–æ•°æ®ï¼Œå°±ä¸èƒ½é€šè¿‡ JOIN&#x2F;GROUP BY&#x2F;ORDER BY&#x2F;LIMIT æ¥å®ç°äº†ã€‚æ¯”å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span&gt;&#x2F;&#x2F;è·å–æœ€æ–°çš„10æ¡åšå®¢
&lt;&#x2F;span&gt;&lt;span&gt;SELECT * FROM BLOG_MESSAGES ORDER BY created DESC LIMIT 0, 10;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&#x2F;å¦‚æœæ•°æ®åœ¨å¤šä¸ªåˆ†åŒºä¸­ï¼Œä¸Šé¢è¿™æ¡æŸ¥è¯¢å°±å¤±æ•ˆäº†
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€å¥½ä»è®¾è®¡ä¸Šå°±é¿å…è¿™äº›æŸ¥è¯¢è¯­å¥ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å†—ä½™æ¥å®ç°ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;shu-ju-yi-zhi-xing-de-bu-dao-bao-zhang&quot;&gt;æ•°æ®ä¸€è‡´æ€§å¾—ä¸åˆ°ä¿éšœ&lt;&#x2F;h4&gt;
&lt;p&gt;å› ä¸ºä¼šåœ¨å¤šä¸ªæ•°æ®åº“ä¹‹é—´æ›´æ–°æ•°æ®ï¼Œå¦‚æœè¦ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œå°±è¦å®ç°åˆ†å¸ƒå¼äº‹åŠ¡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªå°æŠ€å·§æ¥æ¨¡æ‹Ÿåˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæ¯”å¦‚æœ‰ä¸¤å°æ•°æ®åº“æœåŠ¡å™¨ï¼Œè¿™æ—¶å¯ä»¥å…ˆå¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œä½†åªåœ¨ä¿è¯ä¸¤å°æœåŠ¡å™¨éƒ½æ­£å¸¸çš„æƒ…å†µä¸‹æ‰ä¸€ä¸€æäº¤äº‹åŠ¡ã€‚å½“ç„¶ä¸¤æ¬¡äº‹åŠ¡çš„æäº¤ä¹Ÿä¼šæœ‰å»¶è¿Ÿï¼Œä½†ç›¸å¯¹æ¥è¯´æ›´åŠ é è°±ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;bao-chi-fen-qu-ping-heng&quot;&gt;ä¿æŒåˆ†åŒºå¹³è¡¡&lt;&#x2F;h4&gt;
&lt;p&gt;å¦‚æœåŸºäºç”¨æˆ· ID è¿›è¡Œåˆ†åŒºï¼Œå¯èƒ½ä¼šå‡ºç°åˆ†åŒºä¹‹é—´çš„ä¸å¹³è¡¡ï¼Œæ¯”å¦‚ä¸€äº›æ´»è·ƒçš„ç”¨æˆ·éƒ½è¢«åˆ†åˆ°äº†åŒä¸€åˆ†åŒºï¼Œè€Œæ²‰é»˜ç”¨æˆ·è¢«åˆ†åˆ°äº†å¦ä¸€ä¸ªåˆ†åŒºï¼Œè¿™æ—¶é‡è´©é¢åˆ†åŒºçš„å‹åŠ›æ˜æ˜¾ä¸ä¸€æ ·ã€‚æ‰€ä»¥åˆ†åŒºçš„ç®—æ³•å¾ˆé‡è¦ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;bei-fen-ce-lue&quot;&gt;å¤‡ä»½ç­–ç•¥&lt;&#x2F;h4&gt;
&lt;p&gt;å› ä¸ºæ•°æ®åœ¨ä¸åŒçš„åˆ†åŒºä¸­ï¼Œå¤‡ä»½ç­–ç•¥å°±ä¸æƒ³ä»¥å‰é‚£ä¹ˆç®€å•äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;orm-de-huan-cun-shi-xian&quot;&gt;ORM çš„ç¼“å­˜å®ç°&lt;&#x2F;h3&gt;
&lt;p&gt;å…ˆå£°æ˜ä¸€ä¸‹ï¼ŒORM çš„ç¼“å­˜ä¸èƒ½è§£å†³ JOIN æˆ–è€…å¤æ‚çš„ SQL æŸ¥è¯¢ï¼Œå…¶å®å¦‚æœè€ƒè™‘åˆ°å°†æ¥ä¼šæœ‰åˆ†åŒºçš„å¯èƒ½ï¼Œå°±åº”è¯¥åœ¨è®¾è®¡è¡¨æ—¶é¿å… JOIN è¯­å¥ã€‚å› ä¸ºå¤æ‚çš„ SQL ç›¸å¯¹æ¥è¯´å çš„å°‘æ•°ï¼Œç”šè‡³å¯ä»¥å¯¹è¿™äº› SQL å•ç‹¬åˆ¶å®šç¼“å­˜ç­–ç•¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆä¸è€ƒè™‘åˆ†åŒºï¼Œå‡è®¾æœ‰ä¸€ä¸ªç”¨æˆ·è¡¨å’Œåšå®¢è¡¨ï¼Œè¦è¾¾åˆ°ä»¥ä¸‹ç›®æ ‡ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;ç¼“å­˜æ¯ä¸€æ¡åšå®¢è®°å½•ï¼Œæ›´æ–°åšå®¢æ—¶ï¼Œæ›´æ–°ç¼“å­˜&lt;&#x2F;li&gt;
&lt;li&gt;ç¼“å­˜æ¯ä¸ªç”¨æˆ·çš„åšå®¢åˆ—è¡¨ï¼Œç”¨æˆ·æ›´æ–°åšå®¢æ—¶ï¼Œæ›´æ–°è¯¥åˆ—è¡¨&lt;&#x2F;li&gt;
&lt;li&gt;ç¨‹åºå‘˜ä½¿ç”¨ ORM æ—¶ä¸éœ€è¦è€ƒè™‘ç¼“å­˜&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;huan-cun-xing-shi-xian&quot;&gt;ç¼“å­˜è¡Œå®ç°&lt;&#x2F;h4&gt;
&lt;p&gt;ç¼“å­˜è¡Œè¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œç”¨æˆ·æŸ¥è¯¢æŸä¸ª id æ—¶ï¼Œç¼“å­˜è¯¥è¡Œå†…å®¹ï¼Œä¸‹æ¬¡å°±å¯ä»¥ç›´æ¥è¯»å–ç¼“å­˜äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœå†…å®¹è¢«æ›´æ–°&#x2F;åˆ é™¤äº†ï¼Œç¼“å­˜ä¹ŸåŒæ—¶æ›´æ–°&#x2F;åˆ é™¤ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;huan-cun-lie-shi-xian&quot;&gt;ç¼“å­˜åˆ—å®ç°&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å¦‚æœåœ¨find&#x2F;findAllé‡Œä¼ å…¥äº†å‚æ•°ï¼Œåˆ™è¯¥å‚æ•°å³ä¸ºkey
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ORM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;factory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;article&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;where&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;user_id&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;2&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;and_where&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;created&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, time() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;86400&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;findAll&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ä¸Šé¢çš„ä»£ç ä¼šåœ¨Modelå†…éƒ¨ç”Ÿæˆä¸€ä¸ªç»“æ„åŒ–çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²åŠå¯¹åº”çš„å€¼å°†è¢«æ”¾å…¥ç¼“å­˜ä¸­
&lt;&#x2F;span&gt;&lt;span&gt;{table_name}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;{key}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;md5(&lt;&#x2F;span&gt;&lt;span&gt;sql&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ç±»ä¼¼è¿™æ ·
&lt;&#x2F;span&gt;&lt;span&gt;article&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;c81e728d9d4c2f636f067f89cc14862c
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å¦‚æœæ²¡æœ‰ä¼ å‚æ•°ï¼Œ{key}å°±ä¸ä¼šè¢«æ›¿ä»£
&lt;&#x2F;span&gt;&lt;span&gt;article&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;{key}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;c81e728d9d4c2f636f067f89cc14862c
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;é¦–æ¬¡æ‰§è¡Œæ­¤ä»£ç æ—¶ï¼ŒORMå†…éƒ¨ä¼šå…ˆå»ç¼“å­˜ä¸­æ‰¾ä¸Šé¢çš„ç»“æ„åŒ–å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šæ‰§è¡ŒSQLè¯­å¥ï¼Œç„¶åæŠŠè¿”å›çš„ç»“æœçš„idæ”¾åˆ°ç¼“å­˜ä¸­
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;è¿™å°±æ˜¯è¦æ”¾åˆ°ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œä¸‹æ¬¡å¦‚æœå†æ‰§è¡Œæ­¤SQLï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è·å–id(1,43,50)ï¼Œç„¶åå†ä»ç¼“å­˜ä¸­è·å–è¿™äº›idå¯¹åº”çš„è¡Œå†…å®¹
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æ³¨æ„åˆ°è¿™é‡Œæœ‰ä¸ªrevisionï¼Œè¿™æ˜¯å°†æ¥è¦åˆ¤æ–­è¯¥ç¼“å­˜æ˜¯å¦å·²è¿‡æœŸçš„å…³é”®ã€‚
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;article-2-c81e728d9d4c2f636f067f89cc14862c&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;revision&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1294476790&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;data&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;43&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;50&lt;&#x2F;span&gt;&lt;span&gt;],
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;åŒæ—¶è¿˜ä¼šç”Ÿæˆå¦ä¸€ç»„æ•°æ®ï¼Œå°±æ˜¯revision
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;article-2-revision&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1294476777&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å¦‚æœä½œè€…åˆæ›´æ–°äº†ä¸€ç¯‡åšå®¢ï¼Œåˆ™ä¸Šé¢çš„æŸ¥è¯¢è¯­å¥ç»“æœå°±å‘ç”Ÿäº†å˜åŒ–ã€‚
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ORM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;factory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;article&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;values&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(array(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;save&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ORMä¼šæ‰¾åˆ°ç¼“å­˜ä¸­çš„ä¸€ç»„revisionæ•°æ®ï¼ŒåŒæ—¶æ›´æ–°å®ƒ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;article-2-revision&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1294476888&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å¦‚æœæ²¡æœ‰æä¾›keyï¼Œé‚£å°±æ˜¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;article-{key}-revision&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1294476888&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ä¸‹æ¬¡å†æ‰§è¡Œä¸Šé¢çš„ORMæŸ¥è¯¢ä»£ç æ—¶ï¼Œä¼šå…ˆå»æŸ¥æ‰¾&amp;#39;article-2-revision&amp;#39;çš„ç‰ˆæœ¬ï¼Œç„¶åè·Ÿ&amp;#39;article-2-c81e728d9d4c2f636f067f89cc14862c&amp;#39;çš„ç‰ˆæœ¬å·æ¯”è¾ƒï¼Œå¦‚æœå‰ä¸€ä¸ªç‰ˆæœ¬å·&amp;gt;åä¸€ä¸ªç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºæ•°æ®æœ‰æ”¹å˜ï¼Œç¼“å­˜å·²è¿‡æœŸï¼Œè¿™æ—¶å°±éœ€è¦é‡æ–°æ‰§è¡ŒSQLè¯­å¥ï¼Œå¹¶æ›´æ–°&amp;#39;article-2-c81e728d9d4c2f636f067f89cc14862c&amp;#39;è¿™ä¸ªå­—ç¬¦ä¸²çš„ç‰ˆæœ¬å·ã€‚å¦‚æœæ¯”è¾ƒç»“æœæ˜¯å‰ä¸€ä¸ªç‰ˆæœ¬å·&amp;lt;=åä¸€ä¸ªç‰ˆæœ¬å·ï¼Œé‚£å°±ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–ã€‚
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;orm-de-lu-you&quot;&gt;ORM çš„è·¯ç”±&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸Šé¢è¯´çš„æ˜¯æ•°æ®æ²¡æœ‰åˆ†åŒºçš„æƒ…å†µï¼Œå¦‚æœæ•°æ®è¢«åˆ†åŒºäº†çš„è¯ï¼Œè¿˜è¦åœ¨ ORM å†…éƒ¨å®ç°è·¯ç”±åŠŸèƒ½ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ORM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;factory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;articles&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;where&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;created&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, time()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;86400&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;findAll&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å‡è®¾æ–‡ç« é€šè¿‡æŸç§ç®—æ³•ï¼Œè¢«åˆ†åœ¨äº†ä¸åŒçš„åˆ†åŒºä¸Šï¼Œä¸Šé¢è¿™ä¸ª ORM ç¼–è¯‘å‡ºæ¥çš„ SQL æ˜¯æ— æ³•è¿è¡Œçš„ã€‚ä½†åˆä¸èƒ½è®©ç¨‹åºå‘˜æ¥å…³å¿ƒåˆ†åº“åˆ†è¡¨çš„äº‹ï¼Œè¿™æ—¶å°±å¯ä»¥åœ¨ ORM å†…éƒ¨å®ç°è·¯ç”±æœºåˆ¶ï¼Œåœ¨å…·ä½“çš„ Model å±‚å®ç°è·¯ç”±ç®—æ³•ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Model_Article &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;ORM
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;protected function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_route&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;è¿™é‡Œå¯ä»¥å®ç°å…·ä½“ç®—æ³•ï¼Œæ”¹å˜ORMçš„ä¸€äº›å±æ€§ï¼Œä»è€Œå½±å“SQLçš„ç¼–è¯‘
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;en.netlog.com&#x2F;developers&#x2F;blog&#x2F;blogid=3071854&quot;&gt;Database Sharding at Netlog, with MySQL and PHP&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.infoq.com&#x2F;cn&#x2F;articles&#x2F;yupoo-partition-database&quot;&gt;åˆæ‹ç½‘æ¶æ„ä¸­çš„åˆ†åº“è®¾è®¡&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>å‘å¸ƒä¸€æ¬¾PHPæ¨¡å—ç³»ç»Ÿâ€”â€”Witty</title>
            <pubDate>Mon, 17 Jan 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/witty/</link>
            <guid>https://limboy.me/posts/witty/</guid>
            <description>&lt;p&gt;å…³äº&lt;a href=&quot;http:&#x2F;&#x2F;witty.leezhong.com&quot;&gt;Witty&lt;&#x2F;a&gt;ï¼Œæœ‰å¤ªå¤šæƒ³è¯´çš„äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆæ¥è¯´è¯´åå­—ã€‚æœ¬æ¥ä¸€ç›´æƒ³å¾€ KISS ä¸Šé ï¼Œä½†æ˜¯ KISSPHP å·²ç»æœ‰äº†ï¼ŒKissy ä¹Ÿè¢«æ·˜å®å‰ç«¯å›¢é˜Ÿç”¨äº†ï¼Œç»å°½è„‘æ±ä¹Ÿæƒ³ä¸å‡ºä¼˜é›…çš„è·Ÿ KISS ç›¸å…³çš„åå­—ï¼Œäºæ˜¯å…ˆä½œç½¢ã€‚åæ¥åœ¨çœ‹ä¹¦æ—¶ï¼Œæ— æ„ä¸­çœ‹åˆ°äº†&amp;quot;Witty&amp;quot;ï¼Œçœ‹ç€ï¼Œå¿µç€éƒ½å¾ˆèˆ’æœï¼Œæ„æ€ä¹ŸæŒºé è°±(é£è¶£çš„ï¼›å·§å¦™çš„ï¼›æœºæ™ºçš„)ï¼Œå°±å†³å®šç”¨å¥¹äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æ¥è¯´è¯´å¼€å‘ Witty çš„åˆè¡·ã€‚è¿™ä¸ªæ˜¯å— python å¯å‘ï¼Œpython å¯ä»¥æŠŠè‡ªå·±å¼€å‘çš„ç±»åº“ä¸Šä¼ åˆ°&lt;a href=&quot;http:&#x2F;&#x2F;pypi.python.org&#x2F;pypi&quot;&gt;pypi&lt;&#x2F;a&gt;ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ easy_install æˆ– pip å®‰è£…äº†ï¼Œç”šæ˜¯æ–¹ä¾¿ã€‚è€Œä¸”è¿™äº›åº“éƒ½å¯ä»¥ç‹¬ç«‹ä½¿ç”¨(å³ä½¿æœ‰ä¾èµ–å…³ç³»ï¼Œeasy_install&#x2F;pip ä¹Ÿä¼šè‡ªåŠ¨å¤„ç†)ã€‚æœ¬æ¥è¿™ä»¶äº‹åº”è¯¥æ˜¯ pear æ¥åšçš„ï¼Œä½† pear çš„å¼€å‘è§„èŒƒå¤ªå¤æ‚ï¼Œå®‰è£…ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œç•¥æ˜¾é‡é‡çº§ã€‚å¾ˆå¤šæ¡†æ¶å…¶å®è‡ªå¸¦äº†å¾ˆå¤šå¥½ç”¨çš„ç±»åº“ï¼Œä½†ä¸€èˆ¬éƒ½éœ€è¦ä¾èµ–æ¡†æ¶æœ¬èº«ã€‚Zend Framework å¯ä»¥æŠŠç±»åº“å•ç‹¬æ‹¿å‡ºæ¥ï¼Œä½†ä¹Ÿæœ‰ä¸å°‘é—®é¢˜ï¼Œæ¯”å¦‚é…ç½®ä¸ç»Ÿä¸€ã€æ²¡æœ‰ç»Ÿä¸€çš„åˆå§‹åŒ–æ–¹æ³•ã€æ¯ä¸ªæ¨¡å—æ²¡æœ‰æ”¾åˆ°å•ç‹¬çš„æ–‡ä»¶å¤¹é‡Œã€æ²¡æœ‰å‘½ä»¤è¡Œå®‰è£…åŠŸèƒ½ç­‰ç­‰ã€‚äºæ˜¯åˆ›å»º Witty çš„æƒ³æ³•å°±è¿™ä¹ˆè¯ç”Ÿäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Witty å®˜ç½‘æ¶åœ¨ GAE ä¸Šï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨ GAEï¼Œpython+gae çš„ç»„åˆå¼€å‘ä¸€äº›å°é¡¹ç›®çœŸæ˜¯å¤ªæ–¹ä¾¿äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yao-shi-witty&quot;&gt;ä»€ä¹ˆæ˜¯ Witty&lt;&#x2F;h3&gt;
&lt;p&gt;Witty æƒ³åšçš„äº‹å¾ˆç®€å•ï¼šæ–¹ä¾¿æ¨¡å—å¼€å‘ï¼Œæ–¹ä¾¿ä¸Šä¼ ï¼Œæ–¹ä¾¿å®‰è£…ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Witty æä¾›äº†ä¸€äº›ç®€å•çš„æ¨¡å—å¼€å‘æ ‡å‡†ï¼Œç¨‹åºå‘˜å¯ä»¥æŒ‰ç…§è¿™äº›æ ‡å‡†å†™è‡ªå·±çš„æ¨¡å—ï¼Œç„¶åä¸Šä¼ åˆ°ç½‘ç«™ï¼Œè¿™æ ·å…¶ä»–ç”¨æˆ·å°±å¯ä»¥é€šè¿‡ç®€å•çš„å‘½ä»¤ä¸‹è½½ï¼Œä½¿ç”¨è¯¥æ¨¡å—äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;witty-de-an-zhuang-he-shi-yong&quot;&gt;Witty çš„å®‰è£…å’Œä½¿ç”¨&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span&gt;# install
&lt;&#x2F;span&gt;&lt;span&gt;wget http:&#x2F;&#x2F;witty.leezhong.com&#x2F;static&#x2F;witty
&lt;&#x2F;span&gt;&lt;span&gt;chmod +x witty
&lt;&#x2F;span&gt;&lt;span&gt;.&#x2F;witty install
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# install module
&lt;&#x2F;span&gt;&lt;span&gt;.&#x2F;witty install http
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# usage
&lt;&#x2F;span&gt;&lt;span&gt;require_once &amp;#39;&#x2F;path&#x2F;to&#x2F;witty.php&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;Witty::init();
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;$http = Witty::instance(&amp;#39;Http&amp;#39;);
&lt;&#x2F;span&gt;&lt;span&gt;$http-&amp;gt;execute(&amp;#39;http:&#x2F;&#x2F;www.douban.com&amp;#39;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Witty ç±»æä¾›äº†ä¸¤ä¸ªåˆå§‹åŒ–æ–¹æ³• instance å’Œ factoryï¼Œæ‰€ä»¥æ¨¡å—ä¸éœ€è¦è‡ªå·±å®ç°å•ä¾‹å’Œå·¥å‚ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæ¨¡å—æœ‰ä¸€äº›é…ç½®å‚æ•°ï¼Œå¯ä»¥åœ¨ instance æˆ– factory æ—¶ä¼ å…¥ï¼Œå¦‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;redirect&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$http &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Witty&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Http&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åªè¦ Http ç±»ç»§æ‰¿äº† Config ç±»å°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œè®© Witty è‡ªå·±å»æ‰¾ config æ–‡ä»¶ï¼Œç„¶åä¼ å…¥å‚æ•°ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;require_once &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;path&#x2F;to&#x2F;witty.php&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Witty&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Witty&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;set_config_dir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;path&#x2F;to&#x2F;config&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; &#x2F;path&#x2F;to&#x2F;config&#x2F;http.PHP
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; &amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; return array(
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 	&amp;#39;Http&amp;#39; =&amp;gt; array( &#x2F;&#x2F;Httpä¸ºç±»å
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 		&amp;#39;redirect&amp;#39; =&amp;gt; false,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; 	),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; );
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è™½ç„¶æ²¡æœ‰ä¼ å‚æ•°ï¼Œä½†å› ä¸ºè®¾ç½®äº†configæ–‡ä»¶å¤¹ï¼ŒWittyä¼šå…ˆæ‰¾åˆ°config&#x2F;http.php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ç„¶åæ‰¾åˆ°Http keyï¼Œä¼ å…¥è¯¥keyå¯¹åº”çš„value
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$http &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Witty&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Http&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ›´å¤šè¯¦æƒ…ï¼Œè¯·æµè§ˆ&lt;a href=&quot;http:&#x2F;&#x2F;witty.leezhong.com&#x2F;doc&quot;&gt;Witty å®˜ç½‘&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;PS: E æ–‡æ°´å¹³æœ‰é™ï¼Œæ¬¢è¿æŒ‡å‡ºæœ‰è¯­ç—…çš„è¯­å¥ï¼Œå¦‚æœå¤ªå¤šçš„è¯ï¼Œå¯ä»¥ Email(healdream#gmail.com)æˆ‘ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>é«˜æ€§èƒ½MySQLå°ç»“</title>
            <pubDate>Wed, 05 Jan 2011 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/mysql-high-performance-tips/</link>
            <guid>https://limboy.me/posts/mysql-high-performance-tips/</guid>
            <description>&lt;p&gt;å…¶å®åªçœ‹åˆ°äº† 1&#x2F;3ï¼Œå…ˆè®°å½•ä¸€ä¸‹ï¼Œç­‰ä»¥åæœ‰ç©ºäº†å†è¡¥ä¸Šã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jiang-cha-xun-jie-guo-dao-chu-dao-wen-jian&quot;&gt;å°†æŸ¥è¯¢ç»“æœå¯¼å‡ºåˆ°æ–‡ä»¶&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; SQL QUERY INTO OUTFILE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;path&#x2F;to&#x2F;sql&#x2F;file&amp;#39;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;jiang-mei-ci-cao-zuo-du-dao-chu-dao-wen-jian&quot;&gt;å°†æ¯æ¬¡æ“ä½œéƒ½å¯¼å‡ºåˆ°æ–‡ä»¶&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\T&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; &#x2F;path&#x2F;to&#x2F;file
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ... &#x2F;&#x2F;è¿™äº›æ“ä½œï¼ŒåŠæ“ä½œçš„ç»“æœéƒ½ä¼šè¾“å‡ºåˆ°å¯¹åº”çš„æ–‡ä»¶
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\t
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ–‡ä»¶å†…å®¹å¤§æ¦‚ä¼šæ˜¯è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;root@localhost&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(none)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; use noah&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Reading&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; table information for completion of table and column names
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;You&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; can turn off this feature to get a quicker startup with&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -A
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Database&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; changed
&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;root@localhost&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;noah&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; show tables&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+----------------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Tables_in_noah &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+----------------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;blog_category  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;blog_comment   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;blog_post      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;blog_res       &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;blog_role      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;blog_role_res  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;blog_role_user &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;blog_tag       &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;blog_user      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;test           &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+----------------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rows in set (0.00 sec&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;root@localhost&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;noah&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; select &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; from test&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+----+------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+----+------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;foo  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;bar  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+----+------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rows in set (0.02 sec&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;xian-shi-mysql-dang-qian-zhuang-tai-ji-qi-ta-xin-xi&quot;&gt;æ˜¾ç¤º MySQL å½“å‰çŠ¶æ€åŠå…¶ä»–ä¿¡æ¯&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SHOW&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; STATUS&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;&#x2F;æ˜¾ç¤ºMySQLå½“å‰çŠ¶æ€
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SHOW&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; VARIABLES&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;&#x2F;æ˜¾ç¤ºMySQLçš„å˜é‡ä¿¡æ¯ï¼Œå¦‚version&#x2F;data_dirç­‰ç­‰
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SHOW&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; VARIABLES LIKE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;%home%&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;&#x2F;è·å–åŒ…å«homeçš„å˜é‡
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SHOW&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; TABLE STATUS&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\G&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; &#x2F;&#x2F;æ˜¾ç¤ºå½“å‰è¡¨çš„çŠ¶æ€ï¼Œæ³¨æ„åé¢çš„&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\G&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ï¼Œå‚ç›´æ˜¾ç¤ºç»“æœ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;DESCRIBE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; tbl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;&#x2F;è·å–è¡¨ç»“æ„
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SHOW&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; FULL COLUMNS FROM tbl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;&#x2F;ç±»ä¼¼ä¸Šé¢
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;xian-shi-mysql-dang-qian-de-lian-jie-zhuang-kuang&quot;&gt;æ˜¾ç¤º MySQL å½“å‰çš„è¿æ¥çŠ¶å†µ&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# ä½¿ç”¨mysqladmin
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysqladmin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; processlist
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# æˆ–è¿›å…¥åˆ°mysql cliåæ‰§è¡Œ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; show processlist&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# ç»“æœå¤§æ¦‚æ˜¯è¿™æ ·
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+-----+------+-----------+------+---------+------+-------+------------------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Id  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;User &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Host      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;db   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Command &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Time &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;State &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Info             &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+-----+------+-----------+------+---------+------+-------+------------------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;409 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;root &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;localhost &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;noah &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Query   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;NULL  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;show&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; processlist &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+-----+------+-----------+------+---------+------+-------+------------------+
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;guan-yu-timestamp&quot;&gt;å…³äº TIMESTAMP&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ä¸ª TIMESTAMP å­—æ®µä¼šéšç€è¡¨å…¶ä»–å­—æ®µçš„æ›´æ–°è€Œè‡ªåŠ¨æ›´æ–°ï¼Œä¹‹åçš„ TIMESTAMP å­—æ®µåˆ™ä¸ä¼šã€‚&lt;&#x2F;li&gt;
&lt;li&gt;TIMESTAMP çš„èŒƒå›´æ˜¯ï¼š1970-2037ï¼›è€Œ DATETIME çš„èŒƒå›´æ˜¯ï¼š1000-9999&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;yi-chu-zhong-fu-de-xing&quot;&gt;ç§»é™¤é‡å¤çš„è¡Œ&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# æ³¨æ„è¿™ä¸ªIGNOREå‚æ•°ï¼Œå¦‚æœæ²¡åŠ çš„è¯ä¼šæŠ¥é”™ï¼Œä¸”æ‰§è¡Œå¤±è´¥
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# å‡è®¾è¦å»é™¤a,bé¡¹é‡å¤çš„è¡Œ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ALTER&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; IGNORE TABLE tbl ADD UNIQUE INDEX(a,b&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;cha-kan-dang-qian-zai-cao-zuo-de-shu-ju-ku&quot;&gt;æŸ¥çœ‹å½“å‰åœ¨æ“ä½œçš„æ•°æ®åº“&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SELECT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; DATABASE(&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨ mysql çš„æç¤ºç¬¦ä¸ŠåŠ¨ç‚¹æ‰‹è„š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# edit &#x2F;etc&#x2F;mysql&#x2F;my.cnf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;[mysql]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#no-auto-rehash	# faster start of mysql but no tab completition
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;prompt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;u@&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span&gt;h) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;d]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\\
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;fu-zhi-yi-ge-biao&quot;&gt;å¤åˆ¶ä¸€ä¸ªè¡¨&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CREATE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; TABLE tbl1 LIKE tbl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;INSERT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; INTO tbl1 SELECT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; FROM tbl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# ä¹Ÿå¯ä»¥å…ˆç”¨mysqladminå¯¼å‡ºæ•°æ®ï¼Œå†å¯¼å…¥
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;ding-chang-biao-yu-bian-chang-biao&quot;&gt;å®šé•¿è¡¨ä¸å˜é•¿è¡¨&lt;&#x2F;h3&gt;
&lt;p&gt;åŒ…å«ä»»ä½• varcharã€text ç­‰å˜é•¿å­—æ®µçš„æ•°æ®è¡¨ï¼Œå³ä¸ºå˜é•¿è¡¨ï¼Œåä¹‹åˆ™ä¸ºå®šé•¿è¡¨ã€‚æ‰€ä»¥ CHAR å’Œ VARCHAR ä¸å…±å­˜&lt;&#x2F;p&gt;
&lt;p&gt;CHAR(30)ï¼Œæœ€å¤šå¯ä»¥å®¹çº³ 30 ä¸ªå­—ç¬¦ï¼Œä½†å¦‚æœå­—ç¬¦æ•°ä¸åˆ° 30 ä¸ªçš„è¯ï¼Œä¹Ÿä¼šå ç”¨è¿™äº›ç©ºé—´ï¼Œåªä¸è¿‡ä¼šåœ¨åé¢è¡¥ä¸Šç©ºæ ¼ï¼Œä½†æˆ‘ä»¬æŸ¥è¯¢æ—¶åˆä¼šå‘ç°å°¾éƒ¨æ²¡æœ‰ç©ºæ ¼ï¼Œè¿™æ˜¯å› ä¸ºç©ºæ ¼å·²ç»è¢« CHAR å¤„ç†æ‰äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;VARCHAR(30)ï¼Œä¹Ÿæ˜¯æœ€å¤šå¯ä»¥å®¹çº³ 30 ä¸ªå­—ç¬¦ï¼Œä½†å¦‚æœä¸è¶³ 30 ä¸ªçš„è¯ï¼Œæœ‰å¤šå°‘å­—ç¬¦å å¤šå°‘ç©ºé—´ï¼Œä¸ä¼šæµªè´¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å˜é•¿è¡¨çš„ä¼˜åŠ¿åœ¨äºæœ‰æ•ˆåˆ©ç”¨ç©ºé—´ï¼Œä½†ç”±äºè®°å½•å¤§å°ä¸åŒï¼Œåœ¨å…¶ä¸Šè¿›è¡Œè®¸å¤šåˆ é™¤æˆ–æ›´æ–°æ“ä½œä¼šä½¿è¡¨ä¸­çš„ç¢ç‰‡å¢å¤šï¼Œéœ€è¦å®šæœŸ OPTIMIZE TABLE ä»¥ä¿æŒæ€§èƒ½ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å®šé•¿è¡¨çš„æŸ¥è¯¢ï¼Œæ£€ç´¢å’Œæ›´æ–°é€Ÿåº¦éƒ½æ¯”å˜é•¿è¡¨å¿«ï¼Œä½†å ç”¨çš„ç©ºé—´ä¹Ÿå¤§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;PS:MySQL 5.0.3 ä¹‹å VARCHAR çš„æœ€å¤§å­—ç¬¦æ•°ä¸º 65535&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhuan-huan-bian-ma&quot;&gt;è½¬æ¢ç¼–ç &lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SET&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; NAMES utf8
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# CHARSET utf8
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;ju-he-han-shu&quot;&gt;èšåˆå‡½æ•°&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;COUNT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;GROUP BY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;COUNT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; + HAVING + GROUP BY (HAVINGå¯ä»¥çœ‹ä½œåç½®WHEREè¯­å¥&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;MIN&#x2F;MAX &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;GROUP BY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SUM&#x2F;AVG &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;GROUP BY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;DISTINCT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;GROUP BY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;æ‰€æœ‰çš„è¿™äº›èšåˆå‡½æ•°åŠ ä¸ŠGROUP&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; BYä¹‹åï¼Œéƒ½åªå¯¹GROUP BYéƒ¨åˆ†æœ‰æ•ˆã€‚(ä¸å¥½ç†è§£ï¼Œå¿½ç•¥&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;bing-fa-kong-zhi&quot;&gt;å¹¶å‘æ§åˆ¶&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;du-suo-gong-xiang-suo-xie-suo-pai-ta-suo&quot;&gt;è¯»é”(å…±äº«é”)&#x2F;å†™é”(æ’ä»–é”)&lt;&#x2F;h4&gt;
&lt;p&gt;å½“æŸä¸€ç”¨æˆ·ä¿®æ”¹ä¸€éƒ¨åˆ†æ•°æ®æ—¶ï¼ŒMySQL ä¼šç¦æ­¢å…¶ä»–ç”¨æˆ·è¯»å–åŒä¸€æ•°æ®ã€‚å¤§å¤šæ•°æ—¶ï¼ŒMySQL éƒ½æ˜¯ä»¥é€æ˜çš„æ–¹å¼å®ç°é”çš„å†…éƒ¨ç®¡ç†&lt;&#x2F;p&gt;
&lt;h4 id=&quot;suo-li-du&quot;&gt;é”ç²’åº¦&lt;&#x2F;h4&gt;
&lt;p&gt;åªé”å®šéƒ¨åˆ†ä¿®æ”¹çš„æ•°æ®ï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„èµ„æºï¼Œæˆ–è€…åªå¯¹è¦ä¿®æ”¹çš„æ•°æ®ç‰‡ç²¾ç¡®åŠ é”ã€‚ä»»ä½•æ—¶é—´ï¼Œåœ¨ç»™å®šçš„èµ„æºä¸Šï¼Œè¢«åŠ é”çš„æ•°æ®é‡è¶Šå°ï¼Œå°±å¯ä»¥å…è®¸æ›´å¤šçš„å¹¶å‘ä¿®æ”¹ï¼Œåªè¦ç›¸äº’ä¹‹é—´äº’ä¸å†²çªå³å¯&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¹ˆåšçš„é—®é¢˜æ˜¯åŠ é”ä¹Ÿä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚å¦‚è·å¾—é”ï¼Œæ£€æŸ¥é”æ˜¯å¦å·²è§£é™¤ï¼Œä»¥åŠé‡Šæ”¾é”ç­‰ï¼Œéƒ½ä¼šå¢åŠ ç³»ç»Ÿå¼€é”€ã€‚å¦‚æœç³»ç»ŸèŠ±è´¹å¤§é‡æ—¶é—´æ¥ç®¡ç†é”ï¼Œè€Œä¸æ˜¯è¯»&#x2F;å†™æ•°æ®ï¼Œé‚£ä¹ˆç³»ç»Ÿæ•´ä½“æ€§èƒ½éƒ½å¯èƒ½ä¼šå—åˆ°å½±å“&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€è°“çš„é”ç­–ç•¥ï¼Œå°±æ˜¯åœ¨é”å¼€é”€å’Œæ•°æ®å®‰å…¨ä¹‹é—´å¯»æ±‚ä¸€ç§å¹³è¡¡ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;biao-suo-myisam&quot;&gt;è¡¨é”(MyISAM)&lt;&#x2F;h4&gt;
&lt;p&gt;å¼€é”€æœ€å°ï¼Œä½†ä¸é€‚åˆé¢‘ç¹å†™æ“ä½œ&lt;&#x2F;p&gt;
&lt;h4 id=&quot;xing-suo-innodb&quot;&gt;è¡Œé”(InnoDb)&lt;&#x2F;h4&gt;
&lt;p&gt;å¯ä»¥æ”¯æŒæœ€å¤§çš„å¹¶å‘å¤„ç†ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå¢åŠ å¼€é”€ï¼ˆInnoDbï¼‰ï¼Œç”±å­˜å‚¨å¼•æ“å®ç°ï¼Œè€Œä¸æ˜¯ MySQL æœåŠ¡å™¨&lt;&#x2F;p&gt;
&lt;h4 id=&quot;shi-wu&quot;&gt;äº‹åŠ¡&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸€ç»„åŸå­æ€§çš„ SQL è¯­å¥ã€‚è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œ(commit)ï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œ(rollback)&lt;&#x2F;p&gt;
&lt;p&gt;æ­£åƒé”ç²’åº¦çš„å¢åŠ ä¼šå¯¼è‡´é”å¼€é”€çš„å¢åŠ ä¸€æ ·ï¼Œè¿™ç§äº‹åŠ¡å¤„ç†ä¸­çš„é¢å¤–å®‰å…¨æªæ–½ï¼Œä¹Ÿä¼šå¯¼è‡´æ•°æ®åº“æœåŠ¡å™¨è¦å®Œæˆæ›´å¤šçš„é¢å¤–å·¥ä½œ&lt;&#x2F;p&gt;
&lt;p&gt;MySQL é»˜è®¤æ“ä½œæ˜¯ AutoCommitï¼Œè¿™æ„å‘³ç€é™¤éæ˜¾ç¤ºåœ°å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ï¼Œå¦åˆ™å°†æŠŠæ¯ä¸ª SQL æ“ä½œè§†ä¸ºä¸€ä¸ªå•ç‹¬äº‹åŠ¡è‡ªåŠ¨æ‰§è¡Œ&lt;&#x2F;p&gt;
&lt;h4 id=&quot;si-suo&quot;&gt;æ­»é”&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹åŠ¡åœ¨åŒä¸€èµ„æºä¸Šç›¸äº’å ç”¨ï¼Œå¹¶è¯·æ±‚åŠ é”æ—¶ï¼Œå¯¼è‡´çš„æ¶æ€§å¾ªç¯ç°è±¡&lt;&#x2F;p&gt;
&lt;p&gt;è§£å†³åŠæ³•ï¼šæ­»é”æ£€æµ‹&#x2F;æ­»é”è¶…æ—¶æœºåˆ¶ã€‚InnoDb å¤„ç†æ­»é”çš„æ–¹æ³•æ˜¯ï¼Œå›æ»šæ‹¥æœ‰æœ€å°‘æ’ä»–è¡Œçº§é”çš„äº‹åŠ¡ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;yin-shi-he-xian-shi-suo-ding&quot;&gt;éšå¼å’Œæ˜¾å¼é”å®š&lt;&#x2F;h4&gt;
&lt;p&gt;InnoDb: ä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä»»ä½•æ—¶å€™ï¼Œéƒ½å¯ä»¥è·å¾—é”ï¼Œä½†åªæœ‰åœ¨æ‰§è¡Œ COMMIT æˆ– ROLLBACK è¯­å¥åï¼Œæ‰å¯ä»¥é‡Šæ”¾è¿™äº›é”ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;InnoDb ä¹Ÿæ”¯æŒæ˜¾å¼é”å®šï¼Œå¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SELECT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ... LOCK IN SHARE MODE
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SELECT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ... FOR UPDATE
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;duo-ban-ben-bing-fa-kong-zhi&quot;&gt;å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶&lt;&#x2F;h4&gt;
&lt;p&gt;MySQL äº‹åŠ¡æ€§å­˜å‚¨å¼•æ“ï¼Œå¦‚ InnoDbï¼Œä¸æ˜¯ç®€å•ä½¿ç”¨è¡ŒåŠ é”æœºåˆ¶ï¼Œè€Œæ˜¯ MVCC å’Œè¡ŒåŠ é”æœºåˆ¶å…³è”ä½¿ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;MVCC ä¸æ˜¯ MySQL ç‹¬æœ‰çš„æŠ€æœ¯ï¼Œå…¶ä»–å¦‚ Oracle, Postgresql ç­‰éƒ½åœ¨ä½¿ç”¨&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥å°† MVCC è®¾æƒ³æˆä¸€ç§è¡Œçº§åŠ é”çš„å˜å½¢ï¼Œå®ƒé¿å…äº†å¾ˆå¤šæƒ…å†µä¸‹çš„é”æ“ä½œï¼Œå¤§å¤§é™ä½äº†ç³»ç»Ÿçš„å¼€é”€&lt;&#x2F;p&gt;
&lt;p&gt;MVCC æ˜¯é€šè¿‡åŠæ—¶ä¿å­˜åœ¨æŸäº›æ—¶åˆ»çš„æ•°æ®å¿«ç…§ï¼Œè€Œå¾—ä»¥å®ç°çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€è°“&amp;quot;ç‰ˆæœ¬å·&amp;quot;ï¼Œå…¶å®æ˜¯ InnoDb ç»´æŠ¤çš„ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæ¯å¯åŠ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œè®¡æ•°å™¨éšç€é€’å¢ï¼Œå¹¶å°†è¯¥å·ä½œä¸ºäº‹åŠ¡çš„ç‰ˆæœ¬å·&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;[INSERT]&lt;&#x2F;strong&gt;
InnoDb å°†ç³»ç»Ÿå½“å‰çš„ç‰ˆæœ¬å·è®¾ä¸ºæ–°å¢è¡Œçš„ç‰ˆæœ¬å·&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;[DELETE]&lt;&#x2F;strong&gt;
InnoDb å°†ç³»ç»Ÿå½“å‰çš„ç‰ˆæœ¬å·è®¾ä¸ºè¢«åˆ é™¤è¡Œçš„åˆ é™¤å·ï¼Œè¯¥è¡Œå¹¶æœªç«‹å³è¢«ç‰©ç†åˆ é™¤&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;[UPDATE]&lt;&#x2F;strong&gt;
INSERT+DELETE&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;[SELECT]&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;è¡Œç‰ˆæœ¬å·ä¸å¤§äºäº‹åŠ¡ç‰ˆæœ¬å·ã€‚è¿™ç¡®ä¿äº†è¯¥è¡Œåœ¨äº‹åŠ¡å¼€å§‹æ—¶å·²å­˜åœ¨ï¼Œæˆ–è€…ç”±å½“å‰äº‹åŠ¡åˆ›å»ºã€æ›´æ–°&lt;&#x2F;li&gt;
&lt;li&gt;è¡Œåˆ é™¤å·ä¸å­˜åœ¨ï¼Œæˆ–è€…åˆ é™¤å·å¤§äºäº‹åŠ¡ç‰ˆæœ¬å·ã€‚è¿™ç¡®ä¿äº‹åŠ¡å¼€å§‹å‰è¡Œæœªè¢«åˆ é™¤&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å¯¹äºè¢«æ ‡è®°ä¸ºåˆ é™¤çš„è¡Œï¼ŒInnoDb æœ‰ä¸“é—¨çš„çº¿ç¨‹è´Ÿè´£ç‰©ç†åˆ é™¤ï¼Œå½“è¡Œæ»¡è¶³å¦‚ä¸‹æ¡ä»¶æ—¶è®¤ä¸ºå¯ä»¥å°†å…¶ç‰©ç†åˆ é™¤ï¼šå½“å‰ä¸å­˜åœ¨ç‰ˆæœ¬å·å°äºè¯¥è¡Œåˆ é™¤å·çš„äº‹åŠ¡ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿ä¸ä¼šæœ‰äº‹åŠ¡å†å¼•ç”¨åˆ°è¯¥è¡Œ&lt;&#x2F;p&gt;
&lt;p&gt;ä¿å­˜è¿™äº›é¢å¤–è®°å½•çš„å¥½å¤„ï¼Œæ˜¯ä½¿å¤§å¤šæ•°è¯»æ“ä½œéƒ½ä¸å¿…ç”³è¯·åŠ é”&lt;&#x2F;p&gt;
&lt;h3 id=&quot;guan-yu-myisam&quot;&gt;å…³äº MyISAM&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;è¡¨åŠ é”ã€‚å¹¶å‘ä½&#x2F;å¼€é”€å°‘&lt;&#x2F;li&gt;
&lt;li&gt;å°†æ¯ä¸ªè¡¨å­˜å‚¨æˆä¸¤ä¸ªæ–‡ä»¶ï¼šæ•°æ®æ–‡ä»¶(.MYD)å’Œç´¢å¼•æ–‡ä»¶(.MYI)&lt;&#x2F;li&gt;
&lt;li&gt;ä½¿ç”¨ CHECK TABLE mytable å’Œ REPAIR TABLE mytable æ¥ä¿®å¤è¡¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ myisamchk å‘½ä»¤&lt;&#x2F;li&gt;
&lt;li&gt;ç´¢å¼•é•¿åº¦ä¸èƒ½è¶…è¿‡ 1000(æ³¨æ„ï¼Œå¦‚æœæ˜¯ utf8 çš„è¯ï¼Œé•¿åº¦ x3)ï¼ŒInnoDb æ²¡æœ‰æ­¤é™åˆ¶&lt;&#x2F;li&gt;
&lt;li&gt;å¯ä»¥å»¶è¿Ÿç´¢å¼•ã€‚ä½¿ç”¨è¡¨åˆ›å»ºé€‰é¡¹ DELAY_KEY_WRITE åˆ›å»ºçš„ MyISAM è¡¨ï¼Œåœ¨ SQL ç»“æŸä¹‹åï¼Œä¸ä¼šå°†ç´¢å¼•çš„æ”¹å˜æ•°æ®å†™å…¥ç£ç›˜ï¼Œè€Œæ˜¯åœ¨å†…å­˜çš„é”®ç¼“å†²åŒºä¸­ç¼“å­˜ç´¢å¼•æ”¹å˜æ•°æ®ï¼Œåªæœ‰åœ¨æ¸…ç†ç¼“å†²åŒºæˆ–å…³é—­è¡¨æ—¶æ‰å°†ç´¢å¼•å—è½¬åˆ°ç£ç›˜ã€‚å¯¹äºæ•°æ®ç»å¸¸æ”¹å˜ï¼Œå¹¶ä¸”é¢‘ç¹ä½¿ç”¨çš„è¡¨ï¼Œè¿™ç§æ¨¡å¼å¤§å¤§æé«˜äº†è¡¨çš„å¤„ç†æ€§èƒ½ã€‚ä¸è¿‡ï¼Œå¦‚æœæœåŠ¡å™¨æˆ–ç³»ç»Ÿå´©æºƒï¼Œç´¢å¼•å°†è‚¯å®šæŸåï¼Œå¹¶éœ€è¦ä¿®å¤&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;guan-yu-innodb&quot;&gt;å…³äº InnoDb&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;è¡Œçº§é”ã€‚å¹¶å‘é«˜&#x2F;å¼€é”€ç›¸å¯¹é«˜&lt;&#x2F;li&gt;
&lt;li&gt;é«˜æ€§èƒ½&lt;&#x2F;li&gt;
&lt;li&gt;å´©æºƒåè‡ªåŠ¨æ¢å¤&lt;&#x2F;li&gt;
&lt;li&gt;ä¸»é”®èšç°‡ç´¢å¼•ï¼Œè¾…åŠ©ç´¢å¼•éèšç°‡ç´¢å¼•(å•ç‹¬ç´¢å¼•æ ‘)ï¼Œè¾…åŠ©ç´¢å¼•ä¹Ÿä¼šåŒ…å«ä¸»é”®åˆ—ï¼Œæ‰€ä»¥å¦‚æœä¸»é”®åˆ—è¾ƒå¤§ï¼Œåˆ™å®ƒçš„è¾…åŠ©ç´¢å¼•ä¹Ÿä¼šè¾ƒå¤§&lt;&#x2F;li&gt;
&lt;li&gt;ä»»ä½•æ”¹å˜ InnoDb è¡¨ç»“æ„çš„æ“ä½œä¼šå¯¼è‡´æ•´ä¸ªè¡¨çš„é‡å»ºï¼ŒåŒ…æ‹¬é‡å»ºæ‰€æœ‰ç´¢å¼•&lt;&#x2F;li&gt;
&lt;li&gt;å¤–é”®çº¦æŸ&lt;&#x2F;li&gt;
&lt;li&gt;è‡ªåŠ¨æäº¤æ€§èƒ½å·®ï¼Ÿ&lt;&#x2F;li&gt;
&lt;li&gt;å¯ä»¥æ˜¾ç¤ºé”å®š&lt;&#x2F;li&gt;
&lt;li&gt;ä¸è¦å¯¹ InnoDb ä½¿ç”¨ä¸å¸¦ WHERE è¯­å¥çš„ count(*)ï¼Œè¿™ä¼šå¯¼è‡´ InnoDb æ‰§è¡Œå…¨è¡¨æ‰«ææˆ–ç´¢å¼•æ‰«æï¼Œè€Œ MyISAM åªéœ€è¦ä»ç›¸å…³è®°å½•ä¸­è¯»å–è¯¥å€¼å³å¯ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;xing-neng-jian-ce&quot;&gt;æ€§èƒ½æ£€æµ‹&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; SET PROFILING = 1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ...
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; SHOW PROFILES&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¼šæŠŠæ‰§è¡Œçš„è¯­å¥å’Œæ‰§è¡Œæ—¶é—´éƒ½æ‰“å°å‡ºæ¥ï¼Œå¦‚ä¸‹&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+----------+------------+-----------------------------------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Query_ID &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Duration   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Query                             &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+----------+------------+-----------------------------------+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;0.00011700 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;select&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; count(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;from&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; user         &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;0.00033500 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;select&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; count(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;from&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; user_copy    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;0.59868300 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;select&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; count(created&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;from&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; user   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;4 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;0.51746400 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;select&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; count(name&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;from&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; user_copy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;5 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;0.00846700 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;show&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; table status like &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;user&amp;#39;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;+----------+------------+-----------------------------------+
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿˜å¯ä»¥é’ˆå¯¹æŸä¸ª query è¿›è¡Œæ›´ç»†è‡´çš„åˆ†æ&lt;&#x2F;p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨ FLUSH STATUS + SHOW SESSION STATUS&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;mysql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; SHOW PROFILE FOR QUERY 1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;cha-xun-huan-cun&quot;&gt;æŸ¥è¯¢ç¼“å­˜&lt;&#x2F;h3&gt;
&lt;p&gt;MySQL åœ¨ç¬¬äºŒæ¬¡æ‰§è¡Œç›¸åŒçš„ SQL æŸ¥è¯¢è¯­å¥æ—¶ï¼Œé»˜è®¤ä¼šä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ã€‚åŠ ä¸Š&amp;quot;SQL_NO_CACHE&amp;quot;ä¸ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SELECT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; SQL_NO_CACHE username, ...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;guan-yu-null&quot;&gt;å…³äº NULL&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;å°½é‡é¿å… NULL&lt;&#x2F;li&gt;
&lt;li&gt;MySQL éš¾ä»¥ä¼˜åŒ–å¼•ç”¨äº†å¯ç©ºåˆ—çš„æŸ¥è¯¢ï¼Œå®ƒä¼šä½¿ç´¢å¼•ï¼Œç´¢å¼•ç»Ÿè®¡å’Œå€¼æ›´åŠ å¤æ‚&lt;&#x2F;li&gt;
&lt;li&gt;å³ä½¿è¦åœ¨è¡¨ä¸­å­˜å‚¨&amp;quot;æ²¡æœ‰å€¼&amp;quot;çš„å­—æ®µï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¸ä½¿ç”¨ NULL çš„ï¼Œè€ƒè™‘ä½¿ç”¨ 0 æˆ–ç©ºå­—ç¬¦æ¥ä»£æ›¿å®ƒã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;suo-yin&quot;&gt;ç´¢å¼•&lt;&#x2F;h3&gt;
&lt;p&gt;ç´¢å¼•æ˜¯æ€§èƒ½é—®é¢˜çš„é¦–è¦åŸå› ï¼Œå…ˆæå®šç´¢å¼•ï¼Œå†å»ææŸ¥è¯¢ä¼˜åŒ–&lt;&#x2F;p&gt;
&lt;h4 id=&quot;b-tree-suo-yin&quot;&gt;B-Tree ç´¢å¼•&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;æ ¹èŠ‚ç‚¹ä¿å­˜äº†æŒ‡å‘å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå­˜å‚¨å¼•æ“æ ¹æ®æŒ‡é’ˆå¯»æ‰¾æ•°æ®&lt;&#x2F;li&gt;
&lt;li&gt;å½“ä¸€ä¸ªæ•°æ®å—ä¸èƒ½æ”¾ä¸‹æ‰€æœ‰ç´¢å¼•å­—æ®µæ•°æ®æ—¶ï¼Œå°±ä¼šå½¢æˆæ ‘å½¢çš„æ ¹èŠ‚ç‚¹æˆ–åˆ†æ”¯èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ ‘çš„æ·±åº¦å’Œå¹¿åº¦æ˜¯ç”±æ•°æ®é‡å†³å®šçš„&lt;&#x2F;li&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹åŒ…å«äº†ä¸‹å±‚èŠ‚ç‚¹çš„é“¾æ¥ï¼Œ(æ²¡æœ‰ç›¸é‚»èŠ‚ç‚¹é“¾æ¥ï¼Œä¸Šå±‚é“¾æ¥å¯æœ‰å¯æ²¡æœ‰)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å‡è®¾å»ºç«‹äº†ä¸€ä¸ª(last_name, first_name, birth)çš„ç´¢å¼•ï¼Œæ­¤ç´¢å¼•å¯¹äºä»¥ä¸‹ç±»å‹å¯ç”¨&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;åŒ¹é…å…¨å (ä¾‹å¦‚å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå«Cuba Allenï¼Œå¹¶ä¸”å‡ºç”Ÿäº1960-01-01çš„äºº)
&lt;&#x2F;span&gt;&lt;span&gt;åŒ¹é…æœ€å·¦å‰ç¼€ (ä¾‹å¦‚å¯ä»¥æ‰¾åˆ°å§“ä¸ºAllençš„äººï¼Œä»…é€‚ç”¨äºç´¢å¼•ä¸­çš„ç¬¬ä¸€åˆ—)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç”±äºæ ‘çš„èŠ‚ç‚¹æ˜¯æ’å¥½åºçš„ï¼Œå®ƒä»¬å¯ä»¥ç”¨äºæŸ¥æ‰¾å’Œ ORDER BY æŸ¥è¯¢&lt;&#x2F;p&gt;
&lt;p&gt;B-Tree çš„å±€é™åœ¨äºå¦‚æœæŸ¥è¯¢ä¸æ˜¯ä»ç´¢å¼•åˆ—çš„æœ€å·¦è¾¹å¼€å§‹ï¼Œå°±æ— æ³•ä½¿ç”¨ç´¢å¼•ã€‚æ‰€ä»¥ç´¢å¼•åˆ—çš„é¡ºåºè‡³å…³é‡è¦ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;gao-xing-neng-suo-yin-ce-lue&quot;&gt;é«˜æ€§èƒ½ç´¢å¼•ç­–ç•¥&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;ge-chi-lie&quot;&gt;éš”ç¦»åˆ—&lt;&#x2F;h4&gt;
&lt;p&gt;å¦‚æœåœ¨æŸ¥è¯¢ä¸­æ²¡æœ‰éš”ç¦»ç´¢å¼•çš„åˆ—ï¼ŒMySQL é€šå¸¸ä¸ä¼šæ˜¯ä½¿ç”¨ç´¢å¼•ã€‚&amp;quot;éš”ç¦»&amp;quot;åˆ—æ„å‘³ç€å®ƒä¸æ˜¯è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ²¡æœ‰ä½äºå‡½æ•°ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;qian-zhui-suo-yin&quot;&gt;å‰ç¼€ç´¢å¼•&lt;&#x2F;h4&gt;
&lt;p&gt;æ‰¾åˆ°åˆé€‚çš„å‰ç¼€é•¿åº¦(è®¡ç®—å…¨åˆ—çš„é€‰æ‹©æ€§ï¼Œå¹¶ä½¿å‰ç¼€çš„é€‰æ‹©æ€§æ¥è¿‘äºå®ƒ)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SELECT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; COUNT(DISTINCT city&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;COUNT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;FROM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; city_demo
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SELECT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; COUNT(DISTINCE LEFT(city, 4&lt;&#x2F;span&gt;&lt;span&gt;))&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;&#x2F;COUNT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;FROM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; city_demo
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¹Ÿè¦æ³¨æ„å¦‚æœæ•°æ®åˆ†å¸ƒéå¸¸ä¸å‡åŒ€ï¼Œå¯èƒ½å°±ä¼šæœ‰é—®é¢˜&lt;&#x2F;p&gt;
&lt;p&gt;å‰ç¼€ç´¢å¼•èƒ½å¾ˆå¥½çš„å‡å°‘ç´¢å¼•çš„å¤§å°åŠæé«˜é€Ÿåº¦ï¼Œä½† MySQL ä¸èƒ½åœ¨ ORDER BY å’Œ GROUP BY ä¸­ä½¿ç”¨ç´¢å¼•&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ju-ji-suo-yin-innodb&quot;&gt;èšé›†ç´¢å¼• (InnoDb)&lt;&#x2F;h4&gt;
&lt;p&gt;å½“è¡¨æœ‰èšé›†ç´¢å¼•æ—¶ï¼Œå®ƒçš„æ•°æ®è¡Œå®é™…ä¿å­˜åœ¨ç´¢å¼•çš„å¶å­é¡µ(è€Œä¸æ˜¯æŒ‡é’ˆ)ï¼Œæ‰€è°“&amp;quot;èšé›†&amp;quot;å°±æ˜¯æŒ‡å®é™…çš„æ•°æ®è¡Œå’Œç›¸å…³çš„é”®å€¼éƒ½ä¿å­˜åœ¨ä¸€èµ·ï¼Œæ¯ä¸ªè¡¨åªèƒ½ç”±ä¸€ä¸ªèšé›†ç´¢å¼•(ä¸»ç´¢å¼•)ï¼Œå› ä¸ºä¸èƒ½ä»¥æ­¤æŠŠè¡Œä¿å­˜åœ¨ä¸¤ä¸ªåœ°æ–¹&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥æŠŠç›¸å…³æ•°æ®ä¿å­˜åœ¨ä¸€èµ·ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨èšé›†ï¼Œè¯»å–æ¯ä¸ªé‚®ä»¶éƒ½ä¼šè®¿é—®ç£ç›˜&lt;&#x2F;li&gt;
&lt;li&gt;æ•°æ®è®¿é—®å¿«ã€‚èšé›†ç´¢å¼•æŠŠç´¢å¼•å’Œæ•°æ®éƒ½ä¿å­˜åˆ°äº†åŒä¸€æ£µ B-Tree ä¸­ï¼Œå› æ­¤ä»èšé›†ç´¢å¼•ä¸­å–å¾—çš„æ•°æ®é€šå¸¸æ¯”åœ¨éèšé›†ç´¢å¼•è¿›è¡ŒæŸ¥æ‰¾è¦å¿«&lt;&#x2F;li&gt;
&lt;li&gt;èšé›†ç´¢å¼•èƒ½æœ€å¤§é™åº¦åœ°æå‡ I&#x2F;O å¯†é›†è´Ÿè½½çš„æ€§èƒ½ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æ›´æ–°ç´¢å¼•åˆ—ä»£ä»·æ˜¯åºå¤§çš„ï¼Œå› ä¸ºå®ƒå¼ºåˆ¶ InnoDb æŠŠæ¯ä¸ªæ›´æ–°çš„è¡Œç§»åˆ°æ–°ä½ç½®&lt;&#x2F;li&gt;
&lt;li&gt;è¾…åŠ©ç´¢å¼•ä¼šæ¯”è¾ƒå¤§ï¼Œå› ä¸ºå®ƒä»¬çš„å¶å­åŒ…å«äº†è¢«å¼•ç”¨è¡Œçš„ä¸»é”®åˆ—&lt;&#x2F;li&gt;
&lt;li&gt;è¾…åŠ©ç´¢å¼•è®¿é—®éœ€è¦ä¸¤æ¬¡ç´¢å¼•æŸ¥æ‰¾&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;fu-gai-suo-yin&quot;&gt;è¦†ç›–ç´¢å¼•&lt;&#x2F;h4&gt;
&lt;p&gt;æ‰€æœ‰æ»¡è¶³æŸ¥è¯¢éœ€è¦çš„æ•°æ®çš„ç´¢å¼•(åªéœ€è¦è¯»å–ç´¢å¼•ï¼Œä¸éœ€è¦å†è¯»å–è¡Œæ•°æ®)ï¼Œæ¯”å¦‚è¿™æ¡ SQL è¯­å¥&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SELECT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; state_id, city, address FROM userinfo WHERE state_id = 5
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœåªåœ¨ state_id ä¸Šå»ºç´¢å¼•ï¼Œåˆ™ city,address éƒ½è¦ä»è¡¨é‡Œè¯»å–è¡Œæ•°æ®&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœå»ºç«‹ index (state_id, city, address)ï¼Œæ—¢èƒ½ä½¿ç”¨ state_id ç´¢å¼•ï¼ŒåŒæ—¶åˆå¯ä»¥ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œé€Ÿåº¦å°±å¿«å¤šäº†&lt;&#x2F;p&gt;
&lt;h4 id=&quot;duo-yu-he-zhong-fu-suo-yin&quot;&gt;å¤šä½™å’Œé‡å¤ç´¢å¼•&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;MySQL å…è®¸ä½ åœ¨ç»Ÿä¸€åˆ—ä¸Šåˆ›å»ºå¤šä¸ªç´¢å¼•ï¼Œæ‰€ä»¥ MySQL ä¸å¾—ä¸å•ç‹¬ç»´æŠ¤æ¯ä¸€ä¸ªç´¢å¼•&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœåˆ—(A,B)ä¸Šæœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆå¦å¤–ä¸€ä¸ªåˆ—(A)ä¸Šçš„ç´¢å¼•å°±æ˜¯å¤šä½™çš„(B-Tree)&lt;&#x2F;li&gt;
&lt;li&gt;å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¤šä½™ç´¢å¼•éƒ½æ˜¯ä¸å¥½çš„ï¼Œä¸ºäº†é¿å…å®ƒï¼Œåº”è¯¥æ‰©å±•å·²æœ‰ç´¢å¼•ï¼Œè€Œä¸æ˜¯æ·»åŠ æ–°ç´¢å¼•&lt;&#x2F;li&gt;
&lt;li&gt;ç´¢å¼•è¶Šå¤šï¼Œæ›´æ–°ç´¢å¼•çš„å¼€é”€è¶Šå¤§ï¼Œå°¤å…¶æ˜¯åœ¨æ•°æ®å¾ˆå¤šçš„æƒ…å†µä¸‹&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>Unixç¼–ç¨‹è‰ºæœ¯â€”â€”Unixå“²å­¦</title>
            <pubDate>Tue, 21 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/the-art-of-unix-programming/</link>
            <guid>https://limboy.me/posts/the-art-of-unix-programming/</guid>
            <description>&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;book.douban.com&#x2F;subject&#x2F;1467587&#x2F;&quot;&gt;Unix ç¼–ç¨‹è‰ºæœ¯&lt;&#x2F;a&gt;ä¸»è¦ä»‹ç»äº† Unix ç³»ç»Ÿé¢†åŸŸä¸­çš„è®¾è®¡å’Œå¼€å‘å“²å­¦ã€æ€æƒ³æ–‡åŒ–ä½“ç³»ã€åŸåˆ™ä¸ç»éªŒã€‚æ­¤æ–‡å¤§è‡´æ‘˜å½•äº† Unix çš„å“²å­¦ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;web ç¨‹åºå‘˜ä¹Ÿåº”è¯¥çœ‹çœ‹æ­¤ä¹¦ï¼Œè½¯ä»¶å¼€å‘å’Œ web å¼€å‘å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯ç›¸é€šçš„ã€‚çœ‹å®Œä¹‹åï¼Œæˆ‘ç”šè‡³è§‰å¾— Unix å“²å­¦å¯¹äºåšäººä¹Ÿæœ‰å¾ˆå¤§çš„å‚è€ƒä»·å€¼ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mo-kuai-yuan-ze-shi-yong-jian-ji-de-jie-kou-pin-he-jian-dan-de-bu-jian&quot;&gt;æ¨¡å—åŸåˆ™ (ä½¿ç”¨ç®€æ´çš„æ¥å£æ‹¼åˆç®€å•çš„éƒ¨ä»¶)&lt;&#x2F;h3&gt;
&lt;p&gt;è®¡ç®—æœºç¼–ç¨‹çš„æœ¬è´¨å°±æ˜¯æ§åˆ¶å¤æ‚åº¦&lt;&#x2F;p&gt;
&lt;p&gt;è¦ç¼–å†™å¤æ‚è½¯ä»¶è€Œåˆä¸è‡³äºä¸€è´¥æ¶‚åœ°çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯é™ä½å…¶æ•´ä½“å¤æ‚åº¦â€”â€”ç”¨æ¸…æ™°çš„æ¥å£æŠŠè‹¥å¹²ç®€å•çš„æ¨¡å—ç»„åˆæˆä¸€ä¸ªå¤æ‚çš„è½¯ä»¶ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œå¤šæ•°é—®é¢˜åªä¼šå±€é™äºæŸä¸ªå±€éƒ¨ï¼Œé‚£ä¹ˆå°±è¿˜æœ‰å¸Œæœ›å¯¹å±€éƒ¨è¿›è¡Œæ”¹è¿›è€Œä¸è‡³ç‰µåŠ¨å…¨èº«ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qing-xi-yuan-ze-qing-xi-sheng-yu-ji-qiao&quot;&gt;æ¸…æ™°åŸåˆ™ (æ¸…æ™°èƒœäºæŠ€å·§)&lt;&#x2F;h3&gt;
&lt;p&gt;ç»´æŠ¤æˆæœ¬æ˜¯é«˜æ˜‚çš„ï¼Œåœ¨å†™ç¨‹åºæ—¶ï¼Œè¦æƒ³åˆ°ä½ ä¸æ˜¯å†™ç»™æ‰§è¡Œä»£ç çš„è®¡ç®—æœºçœ‹çš„ï¼Œè€Œæ˜¯ç»™äººâ€”â€”å°†æ¥é˜…è¯»ç»´æŠ¤æºç çš„äººï¼ŒåŒ…æ‹¬ä½ è‡ªå·±çœ‹çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨ Unix ä¼ ç»Ÿä¸­ï¼Œè¿™ä¸ªå»ºè®®ä¸ä»…æ„å‘³ç€ä»£ç æ³¨é‡Šã€‚è‰¯å¥½çš„ Unix å®è·µåŒæ ·ä¿¡å¥‰åœ¨é€‰æ‹©ç®—æ³•å’Œå®ç°æ—¶å°±åº”è¯¥è€ƒè™‘åˆ°å°†æ¥çš„å¯æ‰©å±•æ€§ã€‚ä¸ºäº†å–å¾—ç¨‹åºä¸€ä¸ç‚¹æ€§èƒ½çš„æå‡å°±å¤§å¹…å¢åŠ æŠ€æœ¯çš„å¤æ‚æ€§å’Œæ™¦æ¶©æ€§ï¼Œè¿™ä¸ªä¹°å–åšä¸å¾—â€”â€”è¿™ä¸ä»…ä»…æ˜¯å› ä¸ºå¤æ‚çš„ä»£ç å®¹æ˜“æ»‹ç”Ÿ bugï¼Œä¹Ÿå› ä¸ºå®ƒä¼šä½¿æ—¥åçš„é˜…è¯»å’Œç»´æŠ¤å·¥ä½œæ›´åŠ è‰°éš¾ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zu-he-yuan-ze-she-ji-shi-kao-lu-pin-jie-zu-he&quot;&gt;ç»„åˆåŸåˆ™ (è®¾è®¡æ—¶è€ƒè™‘æ‹¼æ¥ç»„åˆ)&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœç¨‹åºå½¼æ­¤ä¹‹é—´ä¸èƒ½æœ‰æ•ˆé€šä¿¡ï¼Œé‚£ä¹ˆè½¯ä»¶å°±éš¾å…ä¼šé™·å…¥å¤æ‚åº¦çš„æ³¥æ·–ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è¾“å…¥æ–¹é¢ï¼ŒUnix ä¼ ç»ŸæåŠ›æå€¡é‡‡ç”¨ç®€å•ã€æ–‡æœ¬åŒ–ã€é¢å‘æµã€è®¾å¤‡æ— å…³çš„æ ¼å¼ã€‚åœ¨ç»å…¸çš„ Unix ä¸‹ï¼Œå¤šæ•°ç¨‹åºéƒ½å°½å¯èƒ½é‡‡ç”¨ç®€å•è¿‡æ»¤å™¨çš„å½¢å¼ï¼Œå³å°†ä¸€ä¸ªç®€å•çš„æ–‡æœ¬è¾“å…¥æµå¤„ç†ä¸ºä¸€ä¸ªç®€å•çš„æ–‡æœ¬æµè¾“å‡ºã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Unix ç¨‹åºå‘˜åçˆ±è¿™ç§åšæ³•å¹¶ä¸æ˜¯å› ä¸ºå®ƒä»¬ä»‡è§†è§†å›¾ç•Œé¢ï¼Œè€Œæ˜¯å› ä¸ºå¦‚æœç¨‹åºä¸é‡‡ç”¨ç®€å•çš„æ–‡æœ¬è¾“å…¥è¾“å‡ºæµï¼Œå®ƒä»¬å°±æéš¾è¡”æ¥ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¦æƒ³è®©ç¨‹åºå…·æœ‰ç»„åˆæ€§ï¼Œå°±è¦ä½¿ç¨‹åºå½¼æ­¤ç‹¬ç«‹ã€‚åœ¨æ–‡æœ¬æµè¿™ä¸€ç«¯çš„ç¨‹åºåº”è¯¥å°½å¯èƒ½ä¸è¦è€ƒè™‘åˆ°æ–‡æœ¬æµå¦ä¸€ç«¯çš„ç¨‹åºã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fen-chi-yuan-ze-ce-lue-tong-ji-zhi-fen-chi-jie-kou-tong-yin-qing-fen-chi&quot;&gt;åˆ†ç¦»åŸåˆ™ (ç­–ç•¥åŒæœºåˆ¶åˆ†ç¦»ï¼Œæ¥å£åŒå¼•æ“åˆ†ç¦»)&lt;&#x2F;h3&gt;
&lt;p&gt;æŠŠç­–ç•¥åŒæœºåˆ¶æ‰æˆä¸€å›¢æœ‰ä¸¤ä¸ªè´Ÿé¢å½±å“ï¼šä¸€æ¥ä¼šä½¿ç­–ç•¥å˜å¾—æ­»æ¿ï¼Œéš¾ä»¥é€‚åº”ç”¨æˆ·éœ€æ±‚çš„æ”¹å˜ï¼ŒäºŒæ¥ä¹Ÿæ„å‘³ç€ä»»ä½•ç­–ç•¥çš„æ”¹å˜éƒ½å¯èƒ½ä¼šåŠ¨æ‘‡æœºåˆ¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥å°†åº”ç”¨ç¨‹åºåˆ†æˆå¯ä»¥åä½œçš„å‰ç«¯å’Œåç«¯è¿›ç¨‹ï¼Œé€šè¿‡ socket ä¸“ç”¨åº”ç”¨åè®®è¿›è¡Œé€šè®¯ã€‚è¿™ç§åŒç«¯è®¾è®¡æ–¹æ³•å¤§å¤§é™ä½äº†æ•´ä½“å¤æ‚åº¦ï¼Œbug æœ‰æœ›å‡å°‘ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jian-ji-yuan-ze-she-ji-yao-jian-ji-fu-za-du-neng-di-jiu-di&quot;&gt;ç®€æ´åŸåˆ™ (è®¾è®¡è¦ç®€æ´ï¼Œå¤æ‚åº¦èƒ½ä½å°±ä½)&lt;&#x2F;h3&gt;
&lt;p&gt;æ¥è‡ªå¤šæ–¹é¢çš„å‹åŠ›å¸¸å¸¸ä¼šè®©ç¨‹åºå˜å¾—å¤æ‚(bug æ›´å¤š)ï¼Œå…¶ä¸­ä¸€ç§å‹åŠ›å°±æ˜¯æ¥è‡ªæŠ€æœ¯ä¸Šçš„è™šè£å¿ƒç†ã€‚Unix ç¨‹åºå‘˜ç›¸äº’æ¯”çš„æ˜¯è°èƒ½å¤Ÿåšåˆ°&amp;quot;ç®€æ´è€Œæ¼‚äº®&amp;quot;å¹¶ä»¥æ­¤ä¸ºè£ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ›´ä¸ºå¸¸è§çš„æ˜¯ï¼Œè¿‡åº¦çš„å¤æ‚æ€§å¾€å¾€æ¥è‡ªäºé¡¹ç›®çš„éœ€æ±‚ï¼Œè¦é¿å…è¿™ç§çŠ¶å†µï¼Œå°±éœ€è¦é¼“åŠ±ä¸€ç§è½¯ä»¶æ–‡åŒ–ï¼Œä»¥ç®€æ´ä¸ºç¾ï¼Œäººäººå¯¹åºå¤§å¤æ‚çš„ä¸œè¥¿ç¾¤èµ·è€Œæ”»ä¹‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;lin-se-yuan-ze-chu-fei-que-wu-ta-fa-bu-yao-bian-xie-pang-da-de-cheng-xu&quot;&gt;åå•¬åŸåˆ™ (é™¤éç¡®æ— å®ƒæ³•ï¼Œä¸è¦ç¼–å†™åºå¤§çš„ç¨‹åº)&lt;&#x2F;h3&gt;
&lt;p&gt;&amp;quot;å¤§&amp;quot;æœ‰ä¸¤é‡å«ä¹‰ï¼šä½“ç§¯å¤§ï¼Œå¤æ‚ç¨‹åº¦é«˜ã€‚ç¨‹åºå¤§äº†ï¼Œç»´æŠ¤èµ·æ¥å°±å›°éš¾ã€‚ç”±äºäººä»¬å¯¹èŠ±è´¹äº†å¤§é‡ç²¾åŠ›æ‰åšå‡ºæ¥çš„ä¸œè¥¿éš¾ä»¥å‰²èˆï¼Œç»“æœå¯¼è‡´åœ¨åºå¤§çš„ç¨‹åºä¸­æŠŠæŠ•èµ„æµªè´¹çš„æ³¨å®šè¦å¤±è´¥æˆ–è€…å¹¶éæœ€ä½³çš„æ–¹æ¡ˆä¸Šã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tou-ming-yuan-ze-she-ji-yao-ke-jian-yi-bian-shen-cha-he-diao-shi&quot;&gt;é€æ˜åŸåˆ™ (è®¾è®¡è¦å¯è§ï¼Œä»¥ä¾¿å®¡æŸ¥å’Œè°ƒè¯•)&lt;&#x2F;h3&gt;
&lt;p&gt;è½¯ä»¶ç³»ç»Ÿçš„é€æ˜æ€§æ˜¯æŒ‡ä½ ä¸€çœ¼å°±èƒ½å¤Ÿçœ‹å‡ºè½¯ä»¶æ˜¯åœ¨åšä»€ä¹ˆä»¥åŠæ€æ ·åšçš„ã€‚æ˜¾ç¤ºæ€§æ˜¯æŒ‡ç¨‹åºå¸¦æœ‰ç›‘è§†å’Œæ˜¾ç¤ºå†…éƒ¨çŠ¶æ€çš„åŠŸèƒ½ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è®¾è®¡æ—¶å¦‚æœå……åˆ†è€ƒè™‘åˆ°è¿™äº›è¦æ±‚ä¼šç»™æ•´ä¸ªé¡¹ç›®å…¨è¿‡ç¨‹éƒ½å¸¦æ¥å¥½å¤„ã€‚è‡³å°‘ï¼Œè°ƒè¯•é€‰é¡¹çš„è®¾ç½®åº”è¯¥å°½é‡ä¸è¦åœ¨äº‹åï¼Œè€Œåº”è¯¥åœ¨è®¾è®¡ä¹‹åˆä¾¿è€ƒè™‘è¿›å»ã€‚è¿™æ˜¯è€ƒè™‘åˆ°ç¨‹åºä¸ä½†åº”è¯¥èƒ½å¤Ÿå±•ç¤ºå…¶æ­£ç¡®æ€§ï¼Œä¹Ÿåº”è¯¥èƒ½å¤ŸæŠŠåŸå¼€å‘è€…è§£å†³é—®é¢˜çš„æ€ç»´æ¨¡å‹å‘Šè¯‰åæ¥è€…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç¨‹åºå¦‚æœè¦å±•ç¤ºå…¶æ­£ç¡®æ€§ï¼Œåº”è¯¥ä½¿ç”¨è¶³å¤Ÿç®€å•çš„è¾“å…¥è¾“å‡ºæ ¼å¼ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯å¾ˆå®¹æ˜“åœ°æ£€éªŒæœ‰æ•ˆè¾“å…¥å’Œæ­£ç¡®è¾“å‡ºä¹‹é—´çš„å…³ç³»æ˜¯å¦æ­£ç¡®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‡ºäºå……åˆ†è€ƒè™‘é€æ˜æ€§å’Œæ˜¾è§æ€§çš„ç›®çš„ï¼Œè¿˜åº”è¯¥æå€¡æ¥å£ç®€æ´ï¼Œä»¥æ–¹ä¾¿å…¶ä»–ç¨‹åºå¯¹å®ƒè¿›è¡Œæ“ä½œã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jian-zhuang-yuan-ze-jian-zhuang-yuan-yu-tou-ming-yu-jian-ji&quot;&gt;å¥å£®åŸåˆ™ (å¥å£®æºäºé€æ˜ä¸ç®€æ´)&lt;&#x2F;h3&gt;
&lt;p&gt;è½¯ä»¶çš„å¥å£®æ€§æŒ‡è½¯ä»¶ä¸ä»…èƒ½åœ¨æ­£å¸¸æƒ…å†µä¸‹è¿è¡Œè‰¯å¥½ï¼Œè€Œä¸”åœ¨è¶…å‡ºè®¾è®¡è€…è®¾æƒ³çš„æ„å¤–æ¡ä»¶ä¸‹ä¹Ÿèƒ½å¤Ÿè¿è¡Œè‰¯å¥½ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¤§å¤šæ•°è½¯ä»¶ç¦ä¸èµ·ç£•ç¢°ï¼Œæ¯›ç—…å¾ˆå¤šï¼Œå°±æ˜¯å› ä¸ºè¿‡äºå¤æ‚ï¼Œå¾ˆéš¾é€šç›˜è€ƒè™‘ã€‚å¦‚æœä¸èƒ½å¤Ÿæ­£ç¡®ç†è§£ä¸€ä¸ªç¨‹åºçš„é€»è¾‘ï¼Œå°±ä¸èƒ½ç¡®ä¿¡å…¶æ˜¯å¦æ­£ç¡®ï¼Œä¹Ÿå°±ä¸èƒ½åœ¨å‡ºé”™æ—¶ä¿®å¤å®ƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¹Ÿå°±å¸¦æ¥äº†è®©ç¨‹åºå¥å£®çš„æ–¹æ³•ï¼Œå°±æ˜¯è®©ç¨‹åºçš„å†…éƒ¨é€»è¾‘æ›´æ˜“äºç†è§£ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼šé€æ˜åŒ–å’Œç®€æ´åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸Šé¢æ›¾è¯´è¿‡ï¼Œè½¯ä»¶çš„é€æ˜æ€§å°±æ˜¯æŒ‡ä¸€çœ¼å°±èƒ½å¤Ÿçœ‹å‡ºæ˜¯æ€ä¹ˆå›äº‹ï¼Œå³äººä»¬ä¸éœ€è¦ç»å°½è„‘æ±å°±èƒ½å¤Ÿæ¨æ–­å‡ºæ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åºå°±æ˜¯ç®€æ´çš„ã€‚ç¨‹åºè¶Šç®€æ´ï¼Œè¶Šé€æ˜ï¼Œä¹Ÿå°±è¶Šå¥å£®ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;biao-shi-yuan-ze-ba-zhi-shi-dai-ru-shu-ju-yi-qiu-luo-ji-zhi-po-er-jian-zhuang&quot;&gt;è¡¨ç¤ºåŸåˆ™ (æŠŠçŸ¥è¯†ä»£å…¥æ•°æ®ä»¥æ±‚é€»è¾‘è´¨æœ´è€Œå¥å£®)&lt;&#x2F;h3&gt;
&lt;p&gt;æ•°æ®è¦æ¯”ç¨‹åºé€»è¾‘æ›´å®¹æ˜“é©¾é©­ã€‚æ‰€ä»¥å¦‚æœè¦åœ¨å¤æ‚æ•°æ®å’Œå¤æ‚ä»£ç ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œå®æ„¿é€‰æ‹©å‰è€…ã€‚æ›´è¿›ä¸€æ­¥ï¼šåœ¨è®¾è®¡ä¸­ï¼Œåº”è¯¥ä¸»åŠ¨å°†ä»£ç çš„å¤æ‚åº¦è½¬ç§»åˆ°æ•°æ®ä¸­å»ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tong-su-yuan-ze-jie-kou-bi-mian-biao-xin-li-yi&quot;&gt;é€šä¿—åŸåˆ™ (æ¥å£é¿å…æ ‡æ–°ç«‹å¼‚)&lt;&#x2F;h3&gt;
&lt;p&gt;æœ€æ˜“ç”¨çš„ç¨‹åºå°±æ˜¯ç”¨æˆ·éœ€è¦å­¦ä¹ æ–°ä¸œè¥¿æœ€å°‘çš„ç¨‹åºï¼Œæ¢å¥è¯è¯´æœ€æ˜“ç”¨çš„ç¨‹åºå°±æ˜¯æœ€åˆ‡åˆç”¨æˆ·å·²æœ‰çŸ¥è¯†çš„ç¨‹åºã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jian-mo-yuan-ze-wu-hua-ke-shuo-na-jiu-chen-mo&quot;&gt;ç¼„é»˜åŸåˆ™ (æ— è¯å¯è¯´ï¼Ÿé‚£å°±æ²‰é»˜)&lt;&#x2F;h3&gt;
&lt;p&gt;è¡Œä¸ºè‰¯å¥½çš„ç¨‹åºåº”è¯¥é»˜é»˜å·¥ä½œï¼Œç»ä¸å” å” å¨å¨ï¼Œç¢æ‰‹ç¢è„šã€‚æ²‰é»˜æ˜¯é‡‘ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç®€æ´æ˜¯ Unix ç¨‹åºçš„æ ¸å¿ƒé£æ ¼ã€‚ä¸€æ—¦ç¨‹åºçš„è¾“å‡ºæˆä¸ºå¦ä¸€ä¸ªç¨‹åºçš„è¾“å…¥ï¼Œå°±è¦å¾ˆå®¹æ˜“æŠŠéœ€è¦çš„æ•°æ®æŒ‘å‡ºæ¥ã€‚ç«™åœ¨äººçš„è§’åº¦ä¸Šæ¥è¯´ï¼Œé‡è¦çš„ä¿¡æ¯ä¸åº”è¯¥æ··æ‚åœ¨å†—é•¿çš„ç¨‹åºå†…éƒ¨è¡Œä¸ºä¿¡æ¯ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;bu-jiu-yuan-ze-chu-xian-yi-chang-shi-ma-shang-tui-chu-bing-gei-chu-zu-gou-cuo-wu-xin-xi&quot;&gt;è¡¥æ•‘åŸåˆ™ (å‡ºç°å¼‚å¸¸æ—¶ï¼Œé©¬ä¸Šé€€å‡ºå¹¶ç»™å‡ºè¶³å¤Ÿé”™è¯¯ä¿¡æ¯)&lt;&#x2F;h3&gt;
&lt;p&gt;è½¯ä»¶åœ¨å‘ç”Ÿé”™è¯¯æ—¶ä¹Ÿåº”è¯¥ä¸åœ¨æ­£å¸¸æ“ä½œçš„æƒ…å†µä¸‹ä¸€æ ·ï¼Œæœ‰é€æ˜çš„é€»è¾‘ã€‚æœ€ç†æƒ³çš„æƒ…å†µå½“ç„¶æ˜¯è½¯ä»¶èƒ½å¤Ÿé€‚åº”å’Œåº”ä»˜éæ­£å¸¸æ“ä½œï¼›è€Œå¦‚æœè¡¥æ•‘æªæ–½æ˜æ˜æ²¡æœ‰æˆåŠŸï¼Œå´æ‚„æ— å£°æ¯åœ°åŸ‹ä¸‹å´©æºƒçš„éšæ‚£ï¼Œè¿™å°±æ˜¯æœ€åçš„æƒ…å†µäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å®½å®¹åœ°æ”¶ï¼Œè°¨æ…åœ°å‘ã€‚å°±ç®—è¾“å…¥çš„æ•°æ®å¾ˆä¸è§„èŒƒï¼Œä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ç¨‹åºä¹Ÿä¼šå°½é‡é¢†ä¼šå…¶ä¸­çš„æ„ä¹‰ï¼Œä»¥å°½é‡ä¸åˆ«çš„ç¨‹åºåä½œã€‚ç„¶åè¦ä¹ˆæŠ›å‡ºå¼‚å¸¸ï¼Œè¦ä¹ˆä¸ºå·¥ä½œé“¾çš„ä¸‹ä¸€ç¯ç¨‹åºè¾“å‡ºä¸€ä¸ªä¸¥è°¨å¹²å‡€æ­£ç¡®çš„æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jing-ji-yuan-ze-zhu-hua-ji-qi-yi-fen-bu-hua-cheng-xu-yuan-yi-miao&quot;&gt;ç»æµåŸåˆ™ (å®èŠ±æœºå™¨ä¸€åˆ†ï¼Œä¸èŠ±ç¨‹åºå‘˜ä¸€ç§’)&lt;&#x2F;h3&gt;
&lt;p&gt;éšç€æŠ€æœ¯çš„å‘å±•ï¼Œå¼€å‘å…¬å¸å’Œå¤§å¤šæ•°ç”¨æˆ·éƒ½èƒ½å¾—åˆ°å»‰ä»·çš„æœºå™¨ï¼Œæ‰€ä»¥è¿™ä¸€å‡†åˆ™çš„åˆç†æ€§å°±æ˜¾ç„¶ä¸ç”¨å¤šè¯´äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬åœ¨è½¯ä»¶å¼€å‘ä¸­ä¸¥æ ¼éµå¾ªè¿™æ¡åŸåˆ™çš„è¯ï¼Œå¤§å¤šæ•°çš„åº”ç”¨åœºåˆåº”è¯¥ä½¿ç”¨é«˜çº§è¯­è¨€ï¼Œå¦‚ Perl,Python,Java,Php,ç”šè‡³ Shellâ€”â€”è¿™äº›è¯­è¨€å¯ä»¥å°†ç¨‹åºå‘˜ä»è‡ªè¡Œç®¡ç†å†…å­˜çš„è´Ÿæ‹…ä¸­é‡Šæ”¾å‡ºæ¥ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;sheng-cheng-yuan-ze-bi-mian-shou-gong-hack-jin-liang-bian-xie-cheng-xu-qu-sheng-cheng-cheng-xu&quot;&gt;ç”ŸæˆåŸåˆ™ (é¿å…æ‰‹å·¥ hack,å°½é‡ç¼–å†™ç¨‹åºå»ç”Ÿæˆç¨‹åº)&lt;&#x2F;h3&gt;
&lt;p&gt;äººç±»å¾ˆä¸å–„äºå¹²è¾›è‹¦çš„ç»†èŠ‚å·¥ä½œã€‚å› æ­¤ç¨‹åºä¸­ä»»ä½•æ‰‹å·¥ hacking éƒ½æ˜¯æ»‹ç”Ÿé”™è¯¯å’Œå»¶è¯¯çš„æ¸©åºŠã€‚ç¨‹åºè§„æ ¼è¶Šç®€å•è¶ŠæŠ½è±¡ï¼Œè®¾è®¡è€…å°±è¶Šå®¹æ˜“åšå¯¹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;you-hua-yuan-ze-guo-zao-you-hua-shi-mo-e-zhi-yuan&quot;&gt;ä¼˜åŒ–åŸåˆ™ (è¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æº)&lt;&#x2F;h3&gt;
&lt;p&gt;è¿˜ä¸çŸ¥é“ç“¶é¢ˆæ‰€åœ¨å°±åŒ†å¿™è¿›è¡Œä¼˜åŒ–ï¼Œè¿™å¯èƒ½æ˜¯å”¯ä¸€ä¸€ä¸ªæ¯”ä¹±åŠ åŠŸèƒ½æ›´åŠ æŸå®³è®¾è®¡çš„é”™è¯¯ã€‚ä»ç•¸å½¢çš„ä»£ç åˆ°æ‚ä¹±æ— ç« çš„æ•°æ®å¸ƒå±€ï¼Œç‰ºç‰²é€æ˜æ€§å’Œç®€æ´æ€§è€Œç‰‡é¢è¿½æ±‚é€Ÿåº¦ã€å†…å­˜æˆ–è€…ç£ç›˜ä½¿ç”¨çš„åæœéšå¤„å¯è§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆåˆ¶ä½œåŸå‹ï¼Œå†ç²¾é›•ç»†ç¢ã€‚ä¼˜åŒ–ä¹‹å‰å…ˆç¡®ä¿èƒ½ç”¨ã€‚&amp;quot;æé™ç¼–ç¨‹&amp;quot;å®—å¸ˆ Kent Beck ä»å¦ä¸€ç§ä¸åŒçš„æ–‡åŒ–å°†è¿™ç‚¹æœ‰æ•ˆåœ°æ‰©å±•ä¸ºï¼šå…ˆæ±‚è¿è¡Œï¼Œå†æ±‚æ­£ç¡®ï¼Œæœ€åæ±‚å¿«ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å€ŸåŠ©åŸå‹åŒ–æ‰¾å‡ºå“ªäº›åŠŸèƒ½ä¸å¿…å®ç°ï¼Œæœ‰åŠ©äºå¯¹æ€§èƒ½è¿›è¡Œä¼˜åŒ–ï¼›é‚£äº›ä¸ç”¨å†™çš„ä»£ç æ˜¾ç„¶æ— é¡»ä¼˜åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;duo-yang-yuan-ze-jue-bu-xiang-xin-suo-wei-bu-er-fa-men-de-duan-yan&quot;&gt;å¤šæ ·åŸåˆ™ (ç»ä¸ç›¸ä¿¡æ‰€è°“&amp;quot;ä¸äºŒæ³•é—¨&amp;quot;çš„æ–­è¨€)&lt;&#x2F;h3&gt;
&lt;p&gt;Unix ä¼ ç»Ÿæœ‰ä¸€ç‚¹å¾ˆå¥½ï¼Œå³ä»ä¸ç›¸ä¿¡ä»»ä½•æ‰€è°“çš„&amp;quot;ä¸äºŒæ³•é—¨&amp;quot;ã€‚Unix å¥‰è¡Œçš„æ˜¯å¹¿æ³›é‡‡ç”¨å¤šç§è¯­è¨€ã€å¼€æ”¾çš„å¯æ‰©å±•ç³»ç»Ÿå’Œç”¨æˆ·å®šåˆ¶æœºåˆ¶ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;kuo-zhan-yuan-ze-she-ji-zhao-yan-wei-lai-wei-lai-zong-bi-yu-xiang-lai-de-kuai&quot;&gt;æ‰©å±•åŸåˆ™ (è®¾è®¡ç€çœ¼æœªæ¥ï¼Œæœªæ¥æ€»æ¯”é¢„æƒ³æ¥å¾—å¿«)&lt;&#x2F;h3&gt;
&lt;p&gt;è¦ä¸ºæ•°æ®æ ¼å¼å’Œä»£ç ç•™ä¸‹æ‰©å±•çš„ç©ºé—´ï¼Œå¦åˆ™å°±ä¼šå‘ç°è‡ªå·±å¸¸å¸¸è¢«åŸå…ˆä¸æ˜æ™ºé€‰æ‹©æ†ä½äº†æ‰‹è„šï¼Œå› ä¸ºä½ æ— æ³•æ—¢è¦æ”¹å˜å®ƒä»¬åˆè¦ç»´æŒå¯¹åŸæ¥çš„å…¼å®¹æ€§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è®¾è®¡åè®®æˆ–æ˜¯æ–‡æœ¬æ ¼å¼æ—¶ï¼Œåº”ä½¿å…¶å…·æœ‰å……åˆ†çš„è‡ªæè¿°æ€§ä»¥ä¾¿å¯ä»¥æ‰©å±•ã€‚è¦ä¹ˆåŒ…å«è¿›ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œè¦ä¹ˆé‡‡ç”¨ç‹¬ç«‹ã€è‡ªæè¿°çš„è¯­å¥ã€æŒ‰ç…§å¯ä»¥éšæ—¶æ’å…¥æ–°çš„è€Œä¸ä¼šæä¹±æ ¼å¼è¯»å–ä»£ç çš„æ–¹æ³•ç»„ç»‡æ ¼å¼ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;unix-zhe-xue-yi-yan-yi-bi-zhi&quot;&gt;Unix å“²å­¦ä¸€è¨€ä»¥è”½ä¹‹&lt;&#x2F;h3&gt;

&lt;p  style=&quot;text-align:center&quot; &gt;&lt;img src=&quot;&amp;#x2F;posts&amp;#x2F;the-art-of-unix-programming&amp;#x2F;kiss.png&quot;
        width=&quot;468&quot; &#x2F;&gt;&lt;&#x2F;p&gt;</description>
        </item>
        
        
        <item>
            <title>webå¼€å‘ä»å°å·¥åˆ°å¤§å®¶</title>
            <pubDate>Sat, 18 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/web-development-journeyman-master/</link>
            <guid>https://limboy.me/posts/web-development-journeyman-master/</guid>
            <description>&lt;p&gt;å¤§è‡´æ€»ç»“äº†ä¸€ä¸‹ web ç¨‹åºå‘˜ä»å°å·¥åˆ°å¤§å®¶æ‰€éœ€çš„åŸºç¡€çŸ¥è¯†ï¼Œè¯­è¨€ï¼Œå·¥å…·ï¼ŒåŠåº”è¯¥é˜…è¯»çš„ä¹¦ç±ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fundamental-books&quot;&gt;fundamental (books)&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;code complete 2&lt;&#x2F;li&gt;
&lt;li&gt;the programic programmer&lt;&#x2F;li&gt;
&lt;li&gt;the c programming language 2&lt;&#x2F;li&gt;
&lt;li&gt;linux kernel development&lt;&#x2F;li&gt;
&lt;li&gt;introduction to algorithms 3&lt;&#x2F;li&gt;
&lt;li&gt;head first design patterns&lt;&#x2F;li&gt;
&lt;li&gt;the art of unix programming&lt;&#x2F;li&gt;
&lt;li&gt;http: the definitive guide&lt;&#x2F;li&gt;
&lt;li&gt;refactoring improving the design of existing code&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;language&quot;&gt;language&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;C&lt;&#x2F;li&gt;
&lt;li&gt;javascript&#x2F;nodejs&lt;&#x2F;li&gt;
&lt;li&gt;php&lt;&#x2F;li&gt;
&lt;li&gt;python&lt;&#x2F;li&gt;
&lt;li&gt;ruby&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;tool&quot;&gt;tool&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;version control: git&lt;&#x2F;li&gt;
&lt;li&gt;web server: nginx apache&lt;&#x2F;li&gt;
&lt;li&gt;proxy: haproxy nginx&lt;&#x2F;li&gt;
&lt;li&gt;database: mysql&lt;&#x2F;li&gt;
&lt;li&gt;nosql: mongodb redis&lt;&#x2F;li&gt;
&lt;li&gt;project managment: redmine&lt;&#x2F;li&gt;
&lt;li&gt;bash: rsync iptables curl sed awk&lt;&#x2F;li&gt;
&lt;li&gt;test: ab siege http_load&lt;&#x2F;li&gt;
&lt;li&gt;fulltext search: sphinx lucene xapian coreseek&lt;&#x2F;li&gt;
&lt;li&gt;misc: gearman, jQuery&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;master-books&quot;&gt;master (books)&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;rapid development&lt;&#x2F;li&gt;
&lt;li&gt;Agile Software Development, Principles, Patterns, and Practices&lt;&#x2F;li&gt;
&lt;li&gt;peopleware 2&lt;&#x2F;li&gt;
&lt;li&gt;the mythical man-month&lt;&#x2F;li&gt;
&lt;li&gt;getting real&lt;&#x2F;li&gt;
&lt;li&gt;rework&lt;&#x2F;li&gt;
&lt;li&gt;building scalable web sites&lt;&#x2F;li&gt;
&lt;li&gt;high performance mysql&lt;&#x2F;li&gt;
&lt;li&gt;high performance web sites&lt;&#x2F;li&gt;
&lt;li&gt;97 Things Every Programmer Should Know&lt;&#x2F;li&gt;
&lt;li&gt;æ„å»ºé«˜æ€§èƒ½ web ç«™ç‚¹&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>æˆ‘å¯¹webç³»ç»Ÿæ¶æ„çš„ä¸€äº›æ€è€ƒ</title>
            <pubDate>Wed, 15 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/web-system-architecture/</link>
            <guid>https://limboy.me/posts/web-system-architecture/</guid>
            <description>&lt;p&gt;èƒ½åŠ›&#x2F;ç»éªŒæœ‰é™ï¼Œä¸è¶³ä¹‹å¤„è¿˜è¯·æŒ‡ç‚¹ :)&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fu-zai-jun-heng&quot;&gt;è´Ÿè½½å‡è¡¡&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™é‡ŒæŠŠå¤šå° nginx åå‘ä»£ç†æœåŠ¡å™¨é¡¶åœ¨æœ€å‰é¢ï¼Œå¯ä»¥é€šè¿‡ DNS ç®€å•è½®å¾ªæˆ–ç»‘å®šè™šæ‹Ÿ IP çš„æ–¹æ³•æ¥å®ç°åˆ†æµã€‚ä¹‹æ‰€ä»¥ç”¨ nginx æ˜¯å› ä¸ºå®ƒçš„ç¨³å®šã€å¼ºå¤§ã€é«˜æ€§èƒ½ã€ä½å¼€é”€ã€ä»¥åŠå¯¹é«˜å¹¶å‘çš„æ”¯æŒã€‚ä¹Ÿå¯ä»¥æ¢æˆ LVSï¼Œä»æ•ˆç‡ä¸Šæ¥è¯´è‚¯å®šä¼šæ¯” nginx é«˜ï¼Œå› ä¸ºå·¥ä½œåœ¨ OSI çš„ç¬¬å››å±‚(ä¼ è¾“å±‚)ï¼Œå¯ä»¥ä¿®æ”¹ç›®æ ‡ IPã€‚ç”šè‡³å¯ä»¥åœ¨ç¬¬äºŒå±‚(æ•°æ®é“¾è·¯å±‚)ä¿®æ”¹ MAC åœ°å€(DR æ¨¡å¼ï¼Œç›¸å½“äºè·¯ç”±å™¨)ï¼Œè®©æ•°æ®åŒ…ç›´æ¥åˆ°è¾¾ç›®æ ‡æœåŠ¡å™¨ã€‚ä¸è¿‡å·¥ä½œåœ¨ä¸‹å±‚è™½ç„¶æ•ˆç‡æé«˜äº†ï¼Œä½†ç›¸åº”çš„æ§åˆ¶èƒ½åŠ›ä¹Ÿå°‘äº†ï¼Œæ¯”å¦‚æ— æ³•æ ¹æ® http url æ¥è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œç¼“å­˜é¡µé¢æ‰§è¡Œç»“æœç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ying-yong-ceng&quot;&gt;åº”ç”¨å±‚&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸€å±‚æ˜¯ web æœåŠ¡å™¨ï¼Œä¸»è¦ä»»åŠ¡æ˜¯ä»æœåŠ¡å±‚è·å–éœ€è¦çš„æ•°æ®ï¼Œç„¶åæ¸²æŸ“åˆ°æ¨¡æ¿ï¼Œè¿”å›ç»™å‰ç«¯æœåŠ¡å™¨ã€‚å¯ä»¥ç†è§£ä¸º Controller-Viewï¼Œæ²¡æœ‰ Modelï¼Œå› ä¸º Model è¢«ç§»åˆ°äº†ä¸€ä¸‹å±‚ï¼Œç”¨æ¥å•ç‹¬æä¾›æœåŠ¡ã€‚è¿™ä¹ˆåšçš„åŸå› æ˜¯æ–¹ä¾¿åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œå•å…ƒæµ‹è¯•ï¼Œé¿å…å•ç‚¹æ•…éšœã€‚æ‰€ä»¥è¿™å±‚æ˜¯ç›¸å¯¹è¾ƒè½»æ¾çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fu-wu-ceng&quot;&gt;æœåŠ¡å±‚&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸€å±‚çš„ä»»åŠ¡æ˜¯æä¾›æ¨¡å—çš„æ¥å£ï¼Œä¾›ä¸Šå±‚è°ƒç”¨ã€‚å¦‚ç›¸å†Œæ¨¡å—ï¼Œéœ€è¦æœ‰åˆ›å»ºç›¸å†Œ&#x2F;æ˜¾ç¤ºç›¸å†Œå›¾ç‰‡&#x2F;åˆ é™¤å›¾ç‰‡ç­‰ç­‰åŠŸèƒ½ã€‚è‡³äºæœåŠ¡çš„å½¢å¼å°±å¾ˆçµæ´»äº†ï¼Œå¦‚ REST&#x2F;RPC&#x2F;SOAP ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸€å±‚çš„ä»»åŠ¡å°±æ¯”è¾ƒè‰°å·¨äº†ï¼Œè¦ä¿è¯æ¥å£çš„ç¨³å®šæ€§ï¼Œè¦å¤„ç†å¤æ‚çš„é€»è¾‘ï¼Œå®ç°ç®—æ³•ï¼Œä¸å­˜å‚¨å±‚äº¤äº’ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;cun-chu-ceng&quot;&gt;å­˜å‚¨å±‚&lt;&#x2F;h3&gt;
&lt;p&gt;å­˜å‚¨å±‚æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒï¼Œä¸€æ—¦æ•°æ®ä¸¢å¤±ï¼Œç½‘ç«™å°±æˆäº†ç©ºæ¶å­äº†ï¼Œæ‰€ä»¥ä¸€å®šè¦åŠæ—¶å¤‡ä»½ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;huan-cun-ceng&quot;&gt;ç¼“å­˜å±‚&lt;&#x2F;h4&gt;
&lt;p&gt;åœ¨ç½‘ç«™æµé‡ä¸å¤§æ—¶ï¼Œç¼“å­˜æ˜¯å¯é€‰å±‚ã€‚éšç€æµé‡çš„å¢å¤§ï¼Œç¼“å­˜çš„é‡è¦æ€§ä¹Ÿè¶Šæ¥è¶Šçªå‡ºï¼Œç”šè‡³å¯ä»¥æŠŠå†…å­˜å½“ç¡¬ç›˜æ¥ç”¨ï¼Œä»¥ä¿è¯å¿«é€Ÿå“åº”ã€‚å¦‚ä½•æé«˜ç¼“å­˜å‘½ä¸­ç‡ï¼Œè®¾ç½®ç¼“å­˜å¤±æ•ˆæ—¶é—´ç­‰ç­‰ç¼“å­˜çš„å¤„ç†å°±å˜å¾—å°¤ä¸ºé‡è¦ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;shu-ju-ku-ceng&quot;&gt;æ•°æ®åº“å±‚&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¸ªå¯ä»¥è®²çš„å°±å¤ªå¤šäº†ï¼Œå¤šæ•°ç³»ç»Ÿçš„ç“¶é¢ˆä¹Ÿåœ¨è¿™ã€‚æ€»ä½“è¯´æ¥ä¼šç»å†ä¸»ä»æœåŠ¡å™¨ï¼Œå‚ç›´åˆ†åŒºå’Œæ°´å¹³åˆ†åŒºè¿™ä¸‰ä¸ªè¿‡ç¨‹ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;fen-bu-shi-cun-chu&quot;&gt;åˆ†å¸ƒå¼å­˜å‚¨&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™é‡Œä¼šé‡åˆ°çš„é—®é¢˜æ˜¯æ–‡ä»¶çš„åŒæ­¥ï¼Œå¦‚ä½•åˆ†é…ç»™ç”¨æˆ·æœ€åˆé€‚çš„æœåŠ¡å™¨ï¼Œç£ç›˜ I&#x2F;O ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-ta&quot;&gt;å…¶ä»–&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;dui-lie-fu-wu-qi&quot;&gt;é˜Ÿåˆ—æœåŠ¡å™¨&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯å¤§å‹ç½‘ç«™çš„æ ‡é…ï¼Œå¤„ç†æ—¥å¿—&#x2F;åˆ†æç”¨æˆ·è¡Œä¸º&#x2F;å‘é€é‚®ä»¶ç­‰ç­‰éƒ½ä¼šç”¨åˆ°ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;jian-kong-fu-wu-qi&quot;&gt;ç›‘æ§æœåŠ¡å™¨&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¹ˆå¤šçš„æœåŠ¡å™¨ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å„ä¸ªæœåŠ¡å™¨å½“å‰çš„è¿è¡ŒçŠ¶å†µï¼Œå¦‚ç£ç›˜ I&#x2F;Oï¼ŒCPU ä½¿ç”¨ç‡ï¼Œå†…å­˜ä½¿ç”¨ç‡ï¼Œè´Ÿè½½ç­‰ç­‰ï¼Œä¸€æ—¦å‘ç°å¼‚å¸¸å¯ä»¥åŠæ—¶å¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ri-zhi-fu-wu-qi&quot;&gt;æ—¥å¿—æœåŠ¡å™¨&lt;&#x2F;h4&gt;
&lt;p&gt;æ’æŸ¥æ•…éšœå°±é å®ƒäº†ï¼Œæ¯”å¦‚æœ‰éª‡å®¢å…¥ä¾µï¼ŒæŸä¸ªé¡µé¢è®¿é—®å¾ˆæ…¢ï¼Œå‡ºç° 500 é”™è¯¯ï¼Œæ…¢æŸ¥è¯¢ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;bei-fen-fu-wu-qi&quot;&gt;å¤‡ä»½æœåŠ¡å™¨&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™ä¸ªé‡è¦æ€§ä¸è¨€è€Œå–»ï¼Œæ¯”å¦‚æ•°æ®åº“å®•æœºï¼ŒæŸå¼ è¡¨æŸåï¼Œæ•°æ®åº“ç£ç›˜é”™è¯¯ç­‰ç­‰ã€‚æ²¡æœ‰äº†å®ƒï¼Œè¾›è¾›è‹¦è‹¦ç§¯æ”’ä¸‹æ¥çš„æ•°æ®å°±è¿™ä¹ˆä¸€å»ä¸å¤è¿”äº†ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>æµ…è°ˆåˆ†å¸ƒå¼å­˜å‚¨çš„è·¯ç”±è®¾ç½®</title>
            <pubDate>Tue, 14 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/distributed-storage-route/</link>
            <guid>https://limboy.me/posts/distributed-storage-route/</guid>
            <description>&lt;p&gt;ç¨‹åºè®¾è®¡ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªæ€æƒ³æ˜¯ï¼šéš”ç¦»å˜åŒ–çš„éƒ¨åˆ†ã€‚åœ¨å¼€å‘ä¹‹å‰å°±åº”è¯¥æƒ³åˆ°å“ªäº›éƒ¨åˆ†åœ¨ä¸è¿œçš„å°†æ¥æ˜¯å¯èƒ½ä¼šå˜çš„æˆ–ä¸€å®šä¼šå˜çš„ï¼Œå¼€å‘æ—¶ï¼Œå°±åº”è¯¥å°†è¿™äº›éƒ¨åˆ†éš”ç¦»å‡ºæ¥ï¼ŒåŒæ—¶å¯ä»¥ä¼˜é›…åœ°è¿›è¡Œæ§åˆ¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºå¤§æ•°æ®é‡é«˜å¹¶å‘çš„ç½‘ç«™ï¼Œå­˜å‚¨ç»å¸¸ä¼šæœ‰å˜åŠ¨ï¼šæ·»åŠ &#x2F;ç§»é™¤æ•°æ®åº“æœåŠ¡å™¨ã€åˆ†è¡¨åˆ†åº“ã€æ·»åŠ &#x2F;ç§»é™¤ç¼“å­˜æœåŠ¡å™¨ã€æ·»åŠ &#x2F;ç§»é™¤æ–‡ä»¶å­˜å‚¨æœåŠ¡å™¨ç­‰ç­‰ã€‚æ€æ ·æ‰èƒ½åœ¨è¿™äº›å­˜å‚¨è®¾æ–½è°ƒæ•´åï¼Œä»£ç ä¸Šåªè¦è¿›è¡Œå±€éƒ¨çš„ä¿®æ”¹å°±è¡Œäº†ï¼Œè¿™å°±æ˜¯æœ¬æ–‡è¦æ¢è®¨çš„ä¸»é¢˜ï¼šåˆ†å¸ƒå¼å­˜å‚¨çš„è·¯ç”±è®¾ç½®ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wen-jian-cun-chu-lu-you&quot;&gt;æ–‡ä»¶å­˜å‚¨è·¯ç”±&lt;&#x2F;h3&gt;
&lt;p&gt;å¹³æ—¶æˆ‘ä»¬æ“ä½œæ–‡ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šç”¨ file_put_contents&#x2F;file_get_contents&#x2F;fopen ä¹‹ç±»çš„æ–‡ä»¶æ“ä½œå‡½æ•°ï¼Œè¿™å°±éœ€è¦ç»™å‡ºæ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;file_get_contents(dirname(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;__FILE__&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;DIRECTORY_SEPARATOR&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;destfile.txt&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;file_put_contents(dirname(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;__FILE__&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;DIRECTORY_SEPARATOR&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;destfile.txt&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello world&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç¡®å®æŒºæ–¹ä¾¿ï¼Œä½†éšç€æ–‡ä»¶æ•°çš„å¢å¤šï¼Œéœ€è¦å¯¹æ–‡ä»¶é‡æ–°è§„åˆ’ï¼Œå¦‚åŸæ¥æ˜¯&#x27;dir&#x2F;abcd.txt&#x27;ï¼Œè¦è°ƒæ•´ä¸º&#x27;dir&#x2F;ab&#x2F;abcd.txt&#x27;ã€‚è¿™æ—¶å°±åªèƒ½å»æ‰‹åŠ¨ä¿®æ”¹ä»£ç ï¼Œç»“æœå¾ˆæœ‰å¯èƒ½æ”¹äº†è¿™ï¼Œå¿˜äº†é‚£ã€‚æ¯”å¦‚æœ‰äº›æ˜¯é€šè¿‡ file_put_contents æ–¹æ³•ï¼›æœ‰äº›æ˜¯é€šè¿‡ fopen æ–¹æ³•ï¼›æœ‰äº›ä¸éœ€è¦è°ƒæ•´ï¼Œæœ‰äº›éœ€è¦è°ƒæ•´ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœæœ‰æ–‡ä»¶è·¯ç”±æœºåˆ¶ï¼Œäº‹æƒ…å°±å¥½åŠäº†ï¼Œçœ‹çœ‹ä¸‹é¢çš„ä½¿ç”¨ä»£ç &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;File&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;basepath&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;DATA_PATH&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;file&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;DIRECTORY_SEPARATOR&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;));
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;test.txt&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;write&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello world&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;execute&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;test.txt&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;execute&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å®ä¾‹åŒ– File ç±»åï¼Œåªéœ€ä¼ å…¥æ–‡ä»¶åï¼ŒåŠ ä¸Šè¦æ‰§è¡Œçš„æ“ä½œï¼Œæœ€å execute()ä¸€ä¸‹å°±è¡Œäº†ï¼Œä¸å¿…å…³å¿ƒæ–‡ä»¶çš„å­˜å‚¨çŠ¶æ€ã€‚å¦‚æœè¦é‡æ–°è°ƒæ•´æ–‡ä»¶çš„å­˜å‚¨ç»“æ„ï¼Œå¯¹å®¢æˆ·ç«¯æ˜¯é€æ˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç”¨å¯¹ä»£ç è¿›è¡Œä»»ä½•è°ƒæ•´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è°ƒæ•´çš„è§„åˆ™å†™åœ¨ File ç±»é‡Œ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;File &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Core_File
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;**
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 * è‡ªå®šä¹‰æ–‡ä»¶å­˜å‚¨è§„åˆ™ï¼Œå¯¹ä½¿ç”¨è€…æ˜¯é€æ˜çš„ã€‚
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;protected function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_route&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å°†abcd.txtä¿å­˜ä¸ºab&#x2F;cd&#x2F;abcd.txt
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pathinfo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pathinfo(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_filename&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$extension &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;empty(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pathinfo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;extension&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;])&lt;&#x2F;span&gt;&lt;span&gt; ? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt; : &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;.&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pathinfo&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;extension&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fhn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;md5(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pathinfo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;filename&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;])&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filepath &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_config&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;basepath&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fhn&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fhn&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;DIRECTORY_SEPARATOR&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fhn&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fhn&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;DIRECTORY_SEPARATOR&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;is_dir(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filepath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;mkdir(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filepath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0777&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_filename &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$filepath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fhn&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$extension&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœè¦æ”¹è§„åˆ™ï¼Œåªè¦ä¿®æ”¹_route æ–¹æ³•å°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;huan-cun-lu-you&quot;&gt;ç¼“å­˜è·¯ç”±&lt;&#x2F;h3&gt;
&lt;p&gt;ä»¥ memcached ä¸ºä¾‹ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ª memcached æœåŠ¡å™¨ï¼Œæ¯ä¸ª memcached æœåŠ¡å™¨çš„èŒè´£å¯èƒ½è¿˜ä¸ä¸€æ ·ï¼Œè¿˜å¯èƒ½ç»å¸¸å˜åŠ¨ã€‚å¦‚æœåœ¨ä»£ç é‡Œå¼ºè¡ŒæŒ‡å®šè¿æ¥æŸå° memcached æœåŠ¡å™¨ï¼Œä¸€æ—¦å˜åŠ¨ï¼Œäº‹æƒ…å°±éº»çƒ¦äº†ã€‚è¿™æ—¶å¯ä»¥åšä¸ª memcached è·¯ç”±ï¼Œå¦‚æœä¸šåŠ¡é€»è¾‘æˆ– memcached æœåŠ¡å™¨æœ‰å˜ï¼Œå°±åœ¨è¿™ä¸ªè·¯ç”±é‡Œåšæ–‡ç« ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨æ–¹å¼&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cache &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Cache_Adapter_Memcache&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;servers&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;server1&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;host&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;localhost&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;port&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11211&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;persistent&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;		),
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;array (&amp;#39;server2&amp;#39; =&amp;gt; array(
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;	&amp;#39;host&amp;#39; =&amp;gt; &amp;#39;192.168.1.100&amp;#39;,
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;	&amp;#39;port&amp;#39; =&amp;gt; 11211,
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;	&amp;#39;persistent&amp;#39; =&amp;gt; false,
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;),
&lt;&#x2F;span&gt;&lt;span&gt;	)
&lt;&#x2F;span&gt;&lt;span&gt;));
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;set&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;bar&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;bar&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;strong&gt;è‡ªå®šä¹‰è·¯ç”±&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Cache_Adapter_Memcache &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Core_Cache_Adapter_Memcache
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;**
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 * è‡ªå®šä¹‰è§„åˆ™ï¼Œæ ¹æ®keyæ¥æŒ‡å®šmemcacheæœåŠ¡å™¨ï¼Œå¦‚æœä¸æŒ‡å®šçš„è¯ï¼Œmemcacheä¼šè‡ªåŠ¨ä»è¿æ¥æ± ä¸­å–ä¸€ä¸ªè¿æ¥ã€‚
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;protected function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_route&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; demo
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;substr(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;sess&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$server1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_config&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;server1&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_memcache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;connect&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$server1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;host&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;], &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$server1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;port&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;], &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$server1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;timeout&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;])&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å°†æ¥åªè¦è°ƒæ•´_route æ–¹æ³•å³å¯ï¼Œè°ƒç”¨ä»£ç ä¸å˜ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shu-ju-ku-lu-you&quot;&gt;æ•°æ®åº“è·¯ç”±&lt;&#x2F;h3&gt;
&lt;p&gt;æ•°æ®åº“æ˜¯åº”ç”¨çš„æ ¸å¿ƒï¼Œéšç€æ•°æ®é‡å’Œå¹¶å‘çš„å¢å¤§ï¼Œåˆ†è¡¨åˆ†åº“æ˜¯æ—©æ™šçš„äº‹ï¼Œé€šè¿‡è·¯ç”±æœºåˆ¶å¯ä»¥å®ç°åªä¿®æ”¹è·¯ç”±æ–¹æ³•ï¼Œè€Œä¿æŒè°ƒç”¨çš„ä»£ç ä¸å˜ã€‚ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œç®€å•å°è£…äº†ä¸€ä¸‹ PDOã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨æ–¹å¼&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Database&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;servers&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;server1&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;dsn&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;mysql:dbname=test;host=127.0.0.1&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;user&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;root&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;password&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;123456&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;			),
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;&amp;#39;server2&amp;#39; =&amp;gt; array(
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;	&amp;#39;dsn&amp;#39; =&amp;gt; &amp;#39;mysql:dbname=test;host=192.168.1.100&amp;#39;,
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;	&amp;#39;user&amp;#39; =&amp;gt; &amp;#39;root&amp;#39;,
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;	&amp;#39;password&amp;#39; =&amp;gt; &amp;#39;123456&amp;#39;,
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;),
&lt;&#x2F;span&gt;&lt;span&gt;		),
&lt;&#x2F;span&gt;&lt;span&gt;	)
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å®é™…æƒ…å†µä¸­ï¼ŒSQLéƒ½æ˜¯é€šè¿‡Query Builderæˆ–ORMåœ¨å†…éƒ¨æ‹¼æ¥è€Œæˆçš„
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rows &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$db&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;query&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SELECT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;FROM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; user &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;WHERE &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`id` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;100000&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;foreach &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$rows &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$row&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$row&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;username&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çœ‹ä¸Šå»æˆ‘ä»¬å¥½åƒæ‰§è¡Œäº† query é‡Œçš„ SQL è¯­å¥ï¼Œä½†ç»è¿‡_route æ–¹æ³•è½¬æ¢åå°±ä¸ä¸€å®šäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;è‡ªå®šä¹‰è·¯ç”±&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Database &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Core_Database
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;**
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 * æ ¹æ®SQLçš„å†…å®¹ï¼Œé€‰æ‹©ä¸åŒçš„æ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸åŒçš„æ•°æ®åº“ï¼Œä¸åŒçš„è¡¨
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;protected function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;_route&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$sql&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;strtolower(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sql&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;strpos(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sql&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;from user&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;FALSE&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;preg_match(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;`id` = (&lt;&#x2F;span&gt;&lt;span&gt;[0-9]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;)&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sql&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$match&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;empty(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$match&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;])&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;			{
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$user_id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$match&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$user_id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10000&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;				{
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$tbl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;user1&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;				}
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sql &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;str_replace(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;from user&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;from user1&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sql&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;			}
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¦‚æœéœ€è¦è¿æ¥åˆ°å…¶ä»–çš„æ•°æ®åº“æœåŠ¡å™¨ï¼Œé‡å†™_connæ–¹æ³•
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_conn&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sql&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œç›´æ¥è§£æ SQL ç¡®å®æš´åŠ›äº†ç‚¹ï¼Œå®é™…ä½¿ç”¨ä¸­åº”è¯¥æ˜¯è§£æ Query Builder æˆ– ORMï¼Œä¸è¿‡èƒ½å¤Ÿè¯´æ˜é—®é¢˜å°±è¡Œäº†ã€‚è¿™æ ·ï¼Œä¸šåŠ¡é€»è¾‘æ”¹å˜æˆ–è€…æ•°æ®åº“æœåŠ¡å™¨å˜åŠ¨éƒ½å¯ä»¥åœ¨_route æ–¹æ³•é‡Œä¿®æ”¹ï¼Œä½¿ç”¨æ—¶ï¼Œä»£ç æ— é¡»ä»»ä½•æ”¹åŠ¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœè§„åˆ™å¾ˆå¤æ‚ï¼Œå¯ä»¥å•ç‹¬å†™ä¸€ä¸ª route ç±»ï¼Œåœ¨_route æ–¹æ³•é‡Œè°ƒç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yuan-ma-xia-zai&quot;&gt;æºç ä¸‹è½½&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;storage-route&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;storage-route&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>inotify-rsyncå®æ—¶åŒæ­¥è„šæœ¬</title>
            <pubDate>Mon, 13 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/inotify-rsync/</link>
            <guid>https://limboy.me/posts/inotify-rsync/</guid>
            <description>&lt;h3 id=&quot;wei-shi-yao-yao-xie-zhe-ge-jiao-ben&quot;&gt;ä¸ºä»€ä¹ˆè¦å†™è¿™ä¸ªè„šæœ¬&lt;&#x2F;h3&gt;
&lt;p&gt;rsync æ˜¯ linux ä¸‹ä¸€æ¬¾éå¸¸å¼ºå¤§çš„åŒæ­¥å·¥å…·ï¼Œé‡‡ç”¨å·®å¼‚åŒæ­¥çš„æ–¹æ³•ï¼Œåªä¸Šä¼ æ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„ä¸åŒéƒ¨åˆ†ï¼ŒåŒæ—¶å¯ä»¥å¯¹ä¸Šä¼ éƒ¨åˆ†å…ˆè¿›è¡Œå‹ç¼©ï¼Œæ‰€ä»¥ rsync çš„ä¼ è¾“æ•ˆç‡æ˜¯å¾ˆé«˜çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½† rsync ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œæœ€å¤§çš„é—®é¢˜å°±æ˜¯æ¯æ¬¡æ‰§è¡Œ rsync å‘½ä»¤éƒ½ä¼šéå†ç›®æ ‡ç›®å½•ï¼Œå½“æ–‡ä»¶ä¸å¤šæ—¶ï¼Œè¿™æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¸€æ—¦æ–‡ä»¶æ•°åˆ°äº†ä¸€å®šè§„æ¨¡ï¼Œé‚£ä¹ˆæ¯æ¬¡éå†éƒ½ä¼šæ¶ˆè€—å¾ˆå¤šèµ„æºã€‚ä½†äº‹å®ä¸Šæ”¹åŠ¨çš„æ–‡ä»¶å¹¶ä¸å¤šï¼Œå¦‚æœå¯ä»¥åª sync æ”¹åŠ¨çš„æ–‡ä»¶ï¼Œé—®é¢˜å°±è¿åˆƒè€Œè§£äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ—¶å°±å¾—è¯·å‡ºæœ¬æ–‡çš„å¦ä¸€ä¸ªä¸»è§’ï¼šinotifyã€‚inotify æ˜¯ä¸€ç§æ–‡ä»¶ç³»ç»Ÿçš„å˜åŒ–é€šçŸ¥æœºåˆ¶ï¼Œå¦‚æ–‡ä»¶å¢åŠ ã€åˆ é™¤ç­‰äº‹ä»¶å¯ä»¥ç«‹åˆ»è®©ç”¨æˆ·æ€å¾—çŸ¥ã€‚è¦ä½¿ç”¨ inotifyï¼Œlinux çš„å†…æ ¸ç‰ˆæœ¬ä¸èƒ½ä½äº 2.6.13&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; uname&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -a
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Linux&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; lzyy-laptop 2.6.32-26-generic &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#48-Ubuntu SMP Wed Nov 24 09:00:03 UTC 2010 i686 GNU&#x2F;Linux
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½† inotify åªæä¾›äº† C è¯­è¨€æ¥å£ï¼Œä¸æ–¹ä¾¿è°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆå®‰è£…&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;rvoicilas&#x2F;inotify-tools&#x2F;wiki&#x2F;&quot;&gt;inotify-tools&lt;&#x2F;a&gt;ï¼Œå¤§å¤šæ•°çš„ linux å‘è¡Œç‰ˆåº”è¯¥éƒ½å¯ä»¥ç›´æ¥é€šè¿‡ apt-get æˆ– yum æ¥å®‰è£…ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jiao-ben-shuo-ming-yu-shi-yong&quot;&gt;è„šæœ¬è¯´æ˜ä¸ä½¿ç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;å…¶å®&lt;a href=&quot;http:&#x2F;&#x2F;blog.chinaunix.net&#x2F;u&#x2F;32831&#x2F;showart_1289758.html&quot;&gt;å‰äºº&lt;&#x2F;a&gt;å·²ç»åšäº†ç±»ä¼¼çš„å·¥ä½œï¼Œä¸è¿‡æœ‰äº›åœ°æ–¹å°šæœªå®Œå–„(å¦‚åˆ é™¤æ–‡ä»¶çš„åŒæ­¥)ï¼Œäºæ˜¯æˆ‘æ”¹è¿›å’Œç®€åŒ–äº†ä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fu-wu-duan&quot;&gt;æœåŠ¡ç«¯&lt;&#x2F;h3&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯æœåŠ¡ç«¯è„šæœ¬ï¼Œè¿è¡Œè¿™æ®µè„šæœ¬åï¼Œè¿™ä¸ªæœºå™¨ä¸Šå¯¹åº”çš„æ–‡ä»¶å¤¹å°†ä¼šåŒæ­¥åˆ°å…¶ä»–æœºå™¨ä¸Š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#!&#x2F;bin&#x2F;bash
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;###########################
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# åœ¨è¿™é‡Œé…ç½®æœ¬åœ°æ–‡ä»¶å¤¹,ç›®æ ‡host,ç›®æ ‡çš„rsync_moduleã€‚rsync_moduleåœ¨åŒæ­¥æœºå™¨çš„&#x2F;etc&#x2F;rsyncd.confæ–‡ä»¶ä¸­é…ç½®
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# é€—å·å‰åä¸è¦æœ‰ç©ºæ ¼
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;sync[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;path&#x2F;to&#x2F;local&#x2F;dir,1.2.3.4,test&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# localdir,host,rsync_module
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# sync[1]=&amp;#39;&#x2F;path&#x2F;to&#x2F;local&#x2F;dir,host,rsync_module&amp;#39;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;###########################
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span&gt; item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;${&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;sync[@]&lt;&#x2F;span&gt;&lt;span&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;do
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;`echo $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;awk&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -F&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;,&amp;quot; &amp;#39;{print $1}&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;`
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;host&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;`echo $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;awk&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -F&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;,&amp;quot; &amp;#39;{print $2}&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;`
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;`echo $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;item &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;awk&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -F&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;,&amp;quot; &amp;#39;{print $3}&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;`
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;inotifywait&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -mrq --timefmt &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;%d&#x2F;%m&#x2F;%y %H:%M&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; --format  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;%T %w%f %e&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; --event&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; CLOSE_WRITE,create,move,delete  $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dir &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;read  date time file event
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;do
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;event&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;-&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;file
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;event &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span&gt;			MODIFY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span&gt;CREATE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span&gt;MOVE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span&gt;MODIFY,ISDIR&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span&gt;CREATE,ISDIR&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span&gt;MODIFY,ISDIR&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;${&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: -&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;}&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;4913&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;${&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: -&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;}&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;~&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;then
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cmd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;rsync -avz --exclude=&amp;#39;*&amp;#39; --include=$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;file &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dir &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;host&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;::$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# echo $cmd
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cmd
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;fi
&lt;&#x2F;span&gt;&lt;span&gt;				;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;			MOVED_FROM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span&gt;MOVED_FROM,ISDIR&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span&gt;DELETE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span&gt;DELETE,ISDIR&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;${&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: -&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;}&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;4913&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;${&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: -&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;}&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;~&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;then
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;cmd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;rsync -avz --delete-excluded --exclude=&amp;quot;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot; $&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;dir &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;host&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;::$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# echo $cmd
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cmd
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;fi
&lt;&#x2F;span&gt;&lt;span&gt;				;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;esac
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;done &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;done
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿è¡Œè„šæœ¬&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;cd &#x2F;path&#x2F;to&#x2F;inotify-rsync
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;chmod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; +x inotify-rsync.sh
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;.&#x2F;inotify-rsync
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥æŠŠè¿™ä¸ªè„šæœ¬è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼Œè¿™æ ·å°±å¯ä»¥è‡ªåŠ¨åŒæ­¥äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tong-bu-duan&quot;&gt;åŒæ­¥ç«¯&lt;&#x2F;h3&gt;
&lt;p&gt;åŒæ­¥æœºå™¨ä¸Šè¦åšä¸¤ä»¶äº‹&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;1. è®¾ç½®&#x2F;etc&#x2F;rsyncd.conf æ–‡ä»¶&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# vim &#x2F;etc&#x2F;rsyncd.conf
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;uid&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;root
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;gid&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;root
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# è¿™ä¸ªtestå°±æ˜¯ä¸Šé¢è„šæœ¬ä¸­ç”¨åˆ°çš„rsync_moduleå
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# pathæŒ‡å®šåŒæ­¥è¿‡æ¥çš„æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# å¦‚æœåªå…è®¸éƒ¨åˆ†ipçš„æœºå™¨è¿›è¡ŒåŒæ­¥çš„è¯ï¼Œè®¾ç½®allowä¸º 192.168.1.1&#x2F;100 ç±»ä¼¼çš„æ ¼å¼
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;[test]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;path&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&#x2F;path&#x2F;to&#x2F;your&#x2F;dir
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;allow &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;{{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; &#x2F; highlight &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;**2.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; å¯åŠ¨rsync daemon&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;**
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;{{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; highlight console &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;}}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;rsync&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; --daemon
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;qi-ta&quot;&gt;å…¶ä»–&lt;&#x2F;h3&gt;
&lt;p&gt;é‡‘å±±çš„å‘¨æ´‹åŒå­¦ç”¨ C++å†™äº†ä¸ª&lt;a href=&quot;http:&#x2F;&#x2F;hi.baidu.com&#x2F;johntech&#x2F;blog&#x2F;item&#x2F;f8bdaec8fb3c268dc81768c0.html&quot;&gt;Sersync&lt;&#x2F;a&gt;ï¼Œä¹Ÿæ˜¯åˆ©ç”¨çš„ inotify+rsync æ¥å®ç°å®æ—¶åŒæ­¥ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å…³æ³¨ä¸€ä¸‹&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>çœ‹äº†Solaræ¡†æ¶çš„å‡ ç‚¹æ„Ÿè§¦</title>
            <pubDate>Thu, 09 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/solar/</link>
            <guid>https://limboy.me/posts/solar/</guid>
            <description>&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;solarphp.com&#x2F;&quot;&gt;Solar æ¡†æ¶&lt;&#x2F;a&gt;ï¼Œå¤§å®¶å¯èƒ½ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæˆ‘ä¹Ÿæ˜¯çœ‹äº†è¿™ç¯‡æ–‡ç« :&lt;a href=&quot;http:&#x2F;&#x2F;paul-m-jones.com&#x2F;archives&#x2F;1113&quot;&gt;The Future of Zend Framework is Solar&lt;&#x2F;a&gt;åï¼Œçœ¼å‰ä¸€äº®ï¼Œå°±èŠ±äº†ç‚¹æ—¶é—´äº†è§£äº†ä¸€ä¸‹ã€‚æ ‡é¢˜å¾ˆå¸å¼•çœ¼çƒï¼Œä¸è¿‡ç¡®å®ä¹ŸæŠŠ Solar çš„ä¸€äº›ç‰¹æ€§é€šè¿‡å¯¹æ¯”çš„æ–¹å¼å¾ˆå¥½åœ°å±•ç°å‡ºæ¥äº†ï¼Œä¸‹é¢æ˜¯æˆ‘æ€»ç»“çš„å‡ ç‚¹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;quan-ju-gou-jian-fang-fa&quot;&gt;å…¨å±€æ„å»ºæ–¹æ³•&lt;&#x2F;h3&gt;
&lt;p&gt;å¾ˆå¤šæ¡†æ¶éƒ½æ²¡æœ‰åšåˆ°è¿™ç‚¹ï¼Œæˆ–è€…è¯´æ²¡æœ‰æ„è¯†åˆ°è¿™ç‚¹ï¼Œè¦å®ä¾‹åŒ–ä¸€ä¸ªç±»æ—¶ï¼Œå¯ä»¥ newï¼Œå¯ä»¥ getInstance()ï¼Œå¯ä»¥ factoryï¼Œå‚æ•°çš„ä¼ é€’ä¹Ÿæ²¡æœ‰ç»Ÿä¸€çš„è§„èŒƒã€‚Solar è¿™ç‚¹åšå¾—å¾ˆå¥½&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Solar_Example &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Solar_Base &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; note that the config property is named for the class
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; with an underscore prefix.  this lets us collect the
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; parent config defaults as well.
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;protected &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_Solar_Example &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;a&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;b&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;c&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    );
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;a&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;one&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;b&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;two&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;c&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;three&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$example &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Solar&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;factory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Example&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ° Solar åœ¨å®ä¾‹åŒ–ä¸€ä¸ªç±»æ—¶æ˜¯é€šè¿‡ä¸€ä¸ªå…¨å±€çš„ factory æ–¹æ³•æ¥å®ç°çš„ï¼ŒåŒæ—¶å‚æ•°çš„ä¼ é€’ä¹Ÿå¾ˆè®²ç©¶ï¼Œåªèƒ½ä¼ é€’ä¸€ä¸ª config æ•°ç»„ï¼Œå½“ç„¶è¿™ä¸ª config å¯ä»¥ä»é…ç½®ä¸­è¯»å–ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tong-yi-de-config-diao-yong&quot;&gt;ç»Ÿä¸€çš„ config è°ƒç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;Solar åœ¨è¿è¡Œæ—¶åªè°ƒç”¨ä¸€ä¸ª config æ–‡ä»¶ï¼Œè¿™ä¸ªè·Ÿ yii æœ‰ç‚¹ç±»ä¼¼ï¼ŒKohana åˆ™æ˜¯æŠŠé…ç½®æ–‡ä»¶æ‰“å¾—å¾ˆæ•£ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥é¿å…åœ¨è¿è¡Œæ—¶å¤šæ¬¡è¯»å–é…ç½®æ–‡ä»¶ï¼Œå½±å“æ•ˆç‡ï¼Œè€Œä¸”é…ç½®æ–‡ä»¶ä¸€å¤šçš„è¯ä¹Ÿå®¹æ˜“ä¹±ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Solar çš„ config é…ç½®é‡Œæœ‰å‡ é¡¹æ˜¯ç‰¹æ®Šé¡¹ï¼Œå¦‚ ini_set,registry_setã€‚è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§æ˜¯å°†ç±»åä½œä¸º keyï¼Œç„¶åå°†è¯¥ç±»çš„å±æ€§ä½œä¸ºå€¼ï¼Œè¿è¡Œæ—¶è¿™äº›å€¼å°†è‡ªåŠ¨è¦†ç›–ç±»çš„é»˜è®¤å€¼ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;**
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; * ini_set values
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; *&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;ini_set&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;error_reporting&amp;#39;   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;E_ALL &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;E_STRICT&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;display_errors&amp;#39;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;html_errors&amp;#39;       &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;session.save_path&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$system&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&#x2F;tmp&#x2F;session&#x2F;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;date.timezone&amp;#39;     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;UTC&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;**
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; * auto-register some default objects for common use. note that these are
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; * lazy-loaded and only get created when called for the first time.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; *&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;registry_set&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;sql&amp;#39;              &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Sql&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;user&amp;#39;             &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_User&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;model_catalog&amp;#39;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Sql_Model_Catalog&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;mail_transport&amp;#39;   &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Mail_Transport&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;controller_front&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Controller_Front&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;**
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; * sql adapter to use
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; *&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Sql&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;adapter&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Sql_Adapter_Sqlite&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;**
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; * front controller
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; *&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Controller_Front&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;classes&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_App&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;disable&amp;#39;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;base&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;default&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;routing&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æœ‰ä¸€ç‚¹æˆ‘è§‰å¾— Solar åšå¾—ä¸å¤ªå¥½ï¼Œå°±æ˜¯æŠŠç±»çš„å±æ€§çš„é»˜è®¤å€¼æ”¾åœ¨äº†ç±»é‡Œï¼Œè€Œä¸æ˜¯é…ç½®æ–‡ä»¶é‡Œã€‚å°†æ¥å¦‚æœå› ä¸ºæŸä¸ªå±æ€§å¯¼è‡´ç³»ç»Ÿå‡ºé—®é¢˜ï¼Œè°ƒè¯•èµ·æ¥å°†ä¼šå¾ˆå›°éš¾ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;quan-ju-zhu-ce-qi-xiao-mie-dan-li&quot;&gt;å…¨å±€æ³¨å†Œå™¨(æ¶ˆç­å•ä¾‹)&lt;&#x2F;h3&gt;
&lt;p&gt;é€šè¿‡å…¨å±€æ³¨å†Œå™¨å°±å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­å…±äº«å†…å®¹ï¼Œè¿™ä¸ªå†…å®¹å¯ä»¥æ˜¯å­—ç¬¦ä¸²&#x2F;æ•°ç»„&#x2F;å¯¹è±¡ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; script 1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$obj &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Solar&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;factory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Example&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Solar_Registry&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;set&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;example&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$obj&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; script 2
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$obj &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Solar_Registry&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;example&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;?&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸ªå°±æ˜¯æœ€ç®€å•çš„å­˜å–ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸º lazy-loadingï¼Œå°±æ˜¯ä¸ç›´æ¥å­˜å¯¹è±¡ï¼Œè€Œæ˜¯ç±»åå’Œ configï¼Œè¿™æ ·åªæœ‰åˆ°çœŸæ­£éœ€è¦æ—¶æ‰å®ä¾‹åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Solar_Registry&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;set&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;example&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Example&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œå…¶å®å°±å®ç°äº†å•ä¾‹ã€‚ç°åœ¨å¾ˆå¤šæ¡†æ¶éƒ½åœ¨å¤§åŠ›æ‰“å‹å•ä¾‹ï¼ŒZend Framework æ›´æ˜¯åœ¨ 2.0 çš„ roadmap é‡Œæå‡ºè¦å°½å¯èƒ½åœ°æ¶ˆç­å•ä¾‹ï¼Œä¸åœ¨ç±»çš„å†…éƒ¨å®ç°å•ä¾‹æ–¹æ³•ï¼Œå› ä¸ºè¿™æ ·çš„è¯å­ç±»å°±å¾ˆéš¾æ‰©å±•ï¼Œå°¤å…¶æ˜¯åœ¨å•ä¾‹é‡ŒåˆåŠ å…¥äº†ä¸€äº›ç‰¹æœ‰çš„é€»è¾‘ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yi-chang-ji-zhi&quot;&gt;å¼‚å¸¸æœºåˆ¶&lt;&#x2F;h3&gt;
&lt;p&gt;Solar çš„å¼‚å¸¸æœºåˆ¶ä¹Ÿæœ‰è‡ªå·±çš„ç‰¹ç‚¹ï¼Œåšå¾—å¾ˆç»†è‡´ã€‚è‡ªå¸¦äº† 16 ä¸ªå¸¸ç”¨å¼‚å¸¸ï¼Œå¦‚ DirNotFound&#x2F;FileNotReadable ç­‰ç­‰ï¼Œä¸è¿‡æ„Ÿè§‰è¿™å—æœ‰ç‚¹è¿‡è®¾è®¡äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;My_Example_Class&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å‡ºé”™çš„ç±»å
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$code &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;ERR_SOMETHING_WRONG&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;Exceptionç±»
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Something is wrong.&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å‡ºé”™ä¿¡æ¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$info &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;bar&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;é™„åŠ ä¿¡æ¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$exception &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Solar&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;exception&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$text&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$info&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;throw &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$exception&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;yi-lai-zhu-ru&quot;&gt;ä¾èµ–æ³¨å…¥&lt;&#x2F;h3&gt;
&lt;p&gt;æ‰€è°“ä¾èµ–æ³¨å…¥(dependency injection)ï¼Œå°±æ˜¯æŸå®¢æˆ·ç±»åªä¾èµ–äºæœåŠ¡ç±»çš„ä¸€ä¸ªæ¥å£ï¼Œè€Œä¸ä¾èµ–äºå…·ä½“æœåŠ¡ç±»ï¼Œæ‰€ä»¥å®¢æˆ·ç±»åªå®šä¹‰ä¸€ä¸ªæ³¨å…¥ç‚¹ã€‚åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç±»ä¸ç›´æ¥å®ä¾‹åŒ–å…·ä½“æœåŠ¡ç±»å®ä¾‹ï¼Œè€Œæ˜¯å®¢æˆ·ç±»çš„è¿è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒæˆ–ä¸“é—¨ç»„ä»¶è´Ÿè´£å®ä¾‹åŒ–æœåŠ¡ç±»ï¼Œç„¶åå°†å…¶æ³¨å…¥åˆ°å®¢æˆ·ç±»ä¸­ï¼Œä¿è¯å®¢æˆ·ç±»çš„æ­£å¸¸è¿è¡Œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Solar ä¸€èˆ¬æ˜¯æŠŠè¦æ³¨å…¥çš„ç±»å®šä¹‰åœ¨ config é‡Œï¼Œæ¯”å¦‚ Auth ç±»è¦ç”¨åˆ° Cacheï¼Œä½†ä¸ç¡®å®šå…·ä½“ä½¿ç”¨æ—¶ä¼šç”¨åˆ°å“ªä¸ª Cacheï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡é…ç½® config æ–‡ä»¶æ¥å®ç°&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Auth_Adapter&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;cache&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;adapter&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Cache_Adapter_Memcache&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;	),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Solar_Cache_Adapter_Memcache&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;host&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;localhost&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;port&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11211&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;timeout&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ · Auth ç±»å°±ä¼šä½¿ç”¨ Memcache ä½œä¸ºç¼“å­˜å¼•æ“ã€‚å¯ä»¥åœ¨ç±»å†…éƒ¨å®šä¹‰å¤šä¸ªæ³¨å…¥ç‚¹ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç±»æ¥å®ŒæˆåŒæ ·çš„ç›®çš„ï¼Œåªè¦è¯¥ç±»æœ‰ç‰¹å®šçš„æ–¹æ³•ã€‚Zend Framework åœ¨ 2.0 çš„ roadmap ä¸­ä¹Ÿæåˆ°&amp;quot;All components &lt;strong&gt;MUST&lt;&#x2F;strong&gt; allow for dependency injection&amp;quot;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¾èµ–æ³¨å…¥å¯ä»¥è®©æ¨¡å—ä¹‹é—´æ›´åŠ æ¾è€¦åˆï¼Œæ¯”å¦‚ä¹‹å‰ç”¨çš„æ˜¯ XCache ç¼“å­˜æ®·å‹¤ï¼Œåæ¥ç”±äºä¸šåŠ¡å˜åŠ¨è¦ä½¿ç”¨ Memcache å¼•æ“ï¼Œè¿™æ—¶åªéœ€åœ¨é…ç½®æ–‡ä»¶é‡Œä¿®æ”¹ä¸€ä¸‹ç¼“å­˜ç±»å‹å°±è¡Œäº†ï¼Œå¤šçœäº‹å•Šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å­¦ä¹ å„ç§è®¾è®¡æ¨¡å¼ï¼Œæœ€ç»ˆéƒ½æ˜¯ä¸ºäº†ä¸€ä¸ªç›®çš„ï¼šåº”å¯¹å˜åŒ–ã€‚è€Œä¾èµ–æ³¨å…¥å¯ä»¥è®©æˆ‘ä»¬æ›´åŠ ä»å®¹åœ°åº”å¯¹å˜åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;gua-pei-qi&quot;&gt;é€‚é…å™¨&lt;&#x2F;h3&gt;
&lt;p&gt;ä½¿ç”¨é€‚é…å™¨æ˜¯ä¾èµ–æ³¨å…¥çš„åŸºç¡€ï¼Œé€‚é…å™¨å…¶å®å°±æ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œæ‰€æœ‰çš„å­ç±»éƒ½å¿…é¡»ç»§æ‰¿è¯¥æŠ½è±¡åŸºç±»ã€‚è¿™æ ·æ‰èƒ½ä¿è¯åœ¨ä½¿ç”¨ä¾èµ–æ³¨å…¥æ—¶ï¼Œä¸€å®šå­˜åœ¨æŸä¸ªç‰¹å®šæ–¹æ³•ã€‚æ¯”å¦‚ä¸Šé¢è¯´åˆ°çš„ Auth å¼•ç”¨ç¼“å­˜é—®é¢˜ï¼Œå› ä¸ºæ‰€æœ‰çš„ç¼“å­˜éƒ½æ˜¯ç»§æ‰¿ Solar_Cache_Adapter è€Œæ¥ï¼Œæ‰€ä»¥ä¸€å®šä¼šæœ‰ save æ–¹æ³•ï¼ŒAuth åœ¨è°ƒç”¨ç¼“å­˜æ—¶å°±å¯ä»¥æ”¾å¿ƒåœ° save äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Solar å†…éƒ¨ä½¿ç”¨äº†å¤§é‡çš„ Adapterï¼Œç›®çš„å°±æ˜¯ä¸ºäº†æ–¹ä¾¿ä¾èµ–æ³¨å…¥ã€‚å¯èƒ½ç³»ç»Ÿæä¾›çš„å‡ ä¸ªç±»éƒ½ä¸é€‚åˆå…·ä½“åº”ç”¨ï¼Œè¿™æ—¶åªè¦ç»§æ‰¿ Adapterï¼Œè‡ªå·±å†™ä¸€ä¸ªç±»ï¼Œç„¶ååŠ åˆ°é…ç½®æ–‡ä»¶é‡Œå°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zong-jie&quot;&gt;æ€»ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;Solar æ¡†æ¶è¿˜æ˜¯å€¼å¾—çœ‹ä¸€çœ‹çš„ï¼Œå³ä½¿ä¸æ‰“ç®—æ‹¿ä»–æ¥åšåº”ç”¨ã€‚ä¹Ÿå¯ä»¥å…³æ³¨ä¸€ä¸‹ Zend Framework 2.0ï¼Œå¦‚æœçœŸçš„å®ç°äº†&lt;a href=&quot;http:&#x2F;&#x2F;framework.zend.com&#x2F;wiki&#x2F;display&#x2F;ZFDEV2&#x2F;Zend+Framework+2.0+Requirements&quot;&gt;roadmap&lt;&#x2F;a&gt;é‡Œæ‰€è¯´çš„ç§ç§ï¼Œç›¸ä¿¡ä¸€å®šä¼šç»™å…¶ä»–çš„ php æ¡†æ¶å¸¦æ¥å·¨å¤§çš„å†²å‡»ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>åŒæ­¥twitteråˆ°æ–°æµªå¾®åšçš„phpè„šæœ¬(ä¸éœ€è¦twitterå¯†ç )</title>
            <pubDate>Wed, 08 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/twitter2weibo/</link>
            <guid>https://limboy.me/posts/twitter2weibo/</guid>
            <description>&lt;p&gt;æˆ‘ä¸ç”¨æ–°æµªå¾®åšï¼Œæœ‰å¥½å‹æƒ³è¦æ­¤åŠŸèƒ½ï¼Œäºæ˜¯å°±ä¸Šç½‘çœ‹äº†ä¸‹æœ‰æ²¡æœ‰ç°æˆçš„ï¼Œæœç„¶æœ‰ä¸€ä¸ª&lt;a href=&quot;http:&#x2F;&#x2F;iamsure.org&#x2F;archives&#x2F;169&quot;&gt;twitter2weibo çš„ php è„šæœ¬&lt;&#x2F;a&gt;ï¼Œä½†æ‰“å¼€ä¸€çœ‹è¿˜æ˜¯åŸºäº Basic Auth çš„ï¼Œè‡ªç„¶ä¸èƒ½ç”¨ï¼Œåªèƒ½è‡ªå·±å†™ä¸€ä¸ªäº†ã€‚(å‘å¸ƒæ–°æµªå¾®åšéƒ¨åˆ†ï¼Œå€Ÿé‰´äº†åŸå…ˆçš„ twitter2weibo)&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong-shuo-ming&quot;&gt;ä½¿ç”¨è¯´æ˜&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;æ‰“å¼€ config.phpï¼Œåœ¨é‡Œé¢å¡«å…¥ä¸€ç»„æˆ–å¤šç»„ä¿¡æ¯(twitter_username&#x2F;sina_email&#x2F;sina_pwd)&lt;&#x2F;li&gt;
&lt;li&gt;åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª data æ–‡ä»¶å¤¹ï¼Œå¹¶è®¾ç½®ä¸ºå¯å†™å…¥&lt;&#x2F;li&gt;
&lt;li&gt;è®¾ç½® cron ä¸ºæ¯ 3 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡è„šæœ¬&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;crontab&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -e
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;*&#x2F;3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;* * * *&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; php &#x2F;path&#x2F;to&#x2F;twitter2weibo.php
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥å…ˆè¯•è¿è¡Œä¸€ä¸‹çœ‹çœ‹æ˜¯å¦æ­£å¸¸&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xin-jia-de-te-xing&quot;&gt;æ–°åŠ çš„ç‰¹æ€§&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒå¤šç”¨æˆ·(åœ¨ config.php é‡Œé…ç½®)&lt;&#x2F;li&gt;
&lt;li&gt;å¤šçº¿ç¨‹åŒæ­¥(åªæ”¯æŒ linux)ã€‚å¦‚æœæ˜¯ windows ä¸»æœºï¼Œå¯ä»¥å»æ‰ pcntl_fork æ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨ sync æ–¹æ³•&lt;&#x2F;li&gt;
&lt;li&gt;ä¿å­˜ç”¨æˆ· cookieï¼Œé¿å…å¤šæ¬¡è¯»å–&lt;&#x2F;li&gt;
&lt;li&gt;ç”¨æˆ·åˆ é™¤æŸæ¡&#x2F;æŸäº› tweet åï¼Œä¸ä¼šå‡ºç°å¼‚å¸¸åŒæ­¥&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;xia-zai&quot;&gt;ä¸‹è½½&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;twitter2weibo&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;twitter2weibo&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>è¯´è¯´ pubnub</title>
            <pubDate>Sun, 05 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/about-pubnub/</link>
            <guid>https://limboy.me/posts/about-pubnub/</guid>
            <description>&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.pubnub.com&#x2F;&quot;&gt;pubnub&lt;&#x2F;a&gt;æ˜¯ä¸€ä¸ªäº‘ç«¯å³æ—¶æ¶ˆæ¯æœåŠ¡ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ›å»ºè‡ªå·±çš„å³æ—¶åº”ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬åªéœ€åœ¨å®¢æˆ·ç«¯&#x2F;æœåŠ¡ç«¯è°ƒç”¨ subscribe å’Œ publish æ–¹æ³•å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; LISTEN FOR MESSAGES
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;PUBNUB&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.subscribe&lt;&#x2F;span&gt;&lt;span&gt;({
&lt;&#x2F;span&gt;&lt;span&gt;  channel: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello_world&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;callback&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;message&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;message&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;});
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; SEND MESSAGE
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;PUBNUB&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.publish&lt;&#x2F;span&gt;&lt;span&gt;({
&lt;&#x2F;span&gt;&lt;span&gt;  channel: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello_world&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  message: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hi&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;});
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;pubnub æœ‰ä»¥ä¸‹å‡ å¤§ç‰¹ç‚¹&lt;&#x2F;p&gt;
&lt;h3 id=&quot;duo-yu-yan-kua-ping-tai&quot;&gt;å¤šè¯­è¨€ï¼Œè·¨å¹³å°&lt;&#x2F;h3&gt;
&lt;p&gt;pubnub æ”¯æŒå¤šç§è¯­è¨€ï¼š&lt;code&gt;php&#x2F;ruby&#x2F;python&#x2F;perl&#x2F;erlang&#x2F;js&lt;&#x2F;code&gt;ã€‚æ”¯æŒå¤šç§å®¢æˆ·ç«¯ï¼šMobile&#x2F;Browser&#x2F;XBOX ç­‰ç­‰ã€‚ä½ åœ¨æœ¬åœ°è¿è¡Œä¸€æ®µ js publish è„šæœ¬ï¼ŒæœåŠ¡å™¨ç«¯å¦‚æœæ­£åœ¨ç›‘å¬è¿™ä¸ª channelï¼Œå°±ä¼šæ”¶åˆ° js ä¼ é€çš„ä¿¡æ¯ï¼Œç„¶åä½œè¿›ä¸€æ­¥å¤„ç†ã€‚ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°å‘½ä»¤è¡Œè¿è¡Œä¸€æ®µ python subscribe ç¨‹åºï¼Œç­‰æœåŠ¡å™¨ç«¯æœ‰æ›´æ–°æ—¶ï¼Œpublish ä¸€ä¸‹ï¼Œpython ç¨‹åºå°±ä¼šæ”¶åˆ°ç»“æœï¼Œè€Œä¸”æ˜¯å³æ—¶çš„ã€‚å¯ä»¥æ˜¯å¤šä¸ªç¨‹åº&#x2F;å¤šç§è¯­è¨€å‘åŒä¸€ä¸ª channel å‘é€&#x2F;æ¥æ”¶ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;an-quan&quot;&gt;å®‰å…¨&lt;&#x2F;h3&gt;
&lt;p&gt;å‰é¢è¯´äº†ï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½å¯ä»¥å‘ç‰¹å®šçš„ channel å‘é€æ¶ˆæ¯ï¼Œé‚£å¦‚ä½•æ‰èƒ½ä¿è¯ channel çš„ç§å¯†æ€§å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœè¦ä½¿ç”¨ pubnub æœåŠ¡ï¼Œå°±éœ€è¦å…ˆæ³¨å†Œï¼Œæ³¨å†Œå®Œåä¼šæœ‰ pub key&#x2F;sub key&#x2F;secret keyï¼Œå¦‚æœè¦ä½¿ç”¨ç›¸åº”çš„æœåŠ¡ï¼Œåˆ™éœ€ä½¿ç”¨ç›¸åº”çš„ keyã€‚æ¯”å¦‚è¦å‘é€æ¶ˆæ¯ï¼Œè¦ä½¿ç”¨ pub keyï¼Œæ­¤æ—¶çš„ channel åªå¯¹è¯¥ pub key æœ‰æ•ˆã€‚å¦‚æœæœ‰å…¶ä»–çš„åº”ç”¨ä¹Ÿä½¿ç”¨äº†è¯¥ channel åç§°ï¼Œä½†å› ä¸º pub key ä¸åŒï¼Œæ‰€ä»¥ä¸ä¼šäº’ç›¸å¹²æ‰°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œpubnub ä¹Ÿæ”¯æŒ SSLï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiao-lu&quot;&gt;æ•ˆç‡&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;pubnub æ˜¯ç”¨ C å†™çš„ï¼Œè¿è¡Œåœ¨ Amazon EC2 å’Œ Rackspace ä¸Šï¼Œé€šè¿‡ GAE æ¥è¿œç¨‹ç›‘æ§ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;pubnub çš„æ¶ˆæ¯ä¼ é€é€Ÿåº¦æ˜¯çº³å¦™çº§çš„ï¼Œå½“æ–­ç½‘é‡è¿åï¼Œæ¶ˆæ¯ä¼šé‡æ–°ä¼ é€’&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;qi-ta&quot;&gt;å…¶ä»–&lt;&#x2F;h3&gt;
&lt;p&gt;å¯æƒœçš„æ˜¯è¿™ä¹ˆå¥½çš„æœåŠ¡æ˜¯æ”¶è´¹çš„ï¼Œåº†å¹¸çš„æ˜¯æœ‰å…è´¹ç‰ˆï¼Œæ¯å¤©å¯ä»¥å…è´¹å‘é€ 5000 æ¡æ¶ˆæ¯ï¼Œå¯¹äºä¸ªäººçš„åº”ç”¨æ¥è¯´åº”è¯¥å¤Ÿç”¨äº†ã€‚å¦‚æœä¸å¤Ÿç”¨ï¼Œä¹Ÿå¯ä»¥ä¹°æ¶ˆæ¯ï¼Œ5$å¯ä»¥ä¹° 100,000 æ¡æ¶ˆæ¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;PS:pubnub è§„å®šæ¯æ¡æ¶ˆæ¯ä¸èƒ½è¶…è¿‡ 1800 å­—èŠ‚ï¼Œæ‰€ä»¥ä¸è¦æŒ‡æœ›ä¼ é€å¤§é‡æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å› ä¸ºæœ‰è¢« QiÃ¡ng çš„é£é™©ï¼Œæ‰€ä»¥å›½å†…çš„ä¼ä¸šå¯ä»¥è‡ªå·±å®ç°ä¸€å¥—ç±»ä¼¼çš„å³æ—¶æ¶ˆæ¯ç³»ç»Ÿï¼Œå¯¹äºåº”ç”¨ä¹‹é—´çš„è§£è€¦ä¹Ÿå¤§æœ‰å¸®åŠ©ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>è¯´è¯´phpçš„å¼‚æ­¥è¯·æ±‚</title>
            <pubDate>Sun, 05 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/php-async/</link>
            <guid>https://limboy.me/posts/php-async/</guid>
            <description>&lt;p&gt;å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦è®© php åœ¨åå°æ‰§è¡ŒæŸä¸ªç¨‹åºï¼ŒåŒæ—¶åˆä¸å½±å“é¡µé¢çš„è¾“å‡ºï¼Œä»¥ä¸‹æ˜¯æˆ‘æ€»ç»“çš„å‡ ç§å®ç°æ–¹å¼&lt;&#x2F;p&gt;
&lt;h3 id=&quot;exec&quot;&gt;exec&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯æœ€ç®€å•çš„æ–¹å¼&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;exec(sprintf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;%s &amp;gt; %s 2&amp;gt;&amp;amp;1 &amp;amp; echo $! &amp;gt; %s&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cmd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$outputfile&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pidfile&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è°ƒç”¨$cmdå‘½ä»¤ï¼Œå°†è¾“å‡ºé‡å®šå‘åˆ°$outputfileï¼Œä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼ŒåŒæ—¶å°†è¿›ç¨‹ id è¾“å‡ºåˆ°$pidfileã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ ·ä¹Ÿæ–¹ä¾¿ç›‘æ§ï¼Œæ¯”å¦‚åˆ¤æ–­è¯¥è¿›ç¨‹æ˜¯å¦è¿˜åœ¨è¿è¡Œ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;isRunning&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$pid&lt;&#x2F;span&gt;&lt;span&gt;){
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;shell_exec(sprintf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ps %d&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pid&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;count(preg_split(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&#x2F;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$result&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;){
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;catch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Exception &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$e&lt;&#x2F;span&gt;&lt;span&gt;){}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ³¨æ„ï¼šå¦‚æœç›´æ¥è°ƒç”¨ exec æ¥è¿è¡ŒæŸä¸ªå‘½ä»¤ï¼Œæˆ–è€…åœ¨è¯¥å‘½ä»¤åé¢åŠ ä¸ª&amp;quot;&amp;amp;&amp;quot;ï¼Œphp è¿˜æ˜¯ä¼šç­‰å¾…è¯¥å‘½ä»¤è¿è¡Œå®Œæˆå†æ‰§è¡Œä¸‹é¢çš„æ“ä½œã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;proc-open-proc-close&quot;&gt;proc_open&#x2F;proc_close&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•å¾ˆæœ‰æ„æ€ï¼Œå…ˆç”¨ proc_open è¿è¡Œä¸€æ®µåå°ç¨‹åºï¼Œç„¶åç”¨ proc_close æ¥å…³é—­ proc_openï¼Œç»“æœç¨‹åºå°±åœ¨åå°è¿è¡Œäº†ï¼ŒåŒæ—¶ php ä¹Ÿä¼šç»§ç»­æ‰§è¡Œä¸‹å»&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;proc_close(proc_open (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ping www.baidu.com -c 10 &amp;gt; &#x2F;path&#x2F;to&#x2F;output &amp;amp;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, array(), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$foo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;pcntl-fork&quot;&gt;pcntl_fork&lt;&#x2F;h3&gt;
&lt;p&gt;ä½¿ç”¨ php çš„å¤šçº¿ç¨‹æ¥è¾¾åˆ°ç›®çš„ï¼ŒåŸç†å°±æ˜¯å¤åˆ¶ä¸€ä¸ªå­çº¿ç¨‹ï¼ŒåŒæ—¶æ€æ­»çˆ¶çº¿ç¨‹(ä¸æ”¯æŒ windows)ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pid &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pcntl_fork()&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;die&lt;&#x2F;span&gt;&lt;span&gt;();     &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Parent
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;shutdown&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;posix_kill(posix_getpid(), &lt;&#x2F;span&gt;&lt;span&gt;SIGHUP&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ob_get_level()&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ob_end_clean()&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Discard the output buffer and close
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fclose(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;STDIN&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Close all of the standard
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fclose(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;STDOUT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; file descriptors as we
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fclose(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;STDERR&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; are running as a daemon.
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;register_shutdown_function(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;shutdown&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;posix_setsid() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;die&lt;&#x2F;span&gt;&lt;span&gt;();      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; &amp;lt;- This is an error
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Do your stuff here
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;exec(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;bash&#x2F;command &amp;gt; &#x2F;path&#x2F;to&#x2F;output&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;header&quot;&gt;header&lt;&#x2F;h3&gt;
&lt;p&gt;ä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„å‰ææ˜¯ä½¿ç”¨ http åè®®ï¼ŒåŒæ—¶ç›®æ ‡æ–‡ä»¶å¯æ§ï¼Œæœ€å¥½åœ¨ä¸€ä¸ªåŸŸä¸‹ã€‚å› ä¸ºå¿…é¡»è¦å»ºç«‹ http è¿æ¥æ‰è¡Œï¼Œæ‰€ä»¥ç¨å¾®æœ‰ç‚¹è´¹æ—¶ã€‚åŸç†æ˜¯é€šè¿‡ header è¾“å‡º&#x27;Connection:close&#x27;å¤´ï¼Œä¸­æ–­ http è¿æ¥ï¼ŒåŒæ—¶åé¢çš„ä»£ç ç»§ç»­æ‰§è¡Œã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ob_get_level()&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ob_end_clean()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;header(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Connection: close&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ignore_user_abort()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ob_start()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Connection Closed&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$size &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ob_get_length()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;header(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Content-Length: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$size&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ob_end_flush()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;flush()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;shi-yong-shu-ju-ku-zuo-zhong-zhuan&quot;&gt;ä½¿ç”¨æ•°æ®åº“ä½œä¸­è½¬&lt;&#x2F;h3&gt;
&lt;p&gt;æŠŠè¦æ‰§è¡Œçš„å‘½ä»¤å’Œå‚æ•°å…ˆå­˜åˆ°ç¼“å­˜æˆ–æ•°æ®åº“ï¼Œæ¥ä¸‹æ¥çš„äº‹å°±ä¸ç”¨ php æ“å¿ƒäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœè¿˜æœ‰å…¶ä»–çš„æ–¹æ³•ï¼Œæ¬¢è¿äº¤æµ :)&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>å†™äº†ä¸€æ¬¾RESTæ¡†æ¶â€”â€”RESTY</title>
            <pubDate>Sat, 04 Dec 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/resty/</link>
            <guid>https://limboy.me/posts/resty/</guid>
            <description>&lt;p&gt;å…³äº REST çš„ä»‹ç»å¯ä»¥å‚è€ƒ&lt;a href=&quot;http:&#x2F;&#x2F;blog.leezhong.com&#x2F;tech&#x2F;2010&#x2F;11&#x2F;14&#x2F;rest.html&quot;&gt;æˆ‘ä¹‹å‰çš„æ–‡ç« &lt;&#x2F;a&gt;ï¼Œæ€»ä½“è¯´æ¥ï¼ŒREST æ˜¯ web å‘å±•çš„è¶‹åŠ¿ï¼Œè€Œ PHP æ˜¯ web å¼€å‘çš„åˆ©å™¨ï¼Œä½†æˆ‘æ‰¾äº†ä¸€éï¼Œåªæ‰¾åˆ°äº†ä¸¤ä¸ª PHP REST æ¡†æ¶(ä¸åŒ…æ‹¬é‚£äº›ä»¥ MVC ä¸ºæ ¸å¿ƒï¼ŒåŒæ—¶åˆæ”¯æŒ REST çš„æ¡†æ¶)ï¼Œä¸€ä¸ªæ˜¯&lt;a href=&quot;http:&#x2F;&#x2F;peej.github.com&#x2F;tonic&#x2F;&quot;&gt;Tonic&lt;&#x2F;a&gt;ï¼Œæ¶æ„ç†å¿µæˆ‘æ¯”è¾ƒè®¤åŒï¼Œä½†ä»£ç è´¨é‡å®åœ¨ä¸æ•¢æ­ç»´ã€‚è¿˜æœ‰ä¸€ä¸ªæ˜¯&lt;a href=&quot;http:&#x2F;&#x2F;www.recessframework.org&#x2F;&quot;&gt;Recess&lt;&#x2F;a&gt;ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒæœ‰ç‚¹å¤æ‚åŒ–äº†ï¼ŒæŠŠä¸è¯¥ rest åšçš„äº‹ä¹Ÿåšäº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘åªèƒ½è‡ªå·±åŠ¨æ‰‹ï¼Œä¸°è¡£è¶³é£Ÿäº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;resty-jian-jie&quot;&gt;RESTY ç®€ä»‹&lt;&#x2F;h3&gt;
&lt;p&gt;RESTY çš„æµç¨‹å¾ˆç®€å•ï¼Œè·å– Request å•ä¾‹ï¼Œç„¶åæ‰§è¡Œ exec æ–¹æ³•ï¼Œè¯¥æ–¹æ³•é‡Œä¼šè°ƒç”¨ Route æ¥è§£æ URI è·å–ç›¸åº”çš„ Resourceï¼Œç„¶åå®ä¾‹åŒ– Resourceï¼Œè§¦å‘ç›¸åº”çš„ HTTP æ–¹æ³•ï¼Œæœ€åè¿”å›ä¸€ä¸ª Response å¯¹è±¡ï¼ŒResponse æ‰§è¡Œ output æ–¹æ³•å°±è¾“å‡ºäº†ç»“æœã€‚å¬èµ·æ¥å¥½åƒä¸€ç‚¹éƒ½ä¸ç®€å•ï¼Œå“ˆå“ˆï¼Œè¿˜æ˜¯æ¥å¤§æ¦‚çœ‹ä¸€ä¸‹ä»£ç å§&lt;&#x2F;p&gt;
&lt;p&gt;index.php&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;try &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Request&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;exec&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;catch&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Route_Exception &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$e&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Response&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;set_status&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;404&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;set_body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(array(
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;error&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Resource Not Found&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Request&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_SERVER&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;REQUEST_URI&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;],
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;		))
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;		;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;request.php&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;exec&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class_name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Resource_&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;str_replace(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;_&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get_resource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;())&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ReflectionClass&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class_name&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$resource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;newInstance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;getMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;before&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;invoke&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$resource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;getMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;request_method&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;invoke&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$resource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;getMethod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;after&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;invoke&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$resource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$response &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Response&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$response&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;set_body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$resource&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get_data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;())&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$response&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;response.php&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_content_encoding&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;header(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Content-type:application&#x2F;json;charset=utf-8&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;header(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Status:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_status&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39; &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_messages&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_status&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;])&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;header(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;Content-Length: &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;strlen(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_body&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;foreach&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_header &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$key &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;header(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;:&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$val&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_body&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;resty-te-xing&quot;&gt;RESTY ç‰¹æ€§&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;qing-liang-ji&quot;&gt;è½»é‡çº§&lt;&#x2F;h3&gt;
&lt;p&gt;RESTY åŒ…å«äº†æ ¸å¿ƒçš„ Request&#x2F;Resource&#x2F;Response&#x2F;Route&#x2F;Config&#x2F;Validation åŠŸèƒ½ï¼Œæ²¡æœ‰å…¶ä»–å¤šä½™çš„éƒ¨ä»¶ï¼Œå¦‚ Controller&#x2F;View ç­‰ç­‰ï¼Œå¾ˆçº¯ç²¹ã€‚ä¸€ä¸ªå·¥å…·åº”è¯¥æŠŠä¸€ä»¶äº‹åšå¥½ï¼ŒåŒæ—¶æä¾›æ¥å£ï¼Œè¿™ä¹Ÿæ˜¯ RESTY çš„å“²å­¦ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong-fang-bian&quot;&gt;ä½¿ç”¨æ–¹ä¾¿&lt;&#x2F;h3&gt;
&lt;p&gt;ä½¿ç”¨æ—¶ï¼Œåªéœ€å®šä¹‰å¥½ uri å¯¹åº”çš„ Resourceï¼Œç„¶åç¼–å†™ Resource å°±è¡Œäº†ï¼Œå…¶ä»–çš„äº‹ RESTY ä¼šå¸®ä½ æå®šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;config&#x2F;resource.php demo&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;example&#x2F;(?&amp;lt;id&amp;gt;[0-9]+)&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;example&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;&#x2F;example&#x2F;foo&#x2F;(?&amp;lt;name&amp;gt;[a-zA-Z_0-9]+)&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;example&#x2F;foo&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ° uri æ”¯æŒæ­£åˆ™ï¼Œæ²¡é”™ï¼ŒåŸç”Ÿçš„ php æ­£åˆ™ã€‚resource éƒ¨åˆ†å¯¹åº” resource æ–‡ä»¶çš„è·¯å¾„(ä¸åŒ…æ‹¬åç¼€)&lt;&#x2F;p&gt;
&lt;p&gt;resource&#x2F;example.php&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Resource_Example &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Resource
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* set etag
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;		Response::instance()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;			-&amp;gt;if_none_match(md5(&amp;#39;hello&amp;#39;))
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;			-&amp;gt;add_etag(md5(&amp;#39;hello&amp;#39;))
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;			;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;		&#x2F;&#x2F;*&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;validate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get_data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;		{
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;error&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;implode(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;,&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;getErrors&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;())&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;request&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_SERVER&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;REQUEST_URI&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;]);
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;post&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;_data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array_merge(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get_data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(), array(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;type&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;post&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¯ä¸€ä¸ªèµ„æºå¯¹åº” 4 ä¸ª http æ–¹æ³•ã€‚RESTY è¿˜å¾ˆè´´å¿ƒåœ°æä¾›äº† Validation éƒ¨ä»¶(åŸºæœ¬ä¸Šæ˜¯ç›´æ¥ä» Kohana ä¸­ K è¿‡æ¥çš„)ï¼Œæ–¹ä¾¿å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yi-kuo-zhan&quot;&gt;æ˜“æ‰©å±•&lt;&#x2F;h3&gt;
&lt;p&gt;system&#x2F;classes æ–‡ä»¶å¤¹ä¸‹çš„ç±»æ–‡ä»¶ï¼Œéƒ½å¯ä»¥åœ¨ app&#x2F;classes æ–‡ä»¶å¤¹ä¸‹æ‰©å±•ï¼Œè€Œä¸”ä½¿ç”¨æ—¶ä¸ç”¨åšä»»ä½•ä¿®æ”¹ã€‚å‡è®¾ä½ ä¹‹å‰å·²ç»å†™äº†ä¸å°‘ Resourceï¼Œå¿½ç„¶æƒ³åˆ°è¦æ‰©å±•ç³»ç»Ÿçš„ Resource ç±»ï¼Œæ­£å¸¸çš„åšæ³•æ˜¯å®šä¹‰ä¸€ä¸ª MY_Resource ä¹‹ç±»çš„ç±»æ–‡ä»¶æ¥æ‰©å±•ç³»ç»Ÿçš„ Resource ç±»ï¼Œç„¶åä½¿ç”¨æ—¶ä½¿ç”¨ MY_Resource è€Œä¸æ˜¯ Resourceã€‚ä½†è¿™æ ·å°±ä¼šæœ‰ä¸ªé—®é¢˜ï¼Œä¹‹å‰ä½¿ç”¨çš„ Resource ç±»éƒ½è¦åšä¿®æ”¹äº†ï¼Œå¯è°“ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚RESTY å°±æ–¹ä¾¿äº†ï¼ŒåŒæ ·è¦æ‰©å±• Resource ç±»ï¼Œåªè¦åœ¨ app&#x2F;classes ä¸‹æ–°å»ºä¸€ä¸ª resource.php æ–‡ä»¶ï¼Œç„¶åæ‰©å±• Resty_Resource ç±»å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Resource &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Resty_Resource
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;foo&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·ä½¿ç”¨æ—¶è¿˜æ˜¯ä¸€æ ·çš„ Resource ç±»ï¼Œä½†å´å¤šäº† foo æ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯ä» Kohana å­¦åˆ°çš„æ— ç¼æ‰©å±•å¤§æ³•ï¼ˆé¢˜å¤–è¯ï¼šKohana çœŸæ˜¯ä¸ªä¸é”™çš„æ¡†æ¶ï¼Œå„ä½ä¸å¦¨ä¸€è¯•ï¼‰ã€‚åŸç†å°±æ˜¯åœ¨ç±»è‡ªåŠ¨åŠ è½½æ—¶ä¼šå…ˆå» app&#x2F;classes æ–‡ä»¶å¤¹ä¸‹å»æ‰¾ï¼Œå¦‚æœæ²¡æ‰¾åˆ°çš„è¯å†å» system&#x2F;classes ä¸‹æ‰¾ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yan-zheng-gong-neng&quot;&gt;éªŒè¯åŠŸèƒ½&lt;&#x2F;h3&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„ REST æ¡†æ¶ï¼ŒValidation è¿˜æ˜¯ä¸èƒ½å°‘çš„ï¼Œä¸ºäº†ä¸é‡å¤åˆ¶é€ è½®å­ï¼Œç›´æ¥æŠŠ Kohana çš„éªŒè¯ç±»æ¬äº†è¿‡æ¥ï¼Œç¨ä½œä¿®æ”¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é…ç½®ï¼šconfig&#x2F;validation.php&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;example&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;get&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;filters&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;id&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;trim&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;				),
&lt;&#x2F;span&gt;&lt;span&gt;			),
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;rules&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;				&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;id&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;not_empty&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;min_length&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;					&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;digit&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;				),
&lt;&#x2F;span&gt;&lt;span&gt;			),
&lt;&#x2F;span&gt;&lt;span&gt;		),
&lt;&#x2F;span&gt;&lt;span&gt;	),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é”™è¯¯æç¤ºï¼šconfig&#x2F;message.php&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;example&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;id&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;digit&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;idå¿…é¡»æ˜¯æ•°å­—&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;not_empty&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;idä¸èƒ½ä¸ºç©º&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;min_length&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;idé•¿åº¦è‡³å°‘ä¸º:value&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;		),
&lt;&#x2F;span&gt;&lt;span&gt;	),
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;config-gong-neng&quot;&gt;Config åŠŸèƒ½&lt;&#x2F;h3&gt;
&lt;p&gt;config æ–‡ä»¶å¦‚ä¸Šé¢æ‰€ç¤ºï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚ä½¿ç”¨ä¹Ÿå¾ˆç®€å•:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span&gt;&#x2F;&#x2F; è·å–config&#x2F;message.phpæ–‡ä»¶çš„example keyå¯¹åº”çš„å†…å®¹
&lt;&#x2F;span&gt;&lt;span&gt;Config::get(&amp;#39;message.example&amp;#39;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&#x2F; è®¾ç½®config(ä¸ä¼šå†™å…¥åˆ°æ–‡ä»¶ï¼Œåªåœ¨ä¸€ä¸ªhttp requestæœ‰æ•ˆ)
&lt;&#x2F;span&gt;&lt;span&gt;Config::set(&amp;#39;message.example.id.digit&amp;#39;, &amp;#39;id can be anything&amp;#39;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;xia-zai&quot;&gt;ä¸‹è½½&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;resty&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;limboy&#x2F;resty&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ¬¢è¿ä½¿ç”¨ï¼Œå¹¶åé¦ˆ:)&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>å¤§å‹åº”ç”¨çš„javascriptæ¶æ„</title>
            <pubDate>Mon, 29 Nov 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/javascript-arch/</link>
            <guid>https://limboy.me/posts/javascript-arch/</guid>
            <description>&lt;p&gt;ç›®å‰å¾ˆå¤šç½‘ç«™åŸºæœ¬æ²¡æœ‰æ˜ç¡®çš„å‰ç«¯æ¶æ„ï¼Œå¤§å¤šæ˜¯æœåŠ¡ç«¯æ¸²æŸ“è§†å›¾é¡µï¼Œè¾“å‡ºåˆ°æµè§ˆå™¨ï¼Œå†é…åˆä¸€äº› jsï¼Œæ¥è¿›è¡Œäº¤äº’ã€‚å¦‚æœåªæ˜¯å®ç°ä¸€äº›ç®€å•çš„æ•ˆæœï¼Œæ²¡æœ‰è¾ƒå¤æ‚çš„é€»è¾‘ï¼Œé‚£ä¹ˆè¿™ç§å¤„ç†æ˜¯åˆç†çš„ï¼Œå°¤å…¶æ˜¯æœ‰äº† jQuery ä¹‹ç±»çš„åˆ©å™¨ï¼Œjs ä»£ç å†™èµ·æ¥ç”šè‡³æœ‰ç§éšå¿ƒæ‰€æ¬²çš„æ„Ÿè§‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†ä¸€æ—¦ç½‘ç«™è¦æ”¹ç‰ˆï¼Œæˆ–è€…éšç€ç½‘ç«™çš„å‘å±•ï¼Œé€»è¾‘å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œæˆ–è€…ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œjs è¦æ‰¿æ‹…æ›´å¤šçš„ä»»åŠ¡ï¼Œè¿™æ—¶å¦‚æœç»´æŒç°çŠ¶ä¸å˜ï¼Œé‚£ js å°±ä¼šå˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œè¶Šæ¥è¶Šéš¾ç»´æŠ¤ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è§£å†³ä¹‹é“å°±æ˜¯é‡‡ç”¨æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå°†é¡µé¢åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œæ¨¡å—ä¹‹é—´äº’ç›¸ç‹¬ç«‹ï¼Œé€šè¿‡å‘å¸ƒ&#x2F;è®¢é˜…æ–¹å¼æ¥è¿›è¡Œæ¨¡å—é—´äº¤äº’ï¼Œä»è€Œä½¿æ¨¡å—ä¸æ¨¡å—è§£è€¦ï¼Œä¹Ÿå°±æ˜¯è¯´ç§»é™¤ä¸€ä¸ªæ¨¡å—ä¸ä¼šå¯¹å½“å‰é¡µé¢é€ æˆå½±å“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é…åˆæ¨¡æ¿çš„è¯ï¼Œå¯ä»¥è®©å‰ç«¯å’Œåç«¯ç¨‹åºå‘˜æ›´é«˜æ•ˆåœ°é…åˆã€‚å‰ç«¯åªè´Ÿè´£æ•°æ®çš„æ˜¾ç¤ºä¸é¡µé¢çš„äº¤äº’ï¼Œå¼€å‘æ—¶ï¼Œå¯ä»¥æ‹Ÿé€ æ•°æ®ï¼Œè€Œä¸éœ€è¦æœåŠ¡ç«¯ç¨‹åºã€‚åç«¯ç¨‹åºå‘˜ä¹Ÿå¯ä»¥ä¸“æ³¨äºæä¾›æ›´æ˜“ç”¨ï¼Œç¨³å®šçš„æ¥å£ï¼Œè€Œä¸éœ€è¦å…³å¿ƒæ•°æ®çš„å±•ç¤ºã€‚&lt;&#x2F;p&gt;
&lt;p&gt;yahoo çš„&lt;a href=&quot;http:&#x2F;&#x2F;developer.yahoo.com&#x2F;yui&#x2F;theater&#x2F;video.php?v=zakas-architecture&quot;&gt;è¿™ä¸ªè§†é¢‘&lt;&#x2F;a&gt;è¯¦ç»†åœ°é˜è¿°äº†å‰ç«¯æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå¤§è‡´æ‘˜å½•å¦‚ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;h3 id=&quot;js-jia-gou-de-4-ge-zu-cheng-bu-fen&quot;&gt;js æ¶æ„çš„ 4 ä¸ªç»„æˆéƒ¨åˆ†&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡å—(Modules)&lt;&#x2F;li&gt;
&lt;li&gt;æ²™ç®±(Sandbox)&lt;&#x2F;li&gt;
&lt;li&gt;åº”ç”¨(App Core)&lt;&#x2F;li&gt;
&lt;li&gt;ç±»åº“(Base Lib)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;mo-kuai-yi-qie-jie-mo-kuai&quot;&gt;æ¨¡å—(ä¸€åˆ‡çš†æ¨¡å—)&lt;&#x2F;h3&gt;
&lt;p&gt;æ¨¡å—å°±åƒå­©å­ä¸€æ ·ï¼Œä»–ä»¬éœ€è¦éµå®ˆä¸€äº›è§„åˆ™æ‰èƒ½ä¿è¯ä¸ä¼šåˆ°å¤„æƒ¹éº»çƒ¦&lt;&#x2F;p&gt;
&lt;p&gt;æ¨¡å—å¿…é¡»åœ¨æ²™ç®±é‡Œï¼Œæ— è®ºæ¡ä»¶å¤šä¹ˆè‹›åˆ»&lt;&#x2F;p&gt;
&lt;p&gt;æ¨¡å—ä¸çŸ¥é“é¡µé¢åˆ°åº•æ˜¯æ€æ ·çš„ï¼Œä»–ä»¬åªçŸ¥é“æ²™ç®±&lt;&#x2F;p&gt;
&lt;p&gt;æ¨¡å—ä¹‹é—´è¦è§£è€¦&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mo-kuai-de-gui-ze&quot;&gt;æ¨¡å—çš„è§„åˆ™&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;ç®¡å¥½è‡ªå·±
** åªèƒ½è°ƒç”¨è‡ªå·±çš„æˆ–æ²™ç®±çš„æ–¹æ³•
** ä¸è¦è®¿é—®ä¸å±äºè‡ªå·±çš„ DOM èŠ‚ç‚¹
** ä¸è¦è®¿é—®éå†…ç½®å…¨å±€å˜é‡&lt;&#x2F;li&gt;
&lt;li&gt;å…ˆç”³è¯·ï¼Œå†ä½¿ç”¨
** ä½ éœ€è¦çš„ä»»ä½•ä¸œè¥¿ï¼Œè¦å‘æ²™ç®±æå‡ºç”³è¯·&lt;&#x2F;li&gt;
&lt;li&gt;ä¸è¦æŠŠç©å…·æ”¾å¾—åˆ°å¤„éƒ½æ˜¯
** ä¸è¦åˆ›å»ºå…¨å±€å˜é‡&lt;&#x2F;li&gt;
&lt;li&gt;ä¸è¦å’Œé™Œç”Ÿäººè¯´è¯
** ä¸è¦ç›´æ¥å¼•ç”¨å…¶ä»–æ¨¡å—&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;an-quan-sha-xiang&quot;&gt;å®‰å…¨æ²™ç®±&lt;&#x2F;h3&gt;
&lt;p&gt;æ²™ç®±è¦ä¿è¯æ¥å£çš„ä¸€è‡´æ€§ï¼Œæ¨¡å—è°ƒç”¨æ—¶ä¸€å®šè¦æœ‰&lt;&#x2F;p&gt;
&lt;p&gt;æ¨¡å—åªçŸ¥é“æ²™ç®±ï¼Œå…¶ä»–çš„æ¶æ„å¯¹æ¨¡å—è€Œè¨€æ˜¯ä¸å­˜åœ¨çš„&lt;&#x2F;p&gt;
&lt;p&gt;æ²™ç®±å°±åƒä¸€ä¸ªå®‰ä¿å‘˜ï¼ŒçŸ¥é“å“ªäº›æ˜¯æ¨¡å—å¯ä»¥è°ƒç”¨çš„&lt;&#x2F;p&gt;
&lt;h3 id=&quot;sha-xiang-de-zhi-ze&quot;&gt;æ²™ç®±çš„èŒè´£&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€è‡´æ€§
** æ¥å£ä¸€å®šè¦å¯é &lt;&#x2F;li&gt;
&lt;li&gt;å®‰å…¨æ€§
** æ£€æµ‹å“ªä¸€éƒ¨åˆ†æ˜¯æ¨¡å—å¯ä»¥è®¿é—®çš„&lt;&#x2F;li&gt;
&lt;li&gt;äº¤äº’
** å°†æ¨¡å—çš„è¯·æ±‚å‘é€åˆ°ç³»ç»Ÿ&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å¤šèŠ±äº›æ—¶é—´æ¥è®¾è®¡æ²™ç®±æ¥å£ï¼Œå¯ä»¥æ·»åŠ æ–°æ–¹æ³•ï¼Œä½†ä¸èƒ½ç§»é™¤ï¼Œä¹Ÿä¸èƒ½ä¿®æ”¹å·²æœ‰æ–¹æ³•&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ying-yong-he-xin&quot;&gt;åº”ç”¨æ ¸å¿ƒ&lt;&#x2F;h3&gt;
&lt;p&gt;åº”ç”¨æ ¸å¿ƒè´Ÿè´£æ¨¡å—é—´çš„äº¤äº’&lt;&#x2F;p&gt;
&lt;p&gt;åº”ç”¨æ ¸å¿ƒé€šçŸ¥ä¸€ä¸ªæ¨¡å—ä½•æ—¶è¯¥åˆå§‹åŒ–ï¼Œä½•æ—¶è¯¥æ³¨é”€&lt;&#x2F;p&gt;
&lt;p&gt;åº”ç”¨æ ¸å¿ƒå¤„ç†é”™è¯¯&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ying-yong-he-xin-de-ren-wu&quot;&gt;åº”ç”¨æ ¸å¿ƒçš„ä»»åŠ¡&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;ç®¡ç†æ¨¡å—çš„ç”Ÿå­˜å‘¨æœŸ
** é€šçŸ¥ä¸€ä¸ªæ¨¡å—ä½•æ—¶è¯¥åˆå§‹åŒ–ï¼Œä½•æ—¶è¯¥æ³¨é”€&lt;&#x2F;li&gt;
&lt;li&gt;å†…éƒ¨æ¨¡å—é—´çš„äº¤äº’
** è®©æ¨¡å—å°½å¯èƒ½è§£è€¦&lt;&#x2F;li&gt;
&lt;li&gt;é”™è¯¯å¤„ç†
** æ£€æµ‹ï¼ŒæŠ¥å‘Šé”™è¯¯&lt;&#x2F;li&gt;
&lt;li&gt;å¯æ‰©å±•
** ä»»ä½•å¯æ‰©å±•çš„ä¸œè¥¿éƒ½ä¸ä¼šè¿‡æ—¶&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;ji-ben-lei-ku&quot;&gt;åŸºæœ¬ç±»åº“&lt;&#x2F;h3&gt;
&lt;p&gt;ç†æƒ³çŠ¶æ€ä¸‹ï¼Œåªæœ‰åº”ç”¨æ ¸å¿ƒçŸ¥é“ä½¿ç”¨äº†å“ªä¸ªç±»åº“&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ji-ben-lei-ku-de-ren-wu&quot;&gt;åŸºæœ¬ç±»åº“çš„ä»»åŠ¡&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;æµè§ˆå™¨å…¼å®¹æ€§&lt;&#x2F;li&gt;
&lt;li&gt;å¸¸ç”¨çš„å·¥å…·
** è§£æ&#x2F;åºåˆ—åŒ– XMLï¼ŒJSON ç­‰ç­‰
** å¯¹è±¡æ“ä½œ
** DOM æ“ä½œ
** Ajax æ“ä½œ&lt;&#x2F;li&gt;
&lt;li&gt;æä¾›åº•å±‚çš„å¯æ‰©å±•æ€§&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;shi-jian&quot;&gt;å®è·µ&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘æ²¡æœ‰å…¨éƒ¨æŒ‰ç…§ä¸Šé¢è¯´çš„æ¥å®ç°ï¼Œè€Œæ˜¯å€Ÿé‰´äº†éƒ¨åˆ†&lt;a href=&quot;http:&#x2F;&#x2F;dothanhlam.files.wordpress.com&#x2F;2009&#x2F;02&#x2F;puremvc-conceptual-diagram.jpg&quot;&gt;pureMVC çš„æ€æƒ³&lt;&#x2F;a&gt;ï¼Œè¿™æ ·ä¼¼ä¹æ›´ç®€å•äº›ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¦‚è¿°&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªæ¨¡å—å¯¹åº”é¡µé¢çš„æŸä¸€éƒ¨åˆ†&lt;&#x2F;li&gt;
&lt;li&gt;æ¨¡å—æä¾›äº†æ‰€æœ‰ Mediator å¯ä»¥è°ƒç”¨çš„æ–¹æ³•&lt;&#x2F;li&gt;
&lt;li&gt;ä¸€ä¸ª Mediator ç®¡ç†ä¸€ä¸ªç‰¹å®šçš„æ¨¡å—&lt;&#x2F;li&gt;
&lt;li&gt;æ¨¡å—åªè¢« Mediator è°ƒç”¨ï¼Œæ¨¡å—ç”šè‡³ä¸çŸ¥é“ Mediator çš„å­˜åœ¨&lt;&#x2F;li&gt;
&lt;li&gt;Mediator ä¹‹é—´é€šè¿‡å‘å¸ƒ&#x2F;è®¢é˜…çš„æ–¹å¼è¿›è¡Œäº¤äº’&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;demo.leezhong.com&#x2F;js-arch&#x2F;&quot;&gt;demo&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mo-kuai-ji-lei-zhe-li-shi-yong-liao-john-resig-de-simple-javascript-inheritance&quot;&gt;æ¨¡å—åŸºç±»(è¿™é‡Œä½¿ç”¨äº† John Resig çš„&lt;a href=&quot;http:&#x2F;&#x2F;ejohn.org&#x2F;blog&#x2F;simple-javascript-inheritance&#x2F;&quot;&gt;simple javascript inheritance&lt;&#x2F;a&gt;)&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Module &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.extend&lt;&#x2F;span&gt;&lt;span&gt;({
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;obj&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;obj&lt;&#x2F;span&gt;&lt;span&gt;.name;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;tpl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;obj&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;tpl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;obj&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;tpl&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.text&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;#&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;obj&lt;&#x2F;span&gt;&lt;span&gt;.name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;-tpl&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.text&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$el &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;obj&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;el &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;? &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;obj&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;el&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;#&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;obj&lt;&#x2F;span&gt;&lt;span&gt;.name);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.data &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{};
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getTplData&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.data.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;tplData&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;renderTpl&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.data.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;tplData &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ä½¿ç”¨äº†Mustacheæ¨¡æ¿å¼•æ“
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;html &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Mustache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.to_html&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;tpl&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$el&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.html&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;});
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;lie-biao-mo-kuai&quot;&gt;åˆ—è¡¨æ¨¡å—&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;List &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.extend&lt;&#x2F;span&gt;&lt;span&gt;({
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Module æä¾›æ–¹æ³•ä¾›Mediatorè°ƒç”¨
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;hl&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$item&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;lock&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$lis &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$el&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.find&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;li&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$lis&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.each&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.removeClass&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hl&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;lock&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.data&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;locked&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;lock &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.data&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;locked&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.addClass&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hl&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;    });
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;lock&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.data&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;locked&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.addClass&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hl&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;unhl&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$item&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$item&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.removeClass&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hl&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;});
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å‰é¢è¯´äº†æ¨¡å—å°±æ˜¯å‡†å¤‡å¥½æ–¹æ³•ï¼Œè®© Mediator è°ƒç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;lie-biao-mediator&quot;&gt;åˆ—è¡¨ Mediator&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ListMediator &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Mediator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.extend&lt;&#x2F;span&gt;&lt;span&gt;({
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;init&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; åˆå§‹åŒ–Module
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= new &lt;&#x2F;span&gt;&lt;span&gt;List({
&lt;&#x2F;span&gt;&lt;span&gt;      name: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;list&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    });
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ç»‘å®šäº‹ä»¶
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$el
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.delegate&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;li&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;click&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;e&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;e&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.preventDefault&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è°ƒç”¨Moduleæ–¹æ³•
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.hl&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;index &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$el&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.find&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;li&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.index&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;));
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å‘å¸ƒæ¶ˆæ¯ï¼Œæ‰€æœ‰ç›‘å¬è¯¥äº‹ä»¶çš„æ–¹æ³•å°†è¢«è§¦å‘
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å‚æ•°ä¸ºobjectï¼Œæ–¹ä¾¿ä»¥åæ·»åŠ é”®å€¼å¯¹
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.publish&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span&gt;.name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;:click&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, {
&lt;&#x2F;span&gt;&lt;span&gt;          content: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.getTplData&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;].content,
&lt;&#x2F;span&gt;&lt;span&gt;        });
&lt;&#x2F;span&gt;&lt;span&gt;      })
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.delegate&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;li&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;mouseover&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;e&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.hl&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;));
&lt;&#x2F;span&gt;&lt;span&gt;      })
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.delegate&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;li&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;mouseout&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;e&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.unhl&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;));
&lt;&#x2F;span&gt;&lt;span&gt;      });
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è·å–æºæ•°æ®ï¼Œä½¿ç”¨äº†$.proxyï¼Œåˆ›å»ºç‰¹å®šçš„context
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.getJSON&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;data.json&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.proxy&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è°ƒç”¨Moduleçš„æ–¹æ³•
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.renderTpl&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å‘å¸ƒæ•°æ®å·²è½½å…¥æ¶ˆæ¯
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.publish&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;module&lt;&#x2F;span&gt;&lt;span&gt;.name &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;:loaded&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;      }, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    );
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;});
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥æŠŠæ¨¡å—æƒ³åƒæˆ Modelï¼ŒMediator æƒ³åƒæˆ Controllerï¼Œè¿™æ ·å°±å®ç°äº†é«˜å†…èšï¼Œä½è€¦åˆã€‚æ¯ä¸€ä¸ªå•å…ƒ(æ¨¡å—+Mediator)éƒ½å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è¢«ç§»é™¤ï¼Œè€Œä¸å½±å“ç°æœ‰æ¶æ„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;demo.leezhong.com&#x2F;js-arch&#x2F;&quot;&gt;demo&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;lzyy&#x2F;js-arch&quot;&gt;source&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>è½¯ä»¶æ„å»ºè®¾è®¡</title>
            <pubDate>Sat, 20 Nov 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/software-design/</link>
            <guid>https://limboy.me/posts/software-design/</guid>
            <description>&lt;p&gt;è¿™æ˜¯ã€Šä»£ç å¤§å…¨ 2ã€‹çš„è½¯ä»¶è®¾è®¡ç¯‡ç« ï¼ŒèŠ±äº†ä¸¤å¤©æ—¶é—´å•ƒä¸‹æ¥çš„ï¼Œä¸å¾—ä¸æ„Ÿæ…¨è®²å¾—å¾ˆç»†è‡´å¾ˆåˆ°ä½ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;key-design-concepts&quot;&gt;Key Design Concepts&lt;&#x2F;h3&gt;
&lt;p&gt;Managing complexity is the most important technical topic in software development.&lt;&#x2F;p&gt;
&lt;p&gt;The goal of all software-design techniques is to break acomplicated problem into simple pieces. The more independent the subsystems are, the more you make it safe to focus on one bit of complexity at a time.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;design-characteristics&quot;&gt;design characteristics&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;Minimal complexity
&lt;ul&gt;
&lt;li&gt;Avoid making &amp;quot;clever&amp;quot; designs. clever designs are usually hard to understand. Instead make &amp;quot;simple&amp;quot; and &amp;quot;easy-to-understand&amp;quot; designs.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Ease of maintenance&lt;&#x2F;li&gt;
&lt;li&gt;Loose coupling&lt;&#x2F;li&gt;
&lt;li&gt;Extensibility&lt;&#x2F;li&gt;
&lt;li&gt;Reusability&lt;&#x2F;li&gt;
&lt;li&gt;High fan-in
&lt;ul&gt;
&lt;li&gt;having a high number of classes that use a given class. High fan-in implies that a system has been designed to make good use of utility classes at the lower levels in the system.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Low-to-medium fan-outside
&lt;ul&gt;
&lt;li&gt;having a given class use a low-to-medium number of other classes (&amp;lt;7)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Portability&lt;&#x2F;li&gt;
&lt;li&gt;Leanness
&lt;ul&gt;
&lt;li&gt;designing the system so that it has no extra parts. a book is finished not when nothing more can be added but when nothing more can be taken away.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Stratification
&lt;ul&gt;
&lt;li&gt;trying to keep the levels of decomposition stratified so that you can view the system at any single level and get a consistent view.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Standard techniques&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;the-steps-in-designing-with-objects&quot;&gt;The steps in designing with objects&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;Identify the objects and their attributes (methods and data)&lt;&#x2F;li&gt;
&lt;li&gt;Determine what can be done to each object&lt;&#x2F;li&gt;
&lt;li&gt;Determine what each object is allowed to do to other objects&lt;&#x2F;li&gt;
&lt;li&gt;Determine the parts of each object that will be visible to other objects-which parts will be public and which will be private.&lt;&#x2F;li&gt;
&lt;li&gt;Define each object&#x27;s public interface&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;form-consistent-abstractions&quot;&gt;Form Consistent Abstractions&lt;&#x2F;h3&gt;
&lt;p&gt;Abstraction is the ability to engage with a concept while safely ignoring some of its details - handling different details at different levels.&lt;&#x2F;p&gt;
&lt;p&gt;A good class interface is an abstraction that allows you to focus on the interface without needing to worry about the internal workings of the class.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;design-building-blocks-heuristics&quot;&gt;Design Building Blocks: Heuristics&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;encapsulate-implementation-details&quot;&gt;Encapsulate Implementation Details&lt;&#x2F;h3&gt;
&lt;p&gt;Encapsulate picks up where abstraction leaves off. you aren&#x27;t allowed to look at an object at any level of detail.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;inherit-when-inheritance-simplifies-the-design&quot;&gt;Inherit - When Inheritance Simplifies the Design&lt;&#x2F;h3&gt;
&lt;p&gt;Inheritance simplifies programming because you write a general routine to handle anything that depends on a door&#x27;s general properties and then write specific routines to handle specific operations on specific kinds of doors.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;hide-secrets-information-hiding&quot;&gt;Hide Secrets (Information Hiding)&lt;&#x2F;h3&gt;
&lt;p&gt;Information hiding is part of the foundation of both structured design and object-oriented design. In structured design, the notion of &amp;quot;black boxes&amp;quot; comes from information hiding. In object-oriented design, it gives rise to the concepts of encapsulation and modularity and it is associated with the concept of abstraction.&lt;&#x2F;p&gt;
&lt;p&gt;One key task in designing a class is deciding which features should be known outside the class and which should remain secret.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;identify-areas-likey-to-change&quot;&gt;Identify Areas Likey to Change&lt;&#x2F;h3&gt;
&lt;p&gt;Accommodating changes is one of the most chanllenging aspects of good program design. The goal is to isolate unstable areas so that the effect of a change will be limited to one routine, class, or package.&lt;&#x2F;p&gt;
&lt;p&gt;areas that are likely to change:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Business rules&lt;&#x2F;li&gt;
&lt;li&gt;Hardware dependencies&lt;&#x2F;li&gt;
&lt;li&gt;Input and output&lt;&#x2F;li&gt;
&lt;li&gt;Nonstandard language features&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;keep-coupling-loose&quot;&gt;Keep Coupling Loose&lt;&#x2F;h3&gt;
&lt;p&gt;Coupling describes how tightly a class or routing is related to other classes or routines. The goal is to create classes and routines with small, direct, visible and flexible relations to other classes and routines.&lt;&#x2F;p&gt;
&lt;p&gt;Classes and routines are first and foremost intellectual tools for reducing complexity. If they&#x27;re not making your job simpler, they&#x27;re not doing thier jobs.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;look-for-common-design-patterns&quot;&gt;Look for Common Design Patterns&lt;&#x2F;h3&gt;
&lt;p&gt;Popular Design Patterns&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Abstract Factory&lt;&#x2F;li&gt;
&lt;li&gt;Adapter&lt;&#x2F;li&gt;
&lt;li&gt;Bridge&lt;&#x2F;li&gt;
&lt;li&gt;Composite&lt;&#x2F;li&gt;
&lt;li&gt;Decorator&lt;&#x2F;li&gt;
&lt;li&gt;Facade&lt;&#x2F;li&gt;
&lt;li&gt;Factory Method&lt;&#x2F;li&gt;
&lt;li&gt;Iterator&lt;&#x2F;li&gt;
&lt;li&gt;Observer&lt;&#x2F;li&gt;
&lt;li&gt;Singleton&lt;&#x2F;li&gt;
&lt;li&gt;Strategy&lt;&#x2F;li&gt;
&lt;li&gt;Template Method&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;design-practices&quot;&gt;Design Practices&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;iterate&quot;&gt;Iterate&lt;&#x2F;h3&gt;
&lt;p&gt;Design is an iterative process. You don&#x27;t usually go from point A only to point B; you go from point A to point B and back to point A.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;divide-and-conquer&quot;&gt;Divide and Conquer&lt;&#x2F;h3&gt;
&lt;p&gt;no one&#x27;s skill is big enough to contain all the details of a complex program, and that applies just as well to design. Divide the program into different areas of concern, and then tackle each of those area individually.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;top-down-and-bottom-up-design-approaches&quot;&gt;Top-Down and Bottom-Up Design Approaches&lt;&#x2F;h3&gt;
&lt;p&gt;Top-down design begins at a high level of abstraction. You define base classes or other nonspecific design elements. As you develop the design, you increase the level of detail, identifying derived classes, collaborating classes, and other detailed design elements.&lt;&#x2F;p&gt;
&lt;p&gt;Bottom-up design starts with specifics and works toward genealities. It typically begins by identifying concrete objects and then generalizes aggregations of objects and base classes from those specifics.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;experimental-prototyping&quot;&gt;Experimental Prototyping&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;collaborative-design&quot;&gt;Collaborative Design&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;capturing-your-design-work&quot;&gt;Capturing Your Design Work&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;Insert design documentation into the code itself&lt;&#x2F;li&gt;
&lt;li&gt;Capture design discussions and decisions on a wiki&lt;&#x2F;li&gt;
&lt;li&gt;Write e-mail summaries&lt;&#x2F;li&gt;
&lt;li&gt;Use a digital camera&lt;&#x2F;li&gt;
&lt;li&gt;Save design flip charts&lt;&#x2F;li&gt;
&lt;li&gt;Use CRC(Class, Responsibility, Collaborator) cards&lt;&#x2F;li&gt;
&lt;li&gt;Create UML diagrams at appropriate levels of detail&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>è¯´è¯´REST</title>
            <pubDate>Sun, 14 Nov 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/rest/</link>
            <guid>https://limboy.me/posts/rest/</guid>
            <description>&lt;h3 id=&quot;rest-jiu-jing-shi-shi-yao-dong-dong&quot;&gt;REST ç©¶ç«Ÿæ˜¯ä»€ä¹ˆä¸œä¸œ&lt;&#x2F;h3&gt;
&lt;p&gt;REST(Representational State Transfer)æ˜¯ Roy Fielding åœ¨ä»–çš„åšå£«è®ºæ–‡ä¸­æå‡ºæ¥çš„ã€‚ä»–ä¹Ÿæ˜¯ HTTP åè®®çš„åˆ¶å®šè€…ä¹‹ä¸€ã€‚REST æ˜¯ä¸€ç§é’ˆå¯¹ç½‘ç»œåº”ç”¨çš„è®¾è®¡å’Œå¼€å‘æ–¹å¼ï¼Œå¯ä»¥é™ä½å¼€å‘çš„å¤æ‚æ€§ï¼Œæé«˜ç³»ç»Ÿçš„å¯ä¼¸ç¼©æ€§ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;rest-de-te-xing&quot;&gt;REST çš„ç‰¹æ€§&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;c-s-jia-gou&quot;&gt;C&#x2F;S æ¶æ„&lt;&#x2F;h3&gt;
&lt;p&gt;å®¢æˆ·ç«¯ä¸»åŠ¨å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚åï¼Œè¿”å›æ ¼å¼åŒ–çš„ç»“æœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wu-zhuang-tai&quot;&gt;æ— çŠ¶æ€&lt;&#x2F;h3&gt;
&lt;p&gt;æ¯ä¸ªè¯·æ±‚å¿…é¡»åŒ…å«æœåŠ¡ç«¯æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä¸è¦æŒ‡æœ›ä»æœåŠ¡ç«¯&amp;quot;å€Ÿ&amp;quot;ç‚¹æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yi-kuo-zhan&quot;&gt;æ˜“æ‰©å±•&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœå› ä¸ºä¸šåŠ¡éœ€è¦ï¼Œè¦æ–°æ·»åŠ å‡ ä¸ªèµ„æºï¼Œå¯ä»¥æ¨ªå‘æ‰©å±•ï¼Œè€Œä¸éœ€è¦æ”¹å˜åŸæ¥çš„ç»“æ„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tong-yi-qing-qiu-lei-xing&quot;&gt;ç»Ÿä¸€è¯·æ±‚ç±»å‹&lt;&#x2F;h3&gt;
&lt;p&gt;GET&#x2F;POST&#x2F;PUT&#x2F;DELETEï¼Œå®é™…ä¸­ä»¥ GET å’Œ POST ç”¨çš„æœ€å¤šã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zi-yuan&quot;&gt;èµ„æº&lt;&#x2F;h3&gt;
&lt;p&gt;æœåŠ¡ç«¯è¦æä¾›èµ„æºä¾›å®¢æˆ·ç«¯è°ƒç”¨ï¼Œæ¯ä¸ªèµ„æºéƒ½æœ‰ç‹¬ç«‹çš„ URLã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qing-liang-ji&quot;&gt;è½»é‡çº§&lt;&#x2F;h3&gt;
&lt;p&gt;ä½¿ç”¨æ ‡å‡†çš„ http è¯·æ±‚ï¼Œå„ä¸ªè¯­è¨€å‡ ä¹éƒ½æ”¯æŒï¼Œæ‰€ä»¥ç”±ä¸°å¯Œçš„å®¢æˆ·ç«¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fang-bian-tian-jia-zhong-jian-ceng&quot;&gt;æ–¹ä¾¿æ·»åŠ ä¸­é—´å±‚&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚ä»£ç†&#x2F;é›†ç¾¤&#x2F;ç¼“å­˜ç­‰ç­‰ï¼Œå¯¹å®¢æˆ·ç«¯è€Œè¨€å®ƒä»¬æ˜¯é€æ˜çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fang-bian-ce-shi&quot;&gt;æ–¹ä¾¿æµ‹è¯•&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸ç‰µæ‰¯å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸”æ ¼å¼åŒ–çš„æ•°æ®å¾ˆå®¹æ˜“è§£æ&lt;&#x2F;p&gt;
&lt;h3 id=&quot;demo&quot;&gt;DEMO&lt;&#x2F;h3&gt;
&lt;p&gt;ä»¥ twitter ä¸ºä¾‹(è¯·è‡ªåŠ¨åˆ‡æ¢åˆ°ç¿»|å¢™æ¨¡å¼)&lt;&#x2F;p&gt;
&lt;h3 id=&quot;huo-qu-xin-xi-get&quot;&gt;è·å–ä¿¡æ¯(GET)&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœè¦è·å¾—æŸæ¡ tweet çš„ä¿¡æ¯ï¼Œç›´æ¥è®¿é—® api å³å¯ï¼Œå¦‚ http:&#x2F;&#x2F;api.twitter.com&#x2F;1&#x2F;statuses&#x2F;show&#x2F;3657615682838528.jsonï¼Œå°†ä¼šè¿”å›å¦‚ä¸‹ç»“æœ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;json&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-json &quot;&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;place&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;geo&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;created_at&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Sun Nov 14 03:56:58 +0000 2010&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;in_reply_to_status_id_str&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;user&lt;&#x2F;span&gt;&lt;span&gt;: {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;profile_image_url&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;http&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;a2.twimg.com&#x2F;profile_images&#x2F;259632038&#x2F;DuanziLogoBig_normal.jpg
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;description&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;å®˜ç½‘ï¼šwww.JokeCook.com | When that happens.å½“ä¸‹é‚£äº›äº‹å„¿ | æ¬¢è¿å›å¤@duanzi æŠ•ç¨¿ã€‚&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;truncated&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;false
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3657615682838528
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;in_reply_to_user_id_str&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c82829;&quot;&gt;text&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Via @ruoxiaosu: æœ‰æ—¶å€™å§ï¼Œå–æ¶ˆå¯¹ä¸€ä¸ªäººçš„å…³æ³¨ï¼Œ...viaç¦æ®¿&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çœç•¥äº†éƒ¨åˆ†ç»“æœï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ä¸€ä¸ªåŒ…å«äº†å¾ˆå¤šä¿¡æ¯çš„ jsonï¼Œæƒ³æ€æ ·å±•ç°é‚£å°±æ˜¯å®¢æˆ·ç«¯çš„äº‹æƒ…äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ti-jiao-xin-xi-post&quot;&gt;æäº¤ä¿¡æ¯(POST)&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªå°±è¦å¤æ‚ä¸€ç‚¹äº†ï¼Œå› ä¸ºæ¶‰åŠåˆ°ç”¨æˆ·éªŒè¯ï¼Œå‰é¢è¯´è¿‡äº†ï¼ŒREST æ˜¯æ— çŠ¶æ€çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡ç«¯ä¸çŸ¥é“ä½ åˆ°åº•æœ‰æ²¡æœ‰ç™»å½•ï¼Œé™¤éå‡ºç¤ºè¯ä»¶ã€‚æ˜¯çš„ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å¾—å‡ºç¤ºã€‚æœåŠ¡ç«¯éªŒè¯é€šè¿‡åï¼ŒæŸ¥è¯¢åˆ°ç”¨æˆ· idï¼Œä¿å­˜ POST æ•°æ®ï¼Œè¿”å›æäº¤ç»“æœã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;POST&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; &#x2F;1&#x2F;statuses&#x2F;update.json
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;HOST&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; api.twitter.com
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;status&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;blahblah...&amp;amp;oauth_consumer_key=GDdmIQH6jhtm...&amp;amp;oauth_nonce=oElnnMTQIZvqvlfXM56aB...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°é™¤äº† statusï¼Œè¿˜æœ‰ oauth_consumer_key å’Œ oauth_nonce(è¿˜æœ‰å…¶ä»– oauth ç›¸å…³çš„å‚æ•°)ï¼Œè¿™äº›å°±æ˜¯ç”¨æ¥è¿›è¡Œèº«ä»½éªŒè¯çš„ï¼Œå¦‚æœéªŒè¯é€šè¿‡äº†ï¼Œtweet å°±ä¼šè¢«æ­£å¸¸å‘å¸ƒï¼ŒåŒæ—¶è¿”å›è¯¥ tweet çš„ç›¸å…³ä¿¡æ¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¡ºä¾¿è¯´è¯´ç”¨æˆ·éªŒè¯ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§éªŒè¯æ–¹å¼ï¼šBasic Auth&#x2F;Digest Auth&#x2F;OAuth(XAuth)ï¼Œå°±å®‰å…¨æ€§æ¥è¯´ OAuth æ˜¯æœ€é«˜çš„ï¼Œç”¨æˆ·æ— é¡»è¾“å…¥å¯†ç ï¼Œä½†éƒ¨ç½²èµ·æ¥éš¾åº¦ä¹Ÿæœ€å¤§ã€‚Basic Auth å®‰å…¨æ€§æœ€ä½ï¼Œéƒ¨ç½²èµ·æ¥ä¹Ÿæœ€æ–¹ä¾¿ï¼Œç”¨æˆ·åªéœ€æä¾›ç”¨æˆ·åå’Œå¯†ç å³å¯ï¼Œä½†å¦‚æœç¬¬ä¸‰æ–¹è®°å½•äº†è¿™äº›ä¿¡æ¯ï¼Œé‚£å°±... Digest Auth çš„å®‰å…¨æ€§å’Œéƒ¨ç½²æˆæœ¬ä»‹äºä¸¤è€…ä¹‹é—´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä»–æ›´æ–°å†…å®¹å’Œåˆ é™¤å†…å®¹ä¹Ÿç±»ä¼¼ï¼Œéƒ½æ˜¯å…ˆè¿›è¡Œç”¨æˆ·éªŒè¯ï¼Œå†è¿›è¡Œæƒé™éªŒè¯ï¼Œæœ€åè¿”å›æ‰§è¡Œç»“æœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;rest-de-yuan-ze&quot;&gt;REST çš„åŸåˆ™&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;chou-xiang-chu-suo-you-ke-gong-diao-yong-de-zi-yuan-yue-jing-que-yue-hao&quot;&gt;æŠ½è±¡å‡ºæ‰€æœ‰å¯ä¾›è°ƒç”¨çš„èµ„æºï¼Œè¶Šç²¾ç¡®è¶Šå¥½&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªäº‹ç‰©å¯ä»¥æŠ½è±¡æˆèµ„æºï¼Œé‚£å®ƒå°±æ˜¯ RESTfulï¼Œå¯ä»¥é€šè¿‡ URL è¿›è¡Œè°ƒç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wei-mei-ge-zi-yuan-ti-gong-yi-ge-url-qie-zi-yuan-ying-gai-shi-ming-ci-er-bu-shi-dong-ci&quot;&gt;ä¸ºæ¯ä¸ªèµ„æºæä¾›ä¸€ä¸ª URLï¼Œä¸”èµ„æºåº”è¯¥æ˜¯åè¯è€Œä¸æ˜¯åŠ¨è¯&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚ï¼Œä¸‹é¢è¿™ä¸ª url æ˜¯ä¸å»ºè®®é‡‡ç”¨çš„&lt;&#x2F;p&gt;
&lt;p&gt;bq. http:&#x2F;&#x2F;www.twitter.com&#x2F;getUser&#x2F;10&lt;&#x2F;p&gt;
&lt;p&gt;åº”è¯¥æ”¹ä¸ºè¿™æ ·&lt;&#x2F;p&gt;
&lt;p&gt;bq. http:&#x2F;&#x2F;www.twitter.com&#x2F;user&#x2F;10&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jiang-zi-yuan-fen-lei&quot;&gt;å°†èµ„æºåˆ†ç±»&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Tweets&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; resources
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; status&#x2F;show&#x2F;:id
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; status&#x2F;update
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; status&#x2F;destroy&#x2F;:id
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ...
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Timeline&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; resources
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; status&#x2F;public_timeline
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;User&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; resources
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;suo-you-get-qing-qiu-du-bu-ying-gai-ying-xiang-shu-ju-ku-nei-rong&quot;&gt;æ‰€æœ‰ GET è¯·æ±‚éƒ½ä¸åº”è¯¥å½±å“æ•°æ®åº“å†…å®¹&lt;&#x2F;h3&gt;
&lt;p&gt;GET é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”¨æ¥è·å–æŸä¸ªèµ„æºï¼Œå¦‚æœè¦ä¿®æ”¹ï¼Œåˆ™åº”è¯¥æ‰§è¡Œ POST&#x2F;PUT&#x2F;DELETEã€‚åƒä¸‡ä¸è¦å› ä¸ºå·æ‡’ï¼Œè€Œç»™ GET ç•™ä¸‹åé—¨ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fan-hui-jie-guo-bu-yi-ding-shi-dan-du-de-nei-rong-ke-yi-bao-han-xiang-guan-lian-jie&quot;&gt;è¿”å›ç»“æœä¸ä¸€å®šæ˜¯å•ç‹¬çš„å†…å®¹ï¼Œå¯ä»¥åŒ…å«ç›¸å…³é“¾æ¥&lt;&#x2F;h3&gt;
&lt;p&gt;æœ‰æ—¶å€™ï¼Œè¿™æ˜¯ä¸€ç§åŒè¾“çš„å±€é¢ï¼šç”¨æˆ·ä¸æƒ³è¦é‚£ä¹ˆå¤šçš„æ•°æ®ï¼ŒæœåŠ¡ç«¯åˆå¤šäº†ä¸å¿…è¦çš„è¿ç®—ã€‚åªè¦åŒ…å«å¯ä»¥è·å–ä¿¡æ¯çš„é“¾æ¥å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ming-que-fan-hui-ge-shi&quot;&gt;æ˜ç¡®è¿”å›æ ¼å¼&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚ json&#x2F;xml&#x2F;html ç­‰ç­‰ï¼Œä¸è¿‡ç›®å‰æ¥çœ‹ json åŸºæœ¬æ˜¯ä¸»æµã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ru-he-shi-yong-rest&quot;&gt;å¦‚ä½•ä½¿ç”¨ REST&lt;&#x2F;h3&gt;
&lt;p&gt;REST ä¸ä»…ä»…æ˜¯ä¸€ç§å´­æ–°çš„æ¶æ„ï¼Œå®ƒå¸¦æ¥çš„æ›´æ˜¯ä¸€ç§å…¨æ–°çš„ Web å¼€å‘è¿‡ç¨‹ä¸­çš„æ€ç»´æ–¹å¼ï¼šé€šè¿‡ URL æ¥è®¾è®¡ç³»ç»Ÿç»“æ„ã€‚åœ¨ REST ä¸­ï¼Œæ‰€æœ‰çš„ URL éƒ½å¯¹åº”ç€èµ„æºï¼Œåªè¦ URL çš„è®¾è®¡æ˜¯è‰¯å¥½çš„ï¼Œé‚£ä¹ˆå…¶å‘ˆç°çš„ç³»ç»Ÿç»“æ„ä¹Ÿå°±æ˜¯è‰¯å¥½çš„ã€‚è¿™ç‚¹å’Œ TDD (Test Driven Development)å¾ˆç›¸ä¼¼ï¼Œä»–æ˜¯é€šè¿‡æµ‹è¯•ç”¨ä¾‹æ¥è®¾è®¡ç³»ç»Ÿçš„æ¥å£ï¼Œæ¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹éƒ½è¡¨ç¤ºä¸€ç³»åˆ—ç”¨æˆ·çš„éœ€æ±‚ã€‚å¼€å‘äººå‘˜ä¸åº”è¯¥ä¸€å¼€å§‹å°±ç¼–å†™åŠŸèƒ½ï¼Œè€Œæ˜¯å…ˆç»†åˆ†èµ„æºã€‚å¯¹èµ„æºæŠ½è±¡åœ°è¶Šç²¾ç¡®ï¼Œå¯¹ REST çš„åº”ç”¨æ¥è¯´å°±æ›´å¥½ï¼Œè¿™ä¸ªå’Œä¼ ç»Ÿçš„ MVC ä¸­åŸºäº Action çš„æ€æƒ³å·®åˆ«å¾ˆå¤§ã€‚è®¾è®¡è‰¯å¥½çš„ URLï¼Œ ä¸ä½†å¯¹äºå¼€å‘äººå‘˜æ¥è¯´å¯ä»¥æ›´æ˜ç¡®çš„è®¤è¯†ç³»ç»Ÿç»“æ„ï¼Œå¯¹ä½¿ç”¨è€…æ¥è¯´ä¹Ÿæ–¹ä¾¿è®°å¿†å’Œè¯†åˆ«èµ„æºï¼Œå› ä¸º URL è¶³å¤Ÿç®€å•å’Œæœ‰æ„ä¹‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;REST å¯¹å¼€å‘è€…å‹å¥½ã€‚Amazon å’Œ Ebay çš„ service ç»“æœæ˜¾ç¤ºï¼š60%çš„ç”¨æˆ·ä½¿ç”¨ RESTã€‚æä¾› REST æœåŠ¡ï¼Œå¼€å‘è€…å¯ä»¥å¾ˆå®¹æ˜“é€šè¿‡å„ç§è¯­è¨€å„ç§å¹³å°æ¥å¼€å‘ä¸€ä¸ª appï¼Œæ‰‹æœº&#x2F;ipad&#x2F;ç½‘ç«™&#x2F;cli ç­‰ç­‰ï¼Œè¿™ä¹Ÿæ˜¯ web2.0 çš„ä¸€å¤§ç‰¹å¾ï¼Œæƒ³æƒ³å¦‚æœ flickr&#x2F;twitter&#x2F;delicious æ²¡æœ‰å¼€æ”¾ç®€æ´æ˜“ç”¨çš„ apiï¼Œå…¶ç«çˆ†ç¨‹åº¦è‚¯å®šå¤§æ‰“æŠ˜æ‰£ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨ REST è¿˜æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¯ä»¥é¿å… Controller ç›´æ¥æ“ä½œæ•°æ®ã€‚å‡å¦‚æ˜¯ MVC æ¨¡å¼ï¼ŒController å¾ˆå¯èƒ½é€”çœäº‹ï¼Œç›´æ¥æŠŠ ORM æ‹¿è¿‡æ¥å°±å¼€å§‹è¿›è¡Œæ•°æ®æ“ä½œäº†ï¼Œå¦‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Controller_Post &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Controller &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;actionAdd&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Validate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;check&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_POST&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$post &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;ORM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;factory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;post&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$post&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;title &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_POST&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;title&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$post&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;content &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_POST&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;content&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$post&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;save&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœæœ‰ä¸€å¤©ä¿å­˜çš„æ“ä½œæ”¹äº†ï¼Œå¦‚åŠ äº†ä¸€ä¸ª status å­—æ®µï¼Œé‚£å°±å¾ˆç³Ÿç³•äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å®é™…ä½¿ç”¨ä¸­ï¼Œå¯èƒ½ä¼šå‘ç°ä¸æ˜¯æ‰€æœ‰çš„éœ€æ±‚éƒ½å¯ä»¥æŠ½è±¡ä¸ºèµ„æºï¼Œè¿™æ—¶å¯ä»¥æ··ç”¨ MVC&#x2F;MVVMã€‚å°½å¯èƒ½åœ°æŠ½è±¡æˆèµ„æºï¼Œå¯¹å…¶ä»–éœ€æ±‚ä½¿ç”¨ MVC&#x2F;MVVM å¼€å‘ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç›®å‰å·²ç»æœ‰&lt;a href=&quot;http:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Representational_State_Transfer&quot;&gt;ä¸å°‘&lt;&#x2F;a&gt;åŸºäº&#x2F;æ”¯æŒ REST çš„æ¡†æ¶ï¼Œæœ‰å…´è¶£çš„è¯ä¸å¦¨å°è¯•ä¸€ä¸‹ã€‚ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹&lt;a href=&quot;http:&#x2F;&#x2F;www.peej.co.uk&#x2F;articles&#x2F;rmr-architecture.html&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zong-jie&quot;&gt;æ€»ç»“&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;REST å’Œ MVC çš„å…³ç³»å°±å¥½åƒ Div å’Œ Table çš„å…³ç³»ã€‚åœ¨ web æ ‡å‡†æ²¡æ¨å¹¿å‰ï¼Œéƒ½æ˜¯ä½¿ç”¨ Table å¸ƒå±€ï¼ŒTable åŸæœ¬æ˜¯ç”¨æ¥åšæ•°æ®å±•ç¤ºçš„ï¼Œä¸çŸ¥æ˜¯å“ªä¸€ä½å¤©æ‰å‘ç°å¯¹ Table è¿›è¡Œå„ç§æ”¹é€ åï¼Œå¯ä»¥ç”¨ä½œå‰ç«¯å±•ç¤ºï¼Œäºæ˜¯å°±è¿™ä¹ˆæµä¼ å¼€äº†ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;REST æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œä¸æ˜¯æ ‡å‡†ã€‚ä½†ä½¿ç”¨äº†å¾ˆå¤šæ ‡å‡†ï¼šhttp&#x2F;url&#x2F;mime ç­‰ç­‰ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;REST æ¦‚å¿µä»æå‡ºåˆ°ç°åœ¨å·²ç»æœ‰ 10 å¹´äº†ï¼Œè¶Šæ¥è¶Šè¶‹äºæˆç†Ÿã€‚å®ƒæ˜¯ä¸º http è€Œç”Ÿçš„ï¼Œè€Œ MVC æœ€å¼€å§‹æ˜¯ç”¨æ¥å¼€å‘æ¡Œé¢è½¯ä»¶çš„ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¦‚æœä½ çš„ç½‘ç«™æœ‰æä¾› API çš„æ‰“ç®—ï¼Œæ¨èä½¿ç”¨ REST æ¶æ„ï¼Œå¼€å§‹å¯èƒ½ä¼šéº»çƒ¦ä¸€ç‚¹ï¼Œä½†å°†æ¥ä¼šå‘ç°è¿™äº›ä»˜å‡ºæ˜¯å€¼å¾—çš„ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>å…³äºä»£ç çš„æ³¨é‡Š</title>
            <pubDate>Mon, 25 Oct 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/code-comments/</link>
            <guid>https://limboy.me/posts/code-comments/</guid>
            <description>&lt;p&gt;æ€æ ·çš„æ³¨é‡Šæ‰æ˜¯åˆç†çš„ï¼Ÿå…³äºè¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆè¦å›ç­”çš„é—®é¢˜æ˜¯ï¼šä¸ºä»€ä¹ˆè¦æ³¨é‡Šï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨é‡Šé€šå¸¸æ˜¯ä¸ºäº†æ–¹ä¾¿å…¶ä»–ç¨‹åºå‘˜é˜…è¯»æºç ï¼Œè®©ä»–èƒ½å¤Ÿæ˜ç™½è¿™ä¸ªå˜é‡æ˜¯åšä»€ä¹ˆç”¨çš„ï¼Œè¿™æ®µä»£ç æ˜¯ä¸ºäº†å®Œæˆä»€ä¹ˆä»»åŠ¡ç­‰ç­‰ï¼Œä¸è‡³äºä¸‰æ›´åŠå¤œç³»ç»Ÿå‡ºç°äº† bugï¼Œç»“æœåœ¨ç¨‹åºé‡Œç¿»å±±è¶Šå²­ï¼Œè·‹å±±æ¶‰æ°´ï¼Œè¿˜æ²¡æœ‰æ‰¾åˆ°å‡ºé—®é¢˜çš„ä»£ç ï¼Œå¥½ä¸å®¹æ˜“æ‰¾åˆ°äº†ï¼Œåˆä¸çŸ¥é“å¦‚ä½•ä¿®æ”¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£æ˜¯ä¸æ˜¯æ³¨é‡Šè¶Šå¤šè¶Šè¯¦ç»†è¶Šå¥½å‘¢ï¼Ÿä¹Ÿä¸æ˜¯ã€‚å› ä¸ºç¨‹åºæ˜¯ä¼šç»å¸¸å˜åŠ¨çš„ï¼Œè¿™åŠ ä¸ªå‚æ•°ï¼Œé‚£æ”¹ä¸ªå˜é‡æ˜¯å¾ˆæ­£å¸¸çš„ï¼Œç¨ä¸æ³¨æ„å°±ä¼šå¿˜äº†æ›´æ–°æ³¨é‡Šã€‚è€Œä¸”ä»ç¨‹åºå‘˜çš„è§’åº¦æ¥è¯´ï¼Œä¹Ÿä¸æ„¿å»æ›´æ–°æ³¨é‡Šï¼Œä¸€ä¸ªæ˜¯å› ä¸ºæ‡’ï¼Œå¦ä¸€ä¸ªæ˜¯å› ä¸ºçŸ¥é“å°†æ¥è¿˜å¯èƒ½ä¼šå˜ï¼Œç´¢æ€§ç­‰å°†æ¥å†è¯´ã€‚ä»¥åç»´æŠ¤è¯¥ç¨‹åºçš„äººï¼Œçœ‹ç€æ³¨é‡Šå’Œç¨‹åºå°±ä¼šå¾ˆçº ç»“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€ä»¥ä¸æ„¿å†™æ³¨é‡Šæ˜¯ç¨‹åºå‘˜çš„å¤©æ€§ï¼Œè¡Œäº‘æµæ°´åœ°å†™å®Œä¸€æ®µä»£ç ï¼Œè¿™ç§æ„Ÿè§‰å¤šçˆ½å•Šã€‚æ—¶æ—¶åˆ»åˆ»æƒ³ç€è¦å†™æ³¨é‡Šï¼Œå°±ä¸èƒ½å…¨èº«å¿ƒåœ°æŠ•å…¥åˆ°ä»£ç çš„å®ç°ä¸Šã€‚ä¸è¿‡å€’æ˜¯å¯ä»¥ç­‰çˆ½å®Œä¹‹åï¼Œå†æŠŠæ³¨é‡ŠåŠ ä¸Šï¼Œè¿™å°±ç‰µæ‰¯åˆ°ä¸€ä¸ªé—®é¢˜: åº”è¯¥åœ¨å“ªäº›åœ°æ–¹åŠ æ³¨é‡Šï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;&lt;em&gt;å…ˆæ¥çœ‹è¿™æ®µä»£ç &lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; a, b, c; a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;9.81&lt;&#x2F;span&gt;&lt;span&gt;; b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;; c&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;.5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;(b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä»£ç å¾ˆç®€æ´ï¼Œä½†å°±æ˜¯ä¸çŸ¥é“ a,b,c ä»£è¡¨ä»€ä¹ˆï¼Œå°†æ¥å¦‚æœè¦ç»´æŠ¤è¿™æ ·çš„ç¨‹åºï¼Œä¼šæŠ‘éƒçš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;em&gt;å†æ¥çœ‹çœ‹è¿™æ®µä»£ç &lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const float&lt;&#x2F;span&gt;&lt;span&gt; a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;9.81&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;gravitational force
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;time in seconds
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;(b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;multiply the time and gravity together to get displacement.
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯å¥½ä¸€ç‚¹ï¼Œè‡³å°‘çŸ¥é“è¿™äº›å˜é‡ä»£è¡¨ç€ä»€ä¹ˆã€‚ä½†å¦‚æœä¸‹é¢è¿˜ä¼šç”¨åˆ°è¿™äº›ä»£ç ï¼Œä¾æ—§ä¼šå´©æºƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;em&gt;å†æ”¹è¿›ä¸€ä¸‹&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const float&lt;&#x2F;span&gt;&lt;span&gt; gravitationalForce &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;9.81&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; timeInSeconds &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; displacement &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; gravitationalForce &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(timeInSeconds &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™å°±å¥½å¤šäº†ï¼Œæ¯ä¸ªå˜é‡åéƒ½æ˜¯è‡ªè§£é‡Šç±»å‹ï¼Œçœ‹ç€åå°±çŸ¥é“ä»€ä¹ˆæ„æ€ï¼Œé˜…è¯»èµ·æ¥ä¹Ÿä¸ä¼šæœ‰éšœç¢ã€‚ä½†æœ€åçš„å…¬å¼è¿˜æ˜¯æœ‰ç‚¹ä¸çŸ¥æ‰€äº‘ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;em&gt;åŠ ä¸Šåˆç†çš„æ³¨é‡Š&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;* compute displacement with Newton&amp;#39;s equation x = vâ‚’t + Â½atÂ² *&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const float&lt;&#x2F;span&gt;&lt;span&gt; gravitationalForce &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;9.81&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; timeInSeconds &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; displacement &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; gravitationalForce &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(timeInSeconds &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;^ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;em&gt;å½“ç„¶ä¹Ÿå¯ä»¥å†ä»å‘½åä¸Šä½œæ–‡ç« ï¼Œé¿å…æ³¨é‡Šï¼ŒåŒæ—¶åˆä¸å½±å“é˜…è¯»&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;m&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-m &quot;&gt;&lt;code class=&quot;language-m&quot; data-lang=&quot;m&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;const float&lt;&#x2F;span&gt;&lt;span&gt; accelerationDueToGravity &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;9.81&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; timeInSeconds &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt; displacement &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; NewtonianPhysics.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;CalculateDisplacement&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(accelerationDueToGravity, timeInSeconds)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ‰€ä»¥åˆæ ¼çš„ä»£ç åº”è¯¥æ˜¯è‡ªè§£é‡Šçš„ï¼Œå†åŠ ä¸Šåˆç†çš„æ³¨é‡Šã€‚æ‰€è°“åˆç†çš„æ³¨é‡Šå°±æ˜¯åœ¨å¯èƒ½ä¼šå¼•èµ·æ··æ·†æˆ–ä¸å¤ªå¥½ç†è§£çš„åœ°æ–¹åŠ ä¸Šè¯´æ˜ã€‚å¦‚æœä½ çš„ç¨‹åºå¤ªä¾èµ–æ³¨é‡Šï¼Œé‚£å°±è¯¥é‡æ„äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;PS: å¦‚æœä½ å¯¹ comment æ–‡åŒ–æœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹ stackoverflow ä¸Šçš„&lt;a href=&quot;http:&#x2F;&#x2F;stackoverflow.com&#x2F;q&#x2F;184618&#x2F;94962&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>phpç¨‹åºå‘˜æ˜¯å¦è¯¥å­¦ä¹ python</title>
            <pubDate>Wed, 08 Sep 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/php-vs-python/</link>
            <guid>https://limboy.me/posts/php-vs-python/</guid>
            <description>&lt;p&gt;å…¶å®æ ‡é¢˜å¯ä»¥å˜ä¸º&amp;quot;xx ç¨‹åºå‘˜æ˜¯å¦è¯¥å­¦ä¹  yy&amp;quot;ï¼Œxx å’Œ yy å¯ä»¥æ˜¯ä»»ä½•ç¼–ç¨‹è¯­è¨€ï¼Œè€Œç­”æ¡ˆæ€»æ˜¯&amp;quot;åº”è¯¥&amp;quot;ã€‚å› ä¸ºæˆ‘æœ¬èº«è·Ÿ php æ‰“äº†ä¸å°‘å¹´çš„äº¤é“ï¼ŒåŒæ—¶ python ä¹Ÿå­¦ä¹ äº†ä¸€æ®µæ—¶é—´ï¼Œæ‰€ä»¥å°±æŠŠè¿™ä¸¤ç§è¯­è¨€ä¸²èµ·æ¥äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;php å’Œ python ä¸Šæ‰‹éƒ½å¾ˆå®¹æ˜“ï¼Œphp åŸºæœ¬ä¸Šæ˜¯&amp;quot;å¤§æŠŠå‡½æ•°ä»»ä½ æŠ“ï¼ŒæŠ“æ¥å°±èƒ½åšé¡¹ç›®&amp;quot;ï¼Œpython æ˜¯&amp;quot;å¤§æŠŠæ¨¡å—ä»»ä½ é€‰ï¼Œäº‹åŠåŠŸå€å…¨é å®ƒ&amp;quot;ã€‚åŒæ–¹éƒ½æœ‰å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ‰©å±•ï¼Œå¾ˆå°‘éœ€è¦è‡ªå·±è´¹åŠ›å»å†™ä¸€ä¸ªï¼Œé™¤éè¿›è¡ŒäºŒæ¬¡å°è£…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆæ¥çœ‹çœ‹ PHP æ¯”è¾ƒçˆ½çš„å‡ ä¸ªç‰¹æ€§&lt;&#x2F;p&gt;
&lt;h3 id=&quot;array&quot;&gt;array&lt;&#x2F;h3&gt;
&lt;p&gt;php çš„&lt;a href=&quot;http:&#x2F;&#x2F;php.net&#x2F;manual&#x2F;en&#x2F;language.types.array.php&quot;&gt;æ•°ç»„&lt;&#x2F;a&gt;å‡ ä¹æ˜¯æ‰€æœ‰è¯­è¨€ä¸­æœ€å¼ºå¤§çš„ï¼ŒåŒæ—¶æ‰®æ¼”äº† list, dictionary, stack, queue ç”šè‡³æ›´å¤š(ç›¸ä¿¡è¿™ä¹Ÿæ˜¯è®¸å¤šäººå–œæ¬¢ PHP çš„ä¸€ä¸ªé‡è¦åŸå› )ã€‚è€Œä¸”ä½¿ç”¨è¿˜æŒºæ–¹ä¾¿ï¼Œæä¾›äº†&lt;a href=&quot;http:&#x2F;&#x2F;cn2.php.net&#x2F;manual&#x2F;en&#x2F;ref.array.php&quot;&gt;77 ä¸ªæ•°ç»„ç›¸å…³æ–¹æ³•&lt;&#x2F;a&gt;(è¿™ä¹Ÿä¸å¯é¿å…åœ°äº§ç”Ÿäº†å¦ä¸€ä¸ªé—®é¢˜ï¼Œä¸‹é¢ä¼šæåˆ°)ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yu-html-de-qin-mi-jie-he&quot;&gt;ä¸ html çš„äº²å¯†ç»“åˆ&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯å…¶ä»–è¯­è¨€å°‘æœ‰çš„ç‰¹æ€§ï¼Œphp æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ¨¡æ¿å¼•æ“ï¼Œå¯ä»¥ä¸ html å¤©ç„¶èåˆã€‚ä¸è¿‡ä¹Ÿæœ‰å¼Šç«¯ï¼Œå¦‚ html ä¸åº”è¯¥åŒ…å«å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸” php ä¸ html æ··æ‚å®åœ¨ä¸å¤Ÿç¾è§‚ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-quan-de-han-shu-he-feng-fu-de-di-san-fang-lei-ku&quot;&gt;é½å…¨çš„å‡½æ•°å’Œä¸°å¯Œçš„ç¬¬ä¸‰æ–¹ç±»åº“&lt;&#x2F;h3&gt;
&lt;p&gt;å‡½æ•°æ˜¯ php çš„æ ¸å¿ƒï¼Œè¿™ä¹Ÿæ˜¯ php å®¹æ˜“ä¸Šæ‰‹çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚è¦å®Œæˆä»€ä¹ˆåŠŸèƒ½ï¼Œåªè¦æ‰¾åˆ°è¯¥å‡½æ•°å³å¯ï¼Œä»è¿™ä¸ªæ–¹é¢æ¥è¯´ï¼Œphp æ›´é€‚åˆè„šæœ¬åŒ–ç¼–ç¨‹(è²Œä¼¼è¿™ä¹Ÿæ˜¯ php çš„åˆè¡·)ã€‚éšç€ php çš„æµè¡Œï¼Œç¬¬ä¸‰æ–¹ç±»åº“ä¹Ÿå¼€å§‹ä¸°å¯Œèµ·æ¥ï¼Œç”šè‡³å¯ä»¥ä¸º php å†™æ’ä»¶æ¥å¢å¼º php çš„åŠŸèƒ½ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;dui-oop-de-wan-mei-zhi-chi&quot;&gt;å¯¹ OOP çš„å®Œç¾æ”¯æŒ&lt;&#x2F;h3&gt;
&lt;p&gt;php4 è™½ç„¶ä¹Ÿå¯ä»¥è¿›è¡Œ oop ç¼–ç¨‹ï¼Œä½†è¯­è¨€æœ¬èº«ä¸ç»™åŠ›ï¼Œåªèƒ½åŠªåŠ›å¾€ OOP æ–¹å‘å»é ã€‚åˆ°äº† php5ï¼Œæƒ…å†µå°±æœ‰äº†å¾ˆå¤§çš„å¥½è½¬ï¼Œæ”¯æŒ PPP(private, protected, public) method å’Œ propertyï¼Œä»¥åŠ static&#x2F;final ç­‰è¯­æ³•ã€‚php5.3 è¿˜æ”¯æŒ LSB(late static bindings)ï¼Œè™½ç„¶æˆ‘è§‰å¾—æ”¯æŒå¾—å¾ˆä¸åˆ°ä½ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mo-zhu-fang-fa&quot;&gt;é­”æœ¯æ–¹æ³•&lt;&#x2F;h3&gt;
&lt;pre&gt;__get&#x2F;__set&#x2F;__call&#x2F;__toString&lt;&#x2F;pre&gt;ç­‰ç­‰ï¼Œè¿™äº›é­”æœ¯æ–¹æ³•ç»™ç±»å¸¦æ¥äº†å¾ˆå¤§çš„ä¾¿åˆ©ï¼Œéšä¾¿æ‰¾ä¸ªæµè¡Œçš„æ¡†æ¶ï¼ŒæŸ¥çœ‹æºç éƒ½ä¼šå‘ç°è¿™äº›é­”æœ¯æ–¹æ³•çš„å½±è¸ªï¼Œä»¿ä½›ä¸€ä¸‹å­å˜å¾—æ— æ‰€ä¸èƒ½ã€‚
&lt;p&gt;å†æ¥çœ‹çœ‹ PHP å‡ ä¸ªè®©äººä¸çˆ½çš„åœ°æ–¹&lt;&#x2F;p&gt;
&lt;h3 id=&quot;bian-liang-bei-fu-zhi-dan-que-bu-shi-yong&quot;&gt;å˜é‡è¢«èµ‹å€¼ï¼Œä½†å´ä¸ä½¿ç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸å¤ªå¥½ç†è§£ï¼Œå†™æ®µä»£ç å°±çŸ¥é“äº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;error_reporting(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello world&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä¸‹é¢è¿™æ®µä»£ç ä¼šæŠ¥NOTICE ERRORï¼Œä½†äº‹å®ä¸Š$str_arrå·²ç»è¢«èµ‹å€¼ï¼Œåªæ˜¯currentæ–¹æ³•æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªå˜é‡
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¿™æ®µä»£ç çš„è¿è¡Œè¿‡ç¨‹æ˜¯æ‰§è¡Œexplodeæ–¹æ³•ï¼Œç„¶åå°†ç»“æœèµ‹ç»™$str_arrï¼Œç„¶åå°†ç»“æœä½œä¸ºå‚æ•°ä¼ é€’ç»™currentæ–¹æ³•
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä¹Ÿå°±æ˜¯è¯´æ•´ä¸ªè¿‡ç¨‹æ²¡$str_arrä»€ä¹ˆäº‹ï¼Œ$str_arræ”¶åˆ°ç»“æœåå°±è¢«è¸¢èµ°äº†
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä½†æœ‰æ—¶å€™ï¼Œåªèƒ½ä½¿ç”¨å˜é‡è€Œä¸èƒ½ä½¿ç”¨å‡½æ•°çš„è¿”å›å€¼ï¼Œå¦‚empty
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$hello &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;current(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str_arr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;explode(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39; &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;bu-neng-zai-han-shu-fang-fa-hou-gen&quot;&gt;ä¸èƒ½åœ¨å‡½æ•°&#x2F;æ–¹æ³•åè·Ÿ[]&lt;&#x2F;h3&gt;
&lt;p&gt;è¿˜æ˜¯ä¸å¤ªå¥½ç†è§£ï¼Œç»§ç»­ä¸Šä»£ç &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;arr&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;world&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä¼šæŠ¥é”™ï¼Œäºæ˜¯åªèƒ½å…ˆæŠŠç»“æœèµ‹ç»™å˜é‡ï¼Œå†ä»è¿™ä¸ªå˜é‡å»è·å–ç›¸åº”å€¼ï¼Œç”¨å®Œä¹‹åå†unsetè¯¥å˜é‡
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;arr&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;hun-luan-de-ming-ming&quot;&gt;æ··ä¹±çš„å‘½å&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸Šé¢è¯´çš„å‡ ç‚¹åªæ˜¯å°é—®é¢˜ï¼Œè¿™ä¸ªå°±ä¸¥é‡äº†ã€‚php çš„å‘½åå‡ ä¹æ²¡æœ‰è§„å¾‹å¯å¾ªï¼Œéšä¾¿ä¸¾å‡ ä¸ªä¾‹å­&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å…¶ä¸­ä¸€ä¸ªå•è¯ç¼©å†™ï¼Œä¸­é—´æ²¡æœ‰åˆ†å‰²ç¬¦
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;strpos()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;tempnam()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä¸¤ä¸ªå•è¯æ²¡æœ‰ç¼©å†™ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªåˆ†å‰²ç¬¦
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;str_repeat()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;file_exists()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; é©¼å³°å‘½å
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;__toString&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ä¸‹åˆ’çº¿è¿æ¥
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;__set_state&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¿™ä¸ªå¤ªææ€–äº†ï¼Œå¼ºçƒˆæ€€ç–‘æ˜¯é…’åç¼–ç¨‹
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;mysql_real_escape_string()
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;nan-ji-de-can-shu&quot;&gt;éš¾è®°çš„å‚æ•°&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯å¾ˆè¦å‘½çš„ï¼Œæœ‰äº›æ–¹æ³•ï¼Œæˆ‘æ˜¯ç”¨ä¸€æ¬¡ï¼Œçœ‹ä¸€æ¬¡æ‰‹å†Œï¼Œæ¯”å¦‚ strpos&#x2F;in_array&#x2F;basename&#x2F;...ï¼Œå®Œå…¨æ²¡æœ‰å¥—è·¯å¯å¾ªã€‚æœ‰äº›æŠŠ$needleæ”¾åˆ°å‰é¢ï¼Œ$haystack æ”¾åˆ°åé¢(å¦‚ explode)ï¼Œæœ‰äº›æ­£å¥½å€’è¿‡æ¥(å¦‚ strpos)ï¼Œå¤ªå½±å“å†™ç¨‹åºçš„æ•ˆç‡äº†ã€‚æ€ªä¸å¾—å†™ PHP çš„åŸºæœ¬éƒ½éœ€è¦ä¸€ä¸ªå¼ºå¤§çš„ IDE(å¦‚ Zend&#x2F;NetBeans)ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ming-ming-kong-jian-de-que-shi&quot;&gt;å‘½åç©ºé—´çš„ç¼ºå¤±&lt;&#x2F;h3&gt;
&lt;p&gt;å°±å¥½åƒä¸€å¤§å †èƒ½äººå¼‚å£«æŒ¤åœ¨ä¸€ä¸ªæˆ¿å­é‡Œï¼Œè¦ç”¨åˆ°ä»€ä¹ˆåŠŸèƒ½äº†ï¼Œå°±æŠ“ä¸€ä¸ªå‡ºæ¥ï¼Œå¦‚æœè¦å¾€è¿™ä¸ªæˆ¿é—´åŠ äººçš„è¯ï¼Œè¿˜å¾—ä¿è¯ä¸èƒ½è·Ÿå·²æœ‰çš„é‡åã€‚å¦‚æœæœ‰å‘½åç©ºé—´çš„è¯ï¼Œå°±æ–¹ä¾¿äº†ï¼Œæ–°å»ºä¸€ä¸ªå±‹å­ï¼Œåªè¦è¿™ä¸ªå±‹å­ä¸è·Ÿåˆ«çš„å±‹å­é‡åå°±è¡Œï¼Œå±‹å­é‡Œçš„äººçˆ±èµ·ä»€ä¹ˆåèµ·ä»€ä¹ˆåï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒå†²çªã€‚å¥½åœ¨ php5.3 åŠ å…¥äº†å‘½åç©ºé—´ï¼Œè™½ç„¶ç”¨èµ·æ¥è¿˜æ˜¯æŒºåˆ«æ‰­ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸‹é¢æ¥è¯´è¯´ python å§ï¼Œå…¶å® python çš„èŒèƒ½æ˜¯è·¨å¹³å°è½¯ä»¶å¼€å‘ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨åš web å¼€å‘ï¼Œè€Œä¸”å‡ºç°äº†ä¸å°‘ä¼˜ç§€çš„ web æ¡†æ¶ï¼Œæ‰€ä»¥å°±ä¸å¯é¿å…åœ°ä¸ php æ­£é¢äº¤é”‹(php è™½ç„¶ä¹Ÿå¯ä»¥ç”¨æ¥å¼€å‘ gui è½¯ä»¶ï¼Œä½†å¤šå°‘æœ‰ç‚¹æ—é—¨å·¦é“çš„æ„Ÿè§‰)ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;python ç»™æˆ‘çš„æ„Ÿè§‰æ˜¯ç®€æ´ï¼Œå¼ºå¤§ä¸”ä¼˜é›…ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;jian-ji&quot;&gt;ç®€æ´&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;åŠä¸ªå•è¯èƒ½æå®šçš„å°±ä¸ç”¨æ•´ä¸ªå•è¯ï¼Œå¦‚ def&#x2F;elif&#x2F;iter&lt;&#x2F;li&gt;
&lt;li&gt;ä¸€è¡Œèƒ½æå®šçš„å°±ä¸ç”¨å¤šè¡Œ&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#generator expressions
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sum(i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;range(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;åŒæ—¶å¯¹å¤šä¸ªå˜é‡èµ‹å€¼&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;pre data-lang=&quot;py&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-py &quot;&gt;&lt;code class=&quot;language-py&quot; data-lang=&quot;py&quot;&gt;&lt;span&gt;a, b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;world&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;qiang-da&quot;&gt;å¼ºå¤§&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;å†…ç½®äº† 3 ç§å¸¸ç”¨æ•°æ®ç»“æ„ï¼štuple&#x2F;list&#x2F;dictionary&lt;&#x2F;li&gt;
&lt;li&gt;æ”¯æŒåŒ¿åå‡½æ•°&lt;&#x2F;li&gt;
&lt;li&gt;å¤šçº¿ç¨‹&lt;&#x2F;li&gt;
&lt;li&gt;å‡½æ•°çš„å‚æ•°(å¯ä»¥ä¸æŒ‰é¡ºåºä¼ å‚ï¼Œè¿™æ˜¯ä¸ªäº®ç‚¹)&lt;&#x2F;li&gt;
&lt;li&gt;...(php æœ‰çš„ï¼Œpython åŸºæœ¬ä¹Ÿå°‘ä¸äº†)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;you-ya&quot;&gt;ä¼˜é›…&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€åˆ‡çš†å¯¹è±¡&lt;&#x2F;li&gt;
&lt;li&gt;ä¸€åˆ‡çš†å¼•ç”¨&lt;&#x2F;li&gt;
&lt;li&gt;æ¨¡å—æœºåˆ¶&lt;&#x2F;li&gt;
&lt;li&gt;ç‹¬ç‰¹çš„ä¹¦å†™é£æ ¼(è¿™ä¸ªå› äººè€Œå¼‚å§ï¼Œè§‰å¾—æ¢è¡Œ+tab å¾ˆåˆ«æ‰­çš„ä¹Ÿå¤§æœ‰äººåœ¨)&lt;&#x2F;li&gt;
&lt;li&gt;è‡ªæˆ‘è¯´æ˜(docstring+pydoc)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å½“ç„¶ python ä¹Ÿéå®Œç¾ï¼Œä¸çˆ½çš„åœ°æ–¹ä¹ŸæŒºå¤šçš„ï¼Œå¦‚å‚æ•°çš„é»˜è®¤å€¼å¦‚æœæ˜¯ mutable(å¯å˜çš„)ï¼Œåªä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶åˆå§‹åŒ–ï¼›class çš„æ–¹æ³•è‡³å°‘è¦ä¼ ä¸€ä¸ª self å‚æ•°ç­‰ç­‰ã€‚ä½†ç‘•ä¸æ©ç‘œï¼Œphp ç¨‹åºå‘˜è¿˜æ˜¯åº”è¯¥äº†è§£ä¸€ä¸‹ pythonï¼Œå³ä½¿ä¸æ˜¯å…¨é¢è½¬å‘ pythonã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äº†ï¼Œä½¿ç”¨ python è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› æ˜¯ï¼šGAE(æˆ‘çŸ¥é“æœ‰ SAEï¼Œä½†~~~)&lt;&#x2F;p&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;http:&#x2F;&#x2F;ioreader.com&#x2F;2007&#x2F;08&#x2F;19&#x2F;12-things-you-should-dislike-about-php&#x2F;&lt;&#x2F;li&gt;
&lt;li&gt;http:&#x2F;&#x2F;ioreader.com&#x2F;2007&#x2F;08&#x2F;17&#x2F;11-cool-things-about-php-that-most-people-overlook&lt;&#x2F;li&gt;
&lt;li&gt;http:&#x2F;&#x2F;wiki.python.org&#x2F;moin&#x2F;PythonVsPhp&lt;&#x2F;li&gt;
&lt;li&gt;http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;1486608&#x2F;is-switching-from-php-to-python-worth-the-trouble&lt;&#x2F;li&gt;
&lt;li&gt;http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;3319261&#x2F;php-devs-that-moved-to-python-is-the-experience-better&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        
        
        <item>
            <title>æ•°æ®åˆ†ç¦»å¹¶å¿«é€Ÿæ˜¾ç¤ºç½‘é¡µ</title>
            <pubDate>Thu, 02 Sep 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/rest-flush-template/</link>
            <guid>https://limboy.me/posts/rest-flush-template/</guid>
            <description>&lt;p&gt;ä¼ ç»Ÿç½‘ç«™ä¸€èˆ¬éƒ½æ˜¯ç”¨æˆ·å‘å‡ºä¸€ä¸ª http è¯·æ±‚ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åå¼€å§‹ä¸šåŠ¡é€»è¾‘çš„å¤„ç†ï¼Œç„¶åæŠŠå¤„ç†åçš„æ•°æ®æ¸²æŸ“åˆ°æ¨¡æ¿é¡µï¼Œæœ€åæŠŠå†…å®¹è¾“å‡ºåˆ°ç”¨æˆ·çš„æµè§ˆå™¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹æœ‰ä¸ªé—®é¢˜: å¦‚æœæœåŠ¡ç«¯å¤„ç†çš„æ—¶é—´è¿‡é•¿(æ¯”å¦‚æŸä¸ªè´¹æ—¶çš„ SQL è¯­å¥)ï¼Œé‚£ä¹ˆç”¨æˆ·å°†çœ‹ä¸åˆ°ä»»ä½•å†…å®¹ï¼Œå³ä½¿æœ‰äº›æ•°æ®å·²ç»å¤„ç†å®Œæ¯•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è§£å†³åŠæ³•å¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨ php çš„&lt;a href=&quot;http:&#x2F;&#x2F;php.net&#x2F;flush&quot;&gt;flush&lt;&#x2F;a&gt;æ–¹æ³•ï¼Œå®ƒå¯ä»¥å°†å†…å®¹ç«‹åˆ»è¾“å‡ºåˆ°ç”¨æˆ·çš„æµè§ˆå™¨ã€‚ä¹Ÿå°±æ˜¯å¤„ç†å®Œå“ªäº›å°±è¾“å‡ºå“ªäº›ï¼Œè¿™æ ·å³ä½¿å¡åœ¨äº†æŸä¸ªæ“ä½œï¼Œç”¨æˆ·ä¹Ÿèƒ½çœ‹åˆ°å·²ç»å¤„ç†å®Œçš„ç»“æœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;flush-de-shi-xian-yuan-li&quot;&gt;flush çš„å®ç°åŸç†&lt;&#x2F;h3&gt;
&lt;p&gt;æ­£å¸¸çš„ http è¿”å›å¤´ä¿¡æ¯é‡Œä¼šåŒ…å«&amp;quot;Content-Length&amp;quot;ä¸€é¡¹ï¼Œæ ‡æ˜æœ¬æ¬¡ä¼ è¾“çš„å­—èŠ‚æ•°ã€‚http 1.1 æ–°å¢äº†&amp;quot;Transfer-Encoding&amp;quot;é€‰é¡¹ï¼Œå¯ä»¥æŒ‡å®šä¸º&amp;quot;chunked&amp;quot;ï¼Œè¿™æ ·å°±ä¸ç”¨ç†ä¼š&amp;quot;Content-Length&amp;quot;é€‰é¡¹äº†(å› ä¸ºä¸çŸ¥é“åˆ°åº•ä¼šä¼ è¾“å¤šå°‘å­—èŠ‚)ã€‚æœåŠ¡ç«¯æŒ‰ç…§ chunked æ ‡å‡†è¾“å‡ºå†…å®¹ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°&amp;quot;Transfer-Encoding:chunked&amp;quot;å¤´ä¿¡æ¯åï¼Œä¹Ÿä¼šæŒ‰ç…§ chunked æ ‡å‡†å»è§£æå†…å®¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œæœ‰ä¸€æ¡æ²³ï¼Œæ²³çš„ä¸€è¾¹ç€ç«äº†ï¼Œéœ€è¦åˆ°æ²³çš„å¦ä¸€è¾¹æ‰¾äººæ•‘ç«ï¼Œç„¶åä½ è¿…é€Ÿæ¶äº†ä¸€åº§æ¡¥(TCP&#x2F;IP)ï¼Œç„¶åè·‘åˆ°å¯¹å²¸(å‘é€ http è¯·æ±‚)ï¼Œè·Ÿé‚£é‡Œçš„æ‘é•¿è¯´æ˜äº†æƒ…å†µ(æœåŠ¡å™¨æ”¶åˆ° http è¯·æ±‚)ï¼Œä»¥å‰çš„åšæ³•æ˜¯æ‘é•¿åˆ°å„å®¶å„æˆ·å¬é›†åŠ³åŠ¨åŠ›(æœåŠ¡å™¨é›†ç¾¤)ï¼Œç­‰æŠŠåŠ³åŠ¨åŠ›éƒ½å¬é›†å®Œäº†ï¼Œç»Ÿä¸€è¿‡æ²³å»æ•‘ç«(å‘é€å¤„ç†å®Œçš„ç»“æœ)ã€‚ä½†åœ¨å¬é›†çš„è¿‡ç¨‹ä¸­ï¼ŒæŸå®¶æ­£åœ¨å¹²æ¶ï¼Œè¿™æ—¶æ‘é•¿å¾—å…ˆè‹¦å£å©†å¿ƒåœ°åšæ€æƒ³å·¥ä½œï¼Œç­‰å·¥ä½œåšå®Œäº†ï¼Œå†æŠŠç”·äººå¬é›†å‡ºæ¥ï¼Œä½†è¿™æ®µæ—¶é—´é‡Œï¼Œæ²³å¯¹å²¸çš„ç«ä¾æ—§åœ¨ç€(ç”¨æˆ·æ¼«é•¿çš„ç­‰å¾…ï¼Œå¯èƒ½çœŸçš„è¦ç«äº†)ï¼Œæ‰€ä»¥å¾ˆå¯èƒ½ç”±äºæŸå®¶æˆ–æŸå‡ å®¶çš„ç‰¹æ®Šæƒ…å†µå¯¼è‡´å»¶è¯¯äº†æ•‘ç«çš„æœ€ä½³æ—¶æœºã€‚ç°åœ¨çš„åšæ³•æ˜¯åªè¦å¬é›†åˆ°äººäº†ï¼Œé©¬ä¸Šè¿‡æ²³å»æ•‘ç«ï¼ŒæŠŠå¹³å¸¸æœ€å®¹æ˜“å‡ºçŠ¶å†µçš„å‡ æˆ·äººå®¶ç•™åˆ°æœ€åå»å¬é›†(è´Ÿæ‹…æ¯”è¾ƒé‡çš„å‡ å°æœåŠ¡å™¨)ï¼Œè¿™æ ·ç«è¢«æ‰‘ç­çš„å¯èƒ½æ€§å°±å¤§å¤§å¢åŠ äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;flush å°±å¥½æ¯”æ˜¯æœåŠ¡ç«¯æ¨(push)ï¼Œajax æ˜¯å®¢æˆ·ç«¯æ‹‰(pull)ã€‚æ¨çš„è¯å¯ä»¥åˆ©ç”¨å·²ç»å»ºç«‹çš„ http è¿æ¥ï¼Œå¦‚æœæ˜¯æ‹‰çš„è¯ï¼Œæ¯æ‹‰ä¸€æ¬¡å°±è¦å»ºç«‹ä¸€æ¬¡ http è¿æ¥ï¼Œä»£ä»·è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong-rest-he-client-template&quot;&gt;ä½¿ç”¨ REST å’Œ Client Template&lt;&#x2F;h3&gt;
&lt;p&gt;flush è§£å†³äº†å†…å®¹çš„å³æ—¶æ˜¾ç¤ºé—®é¢˜ï¼Œå¦‚æœè¦åšåˆ°æ•°æ®ä¸ç»“æ„åˆ†ç¦»ï¼Œå¯ä»¥ä½¿ç”¨ REST(å½“ç„¶å…¶ä»–çš„ web service ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼ŒREST åªæ˜¯ä¸ªäººå–œå¥½)ã€‚REST ä½œä¸ºæ•°æ®æºï¼ŒController æ”¶åˆ°è¯·æ±‚åï¼Œå…ˆé€šè¿‡ REST å»å–æ•°æ®ï¼Œå–åˆ°æ•°æ®åï¼Œå°è£…åˆ°ä¸€æ®µ js é‡Œï¼Œç„¶å flush ç»™å®¢æˆ·ç«¯ï¼Œå¾ªç¯æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°å®¢æˆ·ç«¯éœ€è¦çš„æ‰€æœ‰æ•°æ®éƒ½ä¼ è¾“å®Œæ¯•ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; controller
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;Controller_Post &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;extends &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;Controller
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ˜¾ç¤ºæŸç¯‡å…·ä½“çš„æ–‡ç« 
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;action_index&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;	{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¾“å‡ºé¡µé¢æ¨¡æ¿
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;template&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;content &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;View&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;factory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;post_index&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;template&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;flush()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; å¼€å§‹è·å–RESTæ•°æ®ï¼Œå¹¶flush
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$post_info &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;REST_Post&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;js_render&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;post&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, json_encode(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$post_info&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è·å–è¯¥æ–‡ç« çš„è¯„è®º
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$comments &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;REST_Comment&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;js_render&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;comments&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, json_encode(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$comments&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;js_renderæ–¹æ³•ï¼Œå®šä¹‰åœ¨å…¶ä»–æ–‡ä»¶
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;**
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; * &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@param&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; string $id é¡µé¢çš„dom id
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; * &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;@param&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; array $data ä½¿ç”¨åˆ°çš„æ•°æ®
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt; *&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;js_render&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$data&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; æ¨¡æ¿é¡µå·²ç»å®šä¹‰äº†jsçš„renderæ–¹æ³•
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&amp;lt;script&amp;gt;render(&amp;#39;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$id&lt;&#x2F;span&gt;&lt;span&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&amp;#39;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;)&amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;flush()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹æ¨¡æ¿é¡µ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;html&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-html &quot;&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script src=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;http:&#x2F;&#x2F;ajax.googleapis.com&#x2F;ajax&#x2F;libs&#x2F;jquery&#x2F;1&#x2F;jquery.min.js&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&amp;lt;!-- æ¨¡æ¿å¼•æ“ --&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script src=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;http:&#x2F;&#x2F;trimpath.googlecode.com&#x2F;files&#x2F;trimpath-template-1.0.38.js&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; è¿™ä¸ªå°±æ˜¯åœ¨js_renderæ–¹æ³•é‡Œç”¨åˆ°çš„renderæ–¹æ³•
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;render&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;id&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;data&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;var &lt;&#x2F;span&gt;&lt;span&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;TrimPath&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;processDOMTemplate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span&gt;data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;#&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;replaceWith&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span&gt;result&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;textarea id=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;post&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;style=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;display&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;none&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;h1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;${title}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;h1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;div class&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9ae5;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;content&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;${content}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;div&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;textarea
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸ªæ¨¡æ¿é¡µæ²¡æœ‰&lt;code&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;code&gt;å’Œ&lt;code&gt;&amp;lt;&#x2F;html&amp;gt;&lt;&#x2F;code&gt;ï¼Œå› ä¸ºæˆ‘ä»¬ä¹‹åè¿˜è¦å¾€è¿™ä¸ªé¡µé¢é‡Œè¾“å…¥å†…å®¹ï¼Œæœ€åæ¸²æŸ“å®Œçš„é¡µé¢å¤§æ¦‚æ˜¯è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;html&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-html &quot;&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&amp;lt;!-- &#x2F;&#x2F;... --&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;textarea id=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;post&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;style=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;display&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;none&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;&#x2F; template here
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;textarea
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&amp;lt;!-- more textarea template --&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&amp;lt;!-- è¿™äº›æ˜¯flushå‡ºæ¥çš„ --&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;render&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;post&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        title: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello world&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;        content: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;what a wonderful life&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;      })&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;render&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;comments&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, {[&lt;&#x2F;span&gt;&lt;span&gt;content&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;blah blah&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span&gt;created&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;2010-09-20&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;], [&lt;&#x2F;span&gt;&lt;span&gt;content&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;blah blah&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span&gt;created&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;2010-09-30&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;]})&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;script&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;head&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;lt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;html&lt;&#x2F;span&gt;&lt;span style=&quot;color:#5d9be5;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·æœåŠ¡ç«¯åªæä¾›æ•°æ®ï¼Œå®¢æˆ·ç«¯è´Ÿè´£è§£æè¿™äº›æ•°æ®ï¼Œå¹¶æ˜¾ç¤ºåˆ°é¡µé¢ã€‚å°†æ¥å¦‚æœå¼€æ”¾ APIï¼Œæˆ–è€…è¦é’ˆå¯¹æ‰‹æœºå¼€å‘ï¼Œä¹Ÿå¾ˆæ–¹ä¾¿äº†ï¼Œå› ä¸ºç½‘ç«™æœ¬èº«ç”¨çš„å°±æ˜¯ APIï¼Œè€Œæ‰‹æœºçš„è¯ï¼Œåªè¦æ¢ä¸ªæ˜¾ç¤ºçš„æ¨¡æ¿å°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>SSHå°æŠ€å·§</title>
            <pubDate>Sat, 28 Aug 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/ssh-tips/</link>
            <guid>https://limboy.me/posts/ssh-tips/</guid>
            <description>&lt;p&gt;å‚è€ƒï¼š
&lt;a href=&quot;http:&#x2F;&#x2F;blog.ksplice.com&#x2F;2010&#x2F;08&#x2F;six-things-i-wish-mom-told-me-about-ssh&#x2F;&quot;&gt;Six Things I wish Mom told me(about ssh)&lt;&#x2F;a&gt;
&lt;a href=&quot;http:&#x2F;&#x2F;troy.jdmz.net&#x2F;rsync&#x2F;index.html&quot;&gt;Using Rsync and Ssh&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç”¨è¿‡ linux çš„ï¼Œå¯¹ SSH åº”è¯¥å°±æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œä½†æœ‰äº›æŠ€å·§å¯èƒ½ä½ æœªå¿…çŸ¥é“ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;lian-jie-cheng-gong-hou-yun-xing-ming-ling&quot;&gt;è¿æ¥æˆåŠŸåè¿è¡Œå‘½ä»¤&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“å¯ä»¥é€šè¿‡ SSH è·å–è¿œç¨‹ shellï¼Œç„¶åè¿è¡Œå‘½ä»¤ã€‚å¦‚æœåªæƒ³è¿è¡Œå•ä¸ªå‘½ä»¤çš„è¯ï¼Œç›´æ¥æŠŠå‘½ä»¤é™„åŠ åœ¨ SSH å‘½ä»¤ä¹‹åå³å¯ï¼Œå¦‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ssh bebop uname&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -a
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;Linux&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; bebop 2.6.32-24-generic &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#39-Ubuntu SMP Wed Jul 28 05:14:15 UTC 2010 x86_64 GNU&#x2F;Linux
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™ä¸ªæœ€å¥½ç»“åˆæ— é¡»è¾“å…¥å¯†ç çš„ SSH ç™»å½•ã€‚å¦‚æœæƒ³è·å– python ç‰ˆæœ¬ï¼Œç›´æ¥&amp;quot;ssh hostname python -V&amp;quot;&lt;&#x2F;p&gt;
&lt;p&gt;ä½†æœ‰äº›å‘½ä»¤å¯èƒ½ä¼šæŠ¥é”™ï¼Œå¦‚&amp;quot;top&amp;quot;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ssh bebop top
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;TERM&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; environment variable not set.
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ—¶åªéœ€åŠ ä¸Š&amp;quot;-t&amp;quot;å‚æ•°å°±è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬æ‰§è¡Œ ssh è¿æ¥æ—¶å¹¶æ²¡æœ‰æŒ‡å®šå…·ä½“çš„ä¸»æœºå(ip)å’Œç”¨æˆ·ï¼Œè€Œåªæ˜¯&amp;quot;bebop&amp;quot;ï¼Œè¿™æ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿä¸”çœ‹ä¸‹æ–‡&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong-bie-ming&quot;&gt;ä½¿ç”¨åˆ«å&lt;&#x2F;h3&gt;
&lt;p&gt;å‡å¦‚åœ¨ä¸€ä¸ªä¸»æœºä¸Šä¸ºä¸åŒç”¨æˆ·åˆ†åˆ«å¼€é€šäº†ä¸åŒçš„ ssh è´¦å·ï¼Œè¿æ¥æ—¶å°±å¾—è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ssh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; 2222 bob.example.com
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ssh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; 8183 waseem@alice.example.com
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ssh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -p&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; 31337&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -l&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; waseemio wsd.example.com
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¾ˆéº»çƒ¦ï¼Œè€Œä¸”ç«¯å£æˆ–è€…å…¶ä»–å‚æ•°æœ‰å˜åŠ¨çš„è¯ï¼Œä¸ä¸€å®šè®°å¾—ä½ã€‚å…¶å®åªè¦é…ç½®ä¸€ä¸‹.ssh&#x2F;config æ–‡ä»¶å°±å¯ä»¥äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;Host bob
&lt;&#x2F;span&gt;&lt;span&gt;    HostName bob.example.com
&lt;&#x2F;span&gt;&lt;span&gt;    Port 2222
&lt;&#x2F;span&gt;&lt;span&gt;    User wdaher
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Host alice
&lt;&#x2F;span&gt;&lt;span&gt;    HostName alice.example.com
&lt;&#x2F;span&gt;&lt;span&gt;    Port 8183
&lt;&#x2F;span&gt;&lt;span&gt;    User waseem
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Host self
&lt;&#x2F;span&gt;&lt;span&gt;    HostName wsd.example.com
&lt;&#x2F;span&gt;&lt;span&gt;    Port 31337
&lt;&#x2F;span&gt;&lt;span&gt;    User waseemio
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿æ¥æ—¶ï¼Œå°±å˜æˆè¿™æ ·äº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ssh bob
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ssh alice
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ssh self
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œå¦‚æœ SSH çš„å‚æ•°æ”¹å˜çš„è¯ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶å°±è¡Œäº†ï¼Œå‘½ä»¤ä¸å˜ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;duan-kou-zhuan-fa&quot;&gt;ç«¯å£è½¬å‘&lt;&#x2F;h3&gt;
&lt;p&gt;å‡è®¾æœ‰è¿™ä¹ˆä¸ªæƒ…å†µï¼šä½ å·²ä¸‹ç­å›å®¶ï¼Œè¿™æ—¶æƒ³è¦æŸ¥çœ‹å…¬å¸å†…ç½‘(analytics)çš„æŸä¸ª web é¡µï¼Œä½†åªèƒ½ SSH åˆ°è‡ªå·±åœ¨å…¬å¸çš„ç”µè„‘(desktop)ï¼Œdesktop å’Œ analytics åœ¨ä¸€ä¸ªå±€åŸŸç½‘ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆæ¥çœ‹ä¸€æ®µå‘½ä»¤&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ssh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; desktop&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -L&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; 8080:desktop:80
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ®µå‘½ä»¤è¡¨ç¤ºçš„æ˜¯ ssh è¿åˆ° desktop åï¼Œè½¬å‘æœ¬åœ° 8080 ç«¯å£åˆ° desktop çš„ 80 ç«¯å£ï¼Œè¿™æ—¶ï¼Œå¦‚æœè®¿é—®&amp;quot;http:&#x2F;&#x2F;localhost:8080&amp;quot;ï¼Œå°±ä¼šè½¬å‘åˆ° desktop çš„ 80 ç«¯å£ã€‚è¿™æ ·çš„è¯ï¼ŒæŠŠ desktop:80 æ¢æˆ analytics:80 ä¸å°±å¤§åŠŸå‘Šæˆäº†å—&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ssh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; desktop&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -L&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; 8080:analytics:80
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·è®¿é—®æœ¬åœ°çš„ 8080 ç«¯å£ï¼Œå°±ä¼šè½¬åˆ° analytics çš„ 80 ç«¯å£ï¼Œé€šè¿‡ desktop è¿™ä¸ªè·³æ¿ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ›´åŠ ä¸€åŠ³æ°¸é€¸çš„æ–¹æ³•æ˜¯ä½¿ç”¨-D å‚æ•°ï¼Œå°† desktop å˜æˆä¸€ä¸ª&lt;a href=&quot;http:&#x2F;&#x2F;baike.baidu.com&#x2F;view&#x2F;490489.htm?fr=ala0_1&quot;&gt;socks5&lt;&#x2F;a&gt;ä»£ç†æœåŠ¡å™¨(å¯¹è¿™ä¸ª-D å‘½ä»¤ï¼Œå¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰äº†å§)ï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­é…ç½®ä»£ç†ä¸º&amp;quot;localhost:8080&amp;quot;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ssh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; desktop&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; 8080 desktop
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·æ‰€æœ‰çš„æµè§ˆå™¨è®¿é—®éƒ½ä¼šé€šè¿‡ desktop è¿›è¡Œè½¬å‘ï¼Œä¹Ÿå°±æ˜¯è¯´ç›´æ¥è®¿é—® http:&#x2F;&#x2F;analytics å°±å¯ä»¥äº†ã€‚(analytics åœ°å€åœ¨ hosts é‡Œé…ç½®ï¼Œå¦‚ 192.168.1.110 analytics)&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong&quot;&gt;ä½¿ç”¨&amp;quot;~&amp;quot;&lt;&#x2F;h3&gt;
&lt;p&gt;&amp;quot;~&amp;quot;(ä¸åŒ…æ‹¬å¼•å·)æ˜¯ ssh ä¿ç•™å­—ç¬¦ï¼Œåœ¨æ–°è¡Œè¾“å…¥&amp;quot;~&amp;quot;åï¼Œå¯ä»¥é…åˆå¾ˆå¤šé”®ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„å°±æ˜¯&amp;quot;~.&amp;quot;å’Œ&amp;quot;~^Z&amp;quot;(Ctrl+Z)&lt;&#x2F;p&gt;
&lt;p&gt;&amp;quot;~.&amp;quot;ä¼šç»ˆæ­¢ ssh è¿æ¥ï¼Œå¦‚æœä¸­æ–­äº†è¿æ¥ï¼Œåˆä¸æƒ³ç­‰ ssh session è¿‡æœŸï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå¿«æ·é”®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&amp;quot;~^Z&amp;quot;ä¼šæŠŠå½“å‰çš„ ssh è¿æ¥æ”¾åˆ°åå°ï¼Œç­‰å®Œæˆäº†å…¶ä»–å·¥ä½œåï¼Œå†æŠŠè¿™ä¸ªè¿æ¥å–å‡ºæ¥ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; ssh bebop
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@bebop:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; sleep 10000
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@bebop:~$ ~&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;^Z &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;suspend ssh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;[1]+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;  Stopped                 ssh bebop
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# Do something else
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;wdaher@rocksteady:~$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; fg &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;# and you&amp;#39;re back!
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;tong-guo-authorized-keys-zhi-ding-deng-lu-hou-yao-zhi-xing-de-ming-ling&quot;&gt;é€šè¿‡ authorized_keys æŒ‡å®šç™»å½•åè¦æ‰§è¡Œçš„å‘½ä»¤&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªè·Ÿå‰é¢æåˆ°çš„&amp;quot;è¿æ¥æˆåŠŸåè¿è¡Œå‘½ä»¤&amp;quot;ä¸ä¸€æ ·ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯å®šä¹‰åœ¨ authorized_keys é‡Œçš„ï¼Œssh è¿ä¸Šåï¼Œåªèƒ½æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œå¹¶ä¸”æ‰§è¡Œå®Œåç«‹å³é€€å‡ºã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…ˆçœ‹çœ‹æ­£å¸¸çš„ authorized_keys&lt;&#x2F;p&gt;
&lt;pre&gt;
ssh-dss AAAAB3NzaC1kc3MAAAEBAKYJenaYvMG3nHwWxKwlWLjHb77CT2hXwmC8Ap+fG8wjlaY&#x2F;9t4u
A+2qx9JNorgdrWKhHSKHokFFlWRj+qk3q+lGHS+hsXuvta44W0yD0y0sW62wrEVegz+JVmntxeYc0nDz
5tVGfZe6ydlgomzj1bhfdpYe+BAwop8L+EMqKLS4iSacNjoPlHsmqHMnbibn3tBqJEq2QJjEPaiYj1iP
5IaCuYBhuTKQGa+oyH3mXEif5CKdsIKBj46B0tCy0&#x2F;GC7oWcUN92QdLrUyTeRJZsTWsxKpRbMliD2pBh
4oyX&#x2F;aXEf8+HZBrO5vQjDBCfTFQA+35Xrd3eTVEjkGkncI0SAeUAAAAVAMZSASmQ9Pi38mdm6oiVXD55
Kk2rAAABAE&#x2F;bA402VuCsOLg9YS0NKxugT+o4UuIjyl6b2&#x2F;cMmBVWO39lWAjcsKK&#x2F;zEdJbrOdt&#x2F;sKsxIK
1&#x2F;ZIvtl92DLlMhci5c4tBjCODey4yjLhApjWgvX9D5OPp89qhah4zu509uNX7uH58Zw&#x2F;+m6ZOLHN28mV
5KLUl7FTL2KZ583KrcWkUA0Id4ptUa9CAkcqn&#x2F;gWkHMptgVwaZKlqZ+QtEa0V2IwUDWS097p3SlLvozw
46+ucWxwTJttCHLzUmNN7w1cIv0w&#x2F;OHh5IGh+wWjV9pbO0VT3&#x2F;r2jxkzqksKOYAb5CYzSNRyEwp+NIKr
Y+aJz7myu4Unn9de4cYsuXoAB6FQ5I8AAAEBAJSmDndXJCm7G66qdu3ElsLT0Jlz&#x2F;es9F27r+xrg5pZ5
GjfBCRvHNo2DF4YW9MKdUQiv+ILMY8OISduTeu32nyA7dwx7z5M8b+DtasRAa1U03EfpvRQps6ovu79m
bt1OE8LS9ql8trx8qyIpYmJxmzIdBQ+kzkY+9ZlaXsaU0Ssuda7xPrX4405CbnKcpvM6q6okMP86Ejjn
75Cfzhv65hJkCjbiF7FZxosCRIuYbhEEKu2Z9Dgh+ZbsZ+9FETZVzKBs4fySA6dIw6zmGINd+KY6umMW
yJNej2Sia70fu3XLHj2yBgN5cy8arlZ80q1Mcy763RjYGkR&#x2F;FkLJ611HWIA= thisuser@thishost
&lt;&#x2F;pre&gt;
&lt;p&gt;ä¿®æ”¹ä¹‹åï¼Œå°±æ˜¯è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre&gt;
from=&quot;10.1.1.1&quot;,command=&quot;&#x2F;home&#x2F;remoteuser&#x2F;command&quot; ssh-dss AAAA...
&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶å®å°±æ˜¯åœ¨æœ€å‰é¢åŠ äº† from å’Œ commandï¼Œfrom è¡¨æ˜ä»å“ªä¸ª ip è¿è¿‡æ¥çš„ï¼Œå¦‚æœæ˜¯ç”¨ adsl æ‹¨å·ä¸Šç½‘ï¼Œip ä¼šç»å¸¸å˜åŠ¨ï¼Œå¯ä»¥æŠŠè¿™ä¸ªå‚æ•°å»æ‰ã€‚command è¡¨æ˜è¿æ¥æˆåŠŸåè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥åœ¨ command é‡Œé™åˆ¶è¯¥ç”¨æˆ·å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤(åˆ«å¿˜äº†åŠ ä¸Šå¯æ‰§è¡Œæƒé™)ï¼Œå‡è®¾é™åˆ¶è¯¥ç”¨æˆ·åªèƒ½æ‰§è¡Œ rsync å‘½ä»¤:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#!&#x2F;bin&#x2F;sh
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;SSH_ORIGINAL_COMMAND&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;in
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Rejected&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Rejected&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Rejected&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Rejected&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Rejected&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\`&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Rejected&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Rejected&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;;;
&lt;&#x2F;span&gt;&lt;span&gt;rsync&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\ &lt;&#x2F;span&gt;&lt;span&gt;--server&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$SSH_ORIGINAL_COMMAND
&lt;&#x2F;span&gt;&lt;span&gt;;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Rejected&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;esac
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;$SSH_ORIGINAL_COMMAND è¡¨ç¤ºçš„æ˜¯ç”¨æˆ·å®é™…æ‰§è¡Œçš„å‘½ä»¤&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-ta-ji-qiao&quot;&gt;å…¶ä»–æŠ€å·§&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;jin-zhi-root-yong-hu-deng-lu&quot;&gt;ç¦æ­¢ Root ç”¨æˆ·ç™»å½•&lt;&#x2F;h3&gt;
&lt;p&gt;å…è®¸ root ç”¨æˆ·ç™»å½•å¤ªå±é™©äº†(è™½ç„¶å¾ˆæ–¹ä¾¿)ï¼Œå› ä¸ºå¯ä»¥åˆ é™¤ä»»ä½•æ–‡ä»¶ï¼Œå¯ä»¥åœ¨&#x27;&#x2F;etc&#x2F;ssh&#x2F;sshd_config&#x27;é‡Œé…ç½®ä¸€ä¸‹ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;PermitRootLogin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; no
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#æˆ–è€…åªå…è®¸æ‰§è¡Œæœ‰é™çš„å‘½ä»¤
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;PermitRootLogin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; forced-commands-only
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;mian-mi-ma-deng-lu&quot;&gt;å…å¯†ç ç™»å½•&lt;&#x2F;h3&gt;
&lt;p&gt;å…ˆç”¨ ssh-keygen ç”Ÿæˆä¸€å¯¹ç§é’¥å’Œå…¬é’¥ï¼Œç„¶åæŠŠå…¬é’¥æ·»åŠ åˆ°è¿œç¨‹ä¸»æœºçš„ authorized_keys é‡Œå°±è¡Œäº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#ç”Ÿæˆç§é’¥å’Œå…¬é’¥ï¼Œé»˜è®¤æ”¾åœ¨~&#x2F;.ssh&#x2F;æ–‡ä»¶å¤¹ä¸‹ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œæç¤ºè¾“å…¥passphareæ—¶ï¼Œç›´æ¥å›è½¦
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#é¡ºåˆ©çš„è¯å°±ä¼šåœ¨~&#x2F;.ssh&#x2F;æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆid_rsa.pubå’Œid_rsaä¸¤ä¸ªæ–‡ä»¶
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ssh-keygen&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -t&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; rsa
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#æŠŠid_rsa.pubä¸Šä¼ åˆ°è¿œç¨‹ä¸»æœºï¼Œæ–¹æ³•å¾ˆå¤šï¼Œssh-copy-idåªæ˜¯å…¶ä¸­ä¸€ç§
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ssh-copy-id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; username@hostname
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;#å¦‚æœid_rsa.pubåœ¨å…¶ä»–æ–‡ä»¶å¤¹ä¸‹
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;ssh-copy-id&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt; -i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt; &#x2F;path&#x2F;to&#x2F;id_rsa.pub username@hostname
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ ·ä¸‹æ¬¡å°±å¯ä»¥ç›´æ¥ç™»å½•äº†&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>PHPç‰¹æ€§å°ç»“</title>
            <pubDate>Fri, 27 Aug 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/hidden-php-features/</link>
            <guid>https://limboy.me/posts/hidden-php-features/</guid>
            <description>&lt;p&gt;å…¶å®å°±æ˜¯æ€»ç»“äº†ä¸€ä¸‹&lt;a href=&quot;http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;61401&#x2F;hidden-features-of-php&quot;&gt;è¿™ä¸ªå¸–å­&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wen-dang&quot;&gt;æ–‡æ¡£&lt;&#x2F;h3&gt;
&lt;p&gt;PHP æ–‡æ¡£çš„ç‰¹ç‚¹ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æµè§ˆæ–¹ä¾¿&lt;&#x2F;li&gt;
&lt;li&gt;ç”¨æˆ·è¯„è®ºæ˜¯ä¸€å¤§äº®ç‚¹&lt;&#x2F;li&gt;
&lt;li&gt;è¦æŸ¥è¯¢æŸä¸ªå‡½æ•°ï¼Œè¾“å…¥ï¼šwww.php.net&#x2F;function å°±ä¼šè·³è½¬åˆ°è¯¥å‡½æ•°çš„å…·ä½“é¡µ&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;shu-zu&quot;&gt;æ•°ç»„&lt;&#x2F;h3&gt;
&lt;p&gt;PHP çš„æ•°ç»„æ˜¯æˆ‘ç”¨è¿‡çš„è¯­è¨€ä¸­æœ€å¼ºå¤§çš„ï¼Œå…¶å®å°±æ˜¯ä¸ªæœ‰åºæ˜ å°„è¡¨(ordered map)ï¼Œå¹¶ä¸ºå„ç§ä½¿ç”¨ä½œäº†ä¼˜åŒ–ã€‚å¯ä»¥çœ‹ä½œåˆ—è¡¨ã€å“ˆå¸Œè¡¨ã€å­—å…¸ã€é›†åˆã€æ ˆã€é˜Ÿåˆ—ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;liu-chu-li&quot;&gt;æµå¤„ç†&lt;&#x2F;h3&gt;
&lt;p&gt;å¯ä»¥æ‰©å±•æ–‡ä»¶æµï¼Œæ¯”å¦‚&lt;a href=&quot;http:&#x2F;&#x2F;www.phpclasses.org&#x2F;browse&#x2F;package&#x2F;1919.html&quot;&gt;excel æµå¤„ç†&lt;&#x2F;a&gt;ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥æ¥åˆ›å»ºä¸€ä¸ª excel æ–‡ä»¶&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fopen(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;xlsfile:&#x2F;&#x2F;tmp&#x2F;test.xls&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;wb&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;is_resource(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fp&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;die&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Cannot open excel file&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Name&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Bob Loblaw&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Age&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;50&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Name&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Popo Jijo&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Age&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;75&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Name&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Tiny Tim&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Age&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;90&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fwrite(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fp&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, serialize(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$data&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fclose(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fp&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;mo-zhu-fang-fa&quot;&gt;é­”æœ¯æ–¹æ³•&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;__get&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span&gt;) { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;... &lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;__set&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$value&lt;&#x2F;span&gt;&lt;span&gt;) { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;... &lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;__call&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$func&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$args&lt;&#x2F;span&gt;&lt;span&gt;) { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;... &lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;public function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;__toString&lt;&#x2F;span&gt;&lt;span&gt;() { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;... &lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;or-and&quot;&gt;or&#x2F;and&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;isset(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$foo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;OR &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;print &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;$foo is not defined&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;spl-autoload-register&quot;&gt;spl_autoload_register&lt;&#x2F;h3&gt;
&lt;p&gt;ä½¿ç”¨ spl_autoload_registerï¼Œè€Œä¸æ˜¯__autoloadï¼Œå› ä¸º spl_autoload_register å…è®¸è®¾ç½®å¤šä¸ªå®ä¾‹ï¼Œè€Œä¸ä¼šè¦†ç›–ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;spl_autoload_register(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;autoloader&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;autoloader&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$class&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;è¿™é‡Œå¯ä»¥å¯¹$classè¿›è¡Œå¤„ç†
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;set-include-path&quot;&gt;set_include_path&lt;&#x2F;h3&gt;
&lt;p&gt;è®¾ç½®å¼•ç”¨è·¯å¾„ï¼Œæ¯”å¦‚å¼•ç”¨ zend çš„ libraries æ—¶ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;set_include_path(get_include_path() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;. &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;PATH_SEPARATOR &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;. &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;..&#x2F;libs&#x2F;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;chu-li-yuan-cheng-wen-jian-url&quot;&gt;å¤„ç†è¿œç¨‹æ–‡ä»¶&#x2F;url&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$fp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fopen(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;http:&#x2F;&#x2F;example.com&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;file_get_contents(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;http:&#x2F;&#x2F;example.com&#x2F;file&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$imageInfo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;getimagesize(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;ftp:&#x2F;&#x2F;user:password@ftp.example.com&#x2F;image&#x2F;name.jpg&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è™½ç„¶è¿™äº›å‡½æ•°çš„å¥å£®æ€§å’Œç¨³å®šæ€§ä¸å¦‚ curlï¼Œä½†æ¯•ç«Ÿä½¿ç”¨æ–¹ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;strtr&quot;&gt;strtr&lt;&#x2F;h3&gt;
&lt;p&gt;ä½¿ç”¨æ–¹ä¾¿ï¼Œæ•ˆç‡é«˜ï¼Œç”¨æ¥æ›¿æ¢å­—ç¬¦ä¸²å†…çš„ç‰¹å®šå€¼ã€‚æœ‰ç‚¹ç±»ä¼¼ str_replaceï¼Œä½†æ›´çµæ´»ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo strtr(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hello world&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, array(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;world&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hell&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;extract&quot;&gt;extract&lt;&#x2F;h3&gt;
&lt;p&gt;é¡¾åæ€ä¹‰ï¼Œé‡Šæ”¾ä¸€ä¸ªæ•°ç»„å†…çš„å…ƒç´ ï¼Œæ„é€ æ¨¡æ¿å¼•æ“çš„æ—¶å€™å°¤ä¸ºæœ‰ç”¨&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;bar&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;extract(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$foo&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; output &amp;#39;bar&amp;#39;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;func-get-args&quot;&gt;func_get_args&lt;&#x2F;h3&gt;
&lt;p&gt;è·å–ä¼ é€’è¿‡æ¥çš„å‚æ•°&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;test&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$args &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;func_get_args()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$args&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; will print &amp;#39;d&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$args&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; will print 3
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;test&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;d&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;cli&quot;&gt;cli&lt;&#x2F;h3&gt;
&lt;p&gt;command line interfaceï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œè¿è¡Œ php è„šæœ¬ï¼Œç”¨æ¥å¤„ç†æ—¥å¸¸ä»»åŠ¡ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚å¯¹äº†åˆ«å¿˜äº†ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‚æ•° -aï¼Œè¿›å…¥äº¤äº’æ¨¡å¼&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;php &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;a
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Interactive shell
&lt;&#x2F;span&gt;&lt;span&gt;php &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;zai-ru-de-wen-jian-ke-yi-you-fan-hui-zhi&quot;&gt;è½½å…¥çš„æ–‡ä»¶å¯ä»¥æœ‰è¿”å›å€¼&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªæ¯”.ini æ–‡ä»¶æ›´åŠ çµæ´»ï¼Œä½ å¯ä»¥åœ¨æ–‡ä»¶é‡Œè¿è¡Œä¸€æ®µç¨‹åºåï¼Œè¿”å›è¿è¡Œç»“æœ&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; config.php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;db&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;host&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$_SERVER&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;HTTP_HOST&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;127.0.0.1&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;?&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;localhost&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;example.org&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;user&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;usr&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;    ),
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; ...
&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; index.php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;include &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;config.php&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$config&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;db&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;host&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;]; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; example.org
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;zai-han-shu-nei-ding-yi-jing-tai-bian-liang&quot;&gt;åœ¨å‡½æ•°å†…å®šä¹‰é™æ€å˜é‡&lt;&#x2F;h3&gt;
&lt;p&gt;æŠŠç±»çš„ç‰¹æ€§ç§»æ¤åˆ°å‡½æ•°é‡Œäº†ï¼Œæ¯”å¦‚æœ‰ä¸€äº›è¿ç®—é‡è¾ƒå¤§çš„å‡½æ•°ï¼Œå¯ä»¥æŠŠè¿ç®—ç»“æœæ”¾åˆ°è¿™ä¸ªé™æ€å˜é‡ï¼Œä¸‹æ¬¡è°ƒç”¨æ—¶æ£€æŸ¥ä¸€ä¸‹è¯¥å˜é‡æ˜¯å¦å·²ç»è¢«èµ‹å€¼ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;foo&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$arg1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cache&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt;( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;isset(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;[md5(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arg1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)]) &lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Do the work here
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cache&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;md5(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arg1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$results&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cache&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;md5(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arg1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;heredoc&quot;&gt;heredoc&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸ç”¨å†ä¸ºå¼•å·å‘æ„äº†&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;EOM
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;  &amp;lt;div id=&amp;quot;someblock&amp;quot;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;    &amp;lt;img src=&amp;quot;{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$file&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;}&amp;quot; &#x2F;&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;  &amp;lt;&#x2F;div&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;EOM&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;ba-zi-fu-chuan-dang-zuo-shu-zu&quot;&gt;æŠŠå­—ç¬¦ä¸²&amp;quot;å½“ä½œ&amp;quot;æ•°ç»„&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;hell o World&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;outputs: &amp;quot;hell o World&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;H&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;outputs: &amp;quot;Hell o World&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$str&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;outputs: &amp;quot;Hello World&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;kuai-su-zhu-shi-fan-zhu-shi-yi-duan-dai-ma&quot;&gt;å¿«é€Ÿæ³¨é‡Š&#x2F;åæ³¨é‡Šä¸€æ®µä»£ç &lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªç¡®å®å¾ˆæœ‰æ„æ€&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;*
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;blah&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;die&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;not commented&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;*&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;*
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	echo &amp;#39;blah&amp;#39;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	die(&amp;#39;commented&amp;#39;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;*&#x2F;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;han-shu-can-shu-lei-xing-ti-shi&quot;&gt;å‡½æ•°å‚æ•°ç±»å‹æç¤º&lt;&#x2F;h3&gt;
&lt;p&gt;ç›¸å¯¹äºå…¶ä»–ç¼–ç¨‹è¯­è¨€(java&#x2F;c#)ï¼Œphp è¿™å—æ¯”è¾ƒå¼±ï¼Œåªèƒ½åˆ¤æ–­æ•°ç»„å’Œå¯¹è±¡&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;foo &lt;&#x2F;span&gt;&lt;span&gt;( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;array &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$param0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c99e00;&quot;&gt;stdClass &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$param1 &lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;shu-zu-he-bing&quot;&gt;æ•°ç»„åˆå¹¶&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸ç”¨ array_mergeï¼Œè€Œæ˜¯ä½¿ç”¨&#x27;+&#x27;ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿ï¼Œä¹Ÿæ›´æ˜“ç†è§£ã€‚åœ¨å¤„ç†é»˜è®¤å€¼å’Œç”¨æˆ·å®šä¹‰å€¼æ—¶å°¤ä¸ºæ–¹ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F; Set the normal defaults.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$control_defaults &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;type&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;text&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;size&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;30 &lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$control &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$control_defaults &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;( &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;name&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;surname&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;size&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;40 &lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;shu-chu-huan-chong&quot;&gt;è¾“å‡ºç¼“å†²&lt;&#x2F;h3&gt;
&lt;p&gt;ä½¿ç”¨ ob_startï¼Œå…³é”®æ˜¯ ob_start è¿˜æ”¯æŒ callbackï¼ŒçœŸæ˜¯å¤ªè´´å¿ƒäº†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;censor&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$text&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;strtr(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$text&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, array(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;èƒ¡èåœ&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;***&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ob_start(&lt;&#x2F;span&gt;&lt;span&gt;censor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;å°ç™½å…”æœ€çˆ±åƒèƒ¡èåœ&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;ob_end_flush()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;è¾“å‡ºï¼šå°ç™½å…”æœ€çˆ±åƒ***
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;fan-she&quot;&gt;åå°„&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;ca.php.net&#x2F;manual&#x2F;en&#x2F;book.reflection.php&quot;&gt;reflection&lt;&#x2F;a&gt;ï¼Œå¾ˆå¼ºå¤§ï¼ŒåŸºæœ¬ä¸Šèƒ½è¿˜åŸä¸€ä¸ªç±»çš„å®é™…é¢è²Œã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ctype-function&quot;&gt;ctype function&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;ctype_alnum &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æ˜¯å¦ä¸ºå­—æ¯å’Œæ•°å­—çš„ç»„åˆ
&lt;&#x2F;span&gt;&lt;span&gt;ctype_digit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æ˜¯å¦ä¸ºæ•°å­—
&lt;&#x2F;span&gt;&lt;span&gt;ctype_alpha &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æ˜¯å¦ä¸ºå­—æ¯
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;kuai-su-xiang-shu-zu-tian-jia-yuan-su&quot;&gt;å¿«é€Ÿå‘æ•°ç»„æ·»åŠ å…ƒç´ &lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœæ˜¯è¿½åŠ ä¸€ä¸ªå…ƒç´ çš„è¯ï¼Œæ¨èä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œè€Œä¸æ˜¯ array_push&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span&gt;[] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;foo&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$arr&lt;&#x2F;span&gt;&lt;span&gt;[] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;bar&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;qi-ta&quot;&gt;å…¶ä»–&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;xu-lie-hua-fan-xu-lie-hua&quot;&gt;åºåˆ—åŒ–&#x2F;ååºåˆ—åŒ–&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;serialize &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;unserialize
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;json-zhi-chi&quot;&gt;json æ”¯æŒ&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;json_encode &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;json_decode
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;huo-qu-dui-xiang-de-lei&quot;&gt;è·å–å¯¹è±¡çš„ç±»&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;get_class(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$obj&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;dong-tai-diao-yong-han-shu-fang-fa&quot;&gt;åŠ¨æ€è°ƒç”¨å‡½æ•°&#x2F;æ–¹æ³•&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;call_user_func_array
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;cuo-wu-yi-chang-chu-li&quot;&gt;é”™è¯¯&#x2F;å¼‚å¸¸å¤„ç†&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span&gt;set_error_handler &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;set_exception_handler
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;br &#x2F;&gt;
&lt;h3 id=&quot;wang-you-ti-gong&quot;&gt;ç½‘å‹æä¾›&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;array-walk-via-cloudchen&quot;&gt;array_walk (via cloudchen)&lt;&#x2F;h3&gt;
&lt;p&gt;array_walk() èƒ½è®©ç»“æ„åŒ–æ•°æ®çš„å¤„ç†é€»è¾‘æ›´æ¸…æ™°.
å®ç°æ¥è¿‘ js çš„ä¼ å…¥å‡½æ•° as å‚æ•°&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;create_sth&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$walked_value&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$other_arg&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;delete_sth&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$walked_value&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$key&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$other_arg&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$contents &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;fetch_directory_contents&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$folder&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array_walk(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$contents&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;create_sth&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$other_arg&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;array_walk(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$contents&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;delete_sth&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$other_arg&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</description>
        </item>
        
        
        <item>
            <title>åµŒå¥—è¯„è®ºçš„ä¸€ä¸ªæ•°æ®åº“è®¾è®¡æŠ€å·§</title>
            <pubDate>Fri, 27 Aug 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/nested-comments/</link>
            <guid>https://limboy.me/posts/nested-comments/</guid>
            <description>&lt;p&gt;å‰äº›æ—¥å­çœ‹ drupal æºç æ—¶å­¦åˆ°çš„ã€‚è¦å®ç°åµŒå¥—è¯„è®ºï¼Œåªè¦åœ¨è¡¨é‡ŒåŠ ä¸€ä¸ª parent_id å­—æ®µå³å¯ï¼Œæ·»åŠ è¯„è®ºçš„æ—¶å€™å¾ˆæ–¹ä¾¿ï¼Œä¸è¿‡æ˜¾ç¤ºèµ·æ¥å°±ä¼šæ…¢&#x2F;éº»çƒ¦ä¸€ç‚¹ã€‚å…¶å®åªè¦åœ¨è¡¨é‡Œå†æ·»åŠ ä¸€ä¸ªå­—æ®µï¼Œå°±å¯ä»¥é«˜æ•ˆ&#x2F;å¿«é€Ÿçš„æ˜¾ç¤ºè¯„è®ºäº†ï¼Œè¿™ä¸ªå­—æ®µå°±æ˜¯ threadã€‚çœ‹ä¸€ä¸‹ SQL æ„é€ è¯­å¥&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sql&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-sql &quot;&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;CREATE TABLE &lt;&#x2F;span&gt;&lt;span&gt;IF NOT EXISTS `&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;comments&lt;&#x2F;span&gt;&lt;span&gt;` (
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`id` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt; AUTO_INCREMENT,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`parent_id` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`topic_id` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`user_id` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`username` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;varchar&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;64&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`created` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`changed` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`status` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`content` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;text &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`thread` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;varchar&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;NOT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;NULL&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;PRIMARY KEY&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`id`&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;) ENGINE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;MyISAM  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;DEFAULT&lt;&#x2F;span&gt;&lt;span&gt; CHARSET&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;utf8;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;thread ç±»ä¼¼è¿™æ ·&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#f9f9f9;color:#111111;&quot;&gt;&lt;code&gt;&lt;span&gt;&#x2F;&#x2F;å­˜å‚¨åœ¨threadå­—æ®µä¸­çš„æ•°æ®ç±»ä¼¼ä¸‹é¢
&lt;&#x2F;span&gt;&lt;span&gt;1&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;1.1&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;1.2&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;1.a&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;2&#x2F;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åŠ ä¸Š&amp;quot;&#x2F;&amp;quot;æ˜¯å› ä¸º&amp;quot;&#x2F;&amp;quot;çš„ ascii å€¼å°äºä»»ä½•æ•°å­—ï¼Œä½†å¤§äº&amp;quot;.&amp;quot;ï¼Œè¿™æ ·å¦‚æœæŠŠä¸»å›å¤æŒ‰æ—¶é—´å€’åºæ’åºçš„è¯ï¼Œç›´æ¥&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sql&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-sql &quot;&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SELECT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;FROM &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`comments` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;WHERE&lt;&#x2F;span&gt;&lt;span&gt; topic_id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;ORDER BY&lt;&#x2F;span&gt;&lt;span&gt; thread &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;DESC
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœæŠŠä¸»å›å¤æŒ‰æ—¶é—´æ­£åºæ’åº(ä»å°åˆ°å¤§)çš„è¯ï¼Œå°±æœ‰é—®é¢˜äº†ï¼Œå› ä¸º&amp;quot;1&#x2F;&amp;quot; &amp;gt; &amp;quot;1.1&#x2F;&amp;quot;ï¼Œç»“æœå°±æ˜¯&amp;quot;1.1&#x2F;&amp;quot;åœ¨&amp;quot;1&#x2F;&amp;quot;å‰é¢ï¼Œè¿™å½“ç„¶æ˜¯ä¸åˆç†çš„ï¼Œåªè¦æŠŠæœ€åçš„&amp;quot;&#x2F;&amp;quot;å»æ‰å°±è¡Œäº†ï¼Œè¿™æ ·&amp;quot;1&amp;quot;å°±å°äº&amp;quot;1.1&amp;quot;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sql&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-sql &quot;&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;SELECT &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;FROM &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;`comments` &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;as&lt;&#x2F;span&gt;&lt;span&gt; c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;WHERE&lt;&#x2F;span&gt;&lt;span&gt; topic_id &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;ORDER BY &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;SUBSTRING&lt;&#x2F;span&gt;&lt;span&gt;(c.thread, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, (LENGTH(c.thread) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;ASC
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ˜¾ç¤ºæ—¶ï¼Œå¯ä»¥æ ¹æ® thread é‡Œ&amp;quot;.&amp;quot;çš„æ•°é‡å¤„ç†ç¼©è¿›(å›å¤çš„å›å¤)&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœä½ è¿˜æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œæ¬¢è¿äº¤æµ&lt;&#x2F;p&gt;
</description>
        </item>
        
        
        <item>
            <title>php çš„å¤šè¿›ç¨‹</title>
            <pubDate>Fri, 27 Aug 2010 00:00:00 +0000</pubDate>
            <link>https://limboy.me/posts/php-process-control/</link>
            <guid>https://limboy.me/posts/php-process-control/</guid>
            <description>&lt;p&gt;ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ PHP è‡ªå¸¦çš„ pcntl_*å‡½æ•°(ä»…é™ linux)ï¼Œå¦ä¸€ç§å°±æ˜¯ä½¿ç”¨ popen&#x2F;proc_openï¼Œç„¶ååœ¨ php å†…éƒ¨æ§åˆ¶è¿›ç¨‹æ•°é‡ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong-pcntl-han-shu&quot;&gt;ä½¿ç”¨ pcntl_*å‡½æ•°&lt;&#x2F;h3&gt;
&lt;p&gt;PHP æä¾›äº†ä¸€ç³»åˆ—çš„ pcntl_*å‡½æ•°ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ process control functionsï¼Œä¸“é—¨ç”¨æ¥ç®¡ç†è¿›ç¨‹çš„ã€‚æœ€å¸¸ç”¨çš„å°±æ˜¯ pcntl_fork å’Œ pcntl_waitã€‚&lt;&#x2F;p&gt;
&lt;p&gt;pcntl_fork çš„ä½œç”¨å°±æ˜¯ä»å½“å‰çš„è¿›ç¨‹å†æ´¾ç”Ÿå‡ºä¸€ä¸ªå­è¿›ç¨‹ã€‚pcntl_wait çš„ä½œç”¨æ˜¯æŒ‚èµ·å½“å‰è¿›ç¨‹ï¼Œç›´åˆ°ä¸€ä¸ªå­è¿›ç¨‹ä¸­æ­¢ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;é…åˆpcntl_signalä½¿ç”¨
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;declare&lt;&#x2F;span&gt;&lt;span&gt;(ticks&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æœ€å¤§çš„å­è¿›ç¨‹æ•°é‡
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$max &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å½“å‰çš„å­è¿›ç¨‹æ•°é‡
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$child &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å½“å­è¿›ç¨‹é€€å‡ºæ—¶ï¼Œä¼šè§¦å‘è¯¥å‡½æ•°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sig_handler&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$sig&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;global &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$child&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;switch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$sig&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span&gt;SIGCHLD:
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;#39;SIGCHLD received&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;--&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æ³¨å†Œå­è¿›ç¨‹é€€å‡ºæ—¶è°ƒç”¨çš„å‡½æ•°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pcntl_signal(&lt;&#x2F;span&gt;&lt;span&gt;SIGCHLD&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;sig_handler&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;while&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;**
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 * è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸¤ä¸ªå€¼ï¼Œä¸€ä¸ªä¸º0ï¼Œè¡¨ç¤ºå­è¿›ç¨‹ï¼›ä¸€ä¸ªä¸ºæ­£æ•´æ•°è¡¨ç¤ºå­è¿›ç¨‹çš„id
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 * æ‰€ä»¥ifå’Œelseé‡Œçš„ä¸¤æ®µä»£ç éƒ½ä¼šæ‰§è¡Œ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 * ifé‡Œçš„ä»£ç æ˜¯çˆ¶è¿›ç¨‹æ‰§è¡Œçš„
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 * elseé‡Œçš„ä»£ç æ˜¯å­è¿›ç¨‹æ‰§è¡Œçš„
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;	 *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pid &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pcntl_fork()&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$pid&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;è¿™é‡Œæ˜¯çˆ¶è¿›ç¨‹æ‰§è¡Œçš„ä»£ç 
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å¦‚æœå­è¿›ç¨‹æ•°è¶…è¿‡äº†æœ€å¤§å€¼ï¼Œåˆ™æŒ‚èµ·çˆ¶è¿›ç¨‹
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;ä¹Ÿå°±æ˜¯è¯´whileè¯­å¥ä¸ä¼šç»§ç»­æ‰§è¡Œ
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$child &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$max&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pcntl_wait(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$status&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;è¿™é‡Œæ˜¯å­è¿›ç¨‹æ‰§è¡Œçš„ä»£ç 
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å¦‚æœè¦æ‰§è¡Œå…¶ä»–å‘½ä»¤çš„è¯ï¼Œä½¿ç”¨pcntl_exec
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;starting new child | now we have &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$child&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; child process&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sleep(rand(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;))&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;exit&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¸Šé¢è¿™æ®µä»£ç å°±æ˜¯ä¿è¯æœ‰ 5 ä¸ªå­è¿›ç¨‹ä¸€ç›´åœ¨å¹²æ´»ï¼Œå¦‚æœ$childæ•°é‡å¤§äº$maxï¼Œå°±ç­‰å­è¿›ç¨‹ç»“æŸåå†ç»§ç»­è¿è¡Œã€‚å­è¿›ç¨‹ç»“æŸåä¼šè°ƒç”¨ sig_handler å‡½æ•°ï¼Œsig_handler ä¼šå°†$child æ•°é‡å‡ 1ï¼Œé‚£è¾¹ while ç»§ç»­æ‰§è¡Œã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong-popen-proc-open&quot;&gt;ä½¿ç”¨ popen&#x2F;proc_open&lt;&#x2F;h3&gt;
&lt;p&gt;popen ä¼šåˆ›å»ºä¸€ä¸ªç®¡é“æ¥è¿æ¥è¯¥è¿›ç¨‹ï¼Œç„¶åä½¿ç”¨ fread&#x2F;fgets&#x2F;stream_get_contents æ¥è¯»å–è¯¥è¿›ç¨‹è¿”å›çš„ç»“æœã€‚è·Ÿ exec æˆ– system ä¹‹ç±»çš„å‡½æ•°ä¸åŒçš„æ˜¯ï¼Œexec ä¼šç­‰å¾…å‘½ä»¤æ‰§è¡Œå®Œæˆï¼Œå†è¿è¡Œä¸‹é¢çš„ä»£ç ï¼Œä½† popen ä¸ä¼šã€‚proc_open åˆæ›´åŠ å¼ºå¤§ä¸€äº›ï¼Œæ”¯æŒ stdin å’Œ stdoutï¼Œè·¯å¾„è®¾ç½®ç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å› ä¸ºè¿™äº›å‡½æ•°åªè´Ÿè´£åˆ›å»ºï¼Œæ²¡æœ‰ç›¸åº”çš„ç®¡ç†æ–¹æ³•ï¼Œæ‰€ä»¥åªèƒ½åœ¨ PHP æ–‡ä»¶å†…éƒ¨è‡ªå·±æ¥å®ç°ã€‚
demo(å¼•ç”¨è‡ªå¼ å®´â€”â€”&lt;a href=&quot;http:&#x2F;&#x2F;blog.s135.com&#x2F;post&#x2F;311&#x2F;&quot;&gt;PHP å¤šè¿›ç¨‹å¹¶å‘æ§åˆ¶çš„æµ‹è¯•ç”¨ä¾‹&lt;&#x2F;a&gt;)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;php&quot; style=&quot;background-color:#f9f9f9;color:#111111;&quot; class=&quot;language-php &quot;&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;&amp;lt;?php
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$input&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;global &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;worker_processes&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$out &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;popen(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&#x2F;bin&#x2F;sh &#x2F;opt&#x2F;zhangyan.sh &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;{&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; &amp;amp;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;r&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pclose(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$out&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;worker_processes&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;$p_number&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$limit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;500&lt;&#x2F;span&gt;&lt;span&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;å…è®¸æ¨åˆ°åå°çš„æœ€å¤§è¿›ç¨‹æ•°
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cmd &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;popen(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;ps -ef | grep &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&#x2F;opt&#x2F;zhangyan.sh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt; | grep -v grep | wc -l&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;r&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$line &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;fread(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cmd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;512&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;pclose(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$cmd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$limit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$line&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;sleep(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æš‚åœ1ç§’é’Ÿ
&lt;&#x2F;span&gt;&lt;span&gt;        }
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$input &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;http:&#x2F;&#x2F;blog.s135.com&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8e908c;&quot;&gt;&#x2F;&#x2F;æ¨¡æ‹Ÿä»é˜Ÿåˆ—æ–‡ä»¶ä¸­è¯»å–åˆ°çš„æ•°æ®
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8959a8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;1000&lt;&#x2F;span&gt;&lt;span&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;run&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#4271ae;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;Idle process number: &amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;. &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c82728;&quot;&gt;$p_number &lt;&#x2F;span&gt;&lt;span style=&quot;color:#3e999f;&quot;&gt;. &lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#839c00;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f07219;&quot;&gt;?&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;cheng-xu-de-luo-ji&quot;&gt;ç¨‹åºçš„é€»è¾‘ï¼š&lt;&#x2F;h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½®&#x2F;opt&#x2F;zhangyan.php æœ€å¤šå…è®¸ç”Ÿæˆ 500 ä¸ªå­è¿›ç¨‹ï¼›&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å½“&#x2F;opt&#x2F;zhangyan.php è¯»å–åˆ°ä¸€æ¡æ•°æ®åï¼Œå°†å…è®¸ç”Ÿæˆçš„å­è¿›ç¨‹æ•°å‡ 1ï¼ˆç©ºé—²è¿›ç¨‹æ•°$p_number=500-1=499ï¼‰ï¼Œç„¶åå°†æ•°æ®äº¤ç»™&#x2F;opt&#x2F;zhangyan.sh å»åå°å¤„ç†ï¼Œä¸ç­‰å¾…&#x2F;opt&#x2F;zhangyan.sh å¤„ç†ç»“æŸï¼Œç»§ç»­è¯»å–ä¸‹ä¸€æ¡æ•°æ®ï¼›&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å½“å…è®¸ç”Ÿæˆçš„å­è¿›ç¨‹æ•°å‡è‡³ 0 æ—¶ï¼ˆç©ºé—²è¿›ç¨‹æ•°$p_number=0ï¼‰ï¼Œ&#x2F;opt&#x2F;zhangyan.php ä¼šç­‰å¾… 1 ç§’é’Ÿï¼Œç„¶åæ£€æŸ¥åå°è¿˜æœ‰å¤šå°‘ä¸ª&#x2F;opt &#x2F;zhangyan.sh å­è¿›ç¨‹å°šæœªå¤„ç†ç»“æŸï¼›&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœ 1 ç§’é’Ÿä¹‹å&#x2F;opt&#x2F;zhangyan.php å‘ç°åå°çš„&#x2F;opt &#x2F;zhangyan.sh å­è¿›ç¨‹æ•°è¿˜æ˜¯ 500ï¼ˆç©ºé—²è¿›ç¨‹æ•°$p_number=0ï¼‰ï¼Œä¼šç»§ç»­ç­‰å¾… 1 ç§’é’Ÿï¼Œå¦‚æ­¤åå¤ï¼›&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœ&#x2F;opt &#x2F;zhangyan.php å‘ç°åå°å°šæœªå¤„ç†ç»“æŸçš„&#x2F;opt&#x2F;zhangyan.sh å­è¿›ç¨‹æ•°å‡å°‘åˆ° 300 ä¸ªäº†ï¼ˆç©ºé—²è¿›ç¨‹æ•°$p_number=500-300=200ï¼‰ï¼Œé‚£ä¹ˆ&#x2F;opt&#x2F;zhangyan.php ä¼šå†å¾€åå°æ¨é€ 200 ä¸ª&#x2F;opt&#x2F;zhangyan.sh å­è¿›ç¨‹ï¼›&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æ€»ä½“æ¥è¯´è¿˜æ˜¯ä½¿ç”¨ pcntl_*ç³»å‡½æ•°æ›´æ–¹ä¾¿ä¸€äº›ï¼Œé€»è¾‘ä¹Ÿæ›´æ¸…æ¥šã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        
    </channel>
</rss>