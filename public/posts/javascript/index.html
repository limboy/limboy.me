<!DOCTYPE html>
<html>

<head>
  <meta content="width=device-width,initial-scale=1" name="viewport" />
  <meta charset="UTF-8">
  <link rel="icon" href="https://fav.farm/ğŸ‘»" />
  <title>
javascriptå¤§æ‚çƒ©
</title>
  <link rel="stylesheet" href="/assets/main.css?gkCPK9ibGk2PIXzFp9c+CG7gIjpFY2pNyZ+E7aXMGlU=" />
  <script async defer data-domain="limboy.me" src="https://analytics.limboy.me/js/plausible.js"></script>
  
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@_limboy">
<meta name="twitter:site" content="@_limboy">
<meta property="og:url" content="https://limboy.me/posts/javascript/">

<meta name="twitter:title" content="javascriptå¤§æ‚çƒ©">
<meta property="og:title" content="javascriptå¤§æ‚çƒ©">

<meta property="og:description" content="">
<meta name="twitter:description" content="">



</head>

<body class="  ">
  <nav class="flex justify-center items-center opacity-80 bg-black h-12 py-0 ">
    <div class="inner flex justify-between flex-row mx-1">
      <ul class="color-white flex flex-row justify-start gap-4">
        <li><a class="nav-link opacity-90 text-2xl" href="/">Limboy</a></li>
        <!--<li><a class="nav-link" href="/coodle">Coodle</a></li>-->
      </ul>
      <ul class="color-white flex flex-row gap-4 items-center text-base">
        <!--<li> <a class="nav-link" href="/books" class="decoration-0"> Books </a> </li>-->
        <li> <a class="nav-link" href="/highlights" class="decoration-0"> Highlights </a> </li>
        <li> <a class="nav-link" href="/projects" class="decoration-0"> Projects </a> </li>
        <li> <a class="nav-link" href="/about" class="decoration-0"> About </a> </li>
      </ul>
    </div>
  </nav>

  <div class="flex flex-col">
    <div id="wrapper" class="flex justify-center" style="min-height: calc(100vh - 6.5rem);">
      <div class="inner mb-2">
        
<div class="mt-4 lg:mt-6">
  

  <h1 class="title font-medium text-3xl"><a href="https:&#x2F;&#x2F;limboy.me&#x2F;posts&#x2F;javascript&#x2F;">javascriptå¤§æ‚çƒ©</a></h1>
  <div class="flex gap-4 items-center my-1">
    <time class="text-gray-500">2011-03-04</time>

  </div>
  <hr class="border-t-[3px]" />

  <div class="prose lg:prose-xl max-w-full my-6">
    <p>èŠ±äº†ç‚¹æ—¶é—´å­¦ä¹ äº†ä¸‹ js åŸºç¡€ï¼Œè·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼Œæœ‰ä¸åˆ°ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡å‡º :)</p>
<h3 id="guan-yu-dui-xiang">å…³äºå¯¹è±¡</h3>
<h4 id="dui-xiang-de-chuang-jian">å¯¹è±¡çš„åˆ›å»º</h4>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8959a8;">var </span><span style="color:#c82728;">newObj </span><span style="color:#3e999f;">= new </span><span>Object();
</span><span style="color:#8e908c;">// var newObj = {};
</span><span style="color:#c82728;">newObj</span><span>[</span><span style="color:#839c00;">&#39;someValue&#39;</span><span>] </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;val&#39;</span><span>;
</span></code></pre>
<h4 id="yi-qie-jie-dui-xiang">ä¸€åˆ‡çš†å¯¹è±¡</h4>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span>[</span><span style="color:#f07219;">1</span><span>,</span><span style="color:#f07219;">2</span><span>] </span><span style="color:#3e999f;">instanceof </span><span>Object </span><span style="color:#8e908c;">// true
</span><span>{</span><span style="color:#f07219;">1</span><span>:</span><span style="color:#f07219;">2</span><span>, </span><span style="color:#f07219;">3</span><span>:</span><span style="color:#f07219;">4</span><span>} </span><span style="color:#3e999f;">instanceof </span><span>Object </span><span style="color:#8e908c;">//true
</span></code></pre>
<p>ä½†ä¹Ÿæœ‰äº›ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå¦‚ 3, 'str', true ç­‰ç­‰ï¼Œä½†å¦‚æœç”¨ instanceof æµ‹è¯•çš„è¯ï¼Œä¼šå‘ç°</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#839c00;">&#39;foo&#39; </span><span style="color:#3e999f;">instanceof </span><span>Object; </span><span style="color:#8e908c;">// false
</span><span style="color:#f07219;">3 </span><span style="color:#3e999f;">instanceof </span><span>Object; </span><span style="color:#8e908c;">// false
</span><span style="color:#f07219;">true </span><span style="color:#3e999f;">instanceof </span><span>Object; </span><span style="color:#8e908c;">// false
</span></code></pre>
<p>ä½†å®ƒä»¬çœŸçš„ä¹Ÿæ˜¯å¯¹è±¡</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#839c00;">&#39;foo&#39;</span><span>.constructor </span><span style="color:#3e999f;">== </span><span style="color:#c99e00;">String </span><span style="color:#8e908c;">// true
</span><span style="color:#c82728;">true</span><span>.constructor </span><span style="color:#3e999f;">== </span><span style="color:#c99e00;">Boolean </span><span style="color:#8e908c;">// true
</span><span>3.constructor </span><span style="color:#3e999f;">== </span><span style="color:#c99e00;">Number </span><span style="color:#8e908c;">// true
</span></code></pre>
<p>è¿˜æœ‰ä¸€ä¸ªç†ç”±</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#c99e00;">Number</span><span>.prototype.</span><span style="color:#4271ae;">times </span><span style="color:#3e999f;">= </span><span style="color:#8959a8;">function </span><span>(</span><span style="color:#f07219;">func</span><span>) {
</span><span>  </span><span style="color:#8959a8;">for </span><span>(</span><span style="color:#8959a8;">var </span><span style="color:#c82728;">index </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">1</span><span>; </span><span style="color:#c82728;">index </span><span style="color:#3e999f;">&lt;= </span><span style="color:#c82728;">this</span><span>; </span><span style="color:#c82728;">index</span><span style="color:#3e999f;">++</span><span>) {
</span><span>    </span><span style="color:#4271ae;">func</span><span>(</span><span style="color:#c82728;">index</span><span>);
</span><span>  }
</span><span>};
</span><span>(</span><span style="color:#f07219;">5</span><span>)</span><span style="color:#4271ae;">.times</span><span>(</span><span style="color:#c82728;">print</span><span>);
</span><span style="color:#8e908c;">// 5 .times(print); //also works
</span><span style="color:#8e908c;">// åŠ ä¸Šæ‹¬å·æ˜¯ä¸ºäº†é¿å…å‡ºç°è§£æé”™è¯¯(jså¼•æ“ä¼šä»¥ä¸ºæ˜¯å°æ•°ç‚¹)
</span></code></pre>
<p>å°±è¿å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8959a8;">var </span><span style="color:#4271ae;">fn </span><span style="color:#3e999f;">= </span><span style="color:#8959a8;">function </span><span>() {};
</span><span style="color:#c82728;">fn</span><span>.</span><span style="color:#c82728;">foo </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;hello world&#39;</span><span>;
</span><span style="color:#c82728;">fn</span><span>.</span><span style="color:#4271ae;">bar </span><span style="color:#3e999f;">= </span><span style="color:#8959a8;">function </span><span>() {
</span><span>  </span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">foo</span><span>);
</span><span>};
</span></code></pre>
<h4 id="dui-xiang-de-chu-shi-hua">å¯¹è±¡çš„åˆå§‹åŒ–</h4>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8959a8;">function </span><span style="color:#4271ae;">User</span><span>(</span><span style="color:#f07219;">first</span><span>, </span><span style="color:#f07219;">last</span><span>) {
</span><span>  </span><span style="color:#c82728;">this</span><span>.name </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">first </span><span style="color:#3e999f;">+ </span><span style="color:#839c00;">&#39; &#39; </span><span style="color:#3e999f;">+ </span><span style="color:#c82728;">last</span><span>;
</span><span>}
</span><span style="color:#8959a8;">var </span><span style="color:#c82728;">user </span><span style="color:#3e999f;">= new </span><span>User(</span><span style="color:#839c00;">&#39;John&#39;</span><span>, </span><span style="color:#839c00;">&#39;Resig&#39;</span><span>);
</span><span style="color:#8e908c;">// var user = User(&#39;John&#39;, &#39;Resig&#39;);
</span></code></pre>
<p>ä¸€ä¸ª functionï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ª Classï¼Œä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæ­£å¸¸çš„å‡½æ•°ï¼Œè¿™å°±éº»çƒ¦äº†ï¼Œå› ä¸ºæ— è®ºåŠ ä¸åŠ ä¸Š new è¿™ä¸ªå…³é”®å­—ï¼Œfunction éƒ½èƒ½æ­£å¸¸è¿è¡Œï¼Œè™½ç„¶ç»“æœä¼šä¸ä¸€æ ·ã€‚</p>
<p>å¦‚æœçœ‹æˆ Classï¼Œä½¿ç”¨ new å…³é”®å­—åˆå§‹åŒ–ï¼Œé‚£ä¹ˆ function é‡Œçš„ this æŒ‡å‘å½“å‰çš„ functionã€‚å¦‚æœä¸ä½¿ç”¨ new å…³é”®å­—ï¼Œåˆ™ function é‡Œçš„ this é»˜è®¤æŒ‡å‘ Window</p>
<p>æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯å°† Class function çš„é¦–å­—æ¯å¤§å†™ï¼Œå¦‚ Userï¼Œè¿™æ ·å°±èƒ½æ¸…æ¥šåœ°çŸ¥é“å“ªäº› function æ˜¯ Classã€‚ä½†è¿™æ ·è¿˜æ˜¯é¿å…ä¸äº†å†™ç¨‹åºæ—¶ç²—å¿ƒï¼Œå¿˜äº†åŠ  new å…³é”®å­—ã€‚</p>
<p>å¦ä¸€ç§æ–¹æ³•å°±æ˜¯ä¸æ˜¯ç”¨ new å…³é”®å­—ï¼Œåœ¨ function é‡Œè‡ªåŠ¨åˆ¤æ–­ï¼Œä¿è¯è¿”å›çš„ä¸€å®šæ˜¯å½“å‰å¯¹è±¡</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8959a8;">function </span><span style="color:#4271ae;">User</span><span>(</span><span style="color:#f07219;">first</span><span>, </span><span style="color:#f07219;">last</span><span>) {
</span><span>  </span><span style="color:#8959a8;">if </span><span>(</span><span style="color:#c82728;">this </span><span style="color:#3e999f;">instanceof </span><span>User) {
</span><span>    </span><span style="color:#c82728;">this</span><span>.name </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">first </span><span style="color:#3e999f;">+ </span><span style="color:#839c00;">&#39; &#39; </span><span style="color:#3e999f;">+ </span><span style="color:#c82728;">last</span><span>;
</span><span>  } </span><span style="color:#8959a8;">else return </span><span style="color:#3e999f;">new </span><span>User(</span><span style="color:#c82728;">first</span><span>, </span><span style="color:#c82728;">last</span><span>);
</span><span>}
</span></code></pre>
<p>æ›´é€šç”¨çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ª makeClass æ–¹æ³•</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8e908c;">// makeClass - By John Resig (MIT Licensed)
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">makeClass</span><span>() {
</span><span>  </span><span style="color:#8959a8;">return function </span><span>(</span><span style="color:#f07219;">args</span><span>) {
</span><span>    </span><span style="color:#8959a8;">if </span><span>(</span><span style="color:#c82728;">this </span><span style="color:#3e999f;">instanceof </span><span>arguments.callee) {
</span><span>      </span><span style="color:#8959a8;">if </span><span>(</span><span style="color:#3e999f;">typeof </span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">init </span><span style="color:#3e999f;">== </span><span style="color:#839c00;">&#39;function&#39;</span><span>)
</span><span>        </span><span style="color:#c82728;">this</span><span style="color:#4271ae;">.</span><span style="color:#c82728;">init</span><span style="color:#4271ae;">.apply</span><span>(</span><span style="color:#c82728;">this</span><span>, </span><span style="color:#c82728;">args</span><span>.callee </span><span style="color:#3e999f;">? </span><span style="color:#c82728;">args </span><span style="color:#3e999f;">: </span><span style="color:#c82728;">arguments</span><span>);
</span><span>    } </span><span style="color:#8959a8;">else return </span><span style="color:#3e999f;">new </span><span>arguments.callee(</span><span style="color:#c82728;">arguments</span><span>);
</span><span>  };
</span><span>}
</span></code></pre>
<p>å› ä¸ºå‡½æ•°åæœªçŸ¥ï¼Œæ‰€ä»¥ä½¿ç”¨äº† arguments.callee æ¥å®ç°ã€‚</p>
<p>makeClass çš„ä½¿ç”¨</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8959a8;">var </span><span style="color:#c82728;">User </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">makeClass</span><span>();
</span><span style="color:#c99e00;">User</span><span>.prototype.</span><span style="color:#4271ae;">init </span><span style="color:#3e999f;">= </span><span style="color:#8959a8;">function </span><span>(</span><span style="color:#f07219;">first</span><span>, </span><span style="color:#f07219;">last</span><span>) {
</span><span>  </span><span style="color:#c82728;">this</span><span>.name </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">first </span><span style="color:#3e999f;">+ </span><span style="color:#839c00;">&#39; &#39; </span><span style="color:#3e999f;">+ </span><span style="color:#c82728;">last</span><span>;
</span><span>};
</span><span style="color:#8959a8;">var </span><span style="color:#c82728;">user </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">User</span><span>(</span><span style="color:#839c00;">&#39;John&#39;</span><span>, </span><span style="color:#839c00;">&#39;Resig&#39;</span><span>);
</span><span style="color:#c82728;">user</span><span>.name;
</span><span style="color:#8e908c;">// =&gt; &quot;John Resig&quot;
</span></code></pre>
<h4 id="dui-xiang-de-ji-cheng">å¯¹è±¡çš„ç»§æ‰¿</h4>
<p>æ¯ä¸ª function éƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡&quot;prototype&quot;ï¼Œå½“å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œè¿™ä¸ªå˜é‡ä¸Šçš„å„ä¸ªå±æ€§ä¹Ÿä¼šè¢«é™„åŠ åˆ°å¯¹è±¡ä¸Š</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8959a8;">function </span><span style="color:#4271ae;">Car</span><span>(</span><span style="color:#f07219;">model</span><span>, </span><span style="color:#f07219;">year</span><span>, </span><span style="color:#f07219;">miles</span><span>) {
</span><span>  </span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">model </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">model</span><span>;
</span><span>  </span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">year </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">year</span><span>;
</span><span>  </span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">miles </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">miles</span><span>;
</span><span>}
</span><span>
</span><span style="color:#c99e00;">Car</span><span>.prototype </span><span style="color:#3e999f;">= </span><span>{
</span><span>  </span><span style="color:#4271ae;">info</span><span>: </span><span style="color:#8959a8;">function </span><span>() {
</span><span>    </span><span style="color:#8959a8;">return </span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">model </span><span style="color:#3e999f;">+ </span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">year </span><span style="color:#3e999f;">+ </span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">miles</span><span>;
</span><span>  },
</span><span>};
</span><span>
</span><span style="color:#8959a8;">var </span><span style="color:#c82728;">car </span><span style="color:#3e999f;">= new </span><span>Car(</span><span style="color:#839c00;">&#39;Benz&#39;</span><span>, </span><span style="color:#f07219;">3</span><span>, </span><span style="color:#f07219;">1500</span><span>);
</span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#c82728;">car</span><span style="color:#4271ae;">.info</span><span>());
</span></code></pre>
<p>å¦‚æœä¸ä½¿ç”¨ new å…³é”®å­—ï¼Œprototype å°±å¤±æ•ˆäº†</p>
<p>prototype å±æ€§ä¹Ÿæœ‰ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§&quot;constructor&quot;ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å°±èƒ½å®ç°ç»§æ‰¿äº†</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#c99e00;">Object</span><span>.prototype.</span><span style="color:#c82728;">inObj </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">1</span><span>;
</span><span>
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">A</span><span>() {
</span><span>  </span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">inA </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">2</span><span>;
</span><span>}
</span><span>
</span><span style="color:#c99e00;">A</span><span>.prototype.</span><span style="color:#c82728;">inAProto </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">3</span><span>;
</span><span>
</span><span style="color:#c99e00;">B</span><span>.prototype </span><span style="color:#3e999f;">= new </span><span>A(); </span><span style="color:#8e908c;">// Hook up A into B&#39;s prototype chain
</span><span style="color:#c99e00;">B</span><span>.prototype.constructor </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">B</span><span>;
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">B</span><span>() {
</span><span>  </span><span style="color:#c82728;">this</span><span>.</span><span style="color:#c82728;">inB </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">4</span><span>;
</span><span>}
</span><span>
</span><span style="color:#c99e00;">B</span><span>.prototype.</span><span style="color:#c82728;">inBProto </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">5</span><span>;
</span><span>
</span><span style="color:#c82728;">x </span><span style="color:#3e999f;">= new </span><span>B();
</span></code></pre>
<h3 id="bi-bao-yu-mo-kuai-hua">é—­åŒ…ä¸æ¨¡å—åŒ–</h3>
<p>é—­åŒ…æ˜¯ä¸€ç§ç°è±¡ï¼Œé€šå¸¸æ˜¯å› ä¸ºä¸€ä¸ª function è¿”å›äº†ä¸€ä¸ªå†…éƒ¨çš„ functionï¼Œå¦‚</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8959a8;">function </span><span style="color:#4271ae;">f1</span><span>() {
</span><span>  </span><span style="color:#c82728;">n </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">2011</span><span>;
</span><span>  </span><span style="color:#8959a8;">return function </span><span style="color:#4271ae;">f2</span><span>() {
</span><span>    </span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#c82728;">n</span><span>); </span><span style="color:#8e908c;">// 2011
</span><span>  };
</span><span>}
</span></code></pre>
<p>å¯ä»¥çœ‹åˆ°å†…éƒ¨ function f2 æˆåŠŸåœ°å¾—åˆ°äº† f1 çš„ local å˜é‡ï¼Œåˆå› ä¸º n è¢« f2 ä½¿ç”¨ï¼Œæ‰€ä»¥å˜é‡ n å°±å¸¸é©»å†…å­˜äº†
ä»è¿™ä¸ªè§’åº¦ä¸Šè¯´ï¼Œå¦‚æœæŠŠ f1 çœ‹æˆä¸€ä¸ª classï¼Œn å°±å˜æˆäº†ç§æœ‰å˜é‡ï¼Œè€Œ f2 æˆä¸ºäº†å…¬å…±æ–¹æ³•ï¼Œæ‰€ä»¥å°±æœ‰äº†æ¨¡å—åŒ–çš„æ¦‚å¿µ</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8959a8;">var </span><span style="color:#c82728;">myNamespace </span><span style="color:#3e999f;">= </span><span>(</span><span style="color:#8959a8;">function </span><span>() {
</span><span>  </span><span style="color:#8959a8;">var </span><span style="color:#c82728;">myPrivateVar </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">0</span><span>;
</span><span>  </span><span style="color:#8959a8;">var </span><span style="color:#4271ae;">myPrivateMethod </span><span style="color:#3e999f;">= </span><span style="color:#8959a8;">function </span><span>(</span><span style="color:#f07219;">someText</span><span>) {
</span><span>    </span><span style="color:#c99e00;">console</span><span style="color:#4271ae;">.log</span><span>(</span><span style="color:#c82728;">someText</span><span>);
</span><span>  };
</span><span>
</span><span>  </span><span style="color:#8959a8;">return </span><span>{
</span><span>    myPublicVar: </span><span style="color:#839c00;">&#39;foo&#39;</span><span>,
</span><span>    </span><span style="color:#4271ae;">myPublicFunction</span><span>: </span><span style="color:#8959a8;">function </span><span>(</span><span style="color:#f07219;">bar</span><span>) {
</span><span>      </span><span style="color:#c82728;">myPrivateVar</span><span style="color:#3e999f;">++</span><span>;
</span><span>      </span><span style="color:#4271ae;">myPrivateMethod</span><span>(</span><span style="color:#c82728;">bar</span><span>);
</span><span>    },
</span><span>  };
</span><span>})();
</span></code></pre>
<h3 id="qi-ta">å…¶ä»–</h3>
<h4 id="bi-mian-ming-ming-wu-ran-de-fang-fa">é¿å…å‘½åæ±¡æŸ“çš„æ–¹æ³•</h4>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8e908c;">// self executing
</span><span style="color:#8e908c;">// if you want some var global accessable, put &quot;window.&quot; ahead
</span><span>(</span><span style="color:#8959a8;">function </span><span>() {
</span><span>  </span><span style="color:#8959a8;">var </span><span style="color:#c82728;">myVar </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">2</span><span>;
</span><span>  </span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#c82728;">myVar</span><span>);
</span><span>  window.</span><span style="color:#c82728;">globalVar </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">3</span><span>;
</span><span>})();
</span></code></pre>
<h4 id="qiang-da-de-prototype">å¼ºå¤§çš„ prototype</h4>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#c99e00;">Array</span><span>.prototype.</span><span style="color:#4271ae;">contains </span><span style="color:#3e999f;">= </span><span style="color:#8959a8;">function </span><span>(</span><span style="color:#f07219;">value</span><span>) {
</span><span>  </span><span style="color:#8959a8;">for </span><span>(</span><span style="color:#8959a8;">var </span><span style="color:#c82728;">i </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">0</span><span>; </span><span style="color:#c82728;">i </span><span style="color:#3e999f;">&lt; </span><span style="color:#c82728;">this</span><span>.length; </span><span style="color:#c82728;">i</span><span style="color:#3e999f;">++</span><span>) {
</span><span>    </span><span style="color:#8959a8;">if </span><span>(</span><span style="color:#c82728;">this</span><span>[</span><span style="color:#c82728;">i</span><span>] </span><span style="color:#3e999f;">== </span><span style="color:#c82728;">value</span><span>) </span><span style="color:#8959a8;">return </span><span style="color:#f07219;">true</span><span>;
</span><span>  }
</span><span>  </span><span style="color:#8959a8;">return </span><span style="color:#f07219;">false</span><span>;
</span><span>};
</span><span>
</span><span style="color:#8959a8;">var </span><span style="color:#c82728;">stringArray </span><span style="color:#3e999f;">= </span><span>[</span><span style="color:#839c00;">&#39;foo&#39;</span><span>, </span><span style="color:#839c00;">&#39;bar&#39;</span><span>, </span><span style="color:#839c00;">&#39;foobar&#39;</span><span>];
</span><span style="color:#c82728;">stringArray</span><span style="color:#4271ae;">.contains</span><span>(</span><span style="color:#839c00;">&#39;foobar&#39;</span><span>);
</span></code></pre>
<h4 id="fang-bian-de">æ–¹ä¾¿çš„&quot;+&quot;</h4>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8e908c;">// Quick hex to dec conversion:
</span><span style="color:#3e999f;">+</span><span style="color:#839c00;">&#39;0xFF&#39;</span><span>; </span><span style="color:#8e908c;">// -&gt; 255
</span><span>
</span><span style="color:#8e908c;">// Get a timestamp for now, the equivalent of `new Date().getTime()`:
</span><span style="color:#3e999f;">+new </span><span>Date();
</span><span>
</span><span style="color:#8e908c;">// Safer parsing than parseFloat()/parseInt()
</span><span style="color:#4271ae;">parseInt</span><span>(</span><span style="color:#839c00;">&#39;1,000&#39;</span><span>); </span><span style="color:#8e908c;">// -&gt; 1, not 1000
</span><span style="color:#3e999f;">+</span><span style="color:#839c00;">&#39;1,000&#39;</span><span>; </span><span style="color:#8e908c;">// -&gt; NaN, much better for testing user input
</span><span style="color:#4271ae;">parseInt</span><span>(</span><span style="color:#839c00;">&#39;010&#39;</span><span>); </span><span style="color:#8e908c;">// -&gt; 8, because of the octal literal prefix
</span><span style="color:#3e999f;">+</span><span style="color:#839c00;">&#39;010&#39;</span><span>; </span><span style="color:#8e908c;">// -&gt; 10, `Number()` doesn&#39;t parse octal literals
</span><span>
</span><span style="color:#8e908c;">// A use case for this would be rare, but still useful in cases
</span><span style="color:#8e908c;">// for shortening something like if (someVar === null) someVar = 0;
</span><span style="color:#3e999f;">+</span><span style="color:#f07219;">null</span><span>; </span><span style="color:#8e908c;">// -&gt; 0;
</span><span>
</span><span style="color:#8e908c;">// Boolean to integer
</span><span style="color:#3e999f;">+</span><span style="color:#f07219;">true</span><span>; </span><span style="color:#8e908c;">// -&gt; 1;
</span><span style="color:#3e999f;">+</span><span style="color:#f07219;">false</span><span>; </span><span style="color:#8e908c;">// -&gt; 0;
</span><span>
</span><span style="color:#8e908c;">// Other useful tidbits:
</span><span style="color:#3e999f;">+</span><span style="color:#839c00;">&#39;1e10&#39;</span><span>; </span><span style="color:#8e908c;">// -&gt; 10000000000
</span><span style="color:#3e999f;">+</span><span style="color:#839c00;">&#39;1e-4&#39;</span><span>; </span><span style="color:#8e908c;">// -&gt; 0.0001
</span><span style="color:#3e999f;">+</span><span style="color:#839c00;">&#39;-12&#39;</span><span>; </span><span style="color:#8e908c;">// -&gt; -12
</span></code></pre>
<p>æ³¨æ„ï¼šå¦‚æœæ˜¯å­—ç¬¦ä¸²ä¸æ•°å­—ç›¸åŠ çš„è¯ï¼Œç»“æœè¿˜æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚&quot;hello&quot; + 3ï¼Œç»“æœä¸º&quot;hello3&quot;</p>
<h4 id="tong-guo-lai-huo-qu-she-zhi-object-de-shu-xing">é€šè¿‡[]æ¥è·å–/è®¾ç½® Object çš„å±æ€§</h4>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#c82728;">a </span><span style="color:#3e999f;">= </span><span>{};
</span><span style="color:#c82728;">a</span><span>[</span><span style="color:#839c00;">&#39;class&#39;</span><span>] </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;hello&#39;</span><span>; </span><span style="color:#8e908c;">// access reversed property
</span><span style="color:#c82728;">a</span><span>[</span><span style="color:#839c00;">&#39;have space&#39;</span><span>] </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;world&#39;</span><span>; </span><span style="color:#8e908c;">// has space
</span><span style="color:#c82728;">a</span><span>[</span><span style="color:#839c00;">&#39;.class .subclass&#39;</span><span>] </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;value&#39;</span><span>; </span><span style="color:#8e908c;">// can have .
</span></code></pre>
<h4 id="string-de-split-he-replace-ke-yi-bao-han-zheng-ze">String çš„ split å’Œ replace å¯ä»¥åŒ…å«æ­£åˆ™</h4>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#839c00;">&#39;hello world   with  spaces&#39;</span><span style="color:#4271ae;">.split</span><span>(</span><span style="color:#c82728;">/</span><span>\s</span><span style="color:#3e999f;">+</span><span style="color:#c82728;">/</span><span style="color:#8959a8;">g</span><span>);
</span><span style="color:#8e908c;">//returns an array: [&quot;hello&quot;, &quot;world&quot;, &quot;with&quot;, &quot;spaces&quot;]
</span><span>
</span><span style="color:#8959a8;">var </span><span style="color:#c82728;">i </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">1</span><span>;
</span><span style="color:#839c00;">&#39;foo bar baz &#39;</span><span style="color:#4271ae;">.replace</span><span>(</span><span style="color:#c82728;">/</span><span>\s</span><span style="color:#3e999f;">+</span><span style="color:#c82728;">/</span><span style="color:#8959a8;">g</span><span>, </span><span style="color:#8959a8;">function </span><span>() {
</span><span>  </span><span style="color:#8959a8;">return </span><span style="color:#c82728;">i</span><span style="color:#3e999f;">++</span><span>;
</span><span>});
</span><span style="color:#8e908c;">//returns &quot;foo1bar2baz3&quot;
</span></code></pre>
<h4 id="han-shu-ding-yi-shi-yu-han-shu-biao-da-shi">å‡½æ•°å®šä¹‰å¼ä¸å‡½æ•°è¡¨è¾¾å¼</h4>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#3e999f;">typeof </span><span style="color:#c82728;">eve</span><span>); </span><span style="color:#8e908c;">//ç»“æœ:function
</span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#3e999f;">typeof </span><span style="color:#c82728;">walle</span><span>); </span><span style="color:#8e908c;">//ç»“æœ:undefined
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">eve</span><span>() {
</span><span>  </span><span style="color:#8e908c;">//å‡½æ•°å®šä¹‰å¼
</span><span>  </span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#839c00;">&#39;I am Laruence&#39;</span><span>);
</span><span>}
</span><span style="color:#8959a8;">var </span><span style="color:#4271ae;">walle </span><span style="color:#3e999f;">= </span><span style="color:#8959a8;">function </span><span>() {
</span><span>  </span><span style="color:#8e908c;">//å‡½æ•°è¡¨è¾¾å¼
</span><span>};
</span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#3e999f;">typeof </span><span style="color:#c82728;">walle</span><span>); </span><span style="color:#8e908c;">//ç»“æœ:function
</span></code></pre>
<p>å¯¹äºå‡½æ•°å®šä¹‰å¼ï¼Œä¼šå°†å‡½æ•°å®šä¹‰æå‰ï¼Œè€Œå¯¹äºå‡½æ•°è¡¨è¾¾å¼ï¼Œåªæœ‰åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰ä¼šè®¡ç®—</p>
<h4 id="zuo-yong-yu">ä½œç”¨åŸŸ</h4>
<p>å¯¹äºä¸‹é¢çš„ demo</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#8959a8;">var </span><span style="color:#c82728;">name </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;laruence&#39;</span><span>;
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">echo</span><span>() {
</span><span>  </span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#c82728;">name</span><span>);
</span><span>  </span><span style="color:#8959a8;">var </span><span style="color:#c82728;">name </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;eve&#39;</span><span>;
</span><span>  </span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#c82728;">name</span><span>);
</span><span>  </span><span style="color:#4271ae;">alert</span><span>(</span><span style="color:#c82728;">age</span><span>);
</span><span>}
</span><span style="color:#4271ae;">echo</span><span>();
</span></code></pre>
<p>è¾“å‡ºç»“æœä¸º</p>
<pre data-lang="js" style="background-color:#f9f9f9;color:#111111;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#f07219;">undefined</span><span>;
</span><span style="color:#c82728;">eve</span><span>[</span><span style="color:#c99e00;">ReferenceError</span><span>];
</span></code></pre>
<p>åŸå› æ˜¯ js åœ¨æ‰§è¡Œå‡½æ•°ä¹‹å‰ï¼Œä¼šæœ‰ä¸€ä¸ªé¢„ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šæŠŠå±€éƒ¨å˜é‡æå–å‡ºæ¥ï¼Œæ”¾åˆ° scope chain ä¸­ï¼Œvalue éƒ½ä¸º undefined(ä¸åŒ…æ‹¬ä¼ é€’è¿‡æ¥çš„å‚æ•°)ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œ echo å‡½æ•°æ—¶ï¼Œname çš„å€¼åœ¨è®¾ç½®ä¸º&quot;eve&quot;å‰ï¼Œä¸º undefined</p>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="http://ejohn.org/blog/simple-class-instantiation/">simple class instantiation/</a></li>
<li><a href="http://stackoverflow.com/q/61088/94962">hidden features of javascript</a></li>
<li><a href="http://mckoss.com/jscript/object.htm">Object Oriented Programming in JavaScript</a></li>
<li><a href="http://yuiblog.com/blog/2007/06/12/module-pattern/">module pattern</a></li>
<li><a href="http://www.laruence.com/2009/05/28/863.html">javascript çš„ä½œç”¨åŸŸåŸç†</a></li>
</ul>

  </div>


  <ul class="tags flex flex-wrap justify-center items-center gap-4 mt-5 mb-8 text-lg">
    
    
    <li
      class="px-4 pb-[2px] leading-8 rounded-full border text-gray-700 border-gray-700 hover:text-gray-100 hover:border-gray-900 hover:bg-gray-900 transition-all">
      <a class="inline-block" href="https://limboy.me/tags/programming/">programming</a>
    </li>
    
    <li
      class="px-4 pb-[2px] leading-8 rounded-full border text-gray-700 border-gray-700 hover:text-gray-100 hover:border-gray-900 hover:bg-gray-900 transition-all">
      <a class="inline-block" href="https://limboy.me/tags/javascript/">javascript</a>
    </li>
    
    
  </ul>

  
  <script src="https://giscus.app/client.js" data-repo="limboy/telescope"
    data-repo-id="MDEwOlJlcG9zaXRvcnkzODEwOTA2MTg=" data-category="General"
    data-category-id="MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDY2MTQy" data-mapping="title" data-reactions-enabled="1"
    data-emit-metadata="0" data-theme="light" data-lang="en" crossorigin="anonymous" async>
    </script>
  

  

</div>

      </div>
    </div>
    
    <footer
      class="flex border-t border-gray-300 text-gray-600 bg-gray-50 items-center justify-center h-12 text-sm mt-2">
      <div class="flex inner justify-center gap-4">
        <a class="hover:underline" href="https://github.com/limboy" target="_blank">GitHub</a>
        <a class="hover:underline" href="https://twitter.com/_limboy" target="_blank">Twitter</a>
        <a class="hover:underline" href="https://limboy.me/index.xml">RSS</a>
      </div>
    </footer>
    
  </div>

  
  

  <script>
    // éƒ½æ˜¯ä¸ºäº† iOS...
    document.querySelector("#wrapper").style.minHeight = `calc(${window.innerHeight}px - 6.5rem)`
    window.addEventListener('resize', () => {
      document.querySelector("#wrapper").style.minHeight = `calc(${window.innerHeight}px - 6.5rem)`
    })
  </script>
</body>

</html>