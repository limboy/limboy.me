<!DOCTYPE html>
<html>

<head>
  <meta content="width=device-width,initial-scale=1" name="viewport" />
  <meta charset="UTF-8">
  <link rel="icon" href="https://fav.farm/ğŸ‘»" />
  <title>
PHPç‰¹æ€§å°ç»“
</title>
  <link rel="stylesheet" href="/assets/main.css?6&#x2F;2ShUT3RYeReiJdlrDhZN+03rWSUD7DPccwza9UdPM=" />
  <script async defer data-domain="limboy.me" src="https://analytics.limboy.me/js/plausible.js"></script>
  
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@_limboy">
<meta name="twitter:site" content="@_limboy">
<meta property="og:url" content="https://limboy.me/posts/hidden-php-features/">

<meta name="twitter:title" content="PHPç‰¹æ€§å°ç»“">
<meta property="og:title" content="PHPç‰¹æ€§å°ç»“">

<meta property="og:description" content="">
<meta name="twitter:description" content="">



</head>

<body class="  ">
  <nav class="flex justify-center items-center opacity-80 bg-black h-12 py-0 ">
    <div class="inner flex justify-between flex-row mx-1">
      <ul class="color-white flex flex-row justify-start gap-4">
        <li><a class="nav-link opacity-90 text-2xl" href="/">Limboy</a></li>
        <!--<li><a class="nav-link" href="/coodle">Coodle</a></li>-->
      </ul>
      <ul class="color-white flex flex-row gap-4 items-center text-base">
        <!--<li> <a class="nav-link" href="/books" class="decoration-0"> Books </a> </li>-->
        <li> <a class="nav-link" href="/highlights" class="decoration-0"> Highlights </a> </li>
        <li> <a class="nav-link" href="/projects" class="decoration-0"> Projects </a> </li>
        <li> <a class="nav-link" href="/about" class="decoration-0"> About </a> </li>
      </ul>
    </div>
  </nav>

  <div class="flex flex-col">
    <div id="wrapper" class="flex justify-center" style="min-height: calc(100vh - 6.5rem);">
      <div class="inner mb-2">
        
<div class="mt-4 lg:mt-6">
  

  <h1 class="title font-medium text-3xl"><a href="https:&#x2F;&#x2F;limboy.me&#x2F;posts&#x2F;hidden-php-features&#x2F;">PHPç‰¹æ€§å°ç»“</a></h1>
  <div class="flex gap-4 items-center my-1">
    <time class="text-gray-500">2010-08-27</time>

  </div>
  <hr class="border-t-[3px]" />

  <div class="prose lg:prose-xl max-w-full my-6">
    <p>å…¶å®å°±æ˜¯æ€»ç»“äº†ä¸€ä¸‹<a href="http://stackoverflow.com/questions/61401/hidden-features-of-php">è¿™ä¸ªå¸–å­</a></p>
<h3 id="wen-dang">æ–‡æ¡£</h3>
<p>PHP æ–‡æ¡£çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æµè§ˆæ–¹ä¾¿</li>
<li>ç”¨æˆ·è¯„è®ºæ˜¯ä¸€å¤§äº®ç‚¹</li>
<li>è¦æŸ¥è¯¢æŸä¸ªå‡½æ•°ï¼Œè¾“å…¥ï¼šwww.php.net/function å°±ä¼šè·³è½¬åˆ°è¯¥å‡½æ•°çš„å…·ä½“é¡µ</li>
</ul>
<h3 id="shu-zu">æ•°ç»„</h3>
<p>PHP çš„æ•°ç»„æ˜¯æˆ‘ç”¨è¿‡çš„è¯­è¨€ä¸­æœ€å¼ºå¤§çš„ï¼Œå…¶å®å°±æ˜¯ä¸ªæœ‰åºæ˜ å°„è¡¨(ordered map)ï¼Œå¹¶ä¸ºå„ç§ä½¿ç”¨ä½œäº†ä¼˜åŒ–ã€‚å¯ä»¥çœ‹ä½œåˆ—è¡¨ã€å“ˆå¸Œè¡¨ã€å­—å…¸ã€é›†åˆã€æ ˆã€é˜Ÿåˆ—ã€‚</p>
<h3 id="liu-chu-li">æµå¤„ç†</h3>
<p>å¯ä»¥æ‰©å±•æ–‡ä»¶æµï¼Œæ¯”å¦‚<a href="http://www.phpclasses.org/browse/package/1919.html">excel æµå¤„ç†</a>ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥æ¥åˆ›å»ºä¸€ä¸ª excel æ–‡ä»¶</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#c82728;">$fp </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">fopen(</span><span style="color:#839c00;">&quot;xlsfile://tmp/test.xls&quot;</span><span style="color:#4271ae;">, </span><span style="color:#839c00;">&quot;wb&quot;</span><span style="color:#4271ae;">)</span><span>;
</span><span style="color:#8959a8;">if </span><span>(</span><span style="color:#3e999f;">!</span><span style="color:#4271ae;">is_resource(</span><span style="color:#c82728;">$fp</span><span style="color:#4271ae;">)</span><span>) {
</span><span>    </span><span style="color:#8959a8;">die</span><span>(</span><span style="color:#839c00;">&quot;Cannot open excel file&quot;</span><span>);
</span><span>}
</span><span>
</span><span style="color:#c82728;">$data</span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">array</span><span>(
</span><span>    </span><span style="color:#4271ae;">array</span><span>(</span><span style="color:#839c00;">&quot;Name&quot; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#839c00;">&quot;Bob Loblaw&quot;</span><span>, </span><span style="color:#839c00;">&quot;Age&quot; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#f07219;">50</span><span>),
</span><span>    </span><span style="color:#4271ae;">array</span><span>(</span><span style="color:#839c00;">&quot;Name&quot; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#839c00;">&quot;Popo Jijo&quot;</span><span>, </span><span style="color:#839c00;">&quot;Age&quot; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#f07219;">75</span><span>),
</span><span>    </span><span style="color:#4271ae;">array</span><span>(</span><span style="color:#839c00;">&quot;Name&quot; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#839c00;">&quot;Tiny Tim&quot;</span><span>, </span><span style="color:#839c00;">&quot;Age&quot; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#f07219;">90</span><span>)
</span><span>);
</span><span>
</span><span style="color:#4271ae;">fwrite(</span><span style="color:#c82728;">$fp</span><span style="color:#4271ae;">, serialize(</span><span style="color:#c82728;">$data</span><span style="color:#4271ae;">))</span><span>;
</span><span style="color:#4271ae;">fclose(</span><span style="color:#c82728;">$fp</span><span style="color:#4271ae;">)</span><span>;
</span></code></pre>
<h3 id="mo-zhu-fang-fa">é­”æœ¯æ–¹æ³•</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span>	</span><span style="color:#8959a8;">public function </span><span style="color:#4271ae;">__get</span><span>(</span><span style="color:#f07219;">$key</span><span>) { </span><span style="color:#3e999f;">... </span><span>}
</span><span>	</span><span style="color:#8959a8;">public function </span><span style="color:#4271ae;">__set</span><span>(</span><span style="color:#f07219;">$key</span><span>, </span><span style="color:#f07219;">$value</span><span>) { </span><span style="color:#3e999f;">... </span><span>}
</span><span>	</span><span style="color:#8959a8;">public function </span><span style="color:#4271ae;">__call</span><span>(</span><span style="color:#f07219;">$func</span><span>, </span><span style="color:#f07219;">$args</span><span>) { </span><span style="color:#3e999f;">... </span><span>}
</span><span>	</span><span style="color:#8959a8;">public function </span><span style="color:#4271ae;">__toString</span><span>() { </span><span style="color:#3e999f;">... </span><span>}
</span><span>	</span><span style="color:#8e908c;">//...
</span></code></pre>
<h3 id="or-and">or/and</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#4271ae;">isset(</span><span style="color:#c82728;">$foo</span><span style="color:#4271ae;">) </span><span style="color:#3e999f;">OR </span><span style="color:#4271ae;">print </span><span style="color:#839c00;">&#39;$foo is not defined&#39;</span><span>;
</span></code></pre>
<h3 id="spl-autoload-register">spl_autoload_register</h3>
<p>ä½¿ç”¨ spl_autoload_registerï¼Œè€Œä¸æ˜¯__autoloadï¼Œå› ä¸º spl_autoload_register å…è®¸è®¾ç½®å¤šä¸ªå®ä¾‹ï¼Œè€Œä¸ä¼šè¦†ç›–ã€‚</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#4271ae;">spl_autoload_register(</span><span style="color:#839c00;">&#39;autoloader&#39;</span><span style="color:#4271ae;">)</span><span>;
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">autoloader</span><span>(</span><span style="color:#f07219;">$class</span><span>)
</span><span>{
</span><span>	</span><span style="color:#8e908c;">//è¿™é‡Œå¯ä»¥å¯¹$classè¿›è¡Œå¤„ç†
</span><span>}
</span></code></pre>
<h3 id="set-include-path">set_include_path</h3>
<p>è®¾ç½®å¼•ç”¨è·¯å¾„ï¼Œæ¯”å¦‚å¼•ç”¨ zend çš„ libraries æ—¶ã€‚</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#4271ae;">set_include_path(get_include_path() </span><span style="color:#3e999f;">. </span><span style="color:#f07219;">PATH_SEPARATOR </span><span style="color:#3e999f;">. </span><span style="color:#839c00;">&#39;../libs/&#39;</span><span style="color:#4271ae;">)</span><span>;</span><span style="color:#839c00;">`
</span></code></pre>
<h3 id="chu-li-yuan-cheng-wen-jian-url">å¤„ç†è¿œç¨‹æ–‡ä»¶/url</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#c82728;">$fp </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">fopen(</span><span style="color:#839c00;">&#39;http://example.com&#39;</span><span style="color:#4271ae;">)</span><span>;
</span><span style="color:#c82728;">$str </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">file_get_contents(</span><span style="color:#839c00;">&#39;http://example.com/file&#39;</span><span style="color:#4271ae;">)</span><span>;
</span><span style="color:#c82728;">$imageInfo </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">getimagesize(</span><span style="color:#839c00;">&#39;ftp://user:password@ftp.example.com/image/name.jpg&#39;</span><span style="color:#4271ae;">)</span><span>;
</span></code></pre>
<p>è™½ç„¶è¿™äº›å‡½æ•°çš„å¥å£®æ€§å’Œç¨³å®šæ€§ä¸å¦‚ curlï¼Œä½†æ¯•ç«Ÿä½¿ç”¨æ–¹ä¾¿ã€‚</p>
<h3 id="strtr">strtr</h3>
<p>ä½¿ç”¨æ–¹ä¾¿ï¼Œæ•ˆç‡é«˜ï¼Œç”¨æ¥æ›¿æ¢å­—ç¬¦ä¸²å†…çš„ç‰¹å®šå€¼ã€‚æœ‰ç‚¹ç±»ä¼¼ str_replaceï¼Œä½†æ›´çµæ´»ã€‚</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#4271ae;">echo strtr(</span><span style="color:#839c00;">&#39;hello world&#39;</span><span style="color:#4271ae;">, array(</span><span style="color:#839c00;">&#39;world&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#839c00;">&#39;hell&#39;</span><span style="color:#4271ae;">))</span><span>;
</span></code></pre>
<h3 id="extract">extract</h3>
<p>é¡¾åæ€ä¹‰ï¼Œé‡Šæ”¾ä¸€ä¸ªæ•°ç»„å†…çš„å…ƒç´ ï¼Œæ„é€ æ¨¡æ¿å¼•æ“çš„æ—¶å€™å°¤ä¸ºæœ‰ç”¨</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#c82728;">$arr </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">array</span><span>(</span><span style="color:#839c00;">&#39;foo&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#839c00;">&#39;bar&#39;</span><span>);
</span><span style="color:#4271ae;">extract(</span><span style="color:#c82728;">$arr</span><span style="color:#4271ae;">)</span><span>;
</span><span style="color:#4271ae;">echo </span><span style="color:#c82728;">$foo</span><span>; </span><span style="color:#8e908c;">// output &#39;bar&#39;
</span></code></pre>
<h3 id="func-get-args">func_get_args</h3>
<p>è·å–ä¼ é€’è¿‡æ¥çš„å‚æ•°</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">test</span><span>() {
</span><span>    </span><span style="color:#c82728;">$args </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">func_get_args()</span><span>;
</span><span>    </span><span style="color:#4271ae;">echo </span><span style="color:#c82728;">$args</span><span>[</span><span style="color:#f07219;">2</span><span>]; </span><span style="color:#8e908c;">// will print &#39;d&#39;
</span><span>    </span><span style="color:#4271ae;">echo </span><span style="color:#c82728;">$args</span><span>[</span><span style="color:#f07219;">1</span><span>]; </span><span style="color:#8e908c;">// will print 3
</span><span>}
</span><span>
</span><span style="color:#c82728;">test</span><span style="color:#4271ae;">(</span><span style="color:#f07219;">1</span><span style="color:#4271ae;">,</span><span style="color:#f07219;">3</span><span style="color:#4271ae;">,</span><span style="color:#839c00;">&#39;d&#39;</span><span style="color:#4271ae;">,</span><span style="color:#f07219;">4</span><span style="color:#4271ae;">)</span><span>;
</span></code></pre>
<h3 id="cli">cli</h3>
<p>command line interfaceï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œè¿è¡Œ php è„šæœ¬ï¼Œç”¨æ¥å¤„ç†æ—¥å¸¸ä»»åŠ¡ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚å¯¹äº†åˆ«å¿˜äº†ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‚æ•° -aï¼Œè¿›å…¥äº¤äº’æ¨¡å¼</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span>php </span><span style="color:#3e999f;">-</span><span>a
</span><span>
</span><span>Interactive shell
</span><span>php </span><span style="color:#3e999f;">&gt;
</span></code></pre>
<h3 id="zai-ru-de-wen-jian-ke-yi-you-fan-hui-zhi">è½½å…¥çš„æ–‡ä»¶å¯ä»¥æœ‰è¿”å›å€¼</h3>
<p>è¿™ä¸ªæ¯”.ini æ–‡ä»¶æ›´åŠ çµæ´»ï¼Œä½ å¯ä»¥åœ¨æ–‡ä»¶é‡Œè¿è¡Œä¸€æ®µç¨‹åºåï¼Œè¿”å›è¿è¡Œç»“æœ</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#8e908c;">// config.php
</span><span style="color:#8959a8;">return </span><span style="color:#4271ae;">array</span><span>(
</span><span>    </span><span style="color:#839c00;">&#39;db&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#4271ae;">array</span><span>(
</span><span>	</span><span style="color:#839c00;">&#39;host&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#c82728;">$_SERVER</span><span>[</span><span style="color:#839c00;">&#39;HTTP_HOST&#39;</span><span>] </span><span style="color:#3e999f;">== </span><span style="color:#839c00;">&#39;127.0.0.1&#39;</span><span>?</span><span style="color:#839c00;">&#39;localhost&#39;</span><span>:</span><span style="color:#839c00;">&#39;example.org&#39;</span><span>,
</span><span>        </span><span style="color:#839c00;">&#39;user&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#839c00;">&#39;usr&#39;</span><span>,
</span><span>        </span><span style="color:#8e908c;">// ...
</span><span>    ),
</span><span>    </span><span style="color:#8e908c;">// ...
</span><span>);
</span><span>
</span><span style="color:#8e908c;">// index.php
</span><span style="color:#c82728;">$config </span><span style="color:#3e999f;">= </span><span style="color:#8959a8;">include </span><span style="color:#839c00;">&#39;config.php&#39;</span><span>;
</span><span style="color:#4271ae;">echo </span><span style="color:#c82728;">$config</span><span>[</span><span style="color:#839c00;">&#39;db&#39;</span><span>][</span><span style="color:#839c00;">&#39;host&#39;</span><span>]; </span><span style="color:#8e908c;">// example.org
</span></code></pre>
<h3 id="zai-han-shu-nei-ding-yi-jing-tai-bian-liang">åœ¨å‡½æ•°å†…å®šä¹‰é™æ€å˜é‡</h3>
<p>æŠŠç±»çš„ç‰¹æ€§ç§»æ¤åˆ°å‡½æ•°é‡Œäº†ï¼Œæ¯”å¦‚æœ‰ä¸€äº›è¿ç®—é‡è¾ƒå¤§çš„å‡½æ•°ï¼Œå¯ä»¥æŠŠè¿ç®—ç»“æœæ”¾åˆ°è¿™ä¸ªé™æ€å˜é‡ï¼Œä¸‹æ¬¡è°ƒç”¨æ—¶æ£€æŸ¥ä¸€ä¸‹è¯¥å˜é‡æ˜¯å¦å·²ç»è¢«èµ‹å€¼ã€‚</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">foo</span><span>(</span><span style="color:#f07219;">$arg1</span><span>)
</span><span>{
</span><span>    </span><span style="color:#8959a8;">static </span><span style="color:#c82728;">$cache</span><span>;
</span><span>
</span><span>    </span><span style="color:#8959a8;">if</span><span>( </span><span style="color:#3e999f;">!</span><span style="color:#4271ae;">isset(</span><span style="color:#c82728;">$cache</span><span style="color:#4271ae;">[md5(</span><span style="color:#c82728;">$arg1</span><span style="color:#4271ae;">)]) </span><span>)
</span><span>    {
</span><span>        </span><span style="color:#8e908c;">// Do the work here
</span><span>        </span><span style="color:#c82728;">$cache</span><span>[</span><span style="color:#4271ae;">md5(</span><span style="color:#c82728;">$arg1</span><span style="color:#4271ae;">)</span><span>] </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">$results</span><span>;
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#8959a8;">return </span><span style="color:#c82728;">$cache</span><span>[</span><span style="color:#4271ae;">md5(</span><span style="color:#c82728;">$arg1</span><span style="color:#4271ae;">)</span><span>];
</span><span>}
</span></code></pre>
<h3 id="heredoc">heredoc</h3>
<p>ä¸ç”¨å†ä¸ºå¼•å·å‘æ„äº†</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#4271ae;">echo </span><span style="color:#839c00;">&lt;&lt;&lt;</span><span style="color:#3e999f;">EOM
</span><span style="color:#839c00;">  &lt;div id=&quot;someblock&quot;&gt;
</span><span style="color:#839c00;">    &lt;img src=&quot;{</span><span style="color:#c82728;">$file</span><span style="color:#839c00;">}&quot; /&gt;
</span><span style="color:#839c00;">  &lt;/div&gt;
</span><span style="color:#3e999f;">EOM</span><span>;
</span></code></pre>
<h3 id="ba-zi-fu-chuan-dang-zuo-shu-zu">æŠŠå­—ç¬¦ä¸²&quot;å½“ä½œ&quot;æ•°ç»„</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#c82728;">$str </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;hell o World&#39;</span><span>;
</span><span style="color:#4271ae;">echo </span><span style="color:#c82728;">$str</span><span>; </span><span style="color:#8e908c;">//outputs: &quot;hell o World&quot;
</span><span>
</span><span style="color:#c82728;">$str</span><span>[</span><span style="color:#f07219;">0</span><span>] </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;H&#39;</span><span>;
</span><span style="color:#4271ae;">echo </span><span style="color:#c82728;">$str</span><span>; </span><span style="color:#8e908c;">//outputs: &quot;Hell o World&quot;
</span><span>
</span><span style="color:#c82728;">$str</span><span>[</span><span style="color:#f07219;">4</span><span>] </span><span style="color:#3e999f;">= </span><span style="color:#f07219;">null</span><span>;
</span><span style="color:#4271ae;">echo </span><span style="color:#c82728;">$str</span><span>; </span><span style="color:#8e908c;">//outputs: &quot;Hello World&quot;
</span></code></pre>
<h3 id="kuai-su-zhu-shi-fan-zhu-shi-yi-duan-dai-ma">å¿«é€Ÿæ³¨é‡Š/åæ³¨é‡Šä¸€æ®µä»£ç </h3>
<p>è¿™ä¸ªç¡®å®å¾ˆæœ‰æ„æ€</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#8e908c;">//*
</span><span>	</span><span style="color:#4271ae;">echo </span><span style="color:#839c00;">&#39;blah&#39;</span><span>;
</span><span>	</span><span style="color:#8959a8;">die</span><span>(</span><span style="color:#839c00;">&#39;not commented&#39;</span><span>);
</span><span style="color:#8e908c;">//*/
</span><span>
</span><span>
</span><span style="color:#8e908c;">/*
</span><span style="color:#8e908c;">	echo &#39;blah&#39;;
</span><span style="color:#8e908c;">	die(&#39;commented&#39;);
</span><span style="color:#8e908c;">//*/
</span></code></pre>
<h3 id="han-shu-can-shu-lei-xing-ti-shi">å‡½æ•°å‚æ•°ç±»å‹æç¤º</h3>
<p>ç›¸å¯¹äºå…¶ä»–ç¼–ç¨‹è¯­è¨€(java/c#)ï¼Œphp è¿™å—æ¯”è¾ƒå¼±ï¼Œåªèƒ½åˆ¤æ–­æ•°ç»„å’Œå¯¹è±¡</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">foo </span><span>( </span><span style="color:#8959a8;">array </span><span style="color:#f07219;">$param0</span><span>, </span><span style="color:#c99e00;">stdClass </span><span style="color:#f07219;">$param1 </span><span>);
</span></code></pre>
<h3 id="shu-zu-he-bing">æ•°ç»„åˆå¹¶</h3>
<p>ä¸ç”¨ array_mergeï¼Œè€Œæ˜¯ä½¿ç”¨'+'ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿ï¼Œä¹Ÿæ›´æ˜“ç†è§£ã€‚åœ¨å¤„ç†é»˜è®¤å€¼å’Œç”¨æˆ·å®šä¹‰å€¼æ—¶å°¤ä¸ºæ–¹ä¾¿ã€‚</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#8e908c;">// Set the normal defaults.
</span><span style="color:#c82728;">$control_defaults </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">array</span><span>( </span><span style="color:#839c00;">&#39;type&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#839c00;">&#39;text&#39;</span><span>, </span><span style="color:#839c00;">&#39;size&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#f07219;">30 </span><span>);
</span><span>
</span><span style="color:#c82728;">$control </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">$control_defaults </span><span style="color:#3e999f;">+ </span><span style="color:#4271ae;">array</span><span>( </span><span style="color:#839c00;">&#39;name&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#839c00;">&#39;surname&#39;</span><span>, </span><span style="color:#839c00;">&#39;size&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#f07219;">40 </span><span>);
</span></code></pre>
<h3 id="shu-chu-huan-chong">è¾“å‡ºç¼“å†²</h3>
<p>ä½¿ç”¨ ob_startï¼Œå…³é”®æ˜¯ ob_start è¿˜æ”¯æŒ callbackï¼ŒçœŸæ˜¯å¤ªè´´å¿ƒäº†ã€‚</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">censor</span><span>(</span><span style="color:#f07219;">$text</span><span>) {
</span><span>	</span><span style="color:#4271ae;">strtr(</span><span style="color:#c82728;">$text</span><span style="color:#4271ae;">, array(</span><span style="color:#839c00;">&#39;èƒ¡èåœ&#39; </span><span style="color:#3e999f;">=&gt; </span><span style="color:#839c00;">&#39;***&#39;</span><span style="color:#4271ae;">))</span><span>;
</span><span>}
</span><span>
</span><span style="color:#4271ae;">ob_start(</span><span>censor</span><span style="color:#4271ae;">)</span><span>;
</span><span style="color:#4271ae;">echo </span><span style="color:#839c00;">&#39;å°ç™½å…”æœ€çˆ±åƒèƒ¡èåœ&#39;</span><span>;
</span><span style="color:#4271ae;">ob_end_flush()</span><span>;
</span><span>
</span><span style="color:#8e908c;">//è¾“å‡ºï¼šå°ç™½å…”æœ€çˆ±åƒ***
</span></code></pre>
<h3 id="fan-she">åå°„</h3>
<p><a href="http://ca.php.net/manual/en/book.reflection.php">reflection</a>ï¼Œå¾ˆå¼ºå¤§ï¼ŒåŸºæœ¬ä¸Šèƒ½è¿˜åŸä¸€ä¸ªç±»çš„å®é™…é¢è²Œã€‚</p>
<h3 id="ctype-function">ctype function</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span>ctype_alnum </span><span style="color:#8e908c;">//æ˜¯å¦ä¸ºå­—æ¯å’Œæ•°å­—çš„ç»„åˆ
</span><span>ctype_digit </span><span style="color:#8e908c;">//æ˜¯å¦ä¸ºæ•°å­—
</span><span>ctype_alpha </span><span style="color:#8e908c;">//æ˜¯å¦ä¸ºå­—æ¯
</span><span style="color:#3e999f;">...
</span></code></pre>
<h3 id="kuai-su-xiang-shu-zu-tian-jia-yuan-su">å¿«é€Ÿå‘æ•°ç»„æ·»åŠ å…ƒç´ </h3>
<p>å¦‚æœæ˜¯è¿½åŠ ä¸€ä¸ªå…ƒç´ çš„è¯ï¼Œæ¨èä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œè€Œä¸æ˜¯ array_push</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#c82728;">$arr </span><span style="color:#3e999f;">= </span><span style="color:#4271ae;">array</span><span>();
</span><span style="color:#c82728;">$arr</span><span>[] </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;foo&#39;</span><span>;
</span><span style="color:#c82728;">$arr</span><span>[] </span><span style="color:#3e999f;">= </span><span style="color:#839c00;">&#39;bar&#39;</span><span>;
</span></code></pre>
<h3 id="qi-ta">å…¶ä»–</h3>
<h3 id="xu-lie-hua-fan-xu-lie-hua">åºåˆ—åŒ–/ååºåˆ—åŒ–</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span>serialize </span><span style="color:#3e999f;">/ </span><span>unserialize
</span></code></pre>
<h3 id="json-zhi-chi">json æ”¯æŒ</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span>json_encode </span><span style="color:#3e999f;">/ </span><span>json_decode
</span></code></pre>
<h3 id="huo-qu-dui-xiang-de-lei">è·å–å¯¹è±¡çš„ç±»</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#4271ae;">get_class(</span><span style="color:#c82728;">$obj</span><span style="color:#4271ae;">)
</span></code></pre>
<h3 id="dong-tai-diao-yong-han-shu-fang-fa">åŠ¨æ€è°ƒç”¨å‡½æ•°/æ–¹æ³•</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span>call_user_func_array
</span></code></pre>
<h3 id="cuo-wu-yi-chang-chu-li">é”™è¯¯/å¼‚å¸¸å¤„ç†</h3>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span>set_error_handler </span><span style="color:#3e999f;">/ </span><span>set_exception_handler
</span></code></pre>
<br />
<h3 id="wang-you-ti-gong">ç½‘å‹æä¾›</h3>
<h3 id="array-walk-via-cloudchen">array_walk (via cloudchen)</h3>
<p>array_walk() èƒ½è®©ç»“æ„åŒ–æ•°æ®çš„å¤„ç†é€»è¾‘æ›´æ¸…æ™°.
å®ç°æ¥è¿‘ js çš„ä¼ å…¥å‡½æ•° as å‚æ•°</p>
<pre data-lang="php" style="background-color:#f9f9f9;color:#111111;" class="language-php "><code class="language-php" data-lang="php"><span style="color:#f07219;">&lt;?php
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">create_sth</span><span>(</span><span style="color:#f07219;">$walked_value</span><span>, </span><span style="color:#f07219;">$key</span><span>, </span><span style="color:#f07219;">$other_arg</span><span>) {
</span><span>	</span><span style="color:#8e908c;">//...
</span><span>}
</span><span style="color:#8959a8;">function </span><span style="color:#4271ae;">delete_sth</span><span>(</span><span style="color:#8959a8;">&amp; </span><span style="color:#f07219;">$walked_value</span><span>, </span><span style="color:#f07219;">$key</span><span>, </span><span style="color:#f07219;">$other_arg</span><span>) {
</span><span>	</span><span style="color:#8e908c;">//...
</span><span>}
</span><span>
</span><span style="color:#c82728;">$contents </span><span style="color:#3e999f;">= </span><span style="color:#c82728;">fetch_directory_contents</span><span style="color:#4271ae;">(</span><span style="color:#c82728;">$folder</span><span style="color:#4271ae;">)</span><span>;
</span><span>
</span><span style="color:#4271ae;">array_walk(</span><span style="color:#c82728;">$contents</span><span style="color:#4271ae;">, </span><span style="color:#839c00;">&#39;create_sth&#39;</span><span style="color:#4271ae;">, </span><span style="color:#c82728;">$other_arg</span><span style="color:#4271ae;">)</span><span>;
</span><span style="color:#4271ae;">array_walk(</span><span style="color:#c82728;">$contents</span><span style="color:#4271ae;">, </span><span style="color:#839c00;">&#39;delete_sth&#39;</span><span style="color:#4271ae;">, </span><span style="color:#c82728;">$other_arg</span><span style="color:#4271ae;">)</span><span>;
</span></code></pre>

  </div>


  <ul class="tags flex flex-wrap justify-center items-center gap-4 mt-5 mb-8 text-lg">
    
    
    <li
      class="px-4 pb-[2px] leading-8 rounded-full border text-gray-700 border-gray-700 hover:text-gray-100 hover:border-gray-900 hover:bg-gray-900 transition-all">
      <a class="inline-block" href="https://limboy.me/tags/programming/">programming</a>
    </li>
    
    <li
      class="px-4 pb-[2px] leading-8 rounded-full border text-gray-700 border-gray-700 hover:text-gray-100 hover:border-gray-900 hover:bg-gray-900 transition-all">
      <a class="inline-block" href="https://limboy.me/tags/php/">php</a>
    </li>
    
    
  </ul>

  
  <script src="https://giscus.app/client.js" data-repo="limboy/telescope"
    data-repo-id="MDEwOlJlcG9zaXRvcnkzODEwOTA2MTg=" data-category="General"
    data-category-id="MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDY2MTQy" data-mapping="title" data-reactions-enabled="1"
    data-emit-metadata="0" data-theme="light" data-lang="en" crossorigin="anonymous" async>
    </script>
  

  

</div>

      </div>
    </div>
    
    <footer
      class="flex border-t border-gray-300 text-gray-600 bg-gray-50 items-center justify-center h-12 text-sm mt-2">
      <div class="flex inner justify-center gap-4">
        <a class="hover:underline" href="https://github.com/limboy" target="_blank">GitHub</a>
        <a class="hover:underline" href="https://twitter.com/_limboy" target="_blank">Twitter</a>
        <a class="hover:underline" href="https://limboy.me/index.xml">RSS</a>
      </div>
    </footer>
    
  </div>

  
  

  <script>
    // éƒ½æ˜¯ä¸ºäº† iOS...
    document.querySelector("#wrapper").style.minHeight = `calc(${window.innerHeight}px - 6.5rem)`
    window.addEventListener('resize', () => {
      document.querySelector("#wrapper").style.minHeight = `calc(${window.innerHeight}px - 6.5rem)`
    })
  </script>
</body>

</html>