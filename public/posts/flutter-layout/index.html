<!DOCTYPE html>
<html>

<head>
  <meta content="width=device-width,initial-scale=1" name="viewport" />
  <meta charset="UTF-8">
  <link rel="icon" href="https://fav.farm/ğŸ‘»" />
  <title>
å…³äº Flutter Layout ä½ åº”è¯¥çŸ¥é“çš„
</title>
  <link rel="stylesheet" href="/assets/main.css?6&#x2F;2ShUT3RYeReiJdlrDhZN+03rWSUD7DPccwza9UdPM=" />
  <script async defer data-domain="limboy.me" src="https://analytics.limboy.me/js/plausible.js"></script>
  
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@_limboy">
<meta name="twitter:site" content="@_limboy">
<meta property="og:url" content="https://limboy.me/posts/flutter-layout/">

<meta name="twitter:title" content="å…³äº Flutter Layout ä½ åº”è¯¥çŸ¥é“çš„">
<meta property="og:title" content="å…³äº Flutter Layout ä½ åº”è¯¥çŸ¥é“çš„">

<meta property="og:description" content="">
<meta name="twitter:description" content="">



</head>

<body class="  ">
  <nav class="flex justify-center items-center opacity-80 bg-black h-12 py-0 ">
    <div class="inner flex justify-between flex-row mx-1">
      <ul class="color-white flex flex-row justify-start gap-4">
        <li><a class="nav-link opacity-90 text-2xl" href="/">Limboy</a></li>
        <!--<li><a class="nav-link" href="/coodle">Coodle</a></li>-->
      </ul>
      <ul class="color-white flex flex-row gap-4 items-center text-base">
        <!--<li> <a class="nav-link" href="/books" class="decoration-0"> Books </a> </li>-->
        <li> <a class="nav-link" href="/highlights" class="decoration-0"> Highlights </a> </li>
        <li> <a class="nav-link" href="/projects" class="decoration-0"> Projects </a> </li>
        <li> <a class="nav-link" href="/about" class="decoration-0"> About </a> </li>
      </ul>
    </div>
  </nav>

  <div class="flex flex-col">
    <div id="wrapper" class="flex justify-center" style="min-height: calc(100vh - 6.5rem);">
      <div class="inner mb-2">
        
<div class="mt-4 lg:mt-6">
  

  <h1 class="title font-medium text-3xl"><a href="https:&#x2F;&#x2F;limboy.me&#x2F;posts&#x2F;flutter-layout&#x2F;">å…³äº Flutter Layout ä½ åº”è¯¥çŸ¥é“çš„</a></h1>
  <div class="flex gap-4 items-center my-1">
    <time class="text-gray-500">2019-01-11</time>

  </div>
  <hr class="border-t-[3px]" />

  <div class="prose lg:prose-xl max-w-full my-6">
    <p>è¿™ç¯‡æ–‡ç« é¦–å‘äº <a href="https://medium.com/@limboy/flutter-layout-in-a-nutshell-f2ed3cb66d72">Medium</a>ï¼Œç•¥æ˜¾ç”Ÿç¡¬çš„è‹±æ–‡çœ‹æ¥å¹¶ä¸å¤ªå¦¨ç¢ç†è§£ã€‚</p>
<p>ä¸ Flutter çš„å¸ƒå±€ç³»ç»Ÿææ–—ä¸€æ®µæ—¶é—´ä¹‹åï¼Œæ„Ÿè§‰ç»ˆäºæ‰¾åˆ°äº†ç‚¹é—¨é“ï¼Œäºæ˜¯èŠ±äº†ç‚¹æ—¶é—´æ•´ç†äº†ä¸‹ã€‚</p>
<h3 id="he-xin-gai-nian">æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 id="unbounded-constraints">Unbounded Constraints</h4>
<blockquote>
<p>either the maximum width or the maximum height is set to double.INFINITY</p>
</blockquote>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;flutter-scrollview.png"
        width="146" /></p>
<p><code>ScrollView</code> å’Œå®ƒçš„å­ç±»æ¯”å¦‚ <code>ListView</code> æˆ– <code>GridView</code> æ˜¯å¸¸è§çš„ Unbounded Constraints. ä¹Ÿå°±æ˜¯åœ¨æŸä¸€ä¸ªæ–¹å‘æ²¡æœ‰é™åˆ¶å¤§å°ã€‚å…¶ä»–çš„ widget åªè¦èƒ½å¤Ÿè®¾ç½® <code>width</code> æˆ– <code>height</code> ä¸º <code>double.INFINITY</code> çš„ä¹Ÿç®—ã€‚æœ‰æ—¶ä¹Ÿä¼šç”¨ <strong>as big as possible</strong> æ¥æè¿°è¿™äº› widgetsã€‚</p>
<h4 id="flex">Flex</h4>
<blockquote>
<p>when in bounded constraints, try to be as big as possible in that direction.</p>
<p>when in unbounded constraints, try to fit their children in that direction.</p>
</blockquote>
<p>å½“åœ¨æœ‰é™çš„ç©ºé—´å†…ï¼Œä¼šæ’‘æ»¡æ•´ä¸ªç©ºé—´ï¼›å¦‚æœåœ¨ä¸€ä¸ª unbounded constraints å®¹å™¨é‡Œï¼Œå°±åŒ¹é…å­ widget çš„å¤§å°ã€‚</p>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;flutter-row-column.png"
        width="374" /></p>
<p>æœ€å¸¸è§çš„æ˜¯ <code>Row</code> å’Œ <code>Column</code>ï¼Œå¦‚æœä¸å«Œéº»çƒ¦çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Flex</code> widgetã€‚é‡Œé¢å¯ä»¥æ”¾ <code>Flexible</code> widgetï¼Œä¹Ÿå¯ä»¥ä¸æ˜¯ã€‚å¦‚æœæœ‰ <code>Flexible</code> widgets ä¼šæŠŠå‰©ä½™ç©ºé—´è®¡ç®—å‡ºæ¥åˆ†é…ç»™è¿™äº› widgetsã€‚</p>
<h4 id="flexible">Flexible</h4>
<p>è·Ÿ <code>Flex</code> æ­é…ä½¿ç”¨ï¼Œ<code>Flexible</code> å¯ä»¥ç”¨æ¥å£°æ˜ä½¿ç”¨ç™¾åˆ†ä¹‹å¤šå°‘çš„ç©ºé—´ã€‚æ¯”å¦‚ <code>flex = 1</code> ä¹Ÿå°±æ˜¯ <code>1/all</code>ï¼Œå¦‚æœæœ‰ä¸¤ä¸ª widgetsï¼Œå¦ä¸€ä¸ªä¹Ÿæ˜¯ 1ï¼Œé‚£ä¹ˆ <code>all = 2</code>ï¼Œæ¯ä¸ª widget åˆ†é…åˆ° 50% çš„ç©ºé—´ã€‚</p>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;flutter-expanded.png"
        width="374" /></p>
<p><code>Expanded</code> æ˜¯æœ€å¸¸è§çš„ <code>Flexible</code> widgetï¼Œå®ƒä¼šå¡«æ»¡ä¸»æ–¹å‘ä¸Šå¯ç”¨çš„ç©ºé—´ï¼ˆæ¯”å¦‚ Row çš„æ°´å¹³ç©ºé—´æˆ– Column çš„å‚ç›´ç©ºé—´ï¼‰ã€‚</p>
<h3 id="zhu-yao-widgets">ä¸»è¦ Widgets</h3>
<h4 id="container">Container</h4>
<blockquote>
<p>Containers with no children try to be as big as possible unless the incoming constraints are unbounded, in which case they try to be as small as possible.</p>
<p>Containers with children size themselves to their children.</p>
<p>The width, height, and constraints arguments to the constructor override this.</p>
</blockquote>
<p>è¿™æ˜¯ Container çš„ä¸‰ä¸ªä¸»è¦è¡¨ç°ï¼šå½“æ²¡æœ‰å­ widgets ä¸”æ²¡æœ‰æŒ‡å®š constraints æ—¶ï¼Œå°½å¯èƒ½åœ°å……æ»¡å¯ç”¨ç©ºé—´ï¼Œå¦‚æœæœ‰ constraints å°±ä»¥ constraints ä¸ºå‡†ï¼ˆé™¤éè·Ÿ parent constraints å†²çªï¼‰ï¼›å¦‚æœæœ‰å­ widgets åˆ™ä»¥ children çš„ size ä¸ºå‡†ï¼›å¯ä»¥è®¾ç½® <code>width</code>, <code>height</code>ï¼Œ <code>constraints</code> æ¥çº¦æŸ sizeã€‚</p>
<pre data-lang="dart" style="background-color:#f9f9f9;color:#111111;" class="language-dart "><code class="language-dart" data-lang="dart"><span style="color:#8959a8;">return </span><span style="color:#c99e00;">MaterialApp</span><span>(
</span><span>  home</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Scaffold</span><span>(
</span><span>    body</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Container</span><span>(
</span><span>      color</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Colors</span><span>.yellow,
</span><span>    ),
</span><span>  ),
</span><span>);
</span></code></pre>
<p>è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å­©å­çš„ containerï¼Œå› æ­¤å®ƒä¼šè¡¨ç°åœ°å°½é‡å¤§ï¼Œå°±åƒè¿™æ ·ï¼š</p>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;Flutter-container.png"
        width="146" /></p>
<p>å¦‚æœè®¾ç½®äº† <code>width</code> æˆ– <code>height</code>ï¼Œåˆ™ä¼šæ ¹æ®è®¾ç½®çš„å€¼æ¥è¡¨ç°ï¼š</p>
<pre data-lang="dart" style="background-color:#f9f9f9;color:#111111;" class="language-dart "><code class="language-dart" data-lang="dart"><span style="color:#8959a8;">return </span><span style="color:#c99e00;">MaterialApp</span><span>(
</span><span>  home</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Scaffold</span><span>(
</span><span>    body</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Container</span><span>(
</span><span>      color</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Colors</span><span>.yellow,
</span><span>      width</span><span style="color:#3e999f;">: </span><span style="color:#f07219;">100</span><span>,
</span><span>      height</span><span style="color:#3e999f;">: </span><span style="color:#f07219;">100</span><span>,
</span><span>    ),
</span><span>  ),
</span><span>);
</span></code></pre>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;Flutter-container-width.png"
        width="146" /></p>
<p>å¦‚æœæœ‰ childï¼Œåˆ™ä¼šä»¥ child çš„ size ä¸ºå‡†ï¼š</p>
<pre data-lang="dart" style="background-color:#f9f9f9;color:#111111;" class="language-dart "><code class="language-dart" data-lang="dart"><span style="color:#8959a8;">return </span><span style="color:#c99e00;">MaterialApp</span><span>(
</span><span>  home</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Scaffold</span><span>(
</span><span>    body</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Container</span><span>(
</span><span>      color</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Colors</span><span>.yellow,
</span><span>      child</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Text</span><span>(</span><span style="color:#839c00;">&#39;hello&#39;</span><span>),
</span><span>    ),
</span><span>  ),
</span><span>);
</span></code></pre>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;Flutter-container-child.png"
        width="146" /></p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½® padding, margin, child çš„å¯¹é½æ–¹å¼ï¼Œç­‰ç­‰ã€‚</p>
<h4 id="stack">Stack</h4>
<p><code>Stack</code> æœ‰ç‚¹åƒ css çš„ç»å¯¹å¸ƒå±€ï¼Œå¯ä»¥åœ¨ä¸Šé¢ç›–ä¸€äº› widgetsï¼Œæ¯”å¦‚ profile é¡µçš„èƒŒæ™¯å›¾ä¸Šæ”¾ä¸€äº›ä¸ªäººä¿¡æ¯ã€‚</p>
<blockquote>
<p>Each child of a Stack widget is either positioned or non-positioned.</p>
<p>Positioned children are those wrapped in a Positioned widget that has at least one non-null property.</p>
<p>The stack sizes itself to contain all the non-positioned children, which are positioned according to alignment.</p>
</blockquote>
<p>Stack çš„ children å¦‚æœæ²¡æœ‰ç”¨ <code>Positioned</code> ä¿®é¥°çš„è¯ï¼Œå°±ä¼šç”¨ Stack çš„ <code>fit</code> å’Œ <code>alighment</code> æ¥å¸®å®ƒä»¬æ‰¾åˆ°åˆé€‚çš„ä½ç½®ã€‚</p>
<pre data-lang="dart" style="background-color:#f9f9f9;color:#111111;" class="language-dart "><code class="language-dart" data-lang="dart"><span style="color:#c99e00;">Stack</span><span>(
</span><span>  fit</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">StackFit</span><span>.loose,
</span><span>  alignment</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Alignment</span><span>.center,
</span><span>  children</span><span style="color:#3e999f;">: &lt;</span><span style="color:#c99e00;">Widget</span><span style="color:#3e999f;">&gt;</span><span>[
</span><span>    </span><span style="color:#c99e00;">Text</span><span>(</span><span style="color:#839c00;">&#39;world&#39;</span><span>),
</span><span>    </span><span style="color:#c99e00;">Positioned</span><span>(
</span><span>     bottom</span><span style="color:#3e999f;">: </span><span style="color:#f07219;">10</span><span>,
</span><span>     child</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Text</span><span>(</span><span style="color:#839c00;">&#39;hello&#39;</span><span>),
</span><span>   )
</span><span> ],
</span><span>),
</span></code></pre>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;flutter-stack-1.png"
        width="146" /></p>
<p><code>StackFit.loose</code> çš„æ„æ€æ˜¯ï¼Œå¦‚æœ child size ä¸æ¯” Stack çš„å¤§ï¼Œå°±ç”¨ child çš„ sizeã€‚è€Œå¦‚æœè®¾ç½®ä¸º <code>StackFit.expand</code> åˆ™ä¼šè®©æ‰€æœ‰é <code>Positioned</code> çš„ widgets ä½¿ç”¨ Stack çš„ sizeã€‚</p>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;flutter-stack-2.png"
        width="146" /></p>
<p><code>Text('world')</code> ç°åœ¨å°±è·Ÿ Stack ä¸€æ ·å¤§äº†ï¼Œæ‰€ä»¥çœ‹èµ·æ¥åƒæ˜¯ <code>alignment.center</code> æ²¡æœ‰ç”Ÿæ•ˆã€‚</p>
<h4 id="row-and-column">Row and Column</h4>
<p>å®ƒä»¬éƒ½æ˜¯ Flex widgetsï¼ŒRow å¯ä»¥å°† children æ¨ªç€æ”¾ï¼Œcolumn å¯ä»¥å°† children ç«–ç€æ”¾ã€‚</p>
<p><code>crossAxisAlignment</code> è¡¨ç¤ºè¦å¦‚ä½•å¯¹é½å¦ä¸€ä¾§ï¼Œæ¯”å¦‚æ¨ªç€ä¸€æ’çš„ widgetsï¼Œå‚ç›´æ–¹å‘ä¸Šå®ƒä»¬åº”è¯¥é¡¶éƒ¨å¯¹é½è¿˜æ˜¯å±…ä¸­å¯¹é½å‘¢ã€‚</p>
<p><code>mainAxisSize</code> é»˜è®¤æ˜¯ <code>MainAxisSize.max</code>ï¼Œå¦‚æœæƒ³è®©å®ƒå˜æˆ Row æˆ– Column çš„çœŸå®é«˜åº¦ï¼Œå¯ä»¥å°†å®ƒè®¾ç½®ä¸º <code>MainAxisSize.min</code>ã€‚</p>
<h4 id="sizedbox">SizedBox</h4>
<p>ä½¿ç”¨å®ƒå¯ä»¥å¾—åˆ°ä¸€ä¸ªç¡®å®šå°ºå¯¸çš„ widgetã€‚</p>
<h4 id="safearea">SafeArea</h4>
<p>ä½¿ç”¨ <code>SafeArea</code> å¯ä»¥è®© child widget åœ¨é¡¶éƒ¨å’Œåº•éƒ¨è…¾å‡ºè¶³å¤Ÿçš„ç©ºé—´æ–¹ä¾¿å¤„ç† iPhoneX è¿™ç±»çš„æ‰‹æœºã€‚</p>
<h3 id="yuan-ze">åŸåˆ™</h3>
<h4 id="bu-yao-zai-flex-widget-li-fang-zhi-unbounded-constraints">ä¸è¦åœ¨ Flex widget é‡Œæ”¾ç½® unbounded constraints</h4>
<p><code>Column</code> æ˜¯ Flex widgetï¼Œæ‰€ä»¥åœ¨é‡Œé¢æ”¾ <code>ListView</code> çš„è¯ï¼Œç³»ç»Ÿä¸ä¼šç­”åº”çš„ã€‚</p>
<pre data-lang="dart" style="background-color:#f9f9f9;color:#111111;" class="language-dart "><code class="language-dart" data-lang="dart"><span style="color:#8959a8;">return </span><span style="color:#c99e00;">MaterialApp</span><span>(
</span><span>  home</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Column</span><span>(
</span><span>    children</span><span style="color:#3e999f;">: &lt;</span><span style="color:#c99e00;">Widget</span><span style="color:#3e999f;">&gt;</span><span>[
</span><span>      </span><span style="color:#c99e00;">ListView</span><span>.</span><span style="color:#4271ae;">builder</span><span>(
</span><span>        itemBuilder</span><span style="color:#3e999f;">:</span><span> (context, index){
</span><span>          </span><span style="color:#8959a8;">return </span><span style="color:#c99e00;">Text</span><span>(</span><span style="color:#839c00;">&#39;hello&#39;</span><span>);
</span><span>        },
</span><span>        itemCount</span><span style="color:#3e999f;">: </span><span style="color:#f07219;">3</span><span>,
</span><span>      )
</span><span>    ],
</span><span>  ),
</span><span>);
</span></code></pre>
<p>ç³»ç»Ÿä¼šç»™å‡ºè¿™æ ·çš„ error</p>
<pre style="background-color:#f9f9f9;color:#111111;"><code><span>flutter: The following assertion was thrown during performResize():
</span><span>flutter: Vertical viewport was given unbounded height.
</span><span>...
</span></code></pre>
<p>å› ä¸º Column ä½œä¸º Flex å®ƒä¸çŸ¥é“åº”è¯¥å¦‚ä½•å®‰æ”¾ä¸€ä¸ª <strong>as big as possible</strong> çš„ widgetã€‚è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦è®¾ç½® ListView çš„ <code>shrinkWrap=true</code> å³å¯ã€‚è¿™å°±æ˜¯å‘Šè¯‰ ListView æŠŠè‡ªå·±å°½å¯èƒ½åœ°ç¼©å°ã€‚</p>
<p>å¯ä»¥åœ¨ <code>Column</code> æˆ– <code>Row</code> é‡Œä½¿ç”¨ <code>Expanded</code>ï¼Œå› ä¸ºå®ƒæ˜¯ <code>Flexible</code>ï¼Œå°±åº”è¯¥å¾…åœ¨ Flex é‡Œé¢ã€‚</p>
<h4 id="bu-yao-zai-unbounded-widgets-li-she-zhi-flex-wei-bu-deng-yu-0-de-shu-zhi">ä¸è¦åœ¨ unbounded widgets é‡Œè®¾ç½® flex ä¸ºä¸ç­‰äº 0 çš„æ•°å€¼</h4>
<p>å› ä¸ºç©ºé—´æ— é™ï¼Œå¦‚æœä¸¤ä¸ª <code>Flexible</code> åˆ†åˆ«ä¸º 1 å’Œ 2ï¼Œé‚£ä¹ˆ <code>Flex</code> æ ¹æœ¬ä¸çŸ¥é“è¯¥å¦‚ä½•å°†ç©ºé—´åˆ’åˆ†æˆ 1:2ã€‚å¦‚æœçœŸè¿™ä¹ˆåšçš„è¯ï¼Œä¼šæ”¶åˆ°è¿™æ ·çš„ error:</p>
<pre style="background-color:#f9f9f9;color:#111111;"><code><span>...
</span><span>RenderFlex children have non-zero flex but incoming height constraints are unbounded.
</span><span>...
</span></code></pre>
<h3 id="xiao-ce-yan">å°æµ‹éªŒ</h3>
<p>ä¸‹é¢è¿™æ®µä»£ç ä¼šè®© <code>Hello World</code> è¢«åŒ…è£¹åœ¨ä¸­é—´çš„å°æ–¹å—é‡Œå—ï¼Ÿ</p>
<pre data-lang="dart" style="background-color:#f9f9f9;color:#111111;" class="language-dart "><code class="language-dart" data-lang="dart"><span style="color:#8959a8;">return </span><span style="color:#c99e00;">MaterialApp</span><span>(
</span><span>  home</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Container</span><span>(
</span><span>    alignment</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Alignment</span><span>.center,
</span><span>    constraints</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">BoxConstraints</span><span>.</span><span style="color:#4271ae;">tight</span><span>(</span><span style="color:#c99e00;">Size</span><span>(</span><span style="color:#f07219;">100</span><span>, </span><span style="color:#f07219;">100</span><span>)),
</span><span>    decoration</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">BoxDecoration</span><span>(color</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Colors</span><span>.yellow),
</span><span>    child</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">Text</span><span>(</span><span style="color:#839c00;">&#39;Hello World&#39;</span><span>),
</span><span>  ),
</span><span>);
</span></code></pre>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;Flutter-squrebox.png"
        width="146" /></p>
<p>ç­”æ¡ˆæ˜¯ï¼Œä¸ä¼šï¼Œå®ƒä¼šå˜æˆè¿™æ ·ï¼š</p>

<p  style="text-align:center" ><img src="&#x2F;posts&#x2F;flutter-layout&#x2F;Flutter-squarebox-real.png"
        width="146" /></p>
<p>ä¸æ˜¯è®¾ç½®äº† constraints ç³»ç»Ÿå°±è¦æŒ‰ç€è¿™ä¸ª constraints æ¥ï¼Œåœ¨ç»è¿‡è®¡ç®—ä¹‹åï¼Œç³»ç»Ÿä¼šå‘ç°è¿™ä¸ª constraints æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œè€Œè¢«èˆå¼ƒï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p><code>Container</code> çš„ <code>build</code> æ–¹æ³•é‡Œï¼Œå‘ç°æœ‰è®¾ç½®è¿‡ constraintsï¼Œæœ€ç»ˆä¼šè¿”å›ä¸€ä¸ª <code>BoxConstraints</code>:</p>
<pre data-lang="dart" style="background-color:#f9f9f9;color:#111111;" class="language-dart "><code class="language-dart" data-lang="dart"><span style="color:#c99e00;">BoxConstraints</span><span>(
</span><span>  minWidth</span><span style="color:#3e999f;">:</span><span> minWidth.</span><span style="color:#4271ae;">clamp</span><span>(constraints.minWidth, constraints.maxWidth),
</span><span>  maxWidth</span><span style="color:#3e999f;">:</span><span> maxWidth.</span><span style="color:#4271ae;">clamp</span><span>(constraints.minWidth, constraints.maxWidth),
</span><span>  minHeight</span><span style="color:#3e999f;">:</span><span> minHeight.</span><span style="color:#4271ae;">clamp</span><span>(constraints.minHeight, constraints.maxHeight),
</span><span>  maxHeight</span><span style="color:#3e999f;">:</span><span> maxHeight.</span><span style="color:#4271ae;">clamp</span><span>(constraints.minHeight, constraints.maxHeight)
</span><span>)
</span></code></pre>
<p>è¿™é‡Œçš„ <code>clamp</code> æ–¹æ³•æŒ‡çš„æ˜¯å½“ minWidth å€¼æ¯”å·¦è¾¹çš„å€¼å°æ—¶ï¼Œå–å·¦è¾¹å€¼ï¼Œæ¯”å³è¾¹çš„å€¼å¤§æ—¶ï¼Œå–å³è¾¹å€¼ã€‚å› ä¸º parent çš„ constraints ä¹Ÿå°±æ˜¯ screen size æ˜¯å›ºå®šçš„ï¼Œå› æ­¤ï¼Œ<code>minWidth</code> åœ¨è·Ÿå®ƒä»¬æ¯”è¾ƒä¹‹åï¼Œè¿˜æ˜¯ä½¿ç”¨äº†å®ƒä»¬çš„å€¼ã€‚</p>
<p>æ­£ç¡®çš„åšæ³•æ˜¯åœ¨å¤–é¢å¥—ä¸€å±‚ <code>Center</code> æˆ– <code>Align</code> widgetã€‚</p>
<h4 id="ru-he-de-dao-fu-widget-de-constraints">å¦‚ä½•å¾—åˆ°çˆ¶ widget çš„ constraintsï¼Ÿ</h4>
<p>ä½¿ç”¨ <code>LayoutBuilder</code>ã€‚æœ‰æ—¶ä¼šéœ€è¦è¿™äº›ä¿¡æ¯æ¥åšä¸€äº›æ˜¾ç¤ºä¸Šçš„è°ƒæ•´ã€‚</p>
<pre data-lang="dart" style="background-color:#f9f9f9;color:#111111;" class="language-dart "><code class="language-dart" data-lang="dart"><span style="color:#8e908c;">// borrowed from https://stackoverflow.com/a/41558369/94962
</span><span>
</span><span style="color:#8959a8;">var</span><span> container </span><span style="color:#3e999f;">= </span><span style="color:#c99e00;">Container</span><span>(
</span><span>  </span><span style="color:#8e908c;">// Toggling width from 100 to 300 will change what is rendered
</span><span>  </span><span style="color:#8e908c;">// in the child container
</span><span>  width</span><span style="color:#3e999f;">: </span><span style="color:#f07219;">100.0</span><span>,
</span><span>  </span><span style="color:#8e908c;">// width: 300.0
</span><span>  child</span><span style="color:#3e999f;">: </span><span style="color:#c99e00;">LayoutBuilder</span><span>(
</span><span>    builder</span><span style="color:#3e999f;">:</span><span> (</span><span style="color:#c99e00;">BuildContext</span><span> context, </span><span style="color:#c99e00;">BoxConstraints</span><span> constraints) {
</span><span>      </span><span style="color:#8959a8;">if</span><span>(constraints.maxWidth </span><span style="color:#3e999f;">&gt; </span><span style="color:#f07219;">200.0</span><span>) {
</span><span>        </span><span style="color:#8959a8;">return </span><span style="color:#c99e00;">Text</span><span>(</span><span style="color:#839c00;">&#39;BIG&#39;</span><span>);
</span><span>      } </span><span style="color:#8959a8;">else</span><span> {
</span><span>        </span><span style="color:#8959a8;">return </span><span style="color:#c99e00;">Text</span><span>(</span><span style="color:#839c00;">&#39;SMALL&#39;</span><span>);
</span><span>      }
</span><span>    }
</span><span>  ),
</span><span>);
</span></code></pre>
<h4 id="ru-he-huo-qu-ping-mu-chi-cun">å¦‚ä½•è·å–å±å¹•å°ºå¯¸</h4>
<p>ä½¿ç”¨ <code>MediaQuery</code>ï¼Œé™¤äº† <code>size</code> å¤–ï¼Œè¿˜èƒ½æ‹¿åˆ° <code>devicePixelRatio</code> ä¹‹ç±»çš„ device ä¿¡æ¯ã€‚</p>
<h3 id="xiao-jie">å°ç»“</h3>
<p>å·®ä¸å¤šå°±è¿™äº›äº†ï¼Œå¯¹äºç†è§£ Flutter çš„å¸ƒå±€åº”è¯¥å¤Ÿç”¨äº†ï¼Œå¸Œæœ›èƒ½å¸¦æ¥äº›å¸®åŠ©ï¼Œå¦‚æœæœ‰ä»€ä¹ˆé”™è¯¯æ¬¢è¿æŒ‡å‡º :)</p>

  </div>


  <ul class="tags flex flex-wrap justify-center items-center gap-4 mt-5 mb-8 text-lg">
    
    
    <li
      class="px-4 pb-[2px] leading-8 rounded-full border text-gray-700 border-gray-700 hover:text-gray-100 hover:border-gray-900 hover:bg-gray-900 transition-all">
      <a class="inline-block" href="https://limboy.me/tags/programming/">programming</a>
    </li>
    
    <li
      class="px-4 pb-[2px] leading-8 rounded-full border text-gray-700 border-gray-700 hover:text-gray-100 hover:border-gray-900 hover:bg-gray-900 transition-all">
      <a class="inline-block" href="https://limboy.me/tags/flutter/">flutter</a>
    </li>
    
    
  </ul>

  
  <script src="https://giscus.app/client.js" data-repo="limboy/telescope"
    data-repo-id="MDEwOlJlcG9zaXRvcnkzODEwOTA2MTg=" data-category="General"
    data-category-id="MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDY2MTQy" data-mapping="title" data-reactions-enabled="1"
    data-emit-metadata="0" data-theme="light" data-lang="en" crossorigin="anonymous" async>
    </script>
  

  

</div>

      </div>
    </div>
    
    <footer
      class="flex border-t border-gray-300 text-gray-600 bg-gray-50 items-center justify-center h-12 text-sm mt-2">
      <div class="flex inner justify-center gap-4">
        <a class="hover:underline" href="https://github.com/limboy" target="_blank">GitHub</a>
        <a class="hover:underline" href="https://twitter.com/_limboy" target="_blank">Twitter</a>
        <a class="hover:underline" href="https://limboy.me/index.xml">RSS</a>
      </div>
    </footer>
    
  </div>

  
  

  <script>
    // éƒ½æ˜¯ä¸ºäº† iOS...
    document.querySelector("#wrapper").style.minHeight = `calc(${window.innerHeight}px - 6.5rem)`
    window.addEventListener('resize', () => {
      document.querySelector("#wrapper").style.minHeight = `calc(${window.innerHeight}px - 6.5rem)`
    })
  </script>
</body>

</html>